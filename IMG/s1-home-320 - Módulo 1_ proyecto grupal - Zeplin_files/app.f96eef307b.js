!function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={0:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([430,16]),n()}(Array(229).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"OS",(function(){return a})),n.d(t,"BROWSER",(function(){return s})),n.d(t,"DEVICE_TYPES",(function(){return l})),n.d(t,"getOS",(function(){return c})),n.d(t,"cmdKey",(function(){return d})),n.d(t,"ctrlOrWinKey",(function(){return u})),n.d(t,"isCmdPressed",(function(){return p})),n.d(t,"getDevice",(function(){return h})),n.d(t,"getBrowser",(function(){return f})),n.d(t,"isiOS",(function(){return g})),n.d(t,"getAppVersion",(function(){return m})),n.d(t,"toURI",(function(){return b})),n.d(t,"getDevModeShortcut",(function(){return S})),n.d(t,"isMobileViewport",(function(){return y}));var i=n(230),o=n(232),r=n(233);const a=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),s=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?a.IOS:/Android/.test(navigator.userAgent)?a.ANDROID:/Macintosh/.test(navigator.userAgent)?a.MAC:/Windows/.test(navigator.userAgent)?a.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?a.LINUX:a.UNKNOWN}function d(e){return c()===a.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===a.MAC?e.ctrlKey:e.metaKey}function p(e){return e.key===(c()===a.MAC?o.Keyboard.Key.Meta:o.Keyboard.Key.Ctrl)}function h(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function f(){return/Edg/.test(navigator.userAgent)?s.EDGE:/OPR/.test(navigator.userAgent)?s.OPERA:/Firefox/.test(navigator.userAgent)?s.FIREFOX:/Chrome/.test(navigator.userAgent)?s.CHROME:/Safari/.test(navigator.userAgent)?s.SAFARI:s.UNKNOWN}function g(){return navigator.userAgent.match(/ipad|iphone/i)}function m(){if(!i.isWindowsApp)return r.WEBAPP_VERSION;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function S(){return c()===a.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function y(){return window.matchMedia("(max-width: 767px)").matches}},function(e,t,n){"use strict";n.r(t),n.d(t,"isWindowsApp",(function(){return o})),n.d(t,"supports",(function(){return r})),n.d(t,"featureValue",(function(){return a}));var i=n(231);const o=!!i.default,r={webviews:o&&"webviews"in i.default.features,SPA:o&&"SPA"in i.default.features,xdPlugin:o&&"xdPlugin"in i.default.features};function a(e){return o?i.default.features[e]:null}},function(e,t,n){"use strict";var i;n.r(t),"function"==typeof window.require&&(i=window.require("electron")),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppType=t.PlanUpgradeTrigger=t.ActivePlans=t.PLAN_ORDER=t.PlanGroup=t.WorkspacePlanType=t.BillingPeriod=t.AppRoutes=t.SortTypes=t.ProjectViewTypes=t.DialogTypes=t.WorkspaceTabs=t.Keyboard=t.PlatformString=t.PLATFORM=t.RESOURCE_TYPE=t.DENSITY=void 0,t.DENSITY=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4}),t.RESOURCE_TYPE=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"}),function(e){e.BASE="base",e.ANDROID="android",e.IOS="ios",e.OSX="osx",e.MACOS="osx",e.WEB="web"}(t.PLATFORM||(t.PLATFORM={})),t.PlatformString=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"}),t.Keyboard=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control",Enter:"Enter",Escape:"Escape",s:"s",v:"v"},Code:{Minus:"Minus",Equal:"Equal"}}),function(e){e.PROJECTS="projects",e.STYLEGUIDES="styleguides"}(t.WorkspaceTabs||(t.WorkspaceTabs={})),function(e){e.TRANSFER="transferOwnership",e.ARCHIVE="archive",e.LEAVE="leave",e.DELETE="delete",e.SELECT_PARENT="selectParent",e.REMOVE_PARENT="removeParent",e.CREATE_PROJECT="createProject",e.CREATE_STYLEGUIDE="createStyleguide",e.UPGRADE_PLAN="upgradePlan",e.RESTRICTED_EDITOR_WARNING="restrictedEditorWarning",e.PREVIEW_PROJECT="previewProject",e.PREVIEW_STYLEGUIDE="previewStyleguide",e.PLAN_CHOOSER="planChooser",e.COPY_BARREL="copyBarrel",e.ASYNC_COPY_BARREL="asyncCopyBarrel"}(t.DialogTypes||(t.DialogTypes={})),t.ProjectViewTypes=Object.freeze({DASHBOARD:"dashboard",STYLEGUIDE:"styleguide",SCREEN:"screen"}),function(e){e.NAME="name",e.CREATED="created",e.UPDATED="updated",e.SECTIONS="sections"}(t.SortTypes||(t.SortTypes={})),function(e){e.Workspace="Workspace",e.Project="Project",e.Styleguide="Styleguide",e.ProjectStyleguide="ProjectStyleguide",e.Screen="Screen",e.ScreenVersion="ScreenVersion",e.Notifications="Notifications"}(t.AppRoutes||(t.AppRoutes={})),function(e){e.ANNUALLY="annual",e.MONTHLY="monthly",e.ETERNAL="eternal"}(t.BillingPeriod||(t.BillingPeriod={})),function(e){e.TEAM="team",e.ORGANIZATION="organization"}(t.WorkspacePlanType||(t.WorkspacePlanType={})),function(e){e.FREE="free",e.TEAM="team",e.ORGANIZATION="organization",e.ENTERPRISE="enterprise"}(t.PlanGroup||(t.PlanGroup={})),t.PLAN_ORDER=Object.freeze({free:0,starter:1,growing:2,team:3,organization:4,enterprise:5}),t.ActivePlans=Object.freeze({TEAM_ANNUAL:"team_annual_unit_price_v1",TEAM_MONTHLY:"team_monthly_unit_price_v1",ORGANIZATION_MONTHLY:"organization_monthly_unit_price_v3",ORGANIZATION_ANNUAL:"organization_annual_unit_price_v4"}),function(e){e.VERSION_LIMIT="versionLimit",e.USER_LIMIT="userLimit",e.PROJECT_LIMIT="projectLimit",e.STYLEGUIDE_LIMIT="styleguideLimit"}(t.PlanUpgradeTrigger||(t.PlanUpgradeTrigger={})),function(e){e.WEB_APP="webApp",e.MAC_APP="macApp",e.WINDOWS_APP="windowsApp"}(t.AppType||(t.AppType={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"WEB_URL",(function(){return i})),n.d(t,"APP_URL",(function(){return o})),n.d(t,"BASE_URL",(function(){return r})),n.d(t,"IMG_URL",(function(){return a})),n.d(t,"CDN_URL",(function(){return s})),n.d(t,"SCENE_URL",(function(){return l})),n.d(t,"EXTENSIONS_WEB_URL",(function(){return c})),n.d(t,"PUSHER_URL",(function(){return d})),n.d(t,"PUSHER_URL_V2",(function(){return u})),n.d(t,"PUBLIC_API_URL",(function(){return p})),n.d(t,"CLI_CLIENT_ID",(function(){return h})),n.d(t,"ZEM_CLIENT_ID",(function(){return f})),n.d(t,"TRELLO_CLIENT_ID",(function(){return g})),n.d(t,"JIRA_CLIENT_ID",(function(){return m})),n.d(t,"JIRA_ATL_ORIGIN_TOKEN",(function(){return b})),n.d(t,"VSCODE_CLIENT_ID",(function(){return S})),n.d(t,"FIGMA_CLIENT_ID",(function(){return y})),n.d(t,"EMBED_CLIENT_ID",(function(){return v})),n.d(t,"ZPL_PROTOCOL",(function(){return C})),n.d(t,"INTERCOM_APP_ID",(function(){return O})),n.d(t,"GOOGLE_CLIENT_ID",(function(){return E})),n.d(t,"GOOGLE_AUTH_LOGIN_REDIRECT_URI",(function(){return T})),n.d(t,"GOOGLE_AUTH_SIGNUP_REDIRECT_URI",(function(){return _})),n.d(t,"GOOGLE_AUTH_UNLINK_REDIRECT_URI",(function(){return P})),n.d(t,"GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI",(function(){return j})),n.d(t,"GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI",(function(){return D})),n.d(t,"SLACK_CLIENT_ID",(function(){return k})),n.d(t,"SLACK_SCOPE",(function(){return I})),n.d(t,"SLACK_AUTH_URL",(function(){return R})),n.d(t,"INTEGRATION_JIRA_URL",(function(){return A})),n.d(t,"INTEGRATION_TEAMS_URL",(function(){return w})),n.d(t,"INTEGRATION_TRELLO_URL",(function(){return N})),n.d(t,"FIREBASE_API_KEY",(function(){return L})),n.d(t,"FIREBASE_PROJECT_ID",(function(){return x})),n.d(t,"FIREBASE_APP_ID",(function(){return M})),n.d(t,"FIREBASE_MESSAGING_SENDER_ID",(function(){return U})),n.d(t,"MIXPANEL_MASTER_API_TOKEN",(function(){return B})),n.d(t,"GA_TRACKING_ID",(function(){return z})),n.d(t,"STRIPE_PUBLISHABLE_KEY",(function(){return V})),n.d(t,"SENTRY_DSN",(function(){return W})),n.d(t,"SENTRY_ENVIRONMENT",(function(){return F})),n.d(t,"SENTRY_RELEASE",(function(){return H})),n.d(t,"PUSHER_ACCESS_KEY",(function(){return G})),n.d(t,"USER_CHANNEL_PREFIX",(function(){return $})),n.d(t,"PROJECT_CHANNEL_PREFIX",(function(){return q})),n.d(t,"STYLEGUIDE_CHANNEL_PREFIX",(function(){return Z})),n.d(t,"ORGANIZATION_CHANNEL_PREFIX",(function(){return Y})),n.d(t,"ANNOUNCEMENT_CHANNEL",(function(){return K})),n.d(t,"COOKIE_DOMAIN",(function(){return J})),n.d(t,"SECURE_COOKIE",(function(){return X})),n.d(t,"WEBAPP_VERSION",(function(){return Q})),n.d(t,"FLAG_REMOVE_TEST_ID",(function(){return ee})),n.d(t,"FLAG_USE_CONSOLE_LOGGER",(function(){return te})),n.d(t,"FLAG_NEW_PUSHER_AUTH",(function(){return ne}));const i="https://zeplin.io",o="https://app.zeplin.io",r="https://api.zeplin.io",a="https://img.zeplin.io",s="https://cdn.zeplin.io",l="https://scene.zeplin.io",c="https://extensions.zeplin.io",d="https://pusher.zeplin.io/v1/auth",u="https://pusher.zeplin.io/v2/auth",p="https://api.zeplin.dev",h="5dd27af376f8bf5094f6ebe6",f="5bbc983af6c410493afb03f1",g="59dfedff7c722575736b3e8d",m="5dc3d464b94b22000d3834d0",b="eyJpIjoiZThlMzc5Y2FhZjQ4NDhhYzk3ZDgxMGY5ZDhmYTExNTkiLCJwIjoiamlyYS16ZXBsaW4taW50In0",S="5dc51cd876f8bf00163de1e5",y="5f16c22ce92f41f029ff9593",v="603e27cd0d0f5dad87e79642",C="zpl:",O="41ycdg94",E="572614822654-ghfhpjmi208r3tcia7ff0tu8p0fg7vdh.apps.googleusercontent.com",T="https://app.zeplin.io/auth/google/login",_="https://app.zeplin.io/auth/google/signup",P="https://app.zeplin.io/auth/google/unlink",j="https://app.zeplin.io/auth/google/setupsso",D="https://app.zeplin.io/auth/google/removesso",k="2330702581.8730394641",I="incoming-webhook,emoji:read,links:read,links:write",R="https://slack.com/oauth/authorize",A="https://zpl.io/jira",w="https://zpl.io/zeplin-teams-app",N="https://trello.com/power-ups/59e0018ea9b5b298bbe8f8ef",L="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8",x="zeplin-8d650",M="1:290381624317:web:0f6a4fd50c15b00d401f94",U="290381624317",B="26bd4a3dcc47c8a293c60fa00656fb81",z="UA-51352708-8",V="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",W="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039",F="production",H="12.3.0",G="12ddd9afec9f9b421244",$="private-user@",q="private-project@",Z="private-styleguide@",Y="private-organization@",K="announcement",J=".zeplin.io",X=!0,Q="12.3.0",ee="true",te="",ne=!0},function(e,t,n){"use strict";n.r(t);var i=n(33),o=n.n(i),r=n(233);const a=new class{constructor(){const e=r.SECURE_COOKIE?"none":"lax";o.a.defaults={domain:r.COOKIE_DOMAIN,expires:365,secure:r.SECURE_COOKIE,sameSite:e}}get(e){return o.a.get(e)}set(e,t,n={}){o.a.set(e,t,n)}remove(e){o.a.remove(e)}},s=localStorage.getItem("userTokenUpgraded"),l=a.get("userToken");!s&&l&&(a.set("userToken",l),localStorage.setItem("userTokenUpgraded","true")),t.default=a},,function(e,t,n){"use strict";n.r(t),n.d(t,"userPrefs",(function(){return b})),n.d(t,"barrelPrefs",(function(){return S})),n.d(t,"extensionPrefs",(function(){return y})),n.d(t,"organizationPrefs",(function(){return v}));var i=n(32),o=n.n(i),r=n(232);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:r.SortTypes.CREATED,styleguidesTabVisited:!1,styleguidesUsed:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},componentVariantsOnboardingDialogSeen:!1,componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0,resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"figma",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]},oldNotificationExperience:!1,notificationWelcomeMessageMinimized:!1,upgradeForMoreRolesHintboxHidden:!1,offerReminderNextDate:null},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:null,androidResFolderReminderSeen:!1},u={projectSortType:r.SortTypes.SECTIONS,collapsedSections:{},dialogDismissStates:{}};let p,h,f,g;function m(){p=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"userPrefs",version:1}),h=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"projectPrefs",version:1}),f=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"extensionPrefs",version:1}),g=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"organizationPrefs",version:1})}m();const b={getAll(){var e=c;return p.iterate((function(t,n){e[n]=t})).then((function(){return e}))},get:e=>p.getItem(e).then((function(t){return null===t?c[e]:t})),set:(e,t)=>p.setItem(e,t),remove:e=>p.removeItem(e)},S={getAll:e=>h.getItem(e).then(e=>s(s(s({},d),e),{},{collapsedSections:e&&"collapsedSections"in e&&e.collapsedSections?e.collapsedSections:{}})),get:(e,t,n)=>h.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?d[n]:d[t]:e&&"collapsedSections"===t&&"collapsedSections"in e&&!e.collapsedSections?d.collapsedSections:n?e[t][n]:e[t]),set:(e,t,n,i)=>h.getItem(e).then(o=>(o||(o={}),i?(o[t]||(o[t]={}),o[t][n]=i,h.setItem(e,o)):(o[t]=n,h.setItem(e,o))))},y={get:(e,t,n)=>f.getItem(e).then((function(e){return e&&t in e?n?e[t][n]:e[t]:null})),set:(e,t,n,i)=>f.getItem(e).then((function(o){return o||(o={}),o[t]||(o[t]={}),o[t][n]=i,f.setItem(e,o)})),remove:e=>f.removeItem(e)},v={getAll:e=>g.getItem(e).then(e=>s(s({},u),e)),get:(e,t,n)=>g.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?u[n]:u[t]:n?e[t][n]:e[t]),set:(e,t,n,i)=>g.getItem(e).then(o=>(o||(o={}),void 0===i?(o[t]=n,g.setItem(e,o)):(o[t]||(o[t]={}),o[t][n]=i,g.setItem(e,o))))};function C(e){return function(...t){return e(...t).catch(()=>(m(),e(...t)))}}S.get=C(S.get),S.set=C(S.set),b.get=C(b.get),b.set=C(b.set),y.get=C(y.get),y.set=C(y.set),v.get=C(v.get),v.set=C(v.set)},,function(e,t,n){"use strict";function i(e){const{username:t,fullName:n}=e;return n||t}function o(e,t){return t?e?`${e}, @${t}`:"@"+t:""}function r(e){const{privacyPreferences:t}=e;return!t||!t.trackingOptOut.value}function a(e){return new Set(e.reduce((e,{users:t})=>e.concat(t.map(({user:{_id:e}})=>e)),[])).size}n.r(t),n.d(t,"getUserDisplayName",(function(){return i})),n.d(t,"getHandleText",(function(){return o})),n.d(t,"shouldTrackUser",(function(){return r})),n.d(t,"getUniqueMembersCountFromBarrels",(function(){return a}))},,,,,function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach(e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",()=>{t.classList.add("focus")}),e.addEventListener("blur",()=>{t.classList.remove("focus")}),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",()=>{t.classList.toggle("typed",!!e.value.length)}))}),Array.from(i).forEach(e=>{e.addEventListener("change",()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"})})},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return a}));var i=n(22);n.d(t,"polyfill",(function(){return i.default}));var o=n(233);function r(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),r=document.createElement("form"),a=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),s.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):(n=document.createElement("img"),n.src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!o.FLAG_REMOVE_TEST_ID&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),s.appendChild(n),i.classList.add("message"),s.appendChild(i),e&&e.input){s.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),r.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return a.classList.add("done"),a.type="submit",a.autofocus=!0,a.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&a.addEventListener("click",e.done.cb),l.appendChild(a),l.classList.add("buttonContainer"),r.appendChild(l),r.setAttribute("method","dialog"),s.appendChild(r),t.appendChild(s),document.querySelector("body").appendChild(t),t}function a(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",o=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.";let a=!1;if(t&&"defer"in t&&(a=t.defer),a)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:o}));const s=r(e);i.default.registerDialog(s),s.querySelector(".title").textContent=n;const l=s.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=o;break;case"text":default:l.textContent=o}t&&t.hideMessage&&s.querySelector(".message").classList.add("hidden"),s.addEventListener("click",e=>{e.stopPropagation()}),s.addEventListener("close",()=>{s.remove()}),e||s.classList.add("generic"),s.showModal()}const s=JSON.parse(sessionStorage.getItem("deferredDialog"));s&&(sessionStorage.removeItem("deferredDialog"),a(s))},function(e,t,n){"use strict";n.r(t),n.d(t,"parseUrlPath",(function(){return l})),n.d(t,"getTagQueryParams",(function(){return c})),n.d(t,"getExtensionWebsiteUrl",(function(){return d})),n.d(t,"isValidUrl",(function(){return u})),n.d(t,"parseAppURI",(function(){return r})),n.d(t,"convertURItoWebURL",(function(){return a}));var i=n(233),o=n(246);function r(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),r=e.searchParams.getAll("sptid"),a=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:r,coid:a}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid"),o=e.searchParams.getAll("cseid"),r=e.searchParams.getAll("seid"),a=[...new Set([...r,...o])];t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n,seid:a}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}function a(e){if(e.protocol!==i.ZPL_PROTOCOL)return;const{urlSlug:t,url:n={},query:a={}}=r(e)||{};return t?Object(o.urlResolve)(t,{url:n,query:a}):void 0}n.d(t,"joinUrlParams",(function(){return o.joinUrlParams})),n.d(t,"parseUrlParams",(function(){return o.parseUrlParams})),n.d(t,"urlResolve",(function(){return o.urlResolve})),n.d(t,"getAppRouteFromPathname",(function(){return o.getAppRouteFromPathname}));const s=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function l(e){var t=e.match(s);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function c(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function d({eid:e,organizationId:t}={}){return e?`${i.EXTENSIONS_WEB_URL}/${e}`:t&&"user"!==t?`${i.EXTENSIONS_WEB_URL}?oid=${t}`:i.EXTENSIONS_WEB_URL}const u=e=>{try{return!!new URL(e)}catch(t){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppRouteFromPathname=t.joinUrlParams=t.urlResolve=t.parseUrlParams=void 0;const i=n(232),o={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-developer":"/profile/developer","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","workspace-create":"/workspace/create","workspace-members":"/workspace/:oid/members","workspace-profile":"/workspace/:oid/profile","workspace-profile-billing":"/workspace/:oid/profile/billing","workspace-profile-authentication":"/workspace/:oid/profile/authentication","workspace-profile-developer":"/workspace/:oid/profile/developer","workspace-projects":"/workspace/:oid/projects","workspace-styleguides":"/workspace/:oid/styleguides",authSamlResult:"/auth/saml/result",activities:"/notifications","workspace-activities":"/notifications/:oid"};function r(e){if(!Object.keys(e))return"";const t=[];return Object.keys(e).forEach(n=>{e[n]&&(Array.isArray(e[n])?e[n].forEach(e=>{t.push([n,e])}):t.push([n,e[n]]))}),t.map(e=>e.map(encodeURIComponent).join("=")).join("&")}function a(e){return 0===Object.keys(e).length}t.joinUrlParams=r,t.urlResolve=function(e,{origin:t=location.origin,url:n={},query:i={},hash:s={}}={}){const l=new URL((c=o[e],d=n,Object.entries(d).reduce((e,[t,n])=>e.replace(new RegExp(":"+t),n),c)),t);var c,d;return i&&!a(i)&&(l.search=r(i)),s&&!a(s)&&(l.hash=r(s)),l.toString()},t.parseUrlParams=function(e){const t=("?"===e[0]?e.substring(1):e).split("&").map(e=>e.split("=").map(e=>e.replace(/\+/g,"%20")).map(decodeURIComponent)),n=Array.from(new Set(t.map(e=>e[0]))).reduce((e,t)=>(e[t]=[],e),{});return t.forEach(e=>{const t=n[e[0]];t&&e[1]&&t.push(e[1])}),n},t.getAppRouteFromPathname=function(e){let t=null;return/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i.test(e)?t=i.AppRoutes.Workspace:/\/project\/([\da-f]{24})(?:\/(dashboard))?$/i.test(e)?t=i.AppRoutes.Project:/\/styleguide\/([\da-f]{24})/i.test(e)?t=i.AppRoutes.Styleguide:/\/project\/([\da-f]{24})\/styleguide/i.test(e)?t=i.AppRoutes.ProjectStyleguide:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.Screen:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})\/version\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.ScreenVersion:/^\/notifications(?:\/)?([\da-f]{24})?$/i.test(e)&&(t=i.AppRoutes.Notifications),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"scrollIfNecessary",(function(){return h})),n.d(t,"getFirstScrollableParent",(function(){return p})),n.d(t,"selectContent",(function(){return f})),n.d(t,"isElementVisible",(function(){return g})),n.d(t,"wiggle",(function(){return m})),n.d(t,"highlightInput",(function(){return b})),n.d(t,"highlightAndScrollToInput",(function(){return S})),n.d(t,"highlightMatchedParts",(function(){return y})),n.d(t,"isEditableElement",(function(){return v})),n.d(t,"canCopy",(function(){return C})),n.d(t,"canDownload",(function(){return O})),n.d(t,"getTextWidth",(function(){return E})),n.d(t,"setAvatar",(function(){return T})),n.d(t,"getUserAvatar",(function(){return j})),n.d(t,"openLink",(function(){return D})),n.d(t,"notify",(function(){return k}));var i=n(220),o=n.n(i),r=n(248),a=n(249),s=n(252),l=n(231),c=n(236),d=n(257),u=n(258);function p(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function h(e,t){const{container:n=p(e),offset:i=0}=t||{};if(!e||!n)return;const o=e.getBoundingClientRect(),r=n.getBoundingClientRect();setTimeout(()=>{o.top<r.top?n.scrollTop-=r.top-o.top+i:o.bottom>r.bottom&&(n.scrollTop+=o.bottom-r.bottom+i)},4)}function f(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function g(e,t=p(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function m(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function b(e){setTimeout(()=>{e.focus(),e.select()},4)}function S(e){setTimeout(()=>{e.scrollIntoView(),e.focus(),e.select()},4)}function y(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const o=n?e.toLowerCase():e,a=n?t.toLowerCase():t;let s=0,l="";if(i&&!Object(d.calculateMatchingScore)(a,o))return Object(r.escapeHTML)(e);const c=o.indexOf(a);if(c>-1)l+=Object(r.escapeHTML)(e.substring(0,c)),l+=`<span class="highlight">${Object(r.escapeHTML)(e.substr(c,a.length))}</span>`,l+=Object(r.escapeHTML)(e.substring(c+a.length));else{for(const t of a){const n=o.indexOf(t,s);if(-1===n)break;l+=Object(r.escapeHTML)(e.substring(s,n)),l+=`<span class="highlight">${Object(r.escapeHTML)(e.substr(n,t.length))}</span>`,s=n+t.length}l+=Object(r.escapeHTML)(e.substring(s))}return l}function v(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function C(){return document.queryCommandSupported("copy")}function O(){return"download"in document.createElement("a")}n.d(t,"copyContent",(function(){return u.copyContent}));const E=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function T(e,t,{size:n,ignoreRandomEmotar:i}={}){const o=e.parentElement;o.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",(function t(){e.removeEventListener("load",t),o.classList.remove("loading")}));const r=j(t,{ignoreRandomEmotar:!!i,size:n||e.width});r&&Object.assign(e,r)}const _=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],P={};function j(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(s.emotarUrl)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let r=P[e._id];r||(r=Array.from(o()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),P[e._id]=r),i=_[r%_.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=`https://app.zeplin.io/img/emotars/emotar${Object(a.uppercaseFirst)(i)}.png`;const l="https://secure.gravatar.com/avatar/"+o()(e.email);return{src:`${l}?${n?"s="+n+"&":""}d=${i}`,srcset:`${l}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function D(e,{inNewTab:t=!0}={}){if(l.default)return void l.default.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function k({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await c.userPrefs.get("notificationStatus"))return;const{src:o}=j(n,{size:160}),r=new Notification(e,{body:t,icon:o,name:0});r.addEventListener("show",(function(){setTimeout(r.close.bind(r),5e3)})),i&&r.addEventListener("click",i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"escapeHTML",(function(){return u})),n.d(t,"unescapeHTML",(function(){return p})),n.d(t,"sortBy",(function(){return m})),n.d(t,"arrayRemove",(function(){return D})),n.d(t,"fontSort",(function(){return k})),n.d(t,"emojiRegex",(function(){return C})),n.d(t,"spanEmojis",(function(){return E})),n.d(t,"mentionRegexFn",(function(){return _})),n.d(t,"userRegexFn",(function(){return P})),n.d(t,"isThereAnyMentionedUser",(function(){return j})),n.d(t,"arrayEqual",(function(){return I})),n.d(t,"validateId",(function(){return R})),n.d(t,"isOrganizationProject",(function(){return w})),n.d(t,"getDeveloperString",(function(){return M})),n.d(t,"getPlatformString",(function(){return B})),n.d(t,"escapeAndroidXML",(function(){return h})),n.d(t,"escapeRegExpButAsterisk",(function(){return f})),n.d(t,"getTimeSlot",(function(){return V})),n.d(t,"normalizeObjCColor",(function(){return N})),n.d(t,"normalizeSwiftColor",(function(){return L})),n.d(t,"alphaFormatter",(function(){return H})),n.d(t,"formatTime",(function(){return Z})),n.d(t,"formatTimeWithGenericOptions",(function(){return Y})),n.d(t,"rectContains",(function(){return K})),n.d(t,"rectContainsPoint",(function(){return J})),n.d(t,"rectanglesIntersect",(function(){return X})),n.d(t,"getUserRoleString",(function(){return ee})),n.d(t,"getRoleIconName",(function(){return te})),n.d(t,"getDensityScale",(function(){return ie})),n.d(t,"getDensityScaleRepresentation",(function(){return re})),n.d(t,"getMostConformingTextStyle",(function(){return ae})),n.d(t,"debounce",(function(){return W})),n.d(t,"debouncePromise",(function(){return F})),n.d(t,"stopPropagation",(function(){return se})),n.d(t,"preventDefault",(function(){return le})),n.d(t,"collectComponents",(function(){return ce})),n.d(t,"formatCurrency",(function(){return $})),n.d(t,"formatList",(function(){return q})),n.d(t,"calculateOverlayIcon",(function(){return pe})),n.d(t,"pipe",(function(){return he})),n.d(t,"getStateUpdateFunction",(function(){return fe})),n.d(t,"groupBy",(function(){return ge})),n.d(t,"normalizeArray",(function(){return me})),n.d(t,"groupMentionKeywords",(function(){return T}));var i=n(34),o=n(209),r=n.n(o),a=n(249),s=n(250);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function p(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function h(e){return u(e).replace(/^@/gm,"\\ufeff@")}function f(e){return e.replace(/[.+\-?^${}()|[\]\\]/g,"\\$&")}n.d(t,"permissions",(function(){return s.permissions})),n.d(t,"filterOut",(function(){return s.filterOut}));var g={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},m={role:(e,t)=>e.role!==t.role?g[t.role]-g[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date:b,created:b.bind(null,["created"]),updated:b.bind(null,["updated"]),authorized:b.bind(null,["authorizedAt"]),naturally:v.bind(null,null),name:v.bind(null,"name")};function b(e,t,n){let i=t,o=n;for(let r=0;r<e.length;r++)i=i[e[r]],o=o[e[r]];return new Date(o)-new Date(i)}const S={};function y(e,t,n){return S[e]?(S[e][t]=n,n):(S[e]={[t]:n},n)}function v(e,t,n){let i=t,o=n;if(e&&(i=t[e],o=n[e]),S[i]&&o in S[i])return S[i][o];const r=i.toLowerCase().match(/\D+|\d+/g),a=o.toLowerCase().match(/\D+|\d+/g),s=Math.min(r.length,a.length),l=new Intl.Collator;for(let c=0;c<s;c++){if(r[c]===a[c])continue;const e=parseInt(r[c],10),t=parseInt(a[c],10);return isNaN(e)||isNaN(t)?y(i,o,l.compare(r[c],a[c])):y(i,o,e-t)}return y(i,o,r.length-a.length)}const C=r()();var O=/\ud83c[\udffb-\udfff]/g;function E(e){return e.replace(C,(function(e){return O.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"})).replace(/<\/span><span class="emoji skinType">/g,"")}const T=["everyone","project","organization"];function _(e){const t=[...T,e].join("|");return new RegExp(`@(?:${t})\\b`)}function P(e=[]){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...T,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function j(e,t){const n=e.filter(({user:{username:e}})=>e&&e!==Zeplin.user.username).map(({user:{username:e}})=>e).join("|");return new RegExp(`@(?:${n})\\b`,"gi").test(t)}function D(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function k(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function I(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function R(e,t="object"){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||(i.withScope(n=>{n.setExtra("id",e),i.captureException(new Error(`Invalid ${t} id`))}),!1)}const A=["king","queen","rook","knight","pawn"];function w(e){return!e.users.length||A.includes(e.users[0].role)}function N(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function L(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}const x={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function M(e){return x[e]}const U=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function B(e){return U[e]}function z(e){return(e.getDay()+6)%7}function V(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),o=new Date(n-864e5*z(e)),r=new Date(n-864e5*(z(e)+7)),a=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",i],["this week",o],["last week",r],["this month",a],["last month",s]]}().find((function(t){return e>=t[1]}));if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),Z(e,n)}function W(e,t){let n;return function(...i){const o=this;n?cancelAnimationFrame(n):t&&e.apply(o,i),n=requestAnimationFrame((function(){t||e.apply(o,i),n=null}))}}function F(e,t=1e3){let n=null,i=null;return function(...o){return clearTimeout(n),n=setTimeout(()=>{let t=e(...o);i(t),i=null},t),new Promise(e=>{i=e})}}var H=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const G=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function $(e){return G.format(e)}function q(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function Z(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function Y(e){return Z(e,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}function K(e,t){const n=e.x+e.width,i=e.y+e.height,o=t.x+t.width,r=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=o&&i>=r}function J(e,t,n={}){const{left:i,right:o,top:r,bottom:a}=e,{x:s,y:l}=t,c=n.discardHorizontalPosition||s>=i&&s<o,d=n.discardVerticalPosition||l>=r&&l<a;return c&&d}function X(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}var Q={king:"Owner",queen:"Admin",rook:"Editor",knight:"Developer",pawn:"Reviewer",owner:"Owner",admin:"Admin",user:"Member"};function ee(e){return Q[e]||""}function te(e){return"ic"+Object(a.uppercaseFirst)(e)}const ne=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function ie(e){return ne[e]}const oe=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function re(e,t){return t?"android"===e?oe[t]:t+"x":"unknown"}function ae(e,t){const n=e.reduce((e,n)=>{const{id:i,name:o,textStyles:r,isMember:a,isOrganizationBarrel:s}=n,l=function(e,t){return e.reduce((e,n)=>{if(t.sourceId&&n.sourceId&&t.sourceId===n.sourceId)return{textStyle:n,score:1e3};if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(r,t);return l.score>e.score?c({styleguideId:i,styleguideName:o,isMember:a,isOrganizationBarrel:s},l):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:o,textStyle:r,isMember:a,isOrganizationBarrel:s}=n;return c({styleguideId:i,styleguideName:o,isMember:a,isOrganizationBarrel:s},r)}function se(e){e.stopPropagation()}function le(e){e.preventDefault()}function ce(e=[]){return[].concat(...e.map(e=>e.components.concat(ce(e.componentSections))))}const de=document.createElement("canvas");function ue(e){return e/2*window.devicePixelRatio}function pe(){de.width=16*window.devicePixelRatio,de.height=de.width;const e=de.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(ue(16),ue(16),ue(13),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(ue(16),ue(16),ue(2),0,6.28,!1),e.fill(),de.toDataURL()}function he(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function fe(e){return t=>Object.keys(e).reduce((n,i)=>(t[i]===e[i]||(n||(n={}),n[i]=e[i]),n),null)}function ge(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function me(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluralize",(function(){return r})),n.d(t,"lowercaseFirst",(function(){return a})),n.d(t,"uppercaseFirst",(function(){return s})),n.d(t,"getRandomString",(function(){return l})),n.d(t,"anyWordStartsWith",(function(){return c})),n.d(t,"getFirstWhitespaceIndex",(function(){return d})),n.d(t,"getFilenameWithoutExtensionFromPath",(function(){return u})),n.d(t,"getFileExtensionFromPath",(function(){return p})),n.d(t,"isLetter",(function(){return h}));const i=/\W/,o=/[\W_]/;function r(e,t,{suffix:n="s",one:i="1"}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function a(e){return e.charAt(0).toLowerCase()+e.substring(1)}function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(o).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function u(e){return e.split("/").pop().split(".")[0]}function p(e){const t=e.split("/").pop();if(t.indexOf(".")>-1){const e=t.split(".");return e[e.length-1]}return null}function h(e){return/[\x41-\x5A\x61-\x7A\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/.test(e)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=t.filterOut=void 0;const o=i(n(251));t.filterOut=function(e,t){const n=Object.assign({},e);return delete n[t],n};const r=["user","admin","owner","pawn","knight","rook","queen","king"],a=e=>t=>((e,t)=>{if(!e)return!1;const n="string"==typeof e?e:e.role;return t.includes(n)})(t,e),s={isSuperior(e,t,n){const i=r.indexOf(e.role),o=r.indexOf(t.role);return n&&i===o||i>o},canTransferOwnership:a(o.default.canTransferOwnership),canReceiveOwnership:a(o.default.canReceiveOwnership),canLeaveProject:a(o.default.canLeaveProject),canCreateProject:a(o.default.canCreateProject),canUpdateProject:a(o.default.canUpdateProject),canCreateProjectSection:a(o.default.canCreateProjectSection),canChangeProjectAccesibility:a(o.default.canChangeProjectAccesibility),canChangeProjectStatus:a(o.default.canChangeProjectStatus),canDeleteProject:a(o.default.canDeleteProject),canCreateStyleguide:a(o.default.canCreateStyleguide),canDeleteStyleguide:a(o.default.canDeleteStyleguide),canLeaveStyleguide:a(o.default.canLeaveStyleguide),canUpdateStyleguide:a(o.default.canUpdateStyleguide),canChangeStyleguideStatus:a(o.default.canChangeStyleguideStatus),canManageScreens:a(o.default.canManageScreens),canMoveScreens:a(o.default.canMoveScreens),canRemoveVersions:a(o.default.canRemoveVersions),canManageColors:a(o.default.canManageColors),canManageTextStyles:a(o.default.canManageTextStyles),canManageSpacings:a(o.default.canManageSpacings),canRemoveNotes:a(o.default.canRemoveNotes),canRemoveExtensions:a(o.default.canRemoveExtensions),canManageRemSettings:a(o.default.canManageRemSettings),canManageWorkflowStatuses:a(o.default.canManageWorkflowStatuses),canMoveResources:a(o.default.canMoveResources),canManageWebhooks:a(o.default.canManageWebhooks),canChangePlan:a(o.default.canChangePlan),canCopyBarrel:a(o.default.canCopyBarrel)};t.permissions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Object.freeze({canTransferOwnership:["king","queen","owner","admin"],canReceiveOwnership:["king","queen","owner","rook"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canCreateProjectSection:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canCopyBarrel:["king","queen","owner","rook"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"],canChangePlan:["king","queen","owner","admin"]})},function(e,t,n){"use strict";n.r(t),n.d(t,"imageUrl",(function(){return r})),n.d(t,"emotarUrl",(function(){return s})),n.d(t,"srcset",(function(){return a})),n.d(t,"cropImage",(function(){return l})),n.d(t,"getResizedImageSources",(function(){return c})),n.d(t,"isLight",(function(){return d})),n.d(t,"getImageProperties",(function(){return p})),n.d(t,"getDominantColorOfImage",(function(){return h}));var i=n(249),o=n(253);function r(e){return new URL(e,location.origin).href}function a(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function s(e){if("random"===e)return r("/img/emotars/icRandom.svg");return r(`/img/emotars/emotar${Object(i.uppercaseFirst)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function l(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const o=i.getContext("2d");o.webkitImageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0,o.msImageSmoothingEnabled=!0,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="medium";const r=document.createElement("img");let a,s,l;r.crossOrigin="anonymous";let c=1,d=0,u=0;r.addEventListener("load",e=>{r.width<=i.width?(a=r.width,d=(i.width-r.width)/2):(c=i.width/r.width,a=i.width),t.height||(i.height=i.width*r.height/r.width),l=c*r.height,l<=i.height?(s=r.height,u=(i.height-l)/2):(s=i.height/c,l=i.height),o.drawImage(r,0,0,r.width,s,d,u,a,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),r.addEventListener("error",t=>{n(e)}),r.src=e})}function c(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let o="?w="+t,r="?w="+2*t;return n&&(o+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,r+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${o}`,srcset:`${i}${r} 2x`}}function d(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],i=e[t+1],o=e[t+2];if(e[t+3]>=55&&(n<200||i<200||o<200))return!1}return!0}const u={};function p(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in u)t(u[i]);else{const o="string"==typeof e?document.createElement("img"):e;o.crossOrigin="anonymous",o.addEventListener("load",(function e(){o.removeEventListener("load",e);const n=document.createElement("canvas"),r=n.getContext("2d");n.width=o.width,n.height=o.height,r.drawImage(o,0,0);const a=d(r.getImageData(0,0,n.width,n.height).data)?"light":"dark",s={size:{width:o.width,height:o.height},lightness:a};u[i]=s,t(s)})),o.addEventListener("error",(function e(t){o.removeEventListener("error",e),n(t)})),"string"==typeof e&&(o.src=e)}})}function h(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(l){return null}const r=i.length,a={};for(let c=0;c<r;c+=4){const e=i[c],t=i[c+1],n=i[c+2];if(0===i[c+3])continue;if(e===t&&t===n)continue;const r="#"+[e,t,n].map(o.default.componentToHex).join("");a[r]?a[r]++:a[r]=1}const s=Object.keys(a);return s.length?s.reduce((e,t)=>a[e]>a[t]?e:t):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Color}));var i=n(254),o=n(255),r=n(256);const a=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),s=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends r.default{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,sourceId:o,r:r,g:a,b:s,a:c=1}=e;var d;this.id=t||n,this.sourceId=o,this.r=l(r),this.g=l(a),this.b=l(s),this.a=(d=c,Math.max(0,Math.min(d,1))),this.name=i}static get NAMED_COLORS(){return o.CSS_NAMED_COLORS}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);const o=n>>i&255;i-=8;const r=n>>i&255;i-=8;const a=n>>i&255;i-=8;return new Color({r:o,g:r,b:a,a:i<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let o,r,a;if(0===t)o=n,r=n,a=n;else{const i=n<.5?n*(1+t):n+t-n*t,s=2*n-i;o=d(s,i,e+1/3),r=d(s,i,e),a=d(s,i,e-1/3)}return o*=255,r*=255,a*=255,new Color({r:o,g:r,b:a,a:i})}formatName(e){return Object(i.default)(this.name,a[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,sourceId:this.sourceId,name:this.name}}equals(e){const t=new Color(e);return this.sourceId&&t.sourceId?this.sourceId===t.sourceId:this.r===t.r&&this.g===t.g&&this.b===t.b&&s.format(this.a)===s.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&(t=t.blend(n),1===t.a))break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return this.constructor.componentToHex(this.r)+this.constructor.componentToHex(this.g)+this.constructor.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=this.constructor.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return"#"+t}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${s.format(this.a)}`:"rgb "+e}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${s.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),o=Math.min(e,t,n),r=(i+o)/2;let a,s;if(i===o)a=0,s=0;else{const l=i-o;switch(s=r>.5?l/(2-i-o):l/(i+o),i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:s,l:r}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${s.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,r=-1;for(let s=0;s<o.colorNames.length;s++){const l=new Color(o.colorNames[s]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.default)(l.name,a[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(r<0||t<r)&&(r=t,n=s)}return Object(i.default)(o.colorNames[n].name,a[e])}}},function(e,t,n){"use strict";n.r(t);var i=n(249);var o=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.default=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.uppercaseFirst).join("");return"camelCase"===t?Object(i.lowercaseFirst)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}((n=e.match(o))?n.map((function(e){return e.toLowerCase()})):["invalid","name"],t);var n}},function(e,t,n){"use strict";n.r(t),n.d(t,"CSS_NAMED_COLORS",(function(){return i})),n.d(t,"colorNames",(function(){return o}));var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),o=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function i(){}n.r(t),i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"calculateMatchingScore",(function(){return o})),n.d(t,"matchUserWithFilterValue",(function(){return r}));var i=n(238);function o(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let o=0,r=e.toLowerCase(),a=0;const s=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${s}\\b\\s*`,"ig");if(s&&l.test(r)&&(a=.3,r=r.replace(l," ").trim(),!r))return a;const c=i.indexOf(r);if(c>-1)return o+=.3,i.startsWith(r)?o+=.3:" "===i.charAt(c-1)&&(o+=.2),o+=(i.length-c)/i.length/200,o+a;let d=i.indexOf(r.charAt(0)),u=0,p=0;for(var h=d;h<i.length&&-1!==d;h++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=r[++p];d=e?i.indexOf(e,d+1):-1}return p===r.length&&(o+=.05+u),o?o+a:0}function r(e,t){const{email:n,username:r,fullName:a}=e;return o(t,Object(i.getHandleText)(a,r))||o(t,n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyContent=void 0;const o=n(229),r=i(n(259));function a(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(o.isiOS()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function s(e){return navigator.clipboard.writeText(e).then(()=>!0).catch(()=>!1)}t.copyContent=function({content:e,toastContainer:t}){(navigator.clipboard?s:a)(e).then(n=>{n&&t&&r.default({text:"Copied to clipboard!",container:t,source:e})})}},function(e,t,n){"use strict";n.r(t);const i={source:null,text:null,container:null,visible:!1,removeTimeout:null};function o(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},3e3)}t.default=function({text:e,source:t,container:n=document.body}){let r=i.container&&i.container.querySelector(".toastContainer");if(i.visible&&!document.body.contains(r)&&(i.visible=!1),i.visible&&r){if(t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(r));r.remove()}const a=document.createElement("div");r=document.createElement("div"),r.appendChild(a),r.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,n.appendChild(r),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{r.classList.add("show"),i.removeTimeout=o(r)},50)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(261),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.developer=t.user=t.styleguide=t.project=t.checkWebhookUrlHealth=t.deleteWebhook=t.updateWebhook=t.createWebhook=t.getWebhook=t.getWebhooks=t.getAppStatus=t.renamePersonalAccessToken=t.deletePersonalAccessToken=t.createPersonalAccessToken=t.getPersonalAccessTokens=t.deleteApplication=t.updateApplication=t.createApplication=t.getOwnedApplication=t.getOwnedApplications=t.revokeAuthorizedApplication=t.getAuthorizedApplications=t.updateStyleguideComponentSectionsStyleguide=t.updateStyleguideTextStylesStyleguide=t.updateStyleguideColorsStyleguide=t.updateProjectComponentSectionsStyleguide=t.updateProjectTextStylesStyleguide=t.updateProjectColorsStyleguide=t.revokeAppToken=t.getLinkedTokenOfAuthKey=t.createUser=t.loginUser=t.verifyUser=t.requestVerification=t.getUserInvoices=t.requestInvoice=t.updateUserCard=t.getUserCards=t.updateUserBilling=t.updatePassword=t.deleteUser=t.updateUserTrackingPreference=t.updateUser=t.updateEmail=t.updateUsername=t.checkUsernameAvailable=t.getUserStatus=t.getUserProfile=t.getStyleguideDesignTokensFile=t.getStyleguideDesignTokens=t.deleteStyleguidesWorkflowStatus=t.updateStyleguidesWorkflowStatus=t.getStyleguideLocalConnectedComponents=t.getStyleguideConnectedComponents=t.updateStyleguideComponentSectionsOrder=t.updateStyleguideComponentsOrder=t.getStyleguideTeamsIntegration=t.deleteStyleguideIntegrationEvent=t.addStyleguideIntegrationEvent=t.getStyleguideIntegrationEvents=t.removeStyleguideParent=t.updateStyleguideParent=t.deleteStyleguideComponent=t.updateStyleguideComponent=t.createStyleguideComponentSectionVariantGroups=t.deleteStyleguideComponentSectionVariantProperty=t.updateStyleguideComponentsVariantProperty=t.updateStyleguideComponentSectionVariantPropertiesOrder=t.updateStyleguideComponentSectionVariantProperty=t.createStyleguideComponentSectionVariantProperty=t.convertStyleguideVariantSectionToComponentSection=t.convertStyleguideComponentSectionToVariantSection=t.mergeStyleguideComponentSection=t.updateStyleguideComponentSection=t.addStyleguideComponentSection=t.updateStyleguideRemPreferences=t.deleteStyleguideSpacingToken=t.updateStyleguideSpacingToken=t.createStyleguideSpacingToken=t.deleteStyleguideSpacingSection=t.updateStyleguideSpacingSection=t.createStyleguideSpacingSection=t.deleteStyleguideAllTextStyles=t.deleteStyleguideTextStyle=t.updateStyleguideTextStyle=t.createStyleguideTextStyle=t.deleteStyleguideAllColors=t.deleteStyleguideColor=t.updateStyleguideColor=t.createStyleguideColor=t.deleteStyleguideIntegration=t.getStyleguideSlackIntegrationEmojis=t.authStyleguideSlack=t.getStyleguideExtensions=t.updateStyleguideThumbnail=t.updateStyleguideAccessibility=t.updateStyleguideDensityScale=t.updateStyleguideDescription=t.updateStyleguideName=t.updateStyleguideUserRole=t.removeUserFromStyleguide=t.inviteStyleguideUsersByTag=t.inviteStyleguideUser=t.transferStyleguideOwnership=t.activateStyleguide=t.archiveStyleguide=t.copyStyleguide=t.deleteStyleguide=t.createStyleguide=t.getStyleguideProjects=t.getStyleguideOrganization=t.getStyleguide=t.getStyleguides=t.createIntercomUserTag=t.getOrganizationUpcomingInvoice=t.getUserUpcomingInvoice=t.createIntercomMessage=t.transferUserSubscription=t.downgradeOrganizationSubscription=t.cancelOrganizationSubscription=t.createUserSubscription=t.updateUserSubscription=t.cancelUserSubscription=t.updateUserEmotar=t.updateEmailNotifications=t.deleteUserSSOProvider=t.resetPassword=t.getSsoLoginParams=t.logoutUser=t.updateNotificationLastReadTime=t.getUserAcquaintances=t.updateNotificationEventReadStatus=t.updateNotificationReadStatus=t.getNotifications=t.getProjectDesignTokensFile=t.getProjectDesignTokens=t.deleteProjectsWorkflowStatus=t.updateProjectsWorkflowStatus=t.updateScreensTags=t.updateProjectThumbnail=t.deleteComment=t.updateDotCommentNote=t.createDotComment=t.updateCommitMessage=t.deleteDot=t.updateDot=t.createDot=t.getDots=t.getVersions=t.deleteVersion=t.updateCommitColor=t.getSnapshot=t.fetchSnapshot=t.getProjectTeamsIntegration=t.deleteProjectIntegrationEvent=t.addProjectIntegrationEvent=t.getProjectIntegrationEvents=t.removeProjectStyleguideLink=t.updateProjectStyleguideLink=t.updateProjectComponentSectionsOrder=t.updateProjectComponentsOrder=t.deleteProjectComponent=t.updateProjectComponent=t.createProjectComponentSectionVariantGroups=t.deleteProjectComponentSectionVariantProperty=t.updateProjectComponentsVariantProperty=t.updateProjectComponentSectionVariantPropertiesOrder=t.updateProjectComponentSectionVariantProperty=t.createProjectComponentSectionVariantProperty=t.convertProjectVariantSectionToComponentSection=t.convertProjectComponentSectionToVariantSection=t.mergeProjectComponentSection=t.updateProjectComponentSection=t.addProjectComponentSection=t.getProjectLocalConnectedComponents=t.getProjectConnectedComponents=t.getProjectComponentSections=t.updateProjectRemPreferences=t.deleteProjectSpacingToken=t.updateProjectSpacingToken=t.createProjectSpacingToken=t.deleteProjectSpacingSection=t.updateProjectSpacingSection=t.createProjectSpacingSection=t.deleteProjectAllTextStyles=t.deleteProjectTextStyle=t.updateProjectTextStyle=t.createProjectTextStyle=t.deleteProjectAllColors=t.deleteProjectColor=t.updateProjectColor=t.createProjectColor=t.deleteScreen=t.updateScreen=t.addExtensionToStyleguide=t.removeExtensionFromStyleguide=t.addExtensionToProject=t.removeExtensionFromProject=t.getProjectExtensions=t.deleteProjectIntegration=t.getProjectSlackIntegrationEmojis=t.authProjectSlack=t.updateSectionOrder=t.updateSection=t.deleteSection=t.updateSectionScreens=t.createSection=t.moveScreen=t.updateProjectAccessibility=t.updateProjectDensityScale=t.updateProjectDescription=t.updateProjectName=t.createProject=t.copyProject=t.deleteProject=t.removeUserFromProject=t.updateProjectUserRole=t.transferProjectOwnership=t.inviteProjectUsersByTag=t.inviteProjectUser=t.archiveProject=t.activateProject=t.getProjectOrganization=t.getProject=t.deleteOrganizationSectionLink=t.updateOrganizationSectionLink=t.createOrganizationSectionLink=t.updateOrganizationSectionsOrder=t.updateOrganizationSectionProjects=t.deleteOrganizationSection=t.updateOrganizationSection=t.createOrganizationSection=t.getOrganizationSections=t.getOrganizationSection=t.removeBarrelFromOrganizationMemberFocus=t.addBarrelToOrganizationMemberFocus=t.getOrganizationMemberFocusedBarrels=t.getProjects=t.deleteOrganizationWorkflowStatus=t.updateOrganizationWorkflowStatus=t.addOrganizationWorkflowStatus=t.getCoupon=t.deleteOrganizationSSOGoogle=t.deleteOrganizationSSOSAML=t.updateOrganizationSSOProvider=t.updateOrganizationAllowExternalMembers=t.updateOrganizationSSOSessionDuration=t.updateOrganizationSSOPolicy=t.addOrganizationSSOSAML=t.addOrganizationSSOGoogle=t.getOrganizationSSOSAMLMetadata=t.getOrganizationSSO=t.createOrganization=t.getPlans=t.getApiConfig=t.requestOrganizationInvitation=t.getOrganizationMemberProfile=t.updateOrganizationCard=t.getUserCredit=t.payUserInvoice=t.payOrganizationInvoice=t.getOrganizationInvoices=t.getOrganizationCards=t.updateOrganizationSubscription=t.createOrganizationSubscription=t.updateOrganizationName=t.updateOrganizationBilling=t.getOrganizationProration=t.getOrganizationBilling=t.transferOrganizationOwnership=t.removeMembersFromOrganization=t.updateOrganizationMembersTags=t.updateOrganizationMembersAccessibility=t.updateOrganizationMemberAccessibility=t.cancelOrganizationScheduledSeatsUpdate=t.getOrganizationScheduledSeatsUpdate=t.updateOrganizationSeats=t.updateOrganizationMembersRole=t.updateOrganizationMemberRole=t.inviteOrganizationMembers=t.getMemberSuggestions=t.getOrganizationMembers=t.getOrganization=t.getOrganizations=t.generateShortlink=t.checkResponseError=t.handleResponseBlob=t.handleResponse=t.refreshToken=void 0;const a=r(n(224)),s=r(n(262)),l=r(n(263)),c=n(264),d=n(233),u=r(n(234));function p(e){const t=e.headers.get("Zeplin-Token");t&&(u.default.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function h(e){return p(e),e.json().then(t=>{if(e.ok)return t;throw c.createError(e.status,t)})}function f(e){return p(e),e.blob().then(t=>{var n,i;if(e.ok){const o=e.headers.get("content-disposition");let r;return o&&(r=null===(i=null===(n=a.default.parse(o))||void 0===n?void 0:n.parameters)||void 0===i?void 0:i.filename),{blob:t,name:r}}throw c.createError(e.status)})}function g(e){if(p(e),!e.ok)return e.json().then(t=>{throw c.createError(e.status,t)})}function m(e){return s.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(p(e),e.json().then(t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===s.default.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function b(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(h)}function S(e){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(g)}function y(e){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(g)}function v(e,t){const n=t?{handle:t}:null;return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(h)}function C(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(h)}function O(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return s.default.post(o).then(h)}function E(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(g)}function T(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return s.default.delete(n).then(g)}function _(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return s.default.delete(t).then(g)}function P(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/copy`,t).then(e=>e.ok?202===e.status?{async:!0}:e.json().then(({project:e,order:t})=>({async:!1,barrel:e,order:t})):e.json().then(t=>{throw c.createError(e.status,t)}))}function j(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(g)}function D(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(g)}function k(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(g)}function I(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(g)}function R(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`;return s.default.post(i,{code:t,redirectURI:n}).then(e=>(p(e),e))}function A(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(h)}function w(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(g)}function N(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(h).then(({extensions:e})=>e)}function L(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(g)}function x(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(h)}function M(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(g)}function U(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(h)}function B(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(h)}function z(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(g)}function V(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(g)}function W(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(g)}function F(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(h)}function H(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(g)}function G(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(g)}function $(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(g)}function q(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(h)}function Z(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(g)}function Y(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(g)}function K(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(h)}function J(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(g)}function X(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(g)}function Q(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(g)}function ee(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(h)}function te(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(h)}function ne(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function ie(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(h)}function oe(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(g)}function re(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:o}).then(g)}function ae(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(h)}function se(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(g)}function le(e,t,n,i){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(h)}function ce(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`,i).then(g)}function de(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/order`,n).then(g)}function ue(e,t,n,i,o){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(h)}function pe(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`).then(g)}function he(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(h)}function fe(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(g)}function ge(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function me(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(h)}function be(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(h)}function Se(e,t){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(h)}function ye(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function ve(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function Ce(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/microsoftTeams`).then(h)}function Oe(e){return fetch(e).then(h).then(e=>{var t,n;return null!==(t=e.layers)&&void 0!==t||(e.layers=[]),null!==(n=e.assets)&&void 0!==n||(e.assets=[]),e}).catch(()=>({layers:[],assets:[]}))}function Ee(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return s.default.put(n,{thumbnail:t}).then(g)}function Te(e,t){return s.default.put(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e,wsid:t}).then(g)}function _e(e){return s.default.delete(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e}).then(g)}function Pe(e,t){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens?includeLinkedStyleguides=${t}`).then(h)}function je(e,t){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(f)}function De(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(p(e),e.json().then(t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===s.default.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function ke(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(h)}function Ie(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return s.default.delete(t).then(g)}function Re(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/copy`,t).then(e=>e.ok?202===e.status?{async:!0}:e.json().then(({styleguide:e,order:t})=>({async:!1,barrel:e,order:t})):e.json().then(t=>{throw c.createError(e.status,t)}))}function Ae(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return s.default.post(t).then(g)}function we(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return s.default.post(t).then(g)}function Ne(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return s.default.post(o).then(h)}function Le(e,t){const n=t?{handle:t}:null;return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(h)}function xe(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(h)}function Me(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return s.default.delete(n).then(g)}function Ue(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(g)}function Be(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(g)}function ze(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(g)}function Ve(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(g)}function We(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(g)}function Fe(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return s.default.put(n,{thumbnail:t}).then(g)}function He(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(h).then(({extensions:e})=>e)}function Ge(e,t,n){const i=`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`;return s.default.post(i,{code:t,redirectURI:n}).then(e=>(p(e),e))}function $e(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(h)}function qe(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(g)}function Ze(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(h)}function Ye(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(g)}function Ke(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(g)}function Je(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(g)}function Xe(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(h)}function Qe(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(g)}function et(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(g)}function tt(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(g)}function nt(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(h)}function it(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(g)}function ot(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(g)}function rt(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(h)}function at(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(g)}function st(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(g)}function lt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(g)}function ct(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(h)}function dt(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(g)}function ut(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:o}).then(g)}function pt(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(h)}function ht(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(g)}function ft(e,t,n,i){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(h)}function gt(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`,i).then(g)}function mt(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/order`,n).then(g)}function bt(e,t,n,i,o){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(h)}function St(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`).then(g)}function yt(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(h)}function vt(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(g)}function Ct(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function Ot(e,t){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(h)}function Et(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function Tt(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function _t(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/microsoftTeams`).then(h)}function Pt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(h)}function jt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(h)}function Dt(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(h)}function kt(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function It(e,t){return s.default.put(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e,wsid:t}).then(g)}function Rt(e){return s.default.delete(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e}).then(g)}function At(e,t){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens?includeLinkedStyleguides=${t}`).then(h)}function wt(e,t){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(f)}function Nt(e){return s.default.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(h)}function Lt(e){return s.default.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(g)}function xt(e,t){return s.default.post(Zeplin.urls.baseURL+"/users/login",{handle:e,password:t}).then(h)}function Mt(e,t){return fetch(Zeplin.urls.baseURL+"/users",{method:"POST",headers:t,body:JSON.stringify(e)}).then(h)}function Ut(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(g)}function Bt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(g)}function zt(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(g)}function Vt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(g)}function Wt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(g)}function Ft(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(g)}function Ht(){return s.default.get(Zeplin.urls.baseURL+"/users/authorizedApplications").then(h).then(e=>e.applications)}function Gt(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(g)}function $t(){return s.default.get(Zeplin.urls.baseURL+"/users/applications").then(h).then(e=>e.applications)}function qt(e){return s.default.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(h)}function Zt(e){return s.default.post(Zeplin.urls.baseURL+"/users/applications",e).then(h)}function Yt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(g)}function Kt(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(g)}function Jt(){return s.default.get(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(h).then(({personalAccessTokens:e})=>e)}function Xt(){return s.default.post(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(h)}function Qt(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(g)}function en(e,t){return s.default.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(g)}function tn(e){return s.default.head(`${Zeplin.urls.baseURL}/oauth/token?client_id=${e}`).then(e=>"true"===e.headers.get("Oauth-Token-Exists"))}function nn(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return s.default.get(t).then(h).then(e=>e.webhooks)}function on(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.get(n).then(h)}function rn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return s.default.post(n,t).then(h)}function an(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.put(i,n).then(g)}function sn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.delete(n).then(g)}function ln(e){return s.default.post(Zeplin.urls.baseURL+"/webhooks/urlhealthcheck",{url:e})}t.refreshToken=p,t.handleResponse=h,t.handleResponseBlob=f,t.checkResponseError=g,t.generateShortlink=function(e,t){const n=t?"?path="+t:"";return s.default.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(h).then(({url:e})=>e).catch(()=>e)},t.getOrganizations=function(){return s.default.get(Zeplin.urls.baseURL+"/organizations").then(h).then(({organizations:e})=>e)},t.getOrganization=function(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(h)},t.getOrganizationMembers=function(e){const t=`${Zeplin.urls.baseURL}/v3/organizations/${e}/members`;return s.default.get(t).then(h)},t.getMemberSuggestions=function(e,t){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/suggestions`).then(h).then(({suggestedMembers:e})=>e)},t.inviteOrganizationMembers=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return s.default.post(n,{members:t}).then(h)},t.updateOrganizationMemberRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return s.default.put(i,{role:n}).then(g)},t.updateOrganizationMembersRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/role`;return s.default.put(i,{memberIds:t,role:n}).then(h)},t.updateOrganizationSeats=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/seats`,t).then(h).then(({reservedSeatCount:e})=>e)},t.getOrganizationScheduledSeatsUpdate=function(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(e=>h(e))},t.cancelOrganizationScheduledSeatsUpdate=function(e){return s.default.delete(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(g)},t.updateOrganizationMemberAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return s.default.put(i,{restricted:Boolean(n)}).then(g)},t.updateOrganizationMembersAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/restricted`;return s.default.put(i,{memberIds:t,restricted:Boolean(n)}).then(h)},t.updateOrganizationMembersTags=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return s.default.put(n,{members:t}).then(g)},t.removeMembersFromOrganization=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`;return s.default.delete(n,{memberIds:t}).then(h)},t.transferOrganizationOwnership=function(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(h)},t.getOrganizationBilling=function(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(h)},t.getOrganizationProration=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration`);return n.search=new URLSearchParams(t).toString(),s.default.get(n.toString()).then(h)},t.updateOrganizationBilling=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(g)},t.updateOrganizationName=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(g)},t.createOrganizationSubscription=function(e,t){return s.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(g)},t.updateOrganizationSubscription=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(g)},t.getOrganizationCards=function(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(h).then(({cards:e})=>e)},t.getOrganizationInvoices=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices`);return n.search=new URLSearchParams(t).toString(),s.default.get(n.toString()).then(h)},t.payOrganizationInvoice=function(e,t){return s.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/${t?t+"/":""}pay`).then(h).then(({invoice:e,invoices:n})=>t?e:n)},t.payUserInvoice=function(e){return s.default.post(`${Zeplin.urls.baseURL}/stripe/users/invoices/${e?e+"/":""}pay`).then(h).then(({invoice:t,invoices:n})=>e?t:n)},t.getUserCredit=function(){return s.default.get(Zeplin.urls.baseURL+"/stripe/users/credit").then(h)},t.updateOrganizationCard=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,{stripeToken:t}).then(g)},t.getOrganizationMemberProfile=function(e,t){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(h)},t.requestOrganizationInvitation=function(e){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(g)},t.getApiConfig=function(){return s.default.get(Zeplin.urls.baseURL+"/api/config").then(h)},t.getPlans=function(){return s.default.get(Zeplin.urls.baseURL+"/api/config/plans").then(h)},t.createOrganization=function(e){return s.default.post(Zeplin.urls.baseURL+"/organizations",e).then(h)},t.getOrganizationSSO=function(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(h)},t.getOrganizationSSOSAMLMetadata=function(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(h)},t.addOrganizationSSOGoogle=function(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:d.GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI,code:t}).then(h)},t.addOrganizationSSOSAML=function(e,t,n,i){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(h)},t.updateOrganizationSSOPolicy=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(g)},t.updateOrganizationSSOSessionDuration=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(g)},t.updateOrganizationAllowExternalMembers=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(g)},t.updateOrganizationSSOProvider=function(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(g)},t.deleteOrganizationSSOSAML=function(e){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`).then(g)},t.deleteOrganizationSSOGoogle=function(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{code:t,redirectUri:d.GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI}).then(g)},t.getCoupon=function(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(h)},t.addOrganizationWorkflowStatus=function(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(h)},t.updateOrganizationWorkflowStatus=function(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(g)},t.deleteOrganizationWorkflowStatus=function(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(g)},t.getProjects=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:Zeplin.urls.baseURL+"/v2/projects";return s.default.get(t,{cache:"no-cache"}).then(h).then(({projects:e})=>e)},t.getOrganizationMemberFocusedBarrels=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return s.default.get(n).then(h).then(({focusedBarrels:e})=>e)},t.addBarrelToOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,r={[i===l.default.PROJECT?"pid":"stid"]:n};return s.default.post(o,r).then(g)},t.removeBarrelFromOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,r={["project"===i?"pid":"stid"]:n};return s.default.delete(o,r).then(g)},t.getOrganizationSection=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return s.default.get(n).then(h)},t.getOrganizationSections=function(e){const t=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return s.default.get(t).then(h).then(({sections:e})=>e)},t.createOrganizationSection=function({oid:e,index:t,name:n,description:i,projects:o}){const r=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return s.default.post(r,{index:t,name:n,description:i,projects:o}).then(h)},t.updateOrganizationSection=function(e){var{oid:t,oseid:n}=e,i=o(e,["oid","oseid"]);const r=`${Zeplin.urls.baseURL}/organizations/${t}/sections/${n}`;return s.default.put(r,i).then(g)},t.deleteOrganizationSection=function(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`).then(g)},t.updateOrganizationSectionProjects=function(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/projects`,{index:n,projects:i}).then(g)},t.updateOrganizationSectionsOrder=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/sections/order`;return s.default.put(i,{index:t,sections:n}).then(g)},t.createOrganizationSectionLink=function(e,t,n,i){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links`,{title:n,url:i}).then(h)},t.updateOrganizationSectionLink=function({oid:e,oseid:t,oselid:n,title:i,url:o}){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`,{title:i,url:o}).then(g)},t.deleteOrganizationSectionLink=function(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`).then(g)},t.getProject=m,t.getProjectOrganization=b,t.activateProject=S,t.archiveProject=y,t.inviteProjectUser=v,t.inviteProjectUsersByTag=C,t.transferProjectOwnership=O,t.updateProjectUserRole=E,t.removeUserFromProject=T,t.deleteProject=_,t.copyProject=P,t.createProject=function({oid:e,platform:t,densityScale:n,name:i="Untitled",oseid:o}){const r=e&&"user"!==e?"/organizations/"+e:"";return s.default.post(`${Zeplin.urls.baseURL}${r}/projects`,{name:i,type:t,densityScale:n,oseid:o}).then(h)},t.updateProjectName=j,t.updateProjectDescription=D,t.updateProjectDensityScale=k,t.updateProjectAccessibility=I,t.moveScreen=function(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(g)},t.createSection=function(e,t){const n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),"screens"in t&&(n.screens=t.screens),s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(h)},t.updateSectionScreens=function(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(g)},t.deleteSection=function(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(g)},t.updateSection=function(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(g)},t.updateSectionOrder=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return s.default.put(n,{sections:t}).then(g)},t.authProjectSlack=R,t.getProjectSlackIntegrationEmojis=A,t.deleteProjectIntegration=w,t.getProjectExtensions=N,t.removeExtensionFromProject=L,t.addExtensionToProject=x,t.removeExtensionFromStyleguide=M,t.addExtensionToStyleguide=U,t.updateScreen=function(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(g)},t.deleteScreen=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return s.default.delete(n).then(g)},t.createProjectColor=B,t.updateProjectColor=z,t.deleteProjectColor=V,t.deleteProjectAllColors=W,t.createProjectTextStyle=F,t.updateProjectTextStyle=H,t.deleteProjectTextStyle=G,t.deleteProjectAllTextStyles=$,t.createProjectSpacingSection=q,t.updateProjectSpacingSection=Z,t.deleteProjectSpacingSection=Y,t.createProjectSpacingToken=K,t.updateProjectSpacingToken=J,t.deleteProjectSpacingToken=X,t.updateProjectRemPreferences=Q,t.getProjectComponentSections=ee,t.getProjectConnectedComponents=te,t.getProjectLocalConnectedComponents=ne,t.addProjectComponentSection=ie,t.updateProjectComponentSection=oe,t.mergeProjectComponentSection=re,t.convertProjectComponentSectionToVariantSection=ae,t.convertProjectVariantSectionToComponentSection=se,t.createProjectComponentSectionVariantProperty=le,t.updateProjectComponentSectionVariantProperty=ce,t.updateProjectComponentSectionVariantPropertiesOrder=de,t.updateProjectComponentsVariantProperty=ue,t.deleteProjectComponentSectionVariantProperty=pe,t.createProjectComponentSectionVariantGroups=he,t.updateProjectComponent=fe,t.deleteProjectComponent=ge,t.updateProjectComponentsOrder=me,t.updateProjectComponentSectionsOrder=be,t.updateProjectStyleguideLink=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(g)},t.removeProjectStyleguideLink=function(e){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(g)},t.getProjectIntegrationEvents=Se,t.addProjectIntegrationEvent=ye,t.deleteProjectIntegrationEvent=ve,t.getProjectTeamsIntegration=Ce,t.fetchSnapshot=Oe,t.getSnapshot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return s.default.get(i).then(e=>(p(e),e.json().then(t=>{if(e.ok)return"string"==typeof t.snapshot?Oe(t.snapshot):t.snapshot;throw c.createError(e.status,t)})))},t.updateCommitColor=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return s.default.put(o,{color:i}).then(g)},t.deleteVersion=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return s.default.delete(i).then(g)},t.getVersions=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return s.default.get(n).then(h)},t.getDots=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return s.default.get(n).then(h)},t.createDot=function(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(h)},t.updateDot=function(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(g)},t.deleteDot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return s.default.delete(i).then(g)},t.updateCommitMessage=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return s.default.put(o,{message:i}).then(g)},t.createDotComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return s.default.post(o,{note:i}).then(h)},t.updateDotCommentNote=function(e,t,n,i,o){const r=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return s.default.put(r,{note:o}).then(g)},t.deleteComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return s.default.delete(o).then(g)},t.updateProjectThumbnail=Ee,t.updateScreensTags=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return s.default.put(n,{screens:t}).then(g)},t.updateProjectsWorkflowStatus=Te,t.deleteProjectsWorkflowStatus=_e,t.getProjectDesignTokens=Pe,t.getProjectDesignTokensFile=je,t.getNotifications=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;return e&&(n+="&date_before="+e),s.default.get(n).then(h)},t.updateNotificationReadStatus=function(e,t){return s.default.put(Zeplin.urls.baseURL+"/notifications",{nids:e,markedAsRead:t}).then(g)},t.updateNotificationEventReadStatus=function(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/notifications/${e}/events`,{eventIds:t,markedAsRead:n}).then(g)},t.getUserAcquaintances=function(){return s.default.get(Zeplin.urls.baseURL+"/users/acquaintances").then(h)},t.updateNotificationLastReadTime=function(){return s.default.put(Zeplin.urls.baseURL+"/users/notificationLastReadTime").then(h)},t.logoutUser=function(){return s.default.post(Zeplin.urls.baseURL+"/users/logout")},t.getSsoLoginParams=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return s.default.get(t).then(h)},t.resetPassword=function(e){const t=Zeplin.urls.baseURL+"/users/requests/password";return s.default.post(t,{handle:e}).then(g)},t.deleteUserSSOProvider=function(e,t,n){return s.default.delete(Zeplin.urls.baseURL+"/users/sso",{password:e,code:t,redirectUri:n}).then(h)},t.updateEmailNotifications=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/emailNotifications",{emailNotifications:e}).then(g)},t.updateUserEmotar=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/emotar",{emotar:e}).then(g)},t.cancelUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.delete(t,e).then(g)},t.updateUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.put(t,e).then(g)},t.createUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.post(t,e).then(g)},t.cancelOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return s.default.delete(n,t).then(g)},t.downgradeOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return s.default.post(n,t).then(g)},t.transferUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return s.default.post(t).then(h)},t.createIntercomMessage=function(e){return s.default.post(Zeplin.urls.baseURL+"/intercom/messages",{message:e}).then(g)},t.getUserUpcomingInvoice=function(){return s.default.get(Zeplin.urls.baseURL+"/stripe/users/invoices/next").then(h)},t.getOrganizationUpcomingInvoice=function(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(h)},t.createIntercomUserTag=function(e){return s.default.post(Zeplin.urls.baseURL+"/intercom/users/tags",{name:e}).then(g)},t.getStyleguides=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:Zeplin.urls.baseURL+"/styleguides";return s.default.get(t,{cache:"no-cache"}).then(h).then(({styleguides:e})=>e)},t.getStyleguide=De,t.getStyleguideOrganization=ke,t.getStyleguideProjects=function(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(h)},t.createStyleguide=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const o=e&&"user"!==e?"/organizations/"+e:"";return s.default.post(`${Zeplin.urls.baseURL}${o}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(h)},t.deleteStyleguide=Ie,t.copyStyleguide=Re,t.archiveStyleguide=Ae,t.activateStyleguide=we,t.transferStyleguideOwnership=Ne,t.inviteStyleguideUser=Le,t.inviteStyleguideUsersByTag=xe,t.removeUserFromStyleguide=Me,t.updateStyleguideUserRole=Ue,t.updateStyleguideName=Be,t.updateStyleguideDescription=ze,t.updateStyleguideDensityScale=Ve,t.updateStyleguideAccessibility=We,t.updateStyleguideThumbnail=Fe,t.getStyleguideExtensions=He,t.authStyleguideSlack=Ge,t.getStyleguideSlackIntegrationEmojis=$e,t.deleteStyleguideIntegration=qe,t.createStyleguideColor=Ze,t.updateStyleguideColor=Ye,t.deleteStyleguideColor=Ke,t.deleteStyleguideAllColors=Je,t.createStyleguideTextStyle=Xe,t.updateStyleguideTextStyle=Qe,t.deleteStyleguideTextStyle=et,t.deleteStyleguideAllTextStyles=tt,t.createStyleguideSpacingSection=nt,t.updateStyleguideSpacingSection=it,t.deleteStyleguideSpacingSection=ot,t.createStyleguideSpacingToken=rt,t.updateStyleguideSpacingToken=at,t.deleteStyleguideSpacingToken=st,t.updateStyleguideRemPreferences=lt,t.addStyleguideComponentSection=ct,t.updateStyleguideComponentSection=dt,t.mergeStyleguideComponentSection=ut,t.convertStyleguideComponentSectionToVariantSection=pt,t.convertStyleguideVariantSectionToComponentSection=ht,t.createStyleguideComponentSectionVariantProperty=ft,t.updateStyleguideComponentSectionVariantProperty=gt,t.updateStyleguideComponentSectionVariantPropertiesOrder=mt,t.updateStyleguideComponentsVariantProperty=bt,t.deleteStyleguideComponentSectionVariantProperty=St,t.createStyleguideComponentSectionVariantGroups=yt,t.updateStyleguideComponent=vt,t.deleteStyleguideComponent=Ct,t.updateStyleguideParent=function(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(g)},t.removeStyleguideParent=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return s.default.delete(t).then(g)},t.getStyleguideIntegrationEvents=Ot,t.addStyleguideIntegrationEvent=Et,t.deleteStyleguideIntegrationEvent=Tt,t.getStyleguideTeamsIntegration=_t,t.updateStyleguideComponentsOrder=Pt,t.updateStyleguideComponentSectionsOrder=jt,t.getStyleguideConnectedComponents=Dt,t.getStyleguideLocalConnectedComponents=kt,t.updateStyleguidesWorkflowStatus=It,t.deleteStyleguidesWorkflowStatus=Rt,t.getStyleguideDesignTokens=At,t.getStyleguideDesignTokensFile=wt,t.getUserProfile=function(){return s.default.get(Zeplin.urls.baseURL+"/users").then(h)},t.getUserStatus=Nt,t.checkUsernameAvailable=Lt,t.updateUsername=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/username",{username:e}).then(g)},t.updateEmail=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/email",e).then(h)},t.updateUser=function(e,t){return s.default.put(Zeplin.urls.baseURL+"/users",{fullName:e,bio:t}).then(g)},t.updateUserTrackingPreference=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/privacy/trackingOptOut",{value:e}).then(g)},t.deleteUser=function(e){return s.default.post(Zeplin.urls.baseURL+"/users/delete",{password:e}).then(g)},t.updatePassword=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/password",e).then(h)},t.updateUserBilling=function(e){return s.default.put(Zeplin.urls.baseURL+"/users/billing",e).then(g)},t.getUserCards=function(){return s.default.get(Zeplin.urls.baseURL+"/stripe/users/cards").then(h).then(({cards:e})=>e)},t.updateUserCard=function(e){return s.default.put(Zeplin.urls.baseURL+"/stripe/users/cards",{stripeToken:e}).then(g)},t.requestInvoice=function(e,t){let n;return n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`,s.default.post(n).then(g)},t.getUserInvoices=function(e){const t=new URL(Zeplin.urls.baseURL+"/stripe/users/invoices");return t.search=new URLSearchParams(e).toString(),s.default.get(t.toString()).then(h)},t.requestVerification=function(){return s.default.post(Zeplin.urls.baseURL+"/users/requests/verification").then(g)},t.verifyUser=function(){const e=Zeplin.urls.baseURL+"/users/verify";return s.default.post(e).then(h)},t.loginUser=xt,t.createUser=Mt,t.getLinkedTokenOfAuthKey=function(e,t){return i(this,void 0,void 0,(function*(){const n=`client_id=${e}&auth_key=${t}`;return h(yield s.default.get(`${d.BASE_URL}/oauth/linkedToken?${n}`))}))},t.revokeAppToken=function(e){return s.default.delete(Zeplin.urls.baseURL+"/oauth/token",{client_id:e}).then(g)},t.updateProjectColorsStyleguide=Ut,t.updateProjectTextStylesStyleguide=Bt,t.updateProjectComponentSectionsStyleguide=zt,t.updateStyleguideColorsStyleguide=Vt,t.updateStyleguideTextStylesStyleguide=Wt,t.updateStyleguideComponentSectionsStyleguide=Ft,t.getAuthorizedApplications=Ht,t.revokeAuthorizedApplication=Gt,t.getOwnedApplications=$t,t.getOwnedApplication=qt,t.createApplication=Zt,t.updateApplication=Yt,t.deleteApplication=Kt,t.getPersonalAccessTokens=Jt,t.createPersonalAccessToken=Xt,t.deletePersonalAccessToken=Qt,t.renamePersonalAccessToken=en,t.getAppStatus=tn,t.getWebhooks=nn,t.getWebhook=on,t.createWebhook=rn,t.updateWebhook=an,t.deleteWebhook=sn,t.checkWebhookUrlHealth=ln;const cn={get:m,inviteUser:v,inviteUsersByTag:C,activate:S,archive:y,delete:_,copy:P,getOrganization:b,updateName:j,updateDescription:D,updateDensityScale:k,updateThumbnail:Ee,updateAccessibility:I,updateUserRole:E,transferOwnership:O,removeUser:T,getSlackIntegrationEmojis:A,deleteIntegration:w,getExtensions:N,addExtension:x,removeExtension:L,createColor:B,updateColor:z,deleteColor:V,deleteAllColors:W,updateColorsStyleguide:Ut,createTextStyle:F,updateTextStyle:H,deleteTextStyle:G,deleteAllTextStyles:$,updateTextStylesStyleguide:Bt,createSpacingSection:q,updateSpacingSection:Z,deleteSpacingSection:Y,createSpacingToken:K,updateSpacingToken:J,deleteSpacingToken:X,updateRemPreferences:Q,getComponentSections:ee,addComponentSection:ie,updateComponentSection:oe,mergeComponentSection:re,convertComponentSectionToVariantSection:ae,convertVariantSectionToComponentSection:se,createComponentSectionVariantProperty:le,updateComponentSectionVariantProperty:ce,updateComponentSectionVariantPropertiesOrder:de,updateComponentsVariantProperty:ue,deleteComponentSectionVariantProperty:pe,createComponentSectionVariantGroups:he,updateComponent:fe,deleteComponent:ge,updateComponentsOrder:me,updateComponentSectionsOrder:be,updateComponentSectionsStyleguide:zt,authSlack:R,getIntegrationEvents:Se,addIntegrationEvent:ye,deleteIntegrationEvent:ve,getTeamsIntegration:Ce,getConnectedComponents:te,getLocalConnectedComponents:ne,updateWorkflowStatus:Te,deleteWorkflowStatus:_e,getDesignTokens:Pe,getDesignTokensFile:je};t.project=cn;const dn={get:De,inviteUser:Le,inviteUsersByTag:xe,activate:we,archive:Ae,delete:Ie,copy:Re,getOrganization:ke,updateName:Be,updateDescription:ze,updateDensityScale:Ve,updateThumbnail:Fe,updateAccessibility:We,updateUserRole:Ue,transferOwnership:Ne,removeUser:Me,getSlackIntegrationEmojis:$e,deleteIntegration:qe,getExtensions:He,addExtension:U,removeExtension:M,createColor:Ze,updateColor:Ye,deleteColor:Ke,deleteAllColors:Je,updateColorsStyleguide:Vt,createTextStyle:Xe,updateTextStyle:Qe,deleteTextStyle:et,deleteAllTextStyles:tt,updateTextStylesStyleguide:Wt,createSpacingSection:nt,updateSpacingSection:it,deleteSpacingSection:ot,createSpacingToken:rt,updateSpacingToken:at,deleteSpacingToken:st,updateRemPreferences:lt,addComponentSection:ct,updateComponentSection:dt,mergeComponentSection:ut,convertComponentSectionToVariantSection:pt,convertVariantSectionToComponentSection:ht,createComponentSectionVariantProperty:ft,updateComponentSectionVariantProperty:gt,updateComponentSectionVariantPropertiesOrder:mt,updateComponentsVariantProperty:bt,deleteComponentSectionVariantProperty:St,createComponentSectionVariantGroups:yt,updateComponent:vt,deleteComponent:Ct,updateComponentsOrder:Pt,updateComponentSectionsOrder:jt,updateComponentSectionsStyleguide:Ft,authSlack:Ge,getIntegrationEvents:Ot,addIntegrationEvent:Et,deleteIntegrationEvent:Tt,getTeamsIntegration:_t,getConnectedComponents:Dt,getLocalConnectedComponents:kt,updateWorkflowStatus:It,deleteWorkflowStatus:Rt,getDesignTokens:At,getDesignTokensFile:wt};t.styleguide=dn;const un={checkUsernameAvailable:Lt,getUserStatus:Nt,loginUser:xt,createUser:Mt};t.user=un;const pn={getAuthorizedApplications:Ht,revokeAuthorizedApplication:Gt,getOwnedApplications:$t,getOwnedApplication:qt,createApplication:Zt,updateApplication:Yt,deleteApplication:Kt,getPersonalAccessTokens:Jt,createPersonalAccessToken:Xt,renamePersonalAccessToken:en,deletePersonalAccessToken:Qt,getAppStatus:tn,getWebhooks:nn,getWebhook:on,createWebhook:rn,updateWebhook:an,deleteWebhook:sn,checkWebhookUrlHealth:ln};t.developer=pn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=Object.assign({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROJECT="project",e.STYLEGUIDE="styleguide"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"createError",(function(){return c})),n.d(t,"handleError",(function(){return d}));var i=n(34),o=n(265),r=n(266),a=n(234),s=n(244),l=n(233);function c(e,t={}){return e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new r.default(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.FLAG_USE_CONSOLE_LOGGER&&console.error(e),e instanceof r.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n)):s.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(d=t.clientErrorHandler[401]))return void d();a.default.remove("userToken"),localStorage.removeItem("user"),i.configureScope(e=>e.setUser(null)),s.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&i.captureException(e),t)if("clientErrorHandler"in t){var c=t.clientErrorHandler;if("function"==typeof c)c(e);else if("object"==typeof c){var d;"function"==typeof(d=c[e.status])?d(e):"default"in c&&c.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n);else s.create(n);else if(i.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.FLAG_REMOVE_TEST_ID?null:{testid:"genericErrorDialog"};s.create(e)}}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.default=i},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.default=i},,,function(e,t,n){"use strict";n.r(t);var i=n(231),o=n(230),r=n(270),a=n(368),s=n(372),l=n(375),c=n(376);n(377);function d({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i},{withResetAppZoomFactor:o=!1}={}){return[Object(r.default)(),Object(a.default)(),Object(s.default)(e,o),Object(l.default)(),Object(c.default)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}o.isWindowsApp&&(i.default.ipcRenderer.on("get-menu-template-v1",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v1",{menuTemplate:d(t)})}),i.default.ipcRenderer.on("get-menu-template-v2",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v2",{menuTemplate:d(t,{withResetAppZoomFactor:!0})})}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(271),o=n.n(i),r=n(361),a=n(362),s=n(363),l=n.n(s),c=n(263),d=n.n(c);const u=/^\/login/;function p(e){const{[e+"s"]:t}=o.a.RecentlyLoadedBarrelsStore.getState(),n=e===d.a.PROJECT?a.default.OPEN_RECENT_PROJECT_SUBMENU:a.default.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===d.a.PROJECT?a.default.OPEN_RECENT_PROJECT:a.default.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map(({_id:e,name:t})=>({id:`${i}.${e}`,label:t}))}}function h(){const{selectedTab:e}=o.a.SpaceStore.getState(),{barrelId:t,barrelType:n}=o.a.BarrelStore.getState(),i=!t&&"projects"===e||t&&n===d.a.PROJECT,s=!t&&"styleguides"===e||t&&n===d.a.STYLEGUIDE;return u.test(location.pathname)?new r.default({id:a.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:a.default.NEW_PROJECT,enabled:!1,accelerator:"CmdOrCtrl+N"},{label:"Open recent",id:a.default.OPEN_RECENT_PROJECT_SUBMENU,enabled:!1}]}):i?new r.default({id:a.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:a.default.NEW_PROJECT,enabled:l.a.canCreateProject(),accelerator:"CmdOrCtrl+N"},p(d.a.PROJECT)]}):s?new r.default({id:a.default.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:a.default.NEW_STYLEGUIDE,enabled:l.a.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},p(d.a.STYLEGUIDE)]}):new r.default({id:a.default.PROJECT_SUBMENU,label:"Project",enabled:!1})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),r=i(n(272)),a=i(n(277)),s=i(n(281)),l=i(n(285)),c=i(n(287)),d=i(n(289)),u=i(n(306)),p=i(n(308)),h=i(n(309)),f=i(n(317)),g=i(n(319)),m=i(n(334)),b=i(n(335)),S=i(n(337)),y=i(n(338)),v=i(n(341)),C=i(n(344)),O=i(n(345)),E=i(n(346)),T=i(n(347)),_=i(n(349)),P=i(n(350)),j=i(n(352)),D=i(n(354)),k=i(n(355)),I=i(n(358));t.default=new class{constructor(){this.dispatcher=new o.Dispatcher}initializeStores(e){e?e(this):(this.ActivitiesViewStore=new r.default(this.dispatcher),this.AppStore=new a.default(this.dispatcher),this.AppsStore=new s.default(this.dispatcher),this.BarrelStore=new l.default(this.dispatcher),this.DashboardStore=new c.default(this.dispatcher),this.ExtensionsStore=new d.default(this.dispatcher),this.MoveResourcesStore=new u.default(this.dispatcher),this.NotificationsStore=new p.default(this.dispatcher),this.OrganizationStore=new h.default(this.dispatcher),this.OrganizationBillingStore=new f.default(this.dispatcher),this.ProjectsDataStore=new g.default(this.dispatcher),this.RecentlyLoadedBarrelsStore=new m.default(this.dispatcher),this.ComponentVariantStore=new b.default(this.dispatcher),this.DotsStore=new S.default(this.dispatcher),this.ScreenStore=new y.default(this.dispatcher),this.SlackPreferencesStore=new v.default(this.dispatcher),this.StyleguideStore=new T.default(this.dispatcher),this.StyleguidesDataStore=new _.default(this.dispatcher),this.SpaceStore=new C.default(this.dispatcher),this.WorkspaceScrollStore=new O.default(this.dispatcher),this.ProjectSelectionStore=new E.default(this.dispatcher),this.SupportButtonStore=new P.default(this.dispatcher),this.TeamsIntegrationStore=new j.default(this.dispatcher),this.UserStore=new I.default(this.dispatcher),this.VersionImportsStore=new D.default(this.dispatcher),this.WebhooksDataStore=new k.default(this.dispatcher))}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(273)),a=i(n(274)),s=i(n(275)),l=i(n(276));class c extends o.default{constructor(e){super(e)}getInitialState(){return{loading:!0,selectedOrganizationId:"user",category:a.default.All,barrelSelection:{type:"all"},projectsWithUpdatesOnly:!0,dotsLoaded:!1,selectedEventIds:[],autoSelect:!1}}setLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}resetSelection(e){return Object.assign(Object.assign({},e),{selectedId:void 0,selectedEventIds:[],dotsLoaded:!1})}resetSelectionAndNoteFilters(e){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilterType:void 0,color:void 0,memberId:void 0,sectionId:void 0}))}load(e,{data:{selectedOrganizationId:t,sidebarWidth:n,notificationWelcomeMessageMinimized:i}}){return Object.assign(Object.assign({},t===e.selectedOrganizationId?e:this.getInitialState()),{selectedOrganizationId:t,sidebarWidth:n,notificationWelcomeMessageMinimized:i,loading:!1})}select(e,{activity:t,eventIds:n=[],options:{reselect:i,autoSelect:o}}){return i?Object.assign(Object.assign({},e),{autoSelect:o}):Object.assign(Object.assign({},e),{selectedId:t._id,selectedEventIds:n,dotsLoaded:!1,autoSelect:o})}setDotsLoaded(e,{activity:t}){return e.selectedId===t._id?Object.assign(Object.assign({},e),{dotsLoaded:!0}):e}selectCategory(e,{category:t}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{category:t}))}selectAllBarrels(e){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{type:"all"}}))}selectBarrel(e,{id:t,isPinned:n,barrelType:i}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{id:t,isPinned:n,type:i}}))}setProjectsWithUpdatesOnly(e,{projectsWithUpdatesOnly:t}){return Object.assign(Object.assign({},e),{projectsWithUpdatesOnly:t})}selectNoteStatusFilterType(e,{noteStatusFilterType:t}){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilterType:t}))}selectColor(e,{color:t}){return this.resetSelection(Object.assign(Object.assign({},e),{color:t}))}selectMember(e,{memberId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{memberId:t}))}selectSection(e,{sectionId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{sectionId:t}))}setSidebarWidth(e,{sidebarWidth:t}){return Object.assign(Object.assign({},e),{sidebarWidth:t})}setNotificationWelcomeMessageMinimized(e,{notificationWelcomeMessageMinimized:t}){return Object.assign(Object.assign({},e),{notificationWelcomeMessageMinimized:t})}saveListScrollData(e,{listScrollData:t}){return Object.assign(Object.assign({},e),{listScrollData:t})}reduce(e,t){switch(t.type){case s.default.SET_PAGE:return this.setLoading(e);case r.default.Load:return this.load(e,t);case r.default.Select:return this.select(e,t);case r.default.SetDotsLoaded:return this.setDotsLoaded(e,t);case r.default.SelectCategory:return this.selectCategory(e,t);case r.default.SelectAllBarrels:return this.selectAllBarrels(e);case r.default.SelectBarrel:return this.selectBarrel(e,t);case r.default.SetProjectsWithUpdatesOnly:return this.setProjectsWithUpdatesOnly(e,t);case r.default.SelectNoteStatusFilterType:return this.selectNoteStatusFilterType(e,t);case r.default.SelectColor:return this.selectColor(e,t);case r.default.SelectMember:return this.selectMember(e,t);case r.default.SelectSection:return this.selectSection(e,t);case r.default.SetSidebarWidth:return this.setSidebarWidth(e,t);case r.default.SetNotificationWelcomeMessageMinimized:return this.setNotificationWelcomeMessageMinimized(e,t);case r.default.SaveListScrollData:return this.saveListScrollData(e,t);case l.default.GET_NOTIFICATIONS_SUCCESS:return this.resetSelection(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Select="activities/select",e.SetDotsLoaded="activities/setDotsLoaded",e.SelectCategory="activities/selectCategory",e.SelectAllBarrels="activities/selectAllBarrels",e.SelectBarrel="activities/selectBarrel",e.SetProjectsWithUpdatesOnly="activities/setProjectsWithUpdatesOnly",e.SetReadStatus="activities/setReadStatus",e.Load="activities/load",e.SelectNoteStatusFilterType="activities/selectNoteStatusFilterType",e.SelectColor="activities/selectColor",e.SelectMember="activities/selectMember",e.SelectSection="activities/selectSection",e.RequestRelatedUsers="activities/requestRelatedUsers",e.SetSidebarWidth="activities/setSidebarWidth",e.SetNotificationWelcomeMessageMinimized="activities/notificationWelcomeMessageMinimized",e.SaveListScrollData="activities/saveListScrollData"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.All="All",e.Note="Note",e.Screen="Screen",e.Styleguide="Styleguide",e.Other="Other"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_WORKSPACE_DATA="app/loadWorkspaceData",e.RESET="app/reset",e.HYDRATE_EMBEDDED_DATA="app/hydrateEmbeddedData",e.INIT_RECENTLY_LOADED_BARRELS="app/initRecentlyLoadedBarrels",e.RESET_BACK_BUTTON="app/resetBackButton",e.SET_BACK_BUTTON="app/setBackButton",e.SET_SHORTLINK="app/setShortlink",e.SET_PAGE="app/setPage",e.SSO_TOKEN_EXPIRED="app/ssoTokenExpired",e.UNSET_SSO_TOKEN_EXPIRED="app/unsetSSOTokenExpired",e.LOGIN_SSO="app/loginSSO",e.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE="app/switchToOldNotificationExperience",e.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE="app/switchToNewNotificationExperience"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADD_NOTIFICATION="addNotification",e.GET_NOTIFICATIONS_REQUESTED="getNotificationsRequested",e.GET_NOTIFICATIONS_SUCCESS="getNotificationsSuccess",e.GET_NOTIFICATIONS_FAILED="getNotificationsFailed",e.UPDATE_NOTIFICATION_LAST_READ_TIME="updateNotificationLastReadTime",e.SET_READ_STATUS="setNotificationReadStatus",e.RESTORE_READ_STATUS="restoreNotificationReadStatus",e.SET_READ_STATUS_OFFLINE="setNotificationReadStatusOffline",e.SET_EVENT_READ_STATUS="setNotificationEventReadStatus",e.SET_EVENT_READ_STATUS_OFFLINE="setNotificationEventReadStatusOffline"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(275),a=n.n(r),s=n(278),l=n.n(s),c=n(279),d=n.n(c),u=n(280),p=n.n(u);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.a{getInitialState(){return{config:null,backButtonLabel:null,backButtonLink:null,page:"workspace",ssoTokenExpired:"",oldNotificationExperience:!1}}reset(e){return f(f({},this.getInitialState()),{},{config:e.config})}resetBackButton(e){return f(f({},e),{},{backButtonLabel:null,backButtonLink:null})}setBackButton(e,{label:t,link:n}){return f(f({},e),{},{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;if(!i)return e;return t!==new URL(i).searchParams.get("coid")?e:f(f({},e),{},{backButtonLabel:n.name})}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;if(!n)return e;return t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e)}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?f(f({},e),{},{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}setPage(e,{page:t}){return f(f({},e),{},{page:t})}setConfig(e,{config:t}){return f(f({},e),{},{config:t})}ssoTokenExpired(e,{frequency:t}){return f(f({},e),{},{ssoTokenExpired:t})}unsetSSOTokenExpired(e){return f(f({},e),{},{ssoTokenExpired:""})}setOldNotificationExperience(e,{oldNotificationExperience:t}={}){return void 0===t?e:f(f({},e),{},{oldNotificationExperience:t})}enableOldNotificationExperience(e){return f(f({},e),{},{oldNotificationExperience:!0})}enableNewNotificationExperience(e){return f(f({},e),{},{oldNotificationExperience:!1})}reduce(e,t){switch(t.type){case a.a.HYDRATE_EMBEDDED_DATA:return this.setConfig(e,t);case a.a.RESET:return this.reset(e);case a.a.RESET_BACK_BUTTON:return this.resetBackButton(e);case a.a.SET_BACK_BUTTON:return this.setBackButton(e,t);case a.a.SET_PAGE:return this.setPage(e,t);case a.a.SSO_TOKEN_EXPIRED:return this.ssoTokenExpired(e,t);case a.a.UNSET_SSO_TOKEN_EXPIRED:return this.unsetSSOTokenExpired(e,t);case a.a.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:return this.enableOldNotificationExperience(e);case a.a.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE:return this.enableNewNotificationExperience(e);case p.a.UPDATE_PAGE_STATE:return this.setOldNotificationExperience(e,t.updateState);case l.a.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case l.a.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case l.a.LOAD:return this.setOldNotificationExperience(e,t.notifications);case d.a.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=m},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="barrel/reset",e.LOAD="barrel/load",e.UPDATE_STATE="barrel/updateState",e.SET_ORGANIZATION_ID="barrel/setOrganizationId",e.SET_BARREL_ID="barrel/setBarrelId",e.CHANGE_SELECTED_VIEW="barrel/changeSelectedView",e.ADD_TO_SLACK="barrel/addToSlack",e.ADD="barrel/add",e.ACTIVATE="barrel/activate",e.ARCHIVE="barrel/archive",e.REMOVE="barrel/remove",e.COPY="barrel/copy",e.UPDATE_NAME="barrel/updateName",e.UPDATE_DESCRIPTION="barrel/updateDescription",e.UPDATE_DENSITY_SCALE="barrel/updateDensityScale",e.UPDATE_THUMBNAIL="barrel/updateThumbnail",e.ADD_INTEGRATION="barrel/addIntegration",e.REMOVE_INTEGRATION="barrel/removeIntegration",e.ADD_MEMBERS="barrel/addMembers",e.UPDATE_USER_ROLE="barrel/updateUserRole",e.UPDATE_USER_DATA="barrel/updateUserData",e.TRANSFER_OWNERSHIP="barrel/transferOwnership",e.OWNERSHIP_TRANSFERRED="barrel/ownershipTransferred",e.REMOVE_MEMBER="barrel/removeMember",e.ADD_COLOR="barrel/addColor",e.ADD_MULTIPLE_COLORS="barrel/addMultipleColors",e.UPDATE_COLOR="barrel/updateColor",e.REMOVE_COLOR="barrel/removeColor",e.REMOVE_ALL_COLORS="barrel/removeAllColors",e.MIGRATE_COLORS="barrel/migrateColors",e.ADD_TEXT_STYLE="barrel/addTextStyle",e.ADD_MULTIPLE_TEXT_STYLES="barrel/addMultipleTextStyles",e.UPDATE_TEXT_STYLE="barrel/updateTextStyle",e.REMOVE_TEXT_STYLE="barrel/removeTextStyle",e.REMOVE_ALL_TEXT_STYLES="barrel/removeAllTextStyles",e.ADD_SPACING_SECTION="barrel/addSpacingSection",e.UPDATE_SPACING_SECTION="barrel/updateSpacingSection",e.REMOVE_SPACING_SECTION="barrel/removeSpacingSection",e.ADD_SPACING_TOKEN="barrel/addSpacingToken",e.UPDATE_SPACING_TOKEN="barrel/updateSpacingToken",e.REMOVE_SPACING_TOKEN="barrel/removeSpacingToken",e.UPDATE_REM_PREFERENCES="barrel/updateRemPreferences",e.ADD_COMPONENT="barrel/addComponent",e.UPDATE_COMPONENT="barrel/updateComponent",e.REMOVE_COMPONENT="barrel/removeComponent",e.SET_COMPONENT_SNAPSHOT="barrel/setComponentSnapshot",e.ADD_COMPONENT_VERSION="barrel/addComponentVersion",e.UPDATE_COMPONENTS_ORDER="barrel/updateComponentsOrder",e.ADD_COMPONENT_SECTION="barrel/addComponentSection",e.UPDATE_COMPONENT_SECTION="barrel/updateComponentSection",e.MERGE_COMPONENT_SECTION="barrel/mergeComponentSection",e.REMOVE_COMPONENT_SECTION="barrel/removeComponentSection",e.REMOVE_COMPONENT_SECTIONS="barrel/removeComponentSections",e.UPDATE_COMPONENT_SECTIONS_ORDER="barrel/updateComponentSectionsOrder",e.COPY_COMPONENT_SECTION_WEB_LINK="barrel/copyComponentSectionWebLink",e.COPY_COMPONENT_SECTION_APP_URI="barrel/copyComponentSectionAppURI",e.FETCH_COMPONENT_SECTION_SHORT_LINK="barrel/fetchComponentSectionShortLink",e.GO_TO_DASHBOARD="barrel/goToDashboard",e.GO_TO_STYLEGUIDE="barrel/goToStyleguide",e.SET_ASSET_EXPORT_TARGET="barrel/setAssetExportTarget",e.CHANGE_ASSET_NAME="barrel/changeAssetName",e.CHANGE_ASSET_DENSITY_SCALE_PREF="barrel/changeAssetDensityScalePref",e.CHANGE_ASSET_NAMING_CONVENTION="barrel/changeAssetNamingConvention",e.TOGGLE_SVG_OPTIMIZATION="barrel/toggleSVGOptimization",e.CHANGE_EXPORT_TARGET="barrel/changeExportTarget",e.OPEN_EXPORT_TARGET="barrel/openExportTarget",e.DOWNLOAD_ASSET="barrel/downloadAsset",e.DOWNLOAD_MULTIPLE_ASSET="barrel/downloadMultipleAsset",e.EXPORT_CODE="barrel/exportCode",e.COPY_CODE="barrel/copyCode",e.HIDE_NO_VECTOR_ASSET_INFO="barrel/hideNoVectorAssetInfo",e.HIDE_DENSITY_MISMATCH_WARNING="barrel/hideDensityMismatchWarning",e.HIDE_SOURCE_FILE_INFO="barrel/hideSourceFileInfo",e.DISMISS_FLOW_LINK_INFO="barrel/dismissFlowLinkInfo",e.DISMISS_NO_RESOURCE_INFO="barrel/dismissNoResourceInfo",e.HIDE_SLACK_RECONNECTION_AUNTIE="barrel/hideSlaclReconnectionAuntie",e.OPEN_JUMP_TO_POPUP="barrel/openJumpToPopup",e.CLOSE_JUMP_TO_POPUP="barrel/closeJumpToPopup",e.TOGGLE_SCENE="barrel/toggleScene",e.JOIN="barrel/join",e.STOP_JOIN_LOADING="barrel/stopLoadingJoin",e.MOVE_RESOURCES_REQUEST="barrel/moveResourcesRequest",e.MOVE_RESOURCES_SUCCESS="barrel/moveResourcesSuccess",e.MOVE_RESOURCES_FAIL="barrel/movesResourcesFail",e.ATTACH_JIRA_ISSUE="barrel/attachJiraIssue",e.REMOVE_JIRA_ISSUE_ATTACHMENT="barrel/removeJiraIssueAttachment",e.ENABLE_DEV_MODE="barrel/enableDevMode",e.DISABLE_DEV_MODE="barrel/disableDevMode",e.SET_LOCAL_CONNECTED_COMPONENTS="barrel/setLocalConnectedComponents",e.RELOAD_LOCAL_CONNECTED_COMPONENTS="barrel/reloadLocalConnectedComponents",e.UPDATE_CONNECTED_COMPONENTS="barrel/updateConnectedComponents",e.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE="barrel/setConnectedComponentsLocalWorkspace",e.GET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/getConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/setConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE="barrel/setConnectedComponentsEditorPreference",e.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER="barrel/selectConnectedComponentsWorkspaceFolder",e.OPEN_COMPONENT_FILE_IN_EDITOR="barrel/openComponentFileInEditor",e.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH="barrel/setConnectedComponentsWorkspacePath",e.UPDATE_WORKFLOW_STATUS="barrel/updateWorkflowStatus",e.UPDATE_WORKFLOW_STATUSES="barrel/updateWorkflowStatuses",e.DELETE_WORKFLOW_STATUS="barrel/deleteWorkflowStatus",e.DELETE_WORKFLOW_STATUSES="barrel/deleteWorkflowStatuses",e.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED="barrel/highlightedConnectToCodeButtonViewed",e.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN="barrel/markConnectedComponentsOnboardingDialogAsSeen"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN_SCREEN="screen/openScreen",e.SELECT_LAYER="screen/selectLayer",e.DESELECT_LAYER="screen/deselectLayer",e.ENTER_LAYER="screen/enterLayer",e.LEAVE_LAYER="screen/leaveLayer",e.ENABLE_PERCENTAGE_MODE="screen/enablePercentageMode",e.DISABLE_PERCENTAGE_MODE="screen/disablePercentageMode",e.ADD_SCREEN="screen/addScreen",e.UPDATE_DESCRIPTION="screen/updateDescription",e.UPDATE_NAME="screen/updateName",e.REMOVE_SCREEN="screen/removeScreen",e.OPEN_TAG_MANAGER="screen/openTagManager",e.CLOSE_TAG_MANAGER="screen/closeTagManager",e.UPDATE_TAGS="screen/updateTags",e.OPEN_SOURCE_FILE="screen/openSourceFile",e.OPEN_SOURCE_FOLDER="screen/openSourceFolder",e.OPEN_POPOUT="screen/openPopout",e.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX="screen/hideComponentVariantsOnboardingHintbox",e.SET_DOTS="screen/setDots",e.SELECT_DOT="screen/selectDot",e.CLOSE_DOT_POPUP="screen/closeDotPopup",e.CHANGE_DOT_FILTER="screen/changeDotFilter",e.DOTS_FLASHED="screen/dotsFlashed",e.HIGHLIGHT_DOTS="screen/highlightDots",e.UNHIGHLIGHT_DOT="screen/unhighlightDot",e.ADD_DOT="screen/addDot",e.UPDATE_DOT="screen/updateDot",e.UPDATE_DOT_COLOR="screen/updateDotColor",e.UPDATE_DOT_POSITION="screen/updateDotPosition",e.UPDATE_DOT_STATUS="screen/updateDotStatus",e.REMOVE_DOT="screen/removeDot",e.CREATE_COMMENT="screen/createComment",e.ADD_COMMENT="screen/addComment",e.UPDATE_COMMENT="screen/updateComment",e.REMOVE_COMMENT="screen/removeComment",e.OPEN_DOT_MENU="screen/openDotMenu",e.CLOSE_DOT_MENU="screen/closeDotMenu",e.CHANGE_ZOOM_LEVEL="screen/changeZoomLevel",e.ZOOM_IN="screen/zoomIn",e.ZOOM_OUT="screen/zoomOut",e.RESET_ZOOM="screen/resetZoom",e.ZOOM_APPLIED="screen/zoomApplied",e.START_GESTURE="screen/startGesture",e.ZOOM_WITH_GESTURE="screen/zoomWithGesture",e.ZOOM_WITH_WHEEL="screen/zoomWithWheel",e.TOGGLE_LAYOUT_GRID="screen/toggleLayoutGrid",e.ENABLE_NOTE_MODE="screen/enableNoteMode",e.DISABLE_NOTE_MODE="screen/disableNoteMode",e.CREATE_NOTE="screen/createNote",e.SHOW_NOTES="screen/showNotes",e.HIDE_NOTES="screen/hideNotes",e.CHANGE_NOTE_STATUS_FILTER="screen/changeNoteStatusFilter",e.CHANGE_NOTE_COLOR_FILTER="screen/changeNoteColorFilter",e.SHOW_FLOW_LINKS="screen/showFlowLinks",e.HIDE_FLOW_LINKS="screen/hideFlowLinks",e.CHANGE_SIDEBAR_TAB="screen/changeSidebarTab",e.CHANGE_SCREEN_SIDEBAR_WIDTH="screen/changeScreenSidebarWidth",e.GET_VERSIONS="screen/getVersions",e.SET_VERSIONS="screen/setVersions",e.SET_VERSION_ID="screen/setVersionId",e.SET_SNAPSHOT="screen/setSnapshot",e.SHOW_VERSIONS="screen/showVersions",e.HIDE_VERSIONS="screen/hideVersions",e.TOGGLE_VERSIONS="screen/toggleVersions",e.ENABLE_VERSIONS_COMPACT_MODE="screen/enableVersionsCompactMode",e.DISABLE_VERSIONS_COMPACT_MODE="screen/disableVersionsCompactMode",e.SHOW_VERSIONS_AUNTIE="screen/showVersionsAuntie",e.HIDE_VERSIONS_AUNTIE="screen/hideVersionsAuntie",e.NEW_VERSIONS_FOUND="screen/newVersionsFound",e.CHANGE_VERSIONS_SIDEBAR_WIDTH="screen/changeVersionsSidebarWidth",e.ADD_VERSION="screen/addVersion",e.UPDATE_COMMIT_COLOR="screen/updateCommitColor",e.UPDATE_COMMIT_MESSAGE="screen/updateCommitMessage",e.REMOVE_VERSION="screen/removeVersion",e.SET_SOURCE_FILE="screen/setSourceFile"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_PAGE_STATE="space/updatePageState",e.CHANGE_SELECTED_TAB="space/changeSelectedTab",e.CHANGE_SELECTED_ORGANIZATION="space/changeSelectedOrganization",e.CHANGE_FILTER_VALUE="space/changeFilterValue",e.CHANGE_PROJECT_SELECTED_SORT_TYPE="space/changeProjectSelectedSortType",e.TOGGLE_ARCHIVED_PROJECTS="space/toggleArchivedProjects",e.CHANGE_WORKFLOW_STATUS_FILTER="space/changeWorkflowStatusFilter",e.UNHIGHLIGHT_BARREL="space/unhighlightBarrel",e.HIGHLIGHT_SECTION="space/highlightSection",e.UNHIGHLIGHT_SECTION="space/unhighlightSection",e.EXPAND_SECTIONS="space/expandSections",e.COLLAPSE_SECTIONS="space/collapseSections",e.SET_STYLEGUIDES_TAB_VISITED="space/setStyleguidesTabVisited",e.OPEN_DIALOG="space/openDialog",e.CLOSE_DIALOG="space/closeDialog",e.HIDE_LOADING="space/hideLoading",e.TRACK_BARREL_CLICK="space/trackBarrelClick",e.TOGGLE_PROJECT_SELECTION="space/toggleProjectSelection",e.CLEAR_PROJECT_SELECTION="space/clearProjectSelection",e.SELECT_PROJECTS="space/selectProjects",e.DESELECT_PROJECTS="space/deselectProjects",e.SET_AUTO_EXPAND_NOTIFICATIONS="space/setAutoExpandNotifications",e.POSTPONE_OFFER_REMINDER="space/postponeOfferReminder",e.SCROLLED_TO_PROJECT="space/scrolledToProject"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(282),a=n(283),s=n.n(a),l=n(284);function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a{getInitialState(){return{loadingConnectedAppsData:!0,loadingDeveloperData:!1,loadingApplication:!1,revokingAuthorizedApplication:!1,deletingPersonalAccessToken:!1,creatingAccessToken:!1,creatingApplication:!1,updatingApplication:!1,deletingApplication:!1,authorizedApplications:[],ownedApplications:[],personalAccessTokens:[],fetchedApplicationIds:[],officialApps:l.OFFICIAL_APPS.reduce((e,t)=>u(u({},e),{},{[t._id]:u(u({},t),{},{token:null,status:l.appStatus.UNCONNECTED})}),{})}}loadConnectedAppsData(e,{authorizedApplications:t,officialApps:n}){return u(u({},e),{},{authorizedApplications:t.map(e=>new s.a(e)),officialApps:n,loadingConnectedAppsData:!1})}loadDeveloperDataRequest(e){return u(u({},e),{},{loadingDeveloperData:!0})}loadDeveloperData(e,{ownedApplications:t,personalAccessTokens:n}){return u(u({},e),{},{ownedApplications:t.map(e=>new s.a(e)),personalAccessTokens:n,loadingDeveloperData:!1})}getApplicationRequest(e){return u(u({},e),{},{loadingApplication:!0})}loadApplication(e,{application:t}){const{ownedApplications:n,fetchedApplicationIds:i}=e;return u(u({},e),{},{ownedApplications:n.map(e=>t._id===e._id?new s.a(t):e),fetchedApplicationIds:[...i,t._id],loadingApplication:!1})}revokeAuthorizedApplicationSuccess(e,{authorizedApplication:t}){return u(u({},e),{},{authorizedApplications:e.authorizedApplications.filter(({_id:e})=>t._id!==e),revokingAuthorizedApplication:!1})}revokeAuthorizedApplicationFailure(e){return u(u({},e),{},{revokingAuthorizedApplication:!1})}deletePersonalAccessTokenRequest(e){return u(u({},e),{},{deletingPersonalAccessToken:!0})}deletePersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.filter(({_id:e})=>t._id!==e),deletingPersonalAccessToken:!1})}deletePersonalAccessTokenFailure(e){return u(u({},e),{},{deletingPersonalAccessToken:!1})}createPersonalAccessTokenRequest(e){return u(u({},e),{},{creatingAccessToken:!0})}createPersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:[t,...e.personalAccessTokens],creatingAccessToken:!1})}createPersonalAccessTokenFailure(e){return u(u({},e),{},{creatingAccessToken:!1})}createApplicationRequest(e){return u(u({},e),{},{creatingApplication:!0})}createApplicationSuccess(e,{application:t}){return u(u({},e),{},{ownedApplications:[t,...e.ownedApplications],creatingApplication:!1})}createApplicationFailure(e){return u(u({},e),{},{creatingApplication:!1})}updateApplicationRequest(e){return u(u({},e),{},{updatingApplication:!0})}updateApplicationSuccess(e,{appId:t,application:n}){return u(u({},e),{},{ownedApplications:e.ownedApplications.map(e=>e._id===t?new s.a(u({_id:t},n)):e),updatingApplication:!1})}updateApplicationFailure(e){return u(u({},e),{},{updatingApplication:!1})}deleteApplicationRequest(e){return u(u({},e),{},{deletingApplication:!0})}deleteApplicationSuccess(e,{application:{_id:t}}){let{ownedApplications:n}=e;return u(u({},c(e,["ownedApplications"])),{},{ownedApplications:n.filter(e=>e._id!==t),deletingApplication:!1})}deleteApplicationFailure(e){return u(u({},e),{},{deletingApplication:!1})}renamePersonalAccessToken(e,{tokenId:t,name:n}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.map(e=>e._id===t?u(u({},e),{},{name:n}):e)})}setRevokingAuthorizedApplication(e){return u(u({},e),{},{revokingAuthorizedApplication:!0})}setOfficialAppConnecting(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.CONNECTING})})})}connectOfficalAppSuccess(e,{appId:t,token:n}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:n,status:l.appStatus.CONNECTED})})})}connectOfficialAppFailure(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.UNCONNECTED})})})}revokeOfficialApp(e,{authorizedApplication:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t._id]:u(u({},e.officialApps[t._id]),{},{token:null,status:l.appStatus.UNCONNECTED})}),revokingAuthorizedApplication:!1})}reduce(e,t){switch(t.type){case r.default.GET_CONNECTED_APPS_DATA_SUCCESS:return this.loadConnectedAppsData(e,t);case r.default.GET_DEVELOPER_DATA_REQUEST:return this.loadDeveloperDataRequest(e,t);case r.default.GET_DEVELOPER_DATA_SUCCESS:return this.loadDeveloperData(e,t);case r.default.GET_APPLICATION_REQUEST:return this.getApplicationRequest(e,t);case r.default.GET_APPLICATION_SUCCESS:return this.loadApplication(e,t);case r.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:return this.setRevokingAuthorizedApplication(e);case r.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:return l.OFFICIAL_APPS.some(({_id:e})=>t.authorizedApplication._id===e)?this.revokeOfficialApp(e,t):this.revokeAuthorizedApplicationSuccess(e,t);case r.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE:return this.revokeAuthorizedApplicationFailure(e,t);case r.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.deletePersonalAccessTokenRequest(e);case r.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.deletePersonalAccessTokenSuccess(e,t);case r.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.deletePersonalAccessTokenFailure(e,t);case r.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.createPersonalAccessTokenRequest(e,t);case r.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.createPersonalAccessTokenSuccess(e,t);case r.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.createPersonalAccessTokenFailure(e,t);case r.default.CREATE_APPLICATION_REQUEST:return this.createApplicationRequest(e,t);case r.default.CREATE_APPLICATION_SUCCESS:return this.createApplicationSuccess(e,t);case r.default.CREATE_APPLICATION_FAILURE:return this.createApplicationFailure(e,t);case r.default.UPDATE_APPLICATION_REQUEST:return this.updateApplicationRequest(e,t);case r.default.UPDATE_APPLICATION_SUCCESS:return this.updateApplicationSuccess(e,t);case r.default.UPDATE_APPLICATION_FAILURE:return this.updateApplicationFailure(e,t);case r.default.DELETE_APPLICATION_REQUEST:return this.deleteApplicationRequest(e,t);case r.default.DELETE_APPLICATION_SUCCESS:return this.deleteApplicationSuccess(e,t);case r.default.DELETE_APPLICATION_FAILURE:return this.deleteApplicationFailure(e,t);case r.default.RENAME_PERSONAL_ACCESS_TOKEN:return this.renamePersonalAccessToken(e,t);case r.default.CONNECT_OFFICIAL_APP_REQUEST:return this.setOfficialAppConnecting(e,t);case r.default.CONNECT_OFFICIAL_APP_SUCCESS:return this.connectOfficalAppSuccess(e,t);case r.default.CONNECT_OFFICIAL_APP_FAILURE:return this.connectOfficialAppFailure(e,t);default:return e}}}t.default=h},function(e,t,n){"use strict";n.r(t);t.default={GET_CONNECTED_APPS_DATA_REQUEST:"getConnectedAppsDataRequest",GET_CONNECTED_APPS_DATA_SUCCESS:"getConnectedAppsDataSuccess",GET_DEVELOPER_DATA_REQUEST:"getDeveloperDataRequest",GET_DEVELOPER_DATA_SUCCESS:"getDeveloperDataSuccess",GET_APPLICATION_REQUEST:"getApplicationRequest",GET_APPLICATION_SUCCESS:"getApplicationSuccess",CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:"createPersonalAccessTokenRequest",CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:"createPersonalAccessTokenSuccess",CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:"createPersonalAccessTokenFailure",CREATE_APPLICATION_REQUEST:"createApplicationRequest",CREATE_APPLICATION_SUCCESS:"createApplicationSuccess",CREATE_APPLICATION_FAILURE:"createApplicationFailure",UPDATE_APPLICATION_REQUEST:"updateApplicationRequest",UPDATE_APPLICATION_SUCCESS:"updateApplicationSuccess",UPDATE_APPLICATION_FAILURE:"updateApplicationFailure",DELETE_APPLICATION_REQUEST:"deleteApplicationRequest",DELETE_APPLICATION_SUCCESS:"deleteApplicationSuccess",DELETE_APPLICATION_FAILURE:"deleteApplicationFailure",DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:"deletePersonalAccessTokenRequest",DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:"deletePersonalAccessTokenSuccess",DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:"deletePersonalAccessTokenFailure",REVOKE_AUTHORIZED_APPLICATION_REQUEST:"revokeAuthorizedApplicationRequest",REVOKE_AUTHORIZED_APPLICATION_SUCCESS:"revokeAuthorizedApplicationSuccess",REVOKE_AUTHORIZED_APPLICATION_FAILURE:"revokeAuthorizedApplicationFailure",RENAME_PERSONAL_ACCESS_TOKEN:"renamePersonalAccessToken",CONNECT_OFFICIAL_APP_REQUEST:"connectOfficialAppRequest",CONNECT_OFFICIAL_APP_SUCCESS:"connectOfficialAppSuccess",CONNECT_OFFICIAL_APP_FAILURE:"connectOfficialAppFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,name:n,description:i,logo:o,owner:r,website:a,secret:s,redirectURIs:l,numberOfUsers:c,created:d,updated:u,authorizedAt:p}=e;this.id=t,this._id=t,this.name=n,this.description=i,this.logo=o,this.owner=r,this.website=a,this.secret=s,this.redirectURIs=l,this.numberOfUsers=c,this.created=d,this.updated=u,this.authorizedAt=p}addRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.push(e)}removeRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.filter(t=>e!==t)}}t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"OFFICIAL_APPS",(function(){return r})),n.d(t,"appStatus",(function(){return a}));var i=n(233),o=n(252);const r=[{_id:i.CLI_CLIENT_ID,name:"CLI",emoji:"🧩",description:"Connect components in Zeplin to components in code using Zeplin CLI."},{_id:i.ZEM_CLIENT_ID,name:"zem",logo:Object(o.imageUrl)("img/ntf/icExtension.svg"),description:"Create, test and publish Zeplin extensions with no build configuration."}],a=Object.freeze({CONNECTED:"connected",CONNECTING:"connecting",UNCONNECTED:"unconnected"})},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(275),a=n.n(r),s=n(278),l=n.n(s),c=n(286),d=n(279),u=n.n(d),p=n(232),h=n(263),f=n.n(h);function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.a{getInitialState(){return{loading:!0,loadingJoin:!1,organizationId:null,barrelType:f.a.PROJECT,barrelId:null,selectedView:p.ProjectViewTypes.DASHBOARD,assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,componentVariantsOnboardingHintboxSeen:!1,connectedComponentsEditorInfo:{},screenVersionsLastSeen:null,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0}}reset(){return this.getInitialState()}load(e){return S(S({},this.getInitialState()),{},{loading:!1},e)}updateState(e,t){return S(S({},e),t)}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,t){return S(S({},e),{},{organizationId:t})}setBarrelId(e,t){return S(S({},e),{},{barrelId:t})}changeSelectedView(e,t){return S(S({},e),{},{selectedView:t})}setAssetExportTarget(e,t){return S(S({},e),{},{assetExportTarget:t})}changeAssetName(e){return S({},e)}changeAssetDensityScalePref(e,t,n){const i=S(S({},e.assetDensityScalePrefs),{},{[t]:n});return S(S({},e),{},{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return S(S({},e),{},{assetNamingConvention:t})}toggleSVGOptimization(e,t){return S(S({},e),{},{showOptimizedSVG:t})}dismissNoResourceInfo(e){return S(S({},e),{},{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return S(S({},e),{},{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return S(S({},e),{},{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return S(S({},e),{},{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return S(S({},e),{},{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return S(S({},e),{},{showSlackReconnectionAuntie:!1})}hideComponentVariantsOnboardingHintbox(e){return S(S({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}openJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!0})}closeJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!1})}join(e){return S(S({},e),{},{loadingJoin:!0})}stopLoadingJoin(e){return S(S({},e),{},{loadingJoin:!1})}moveResourcesRequest(e,{targetStyleguideId:t}){return S(S({},e),{},{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}moveResourcesFail(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return S(S({},e),{},{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return S(S({},e),{},{linkingProjectToStyleguide:""})}updateForOpenScreen(e,{screenVersionsLastSeen:t}){return S(S({},this.updateScreenVersionsLastSeen(e,t)),{},{jumpToPopupOpen:!1,selectedView:p.ProjectViewTypes.SCREEN})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return n===p.ProjectViewTypes.SCREEN&&t?this.changeSelectedView(e,p.ProjectViewTypes.DASHBOARD):e}enableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return S(S({},e),{},{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return S(S({},e),{},{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:i}=e,{defaultEditorPreferences:o}=i,r=m(i,["defaultEditorPreferences"]),{[t]:a}=o,s=m(o,[t].map(g));return n&&(s[t]=n),S(S({},e),{},{connectedComponentsEditorInfo:S(S({},r),{},{defaultEditorPreferences:s})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return S(S({},e),{},{connectedComponentsEditorInfo:S(S({},n),{},{workspacePath:t})})}updateScreenVersionsLastSeen(e,{sid:t,date:n}){return t?S(S({},e),{},{screenVersionsLastSeen:S(S({},e.screenVersionsLastSeen),{},{[t]:n})}):e}highlightedConnectToCodeButtonViewed(e){return S(S({},e),{},{numberOfHighlightedConnectToCodeButtonViews:e.numberOfHighlightedConnectToCodeButtonViews+1})}markConnectedComponentsOnboardingDialogAsSeen(e){return S(S({},e),{},{connectedComponentsOnboardingDialogSeen:!0})}reduce(e,t){switch(t.type){case a.a.RESET:case l.a.RESET:return this.reset();case l.a.ARCHIVE:return this.updateForArchive(e,t);case l.a.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case l.a.REMOVE:return this.updateForRemove(e,t);case l.a.LOAD:return this.load(t.barrel);case l.a.UPDATE_STATE:return this.updateState(e,t.update);case l.a.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case l.a.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case l.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case l.a.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case l.a.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case l.a.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case l.a.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case l.a.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case l.a.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case l.a.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case l.a.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case l.a.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case l.a.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case l.a.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case l.a.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case l.a.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case l.a.JOIN:return this.join(e);case l.a.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case l.a.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case l.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case l.a.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case l.a.ENABLE_DEV_MODE:return this.enableDevMode(e);case l.a.DISABLE_DEV_MODE:return this.disableDevMode(e);case c.default.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case c.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case u.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);case u.a.ADD_VERSION:case u.a.SHOW_VERSIONS:case u.a.TOGGLE_VERSIONS:return this.updateScreenVersionsLastSeen(e,t.screenVersionsLastSeen);case u.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case l.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case l.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);case l.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:return this.highlightedConnectToCodeButtonViewed(e);case l.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:return this.markConnectedComponentsOnboardingDialogAsSeen(e);default:return e}}}t.default=v},function(e,t,n){"use strict";n.r(t);t.default={LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(288),a=n(275),s=n.n(a),l=n(278),c=n.n(l),d=n(263),u=n.n(d),p=n(279),h=n.n(p),f=n(232);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends o.a{getInitialState(){return{sortType:f.SortTypes.SECTIONS,filterValue:"",fixedThumbnailSize:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[]}}reset(){return this.getInitialState()}changeSelectedView(e,t){const{sids:n,seid:i,filterValue:o,tags:r,jiraIssues:a,untagged:s,sectionsToExpand:l}=t,c=m(m({},e),{},{tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]});return n?m(m({},c),{},{highlightedScreens:this.highlightScreens(e,n).highlightedScreens,collapsedSections:this.expandSections(e,l).collapsedSections}):i?m(m({},c),{},{highlightedSection:this.highlightSection(e,i).highlightedSection,collapsedSections:this.expandSections(e,l).collapsedSections}):e.filterValue!==o?this.changeFilterValue(e,o):r?this.changeTagFilter(e,{tags:r,untagged:!1}):a?this.changeJiraIssueFilter(e,a):s?this.changeTagFilter(e,{tags:[],untagged:!0}):c}changeSortType(e,t){return m(m({},e),{},{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return m(m({},e),{},{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return m(m({},e),{},{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return m(m({},e),{},{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,t){const{tags:n,untagged:i}=e.tagFilter,o=n.filter(e=>e!==t);return m(m({},e),{},{tagFilter:{tags:o,untagged:i}})}toggleFixedThumbnailSize(e){return m(m({},e),{},{fixedThumbnailSize:!e.fixedThumbnailSize})}changeSidebarWidth(e,t){return m(m({},e),{},{sidebarWidth:t})}expandSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}highlightScreens(e,t){return m(m({},e),{},{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return m(m({},e),{},{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}highlightSection(e,t){return m(m({},e),{},{highlightedSection:t})}unhighlightSection(e){return m(m({},e),{},{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const o=i._id||t;return m(m({},e),{},{highlightedSection:o})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),m(m(m({},e),i),{},{highlightedScreens:[t]})}load(e,t){const{barrel:{barrelType:n},dashboard:i={},data:{project:o}}=t;return n===u.a.STYLEGUIDE||o.partial?e:m(m({},e),i)}reduce(e,t){switch(t.type){case c.a.LOAD:return this.load(e,t);case s.a.RESET:case c.a.RESET:return this.reset();case c.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.viewUpdate);case r.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case r.default.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case r.default.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t.section.name);case r.default.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case r.default.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);case r.default.EXPAND_SECTIONS:return this.expandSections(e,t.seids);case r.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t.seids);case r.default.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case r.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case r.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case r.default.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case h.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);t.default={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",TOGGLE_FIXED_THUMBNAIL_SIZE:"dashboard/toggleFixedThumbnailSize",CHANGE_SIDEBAR_WIDTH:"dashboard/changeSidebarWidth",EXPAND_SECTIONS:"dashboard/expandSections",COLLAPSE_SECTIONS:"dashboard/collapseSections",DOWNLOAD_SCREENS:"dashboard/downloadScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",HIGHLIGHT_SECTION:"dashboard/highlightSection",UNHIGHLIGHT_SECTION:"dashboard/unhighlightSection",CREATE_SECTION:"dashboard/createSection",CONVERT_TAG_TO_SECTION:"dashboard/convertTagToSection",ADD_SECTION:"dashboard/addSection",UPDATE_SECTION:"dashboard/updateSection",RENAME_SECTION:"dashboard/renameSection",UPDATE_SECTION_DESCRIPTION:"dashboard/updateSectionDescription",UPDATE_SECTION_ORDER:"dashboard/updateSectionOrder",REMOVE_SECTION:"dashboard/removeSection",UPDATE_SCREEN_ORDER:"dashboard/updateScreenOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(278),a=n.n(r),s=n(290),l=n(291);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loading:!0,dialogOpen:!1,extensionId:null,extensions:[],enabledExtensions:[]}}reset(e){return e.extensions.forEach(e=>{e.terminate()}),this.getInitialState()}loadExtensions(e,{extensions:t,enabledExtensions:n}){return e.extensions.forEach(e=>{e.terminate()}),{loading:!1,enabledExtensions:n,extensions:t}}reload(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),d({},e)):e}openSettings(e,{extensionId:t}){return d(d({},e),{},{dialogOpen:!0,extensionId:t})}closeSettings(e){return d(d({},e),{},{dialogOpen:!1,extensionId:null})}add(e,{extension:t,local:n,openSettings:i}){const{extensions:o,enabledExtensions:r}=e,a=o.find(e=>t.id===e.id);let s=e;return i&&(s=this.openSettings(s,{extensionId:t.id})),a?(n&&a.reload(),this.enable(s,{eid:a.id})):d(d({},s),{},{enabledExtensions:r.concat(t.id),extensions:o.concat(t)})}enable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.concat(t)})}updateOption(e,{eid:t,name:n,value:i}){const o=e.extensions.map(e=>{if(e.id!==t)return e;const o=new l.WebappExtension(d({},e));return o.setOption(n,i),o});return d(d({},e),{},{extensions:o})}disable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.filter(e=>e!==t)})}remove(e,{eid:t}){const{extensions:n,enabledExtensions:i}=e;return d(d({},e),{},{enabledExtensions:i.filter(e=>e!==t),extensions:n.filter(e=>e.id!==t)})}reduce(e,t){switch(t.type){case a.a.RESET:return this.reset(e);case s.default.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case s.default.RELOAD:return this.reload(e);case s.default.OPEN_SETTINGS:return this.openSettings(e,t);case s.default.CLOSE_SETTINGS:return this.closeSettings(e);case s.default.ADD:return this.add(e,t);case s.default.ENABLE:return this.enable(e,t);case s.default.UPDATE_OPTION:return this.updateOption(e,t);case s.default.DISABLE:return this.disable(e,t);case s.default.REMOVE:return this.remove(e,t);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={INIT:"extensions/init",LOAD_EXTENSIONS:"extensions/loadExtensions",LOAD:"extensions/load",RELOAD:"extensions/reload",OPEN_SETTINGS:"extensions/openSettings",CLOSE_SETTINGS:"extensions/closeSettings",ADD:"extensions/add",ENABLE:"extensions/enable",UPDATE_OPTION:"extensions/updateOption",DISABLE:"extensions/disable",REMOVE:"extensions/remove"}},function(e,t,n){"use strict";n.r(t),n.d(t,"WebappExtension",(function(){return d}));var i=n(34),o=n(292),r=n(293),a=n(263),s=n.n(a),l=n(294);const c=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class d{constructor(e){var t,n,o;o=(e,t={})=>{this.local?(console.error(`Zeplin extension error (${this.name}):`,e),console.error("Data:",t)):i.withScope(n=>{n.setExtra("extension",{name:this.name,id:this._id}),Object.entries(t).forEach(([e,t])=>n.setExtra(e,t)),i.captureException(e)})},(n="workerLogger")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o;const{_id:r,name:a,description:l,manifestURL:c,default:d,users:u,manifest:p,local:h,options:f={},storage:g,supervisor:m,barrelType:b=s.a.PROJECT,loaded:S=!1,methods:y=[]}=e;this._id=r,this.name=a,this.description=l,this.manifestURL=c,this.default=d,this.users=u,this.manifest=p,this.local=h,this.options=f,this.storage=g,this.supervisor=m,this.barrelType=b,this.loaded=S,this.methods=y}static async loadManifest(e){const t=await fetch(e);if(!t.ok)throw new Error("Cannot load extension manifest: "+e);return t.json()}static async createLocal(e){const t=e.endsWith("manifest.json")?e:e.replace(/\/$/,"")+"/manifest.json",n=await d.loadManifest(t),{name:i,description:o}=n;return new d({_id:i,name:i,description:o,manifestURL:t,manifest:n,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0})}initWorker(e){return this.supervisor=new o.default(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger,methods:c}),this.supervisor.load(e)}async initOptions(e,t,n){const i=Object.fromEntries(n.map(({id:e,default:t})=>[e,t]));this.storage=r.default.create(e,t,i),this.options=await this.storage.getAll()}async load(e,t=s.a.PROJECT){this.barrelType=t;try{this.local||(this.manifest=await d.loadManifest(this.manifestURL)),await this.initOptions(this._id,e,this.optionsSchema);const t=new URL(this.manifest.moduleURL,this.manifestURL).toString(),n=await this.initWorker(t);this.loaded=!0,this.methods=n}catch(n){}return this}reload(){if(!this.loaded)return;const e=new URL(this.manifest.moduleURL,this.manifestURL).toString();return this.supervisor.load(e)}get id(){return this._id}get optionsSchema(){return this.manifest&&this.manifest.options||[]}get author(){const{user:e={displayName:"Anonymous"}}=this.users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this.manifest&&this.manifest.author&&this.manifest.author.url}}get repository(){return this.manifest&&this.manifest.repository}terminate(){this.supervisor&&this.supervisor.terminate(),this.local&&r.default.clear(this._id)}setOption(e,t){this.options[e]=t,this.storage.set(e,t)}getOption(e){return this.options[e]}getContext(e){const t=this.barrelType===s.a.PROJECT,n={options:this.options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this.options}}}hasMethod(e){return this.methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this.supervisor.colors(this.getContext(e)):this.supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this.supervisor.textStyles(this.getContext(e)):this.supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}styleguideSpacings(e){return this.supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(l.findLayerIndexPath)(n.snapshot,t.id);return i?this.supervisor.layer(this.getContext(e),i,Object(l.serializeVersion)(n)):Promise.resolve(null)}screen(e,t,n){return this.supervisor.screen(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeScreen)(n))}component(e,t,n,i){if(i){const o=Object(l.serializeVariantSection)(i),r=o.data.components.findIndex(e=>e.id===n._id);return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),r,o)}return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeComponent)(n))}comment(e,t){return this.supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this.supervisor.exportColors(this.getContext(e)):this.supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this.supervisor.exportTextStyles(this.getContext(e)):this.supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}exportStyleguideSpacings(e){return this.supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));let i=0;class o{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value(...t){return this.invoke(e,t)}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const o=this.constructor.getInvocationId();this.callbacks[o]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:o,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";n.r(t);var i=n(236);const o={create:function(e,t,n={}){return{get:o=>i.extensionPrefs.get(e,t,o).then((function(e){return null==e?n[o]:e})),getAll:()=>i.extensionPrefs.get(e,t).then((function(e){return Object.assign({},n,e)})),set:(n,o)=>i.extensionPrefs.set(e,t,n,o)}},clear:function(e){return i.extensionPrefs.remove(e)}};t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"serializeData",(function(){return d})),n.d(t,"serializeScreen",(function(){return u})),n.d(t,"serializeComponent",(function(){return p})),n.d(t,"serializeVersion",(function(){return h})),n.d(t,"serializeVariantSection",(function(){return f})),n.d(t,"transformBarrelToObject",(function(){return b})),n.d(t,"findLayerIndexPath",(function(){return g}));var i=n(295),o=n(263),r=n.n(o),a=n(248);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return{model:t,data:e}}function u(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function p(e){const{_id:t,name:n,description:i,latestVersion:o,variant:r}=e;return{model:"Component",data:{id:t,name:n,description:i,latestVersion:o,properties:r&&r.values.map(({propertyId:e,value:t})=>({id:e,value:t}))}}}function h(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map(e=>new i.default(e).toObject()),{model:"Version",data:t}}function f(e){const t=e.variant.properties.map(({_id:e,name:t,values:n})=>({id:e,name:t,values:n})),n=Object(a.collectComponents)([e]).map(e=>p(e).data);return{model:"ComponentVariant",data:{name:e.name,propertyDescriptors:t,components:n}}}function g(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,o]of e.layers.entries()){if(o._id===t)return n.concat(i);const e=g(o,t,n.concat(i));if(e)return e}return null}function m(e,t){let n=t[e],i=n.toObject();const o=i;for(;n;){const e=t[n.parent],o=e?e.toObject():null;n=e,i.parent=o,i=o}return o}function b(e,t,n,i){const o=e.toObject();return o.remPreferences=l(l({},n[0].remPreferences),{},{rootFontSize:n[0].remPreferences.remRootFontSize}),t===r.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?o.styleguide=m(e.styleguideLink.styleguide._id,i):t===r.a.STYLEGUIDE&&e.parent&&(o.parent=m(e.parent,i)),o}},function(e,t,n){"use strict";n.r(t);var i=n(296),o=n(297),r=n(298),a=n(299),s=n(302),l=n(256),c=n(304),d=n(305),u=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new o.default(t.blur)),t.layout&&(t.layout=new u.a(t.layout)),t.borders=t.borders.map(e=>new r.default(e,t.rect.width,t.rect.height)),t.fills=t.fills.map(e=>new a.default(e,t.rect.width,t.rect.height)),t.shadows=t.shadows.map(e=>new c.default(e)),t.textStyles=(t.textStyles||[]).map(e=>{const n=parseInt(e.range.location,10);let i=parseInt(e.range.length,10);1===t.textStyles.length&&0===i&&t.content&&(i=t.content.length);return{range:{start:n,end:n+i},font:new s.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceId:t.textStyleSourceId},e.style))}}),t.layers=(t.layers||[]).map(e=>new Layer(e)),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:()=>t.type,set(e){if(-1===f.indexOf(e))throw new TypeError(`Unknown layer type: '${e}'. Possible values: `+JSON.stringify(f));t.type=e}},name:{get:()=>t.name,set(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:()=>t.rotation,set(e){t.rotation=e}},opacity:{get:()=>t.opacity,set(e){if(e<0||e>1)throw new RangeError(`Invalid opacity value: '${e}'. Valid range: [0, 1]`);t.opacity=e}},blendMode:{get:()=>t.blendMode,set(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError(`Unknown blend mode: '${e}'. Possible values: `+JSON.stringify(i.BLEND_MODES));t.blendMode=e}},borderRadius:{get:()=>t.borderRadius,set(e){if(e<0)throw new RangeError(`Invalid radius value: '${e}'. Valid range: [0, ∞)`);t.borderRadius=e}},blur:{get:()=>t.blur,set(e){t.blur=new o.default(e)}},absoluteRect:{get:()=>t.absoluteRect,set(e){t.absoluteRect=e}},rect:{get:()=>t.rect,set(e){t.rect=e}},content:{get:()=>"text"===t.type&&t.content||"",set(e){"text"===t.type&&(t.content=e)}},textStyles:{get:()=>t.textStyles},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId},textStyleSourceId:{value:t.textStyleSourceId},layout:{get:()=>t.layout,set(e){t.layout=new u.a(e)}},layoutGrow:{value:t.layoutGrow},layoutAlignment:{value:t.layoutAlignment},styleName:{value:t.styleName},interactionLevel:{value:t.interactionLevel}})}Layer.prototype=Object.create(l.default.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(e=>e.toObject()),fills:this.fills.map(e=>e.toObject()),shadows:this.shadows.map(e=>e.toObject()),textStyles:this.textStyles.map(e=>{var{range:t}=e;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(e=>e.toObject()),componentName:this.componentName,styleName:this.styleName,sourceId:this.sourceId,interactionLevel:this.interactionLevel,layoutGrow:this.layoutGrow,layoutAlignment:this.layoutAlignment};return this.blur&&(e.blur=this.blur.toObject()),this.layout&&(e.layout=this.layout.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(e=>"gradient"===e.type)},Layer.prototype.hasBlendMode=function(){return this.fills.some(e=>e.blendMode&&"normal"!==e.blendMode)},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(i=>{var o=t.find(e=>e.font.equals(i.font)),r=i.range.end-i.range.start;o||(o={font:i.font,totalLength:0},t.push(o)),o.totalLength+=r,o.totalLength>n&&(n=o.totalLength,e=o)}),e&&e.font}},t.default=Layer},function(e,t,n){"use strict";n.r(t),n.d(t,"BLEND_MODES",(function(){return i}));var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";n.r(t);var i=n(256),o=["gaussian","background"];function r(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}r.prototype=Object.create(i.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(299),o=n(256);function r(e,t,n){var o=Object.assign({},e);o.fill=new i.default({fillType:o.fillType,color:o.color,gradient:o.gradient,opacity:o.opacity,blendMode:o.blendMode},t,n),delete o.fillType,delete o.color,delete o.gradient,delete o.opacity,delete o.blendMode,Object.defineProperties(this,{position:{get:function(){return o.position},set:function(e){o.position=e}},thickness:{get:function(){return o.thickness},set:function(e){o.thickness=e}},fill:{get:function(){return o.fill},set:function(e){o.fill=e}}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(296),o=n(253),r=n(300),a=n(256),s=["color","gradient"];function l(e,t,n){var a=Object.assign({},e);if(a.type=a.fillType,delete a.fillType,"color"===a.type)a.color=new o.default(a.color),delete a.gradient;else{if("gradient"!==a.type)throw new TypeError("Unknown fill type: '"+a.type+"'. Possible values: "+JSON.stringify(s));a.gradient=new r.default(a.gradient,t,n),delete a.color}Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e}},color:{get:function(){return a.color},set:function(e){a.type="color",a.color=new o.default(e),delete a.gradient}},gradient:{get:function(){return a.gradient},set:function(e){a.type="gradient",a.gradient=new r.default(e,t,n),delete a.color}},opacity:{get:function(){return a.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");a.opacity=e}},blendMode:{get:function(){return a.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));a.blendMode=e}},fill:{get:function(){return"color"===a.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(a.default.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(301),o=n(256),r=["linear","radial","angular"];function a(e,t,n){var o=Object.assign({},e);o.colorStops=o.colorStops.map((function(e){return new i.default(e)})),Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(r));o.type=e},enumerable:!0},from:{get:function(){return o.from},set:function(e){o.from=e},enumerable:!0},to:{get:function(){return o.to},set:function(e){o.to=e},enumerable:!0},angle:{get:function(){return o.angle},set:function(e){o.angle=e},enumerable:!0},scale:{get:function(){return o.scale},set:function(e){o.scale=e},enumerable:!0},colorStops:{value:o.colorStops,enumerable:!0}})}a.prototype=Object.create(o.default.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map((function(e){return e.toObject()}))};return void 0!==this.angle&&(e.angle=this.angle),e},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(256);function r(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(303),o=n(253),r=n(256);const a=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),s=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),p=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const h=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),f=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function g(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,p.EXTRA_LIGHT).replace(/heavy/i,p.EXTRA_BOLD):e}(e),n=t.match(s);n?(n=n[n.length-1],t=d(t,n),n=function(e){return/black|heavy|900/gi.test(e)?p.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?p.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?p.SEMI_BOLD:/bold|700/gi.test(e)?p.BOLD:/medium|500/gi.test(e)?p.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?p.EXTRA_LIGHT:/light|300/gi.test(e)?p.LIGHT:/thin|hairline|100/gi.test(e)?p.THIN:p.REGULAR}(n.toLowerCase())):n=p.REGULAR;let i=t.match(l);i?(i=i[i.length-1],t=d(t,i),i=i.toLowerCase()):i="normal";let o=t.match(c);o?(o=o[o.length-1],t=d(t,o),o=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?f.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?f.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?f.SEMI_CONDENSED:/condensed/i.test(e)?f.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?f.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?f.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?f.SEMI_EXPANDED:/expanded/i.test(e)?f.EXPANDED:f.NORMAL}(o.toLowerCase())):o=f.NORMAL;return{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:o}}class Font extends r.default{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:r,fontFace:s,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:h,color:m}=e;let b,S,y,v;this.id=n,this.sourceId=i,this.name=r,this.fontFace=s,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=m&&new o.default(m),h?(this.fontVariationSettings=h,b=s,({style:S,weight:y,stretch:v}=function(e){const t=a.WEIGHT in e?e[a.WEIGHT]:p.REGULAR,n=a.WIDTH in e?e[a.WIDTH]:f.NORMAL;let i;return i=a.SLANT in e?`oblique ${e[a.SLANT]}deg`:e[a.ITALIC]?"italic":"normal",{style:i,weight:t,stretch:n}}(h))):({family:b,style:S,weight:y,stretch:v}=g(s)),this.fontFamily=b,this.fontStyle=S,this.fontWeight=y,this.fontStretch=v}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return h[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.isAlmostEqual)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight)&&Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}t.default=Font},function(e,t,n){"use strict";n.r(t),n.d(t,"clamp",(function(){return i})),n.d(t,"round",(function(){return o})),n.d(t,"toPercentage",(function(){return r})),n.d(t,"percentageLength",(function(){return a})),n.d(t,"isAlmostEqual",(function(){return s})),n.d(t,"toRemSize",(function(){return l}));function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function r(e,t){return 100*e/t+"%"}function a(e,t){return o(100*e/t,1)+"%"}function s(e,t,n=1e-4){return e===t||Math.abs(e-t)<n}function l(e,t){return o(e/t,3)+"rem"}},function(e,t,n){"use strict";n.r(t);var i=n(253),o=n(256),r=["outer","inner"];function a(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(r));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}}})}a.prototype=Object.create(o.default.prototype),a.prototype.constructor=a,a.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDistribution=t.LayoutAlignment=t.LayoutSizingMode=t.LayoutDirection=void 0;const o=i(n(256));!function(e){e.ROW="row",e.COLUMN="column"}(t.LayoutDirection||(t.LayoutDirection={})),function(e){e.FIXED="fixed",e.AUTO="auto"}(t.LayoutSizingMode||(t.LayoutSizingMode={})),function(e){e.MIN="min",e.CENTER="center",e.MAX="max",e.STRETCH="stretch",e.INHERIT="inherit"}(t.LayoutAlignment||(t.LayoutAlignment={})),function(e){e.CENTER="center",e.MAX="max",e.MIN="min",e.SPACE_BETWEEN="space-between"}(t.LayoutDistribution||(t.LayoutDistribution={}));class r extends o.default{constructor({direction:e,padding:t,gap:n,sizingMode:i,itemAlignment:o,distribution:r,alignment:a}){super(),this.direction=e,this.padding=Object.assign({},t),this.gap=n,this.sizingMode=i,this.alignment=a,this.itemAlignment=o,this.distribution=r}toObject(){return{direction:this.direction,padding:Object.assign({},this.padding),gap:this.gap,sizingMode:this.sizingMode,alignment:this.alignment,itemAlignment:this.itemAlignment,distribution:this.distribution}}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(307);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return s(s({},e),{},{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return s(s({},e),{},{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case r.default.OPEN:return this.open(e,t);case r.default.CLOSE:return this.close(e);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move",MOVE_SCREEN:"moveResources/moveScreen"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(276)),a=i(n(278));class s extends o.default{constructor(e){super(e)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}load(e,t={}){return"notificationLastReadTime"in t&&"string"==typeof t.notificationLastReadTime&&(t.notificationLastReadTime=new Date(t.notificationLastReadTime)),Object.assign(Object.assign({},e),t)}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t){const n=e.notifications.filter(e=>e._id!==t._id);return Object.assign(Object.assign({},e),{notifications:[t].concat(n)})}updateLastReadTime(e,t){const n="string"==typeof t?new Date(t):t;return Object.assign(Object.assign({},e),{notificationLastReadTime:n})}setReadStatus(e,t,n){const i=e.notifications.map(e=>t.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:n,events:e.events.map(e=>Object.assign(Object.assign({},e),{markedAsRead:n}))}):e);return Object.assign(Object.assign({},e),{notifications:i})}restoreReadStatus(e,t){const n=e.notifications.map(e=>{const n=t.find(({_id:t})=>t===e._id);return n?Object.assign(Object.assign({},e),{markedAsRead:n.markedAsRead,events:e.events.map(e=>{const t=n.events.find(({_id:t})=>t===e._id);return t?Object.assign(Object.assign({},e),{markedAsRead:t.markedAsRead}):e})}):e});return Object.assign(Object.assign({},e),{notifications:n})}setEventReadStatus(e,t,n,i){const o=e.notifications.map(e=>{if(t!==e._id)return e;const o=e.events.map(e=>n.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:i}):e);return Object.assign(Object.assign({},e),{events:o,markedAsRead:o.every(e=>e.markedAsRead)})});return Object.assign(Object.assign({},e),{notifications:o})}reduce(e,t){switch(t.type){case a.default.LOAD:return this.load(e,t.notifications);case r.default.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case r.default.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case r.default.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case r.default.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case r.default.ADD_NOTIFICATION:return this.addNotification(e,t.notification);case r.default.SET_READ_STATUS:return this.setReadStatus(e,t.notifications.map(({_id:e})=>e),t.markedAsRead);case r.default.RESTORE_READ_STATUS:return this.restoreReadStatus(e,t.notifications);case r.default.SET_READ_STATUS_OFFLINE:return this.setReadStatus(e,t.nids,t.markedAsRead);case r.default.SET_EVENT_READ_STATUS:return this.setEventReadStatus(e,t.notification._id,t.eventIds,t.markedAsRead);case r.default.SET_EVENT_READ_STATUS_OFFLINE:return this.setEventReadStatus(e,t.nid,t.eventIds,t.markedAsRead);default:return e}}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(310),a=n.n(r),s=n(311),l=n.n(s),c=n(312),d=n(280),u=n.n(d),p=n(275),h=n.n(p),f=n(278),g=n.n(f),m=n(313),b=n.n(m),S=n(314),y=n.n(S),v=n(263),C=n.n(v),O=n(248),E=n(315),T=n.n(E),_=n(316);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=0;class I extends o.a{getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,loadingOrganization:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{},dialogDismissStates:{}}}reset(){return this.getInitialState()}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:o,organizationStyleguides:r,focusedBarrels:a,dialogDismissStates:s},barrel:{organizationId:l}}){let c=j(j({},e),{},{loading:!1});return n&&(c=this.getOrganizationsSuccess(c,n)),t&&(c=this.addOrganization(c,t)),i&&(c=this.getOrganizationMemberProfilesSuccess(c,i)),o&&(c=this.loadOrganizationProjects(c,{projects:o,oid:l})),r&&(c=this.loadOrganizationStyleguides(c,{styleguides:r,oid:l})),a&&(c=this.getFocusedBarrelsSuccess(c,a)),s&&(c=this.updateDialogDismissStates(c,{oid:l,dialogDismissParams:s})),c}addOrganization(e,t){const n=e.organizations.find(({_id:e})=>e===t._id),i=n?new b.a(j(j({},n),t)):new b.a(t);return j(j({},e),{},{organizations:e.organizations.filter(({_id:e})=>e!==t._id).concat(i),loadingOrganization:!1})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){const i=e.organizations.find(({_id:e})=>e===t),o=i.workflowStatuses.find(({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))||{},r=i.workflowStatuses.map(e=>e._id===o._id?new y.a(n):e);return o._id||r.push(new y.a(n)),j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{workflowStatuses:r})):e)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),n)):e),loadingOrganization:!1})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const o=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:o})})}updateOrganizationSubscription(e,{oid:t,plan:n}){const i=e.organizations.find(({_id:e})=>e===t);return i?this.updateOrganization(e,i._id,{paymentPlan:n}):e}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:o}){const r=new y.a(j(j({},o),i));return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{workflowStatuses:e.workflowStatuses.map(e=>e._id===n?r:e)})):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{workflowStatuses:e.workflowStatuses.filter(({_id:e})=>e!==n)})):e)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return j(j({},e),{},{organizations:t.map(e=>new b.a(e)),loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationSuccess(e,{organization:t}){if(!t)return j(j({},e),{},{loadingOrganization:!1});return e.organizations.find(({_id:e})=>e===t._id)?this.updateOrganization(e,t._id,t):this.addOrganization(e,t)}getOrganizationSectionsSuccess(e,{sections:t,oid:n}){const i=e.organizations.find(({_id:e})=>e===n);return i?this.updateOrganization(e,i._id,{sections:t}):e}organizationMembersRequested(e,{oid:t}){const n=e.organizations.find(({_id:e})=>e===t);return n?this.updateOrganization(e,n._id,{membersLoading:!0,membersError:null,members:null}):e}getOrganizationMembersSuccess(e,{organizationMembers:t}){const{_id:n,members:i}=t||{},o=e.organizations.find(({_id:e})=>e===n);return o?this.updateOrganization(e,o._id,{membersLoading:!1,members:i}):e}getOrganizationMembersFailed(e,{oid:t,error:n}){const i=e.organizations.find(({_id:e})=>e===t);return i?this.updateOrganization(e,i._id,{membersLoading:!1,membersError:n}):e}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return j(j({},e),{},{organizationProfiles:j(j({},e.organizationProfiles),{},{[n]:t})})}addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o}){const r=e.organizations.find(({_id:e})=>e===n);if(!r||!r.sections)return e;let a;return a=i?r.sections.find(e=>e._id===i):r.sections[0],!a||a.projects.includes(t)?e:j(j({},e),{},{organizations:e.organizations.map(e=>e._id===n?new b.a(j(j({},e),{},{sections:e.sections.map(e=>{if(e._id===a._id){const n=[...e.projects];return o?n.splice(o,0,t):n.push(t),new T.a(j(j({},e),{},{projects:n}))}return e})})):e)})}addBarrel(e,{barrel:{_id:t},oid:n,oseid:i,index:o,barrelType:r}){const{organizationProjects:a,organizationStyleguides:s}=e;let l=e;if(r===C.a.PROJECT){l=this.addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o});const r=a[n];if(r&&!r.includes(t))return j(j({},l),{},{organizationProjects:j(j({},a),{},{[n]:[...r,t]})})}else{const i=s[n];if(i&&!i.includes(t)){const r=[...i];return o?r.splice(o,0,t):r.push(t),j(j({},e),{},{organizationStyleguides:j(j({},s),{},{[n]:r})})}}return l}removeProjectFromOrganizationSection(e,{pid:t,oid:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===n),{sectionIds:r,sections:a}=j({},o)||{};if(!a)return e;const s=a.find(e=>e._id===i);return s?(Object(O.arrayRemove)(s.projects,e=>e===t),this.sortAndPurgeEmptySections(e,{oid:n,sections:a,sectionIds:r})):e}removeBarrel(e,{bid:t,oid:n,oseid:i}){const{organizationProjects:o,organizationStyleguides:r}=e;let a=e;i&&(a=this.removeProjectFromOrganizationSection(e,{oid:n,pid:t,oseid:i}));const s=o[n];if(s&&s.includes(t))return j(j({},a),{},{organizationProjects:j(j({},o),{},{[n]:s.filter(e=>e!==t)})});const l=r[n];return l&&l.includes(t)?j(j({},a),{},{organizationStyleguides:j(j({},r),{},{[n]:l.filter(e=>e!==t)})}):a}loadOrganizationProjects(e,{projects:t,oid:n}){return j(j({},e),{},{organizationProjects:j(j({},e.organizationProjects),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const r=this.removeBarrel(e,{bid:t,oid:o}),a="user"===o?r:this.removeBarrelFromFocus(r,{bid:t,oid:o});return this.addBarrel(a,{barrel:{_id:t},oid:i?n:"user",barrelType:C.a.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return j(j({},e),{},{organizationStyleguides:j(j({},e.organizationStyleguides),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const{organizationStyleguides:r}=e,a=r[o],s=i?n:"user",l=r[s];return j(j({},e),{},{organizationStyleguides:{[o]:a.filter(e=>!t.includes(e)),[s]:l&&[...l,...t]}})}setWorkspaceLoading(e,{selectedOrganizationId:t}){if(!t)return e;const{organizationProjects:n,organizationStyleguides:i}=e,o=!n[t]||!i[t];let r=!1;if("user"!==t){const n=e.organizations.find(({_id:e})=>e===t);r=!n||!n.complete}return j(j({},e),{},{loadingBarrels:o,loadingOrganization:r})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?j(j({},e),{},{focusedBarrels:j(j({},e.focusedBarrels),{},{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:o}){const r=e.focusedBarrels[t];if(!r)return e;const a=r.filter(({unpinned:e})=>!e);return a.includes(n)?e:(o&&a.shift(),j(j({},e),{},{focusedBarrels:j(j({},e.focusedBarrels),{},{[t]:[...a,{barrelType:i,barrelId:n}]})}))}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const o=e.focusedBarrels[t];if(!o)return e;const r=o.slice();return i&&r.unshift(i),j(j({},e),{},{focusedBarrels:j(j({},e.focusedBarrels),{},{[t]:r.filter(({barrelId:e})=>e!==n)})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return j(j({},e),{},{focusedBarrels:j(j({},e.focusedBarrels),{},{[t]:i.map(e=>e.barrelId===n?j(j({},e),{},{unpinned:!0}):e)})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t}),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return j(j({},e),{},{focusedBarrels:{[t]:i.map(e=>e.barrelId===n?j(j({},e),{},{unpinned:!1}):e)}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){const o=this.updateMemberAccessibility(e,{oid:t,restricted:!0});return j(j({},o),{},{organizationProjects:j(j({},o.organizationProjects),{},{[t]:n}),organizationStyleguides:j(j({},o.organizationStyleguides),{},{[t]:i})})}updateMemberAccessibility(e,{oid:t,restricted:n=!1}){return j(j({},e),{},{organizationProfiles:j(j({},e.organizationProfiles),{},{[t]:j(j({},e.organizationProfiles[t]),{},{restricted:n})})})}updateMemberTags(e,{oid:t,mid:n,operation:i,tags:o}){const r=e.organizations.find(({_id:e})=>e===t);if(!r)return e;const a=Boolean(r.members)&&r.members.find(({user:{_id:e}})=>e===n);if(!a)return e;let s=[];return"add"===i?s=a.tags.concat(o):"remove"===i&&(s=a.tags.filter(e=>!o.includes(e))),j(j({},e),{},{organizations:e.organizations.map(e=>{if(e._id!==t)return e;const i=(e.members||[]).map(e=>e.user._id!==n?e:j(j({},e),{},{tags:s}));return new b.a(j(j({},e),{},{members:i}))})})}updateMemberData(e,{uid:t,userData:n}){return j(j({},e),{},{organizations:e.organizations.map(e=>{if(!e.members)return e;const i=e.members.map(e=>e.user._id!==t?e:j(j({},e),{},{user:j(j({},e.user),n)}));return new b.a(j(j({},e),{},{members:i}))})})}sortAndPurgeEmptySections(e,{oid:t,sections:n,sectionIds:i}){const o=e.organizationProjects[t],r=e.organizationProfiles[t],a=i.map((e,t)=>{const i=n.find(t=>t._id===e);return i&&r.restricted&&t>0&&!i.projects.some(e=>o.includes(e))?null:i}).filter(Boolean);return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:a,sectionIds:i})):e)})}addProjectSection(e,{oid:t,index:n,sectionData:i,dialogDismissParams:o}){const r=e.organizations.find(({_id:e})=>e===t),{sectionIds:a,sections:s}=j({},r)||{};if(!a)return e;i.projects&&i.projects.forEach(e=>{const t=s.find(t=>t.projects.includes(e));t&&Object(O.arrayRemove)(t.projects,t=>t===e)});const l=new T.a(i);l._id||(l._id=_.TEMPORARY_PROJECT_SECTION_ID,l.newSection=!0,l.key="newProjectSection-"+k++),l._id!==_.TEMPORARY_PROJECT_SECTION_ID&&a.includes(l._id)||a.splice(n,0,l._id),s.push(l);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:s,sectionIds:a})}addProjectSectionId(e,{oid:t,index:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===t),{sectionIds:r}=j({},o)||{};return r.splice(n,0,i),j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sectionIds:r})):e)})}updateProjectSection(e,{oid:t,oseid:n,sectionData:i}){const o=e.organizations.find(({_id:e})=>e===t),{sections:r,sectionIds:a}=j({},o)||{};if(!r)return e;return j({},r.find(e=>e._id===n))?j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:r.map(e=>e._id===n?new T.a(j(j({},e),i)):e),sectionIds:a.map(e=>e===n&&i._id&&i._id!==e?i._id:e)})):e)}):e}removeProjectSection(e,{oid:t,oseid:n}){const i=e.organizations.find(({_id:e})=>e===t),{sectionIds:o,sections:r}=j({},i)||{};if(!o)return e;const a=j({},r[0]),s=r.find(({_id:e})=>e===n);return s&&a.projects.push(...s.projects),j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:r.map((e,t)=>0===t?a:e._id===n?null:e).filter(Boolean),sectionIds:o.filter(e=>e!==n)})):e)})}updateProjectSectionOrder(e,{oid:t,oseid:n,index:i,dialogDismissParams:o}){const r=e.organizations.find(({_id:e})=>e===t),{sectionIds:a,sections:s}=j({},r);if(!a)return e;const l=a.indexOf(n);if(l<0)return e;a.splice(l,1),a.splice(i,0,n);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:s,sectionIds:a})}updateProjectOrder(e,{oid:t,oseid:n,index:i,projects:o,dialogDismissParams:r}){const a=e.organizations.find(({_id:e})=>e===t),s=e.organizationProjects[t],l=e.organizationProfiles[t],{sections:c,sectionIds:d}=j({},a);if(!s||!l||!c)return e;o.forEach(e=>{const t=c.find(t=>t.projects.includes(e));t&&Object(O.arrayRemove)(t.projects,t=>t===e)});const u=c.find(e=>e._id===n);if(!u)return e;u.projects.splice(i,0,...o);const p=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:r});return this.sortAndPurgeEmptySections(p,{oid:t,sections:c,sectionIds:d})}addSectionLink(e,{oid:t,oseid:n,linkData:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const r=o.sections.find(({_id:e})=>e===n);if(!r)return e;const a=new T.a(j(j({},r),{},{links:[...r.links,i]})),s=o.sections.map(e=>e._id===n?a:e);return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:s})):e)})}updateSectionLink(e,{oid:t,oseid:n,oselid:i,linkData:o}){const r=e.organizations.find(({_id:e})=>e===t);if(!r.sections)return e;const a=r.sections.find(({_id:e})=>e===n);if(!a)return e;const s=a.links.map(e=>e._id===i?o:e),l=new T.a(j(j({},a),{},{links:s})),c=r.sections.map(e=>e._id===n?l:e);return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:c})):e)})}removeSectionLink(e,{oid:t,oseid:n,oselid:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const r=o.sections.find(({_id:e})=>e===n);if(!r)return e;const a=r.links.filter(e=>e._id!==i),s=new T.a(j(j({},r),{},{links:a})),l=o.sections.map(e=>e._id===n?s:e);return j(j({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(j(j({},e),{},{sections:l})):e)})}updateDialogDismissStates(e,{oid:t,dialogDismissParams:n}){return n?j(j({},e),{},{dialogDismissStates:j(j({},e.dialogDismissStates),{},{[t]:j(j({},e.dialogDismissStates[t]),n)})}):e}loadWorkspaceData(e,t){const n=this.getOrganizationsSuccess(e,t.organizations),i=t.organizationProfiles?this.getOrganizationMemberProfilesSuccess(n,t.organizationProfiles):n,o=this.getOrganizationSuccess(i,t),r=this.getFocusedBarrelsSuccess(o,t),a=this.loadOrganizationProjects(r,t),s=this.updateDialogDismissStates(a,t);return this.loadOrganizationStyleguides(s,t)}hydrateEmbeddedData(e,t){const{organization:n,projects:i,oid:o,styleguides:r,focusedBarrels:a,organizationProfiles:s}=t;let l=e;return n&&(l=this.addOrganization(e,n)),i&&o&&(l=this.loadOrganizationProjects(l,{projects:i,oid:o})),r&&o&&(l=this.loadOrganizationStyleguides(l,{styleguides:r,oid:o})),a&&o&&(l=this.getFocusedBarrelsSuccess(l,{focusedBarrels:a,oid:o})),s&&(l=this.getOrganizationMemberProfilesSuccess(l,s)),l}reduce(e,t){switch(t.type){case u.a.UPDATE_PAGE_STATE:return this.setWorkspaceLoading(e,t.updateState);case g.a.LOAD:return this.load(e,t);case g.a.ADD:return this.addBarrel(e,t);case g.a.REMOVE:return this.removeBarrel(e,t);case g.a.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case g.a.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case l.a.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case c.default.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case l.a.TRANSFER_OWNERSHIP:case c.default.TRANSFER_OWNERSHIP:case g.a.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case a.a.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case a.a.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case a.a.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case a.a.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case a.a.UPDATE_ORGANIZATION_SUBSCRIPTION:return this.updateOrganizationSubscription(e,t);case a.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case a.a.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case a.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case a.a.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case a.a.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case a.a.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case a.a.GET_ORGANIZATION_SUCCESS:return this.getOrganizationSuccess(e,t);case a.a.GET_ORGANIZATION_SECTIONS_SUCCESS:return this.getOrganizationSectionsSuccess(e,t);case a.a.ORGANIZATION_MEMBERS_REQUESTED:return this.organizationMembersRequested(e,t);case a.a.GET_ORGANIZATION_MEMBERS_SUCCESS:return this.getOrganizationMembersSuccess(e,t);case a.a.GET_ORGANIZATION_MEMBERS_FAILED:return this.getOrganizationMembersFailed(e,t);case a.a.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case a.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case a.a.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case a.a.GET_FOCUSED_BARRELS_SUCCESS:return this.getFocusedBarrelsSuccess(e,t);case a.a.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case a.a.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case a.a.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case a.a.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case a.a.REMOVE_UNJOINED_BARRELS:return this.removeUnjoinedBarrels(e,t);case a.a.GET_BARRELS:return this.updateMemberAccessibility(e,t);case a.a.UPDATE_MEMBER_TAGS:return this.updateMemberTags(e,t);case g.a.UPDATE_USER_DATA:return this.updateMemberData(e,t);case a.a.ADD_PROJECT_SECTION:return this.addProjectSection(e,t);case a.a.UPDATE_PROJECT_SECTION:return this.updateProjectSection(e,t);case a.a.REMOVE_PROJECT_SECTION:return this.removeProjectSection(e,t);case a.a.UPDATE_PROJECT_SECTION_ORDER:return this.updateProjectSectionOrder(e,t);case a.a.UPDATE_PROJECT_ORDER:return this.updateProjectOrder(e,t);case a.a.ADD_SECTION_LINK:return this.addSectionLink(e,t);case a.a.UPDATE_SECTION_LINK:return this.updateSectionLink(e,t);case a.a.REMOVE_SECTION_LINK:return this.removeSectionLink(e,t);case h.a.LOAD_WORKSPACE_DATA:return this.loadWorkspaceData(e,t);case h.a.RESET:return this.reset();case h.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=I},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_BARRELS="organizaton/getBarrels",e.REQUEST_INVITE="requestInvite",e.ADD_ORGANIZATION="addOrganization",e.ADD_ORGANIZATION_WORKFLOW_STATUS="addOrganizationWorkflowStatus",e.UPDATE_ORGANIZATION="updateOrganization",e.UPDATE_ORGANIZATION_PROFILE="updateOrganizationProfile",e.UPDATE_ORGANIZATION_SUBSCRIPTION="updateOrganizationSubscription",e.UPDATE_ORGANIZATION_WORKFLOW_STATUS="updateOrganizationWorkflowStatus",e.REMOVE_ORGANIZATION="removeOrganization",e.DELETE_ORGANIZATION_WORKFLOW_STATUS="deleteOrganizationWorkflowStatus",e.GET_ORGANIZATIONS_REQUESTED="getOrganizationsRequested",e.GET_ORGANIZATIONS_SUCCESS="getOrganizationsSuccess",e.GET_ORGANIZATIONS_FAILED="getOrganizationsFailed",e.GET_ORGANIZATION_SUCCESS="getOrganizationSuccess",e.GET_ORGANIZATION_SECTIONS_SUCCESS="getOrganizationSectionsSuccess",e.ORGANIZATION_MEMBERS_REQUESTED="organizationMembersRequested",e.GET_ORGANIZATION_MEMBERS_SUCCESS="getOrganizationMembersSuccess",e.GET_ORGANIZATION_MEMBERS_FAILED="getOrganizationMembersFailed",e.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED="getOrganizationMemberProfilesRequested",e.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS="getOrganizationMemberProfilesSuccess",e.ADD_ORGANIZATION_MEMBER_PROFILE="addOrganizationMemberProfile",e.GET_FOCUSED_BARRELS_SUCCESS="getFocusedBarrelsSuccess",e.ADD_BARREL_TO_FOCUS="addBarrelToFocus",e.ADD_BARREL_TO_FOCUS_SUCCESS="addBarrelToFocusSuccess",e.REMOVE_BARREL_FROM_FOCUS="removeBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS="unpinBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS_SUCCESS="unpinBarrelFromFocusSuccess",e.REPIN_BARREL_TO_FOCUS="repinBarrelToFocus",e.HIT_PIN_LIMIT="hitPinLimit",e.REMOVE_UNJOINED_BARRELS="organization/removeUnjoinedBarrels",e.UPDATE_MEMBER_TAGS="organization/updateMemberTags",e.ADD_PROJECT_SECTION="addProjectSection",e.ADD_PROJECT_SECTION_ID="addProjectSectionId",e.UPDATE_PROJECT_SECTION="updateProjectSection",e.REMOVE_PROJECT_SECTION="removeProjectSection",e.UPDATE_PROJECT_SECTION_ORDER="updateProjectSectionOrder",e.UPDATE_PROJECT_ORDER="updateProjectOrder",e.ADD_SECTION_LINK="createSectionLink",e.UPDATE_SECTION_LINK="updateSectionLink",e.REMOVE_SECTION_LINK="removeSectionLink"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_PROJECTS_SUCCESS="projects/getProjectsSuccess",e.GET_PROJECTS_FAILED="projects/getProjectsFailed",e.REQUEST_PROJECT="projects/requestProject",e.GET_PROJECT_REQUESTED="projects/getProjectRequested",e.GET_PROJECT_SUCCESS="projects/getProjectSuccess",e.GET_PROJECT_FAILED="projects/getProjectFailed",e.UPDATE_PROJECT="projects/updateProject",e.TRANSFER_OWNERSHIP="projects/transferOwnerShip",e.CREATE_PROJECT="projects/createProject",e.INIT_TRANSFER_OWNERSHIP="projects/initTransferOwnerShip",e.INVITE_USER="projects/inviteUser",e.TOGGLE_PROJECT_SELECTION="projects/toggleProjectSelection"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);t.default={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256)),r=i(n(314)),a=i(n(315));class s extends o.default{constructor(e){super();const{_id:t,name:n,status:i,domain:o,logo:s,paymentPlan:l,reservedSeatCount:c,subscriptionStatus:d,subscriptionCancelAt:u,sso:p,membersLoading:h,membersError:f,members:g,workflowStatuses:m=[],sectionIds:b=[],sections:S=[],complete:y=!1,created:v,recentlyUpgradedFromUserPlan:C,projectLimit:O,styleguideLimit:E}=e;this.id=t,this._id=t,this.name=n,this.status=i,this.domain=o,this.logo=s,this.paymentPlan=l,this.reservedSeatCount=c,this.subscriptionStatus=d,this.subscriptionCancelAt=u,this.sso=p,this.membersLoading=h,this.membersError=f,this.members=g,this.workflowStatuses=m.map(e=>new r.default(e)),this.sectionIds=b,this.sections=S.map(e=>new a.default(e)),this.complete=y,this.created=v,this.recentlyUpgradedFromUserPlan=C,this.projectLimit=O,this.styleguideLimit=E}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256)),r=i(n(253)),a=n(249);class s extends o.default{constructor(e){super();const{_id:t="newWorkflowStatusId-"+a.getRandomString(),name:n,color:i=new r.default({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new r.default(i)}static generateNew(e){if(!e||!e.startsWith("New Status"))return new s({name:"New Status"});const t=parseInt(e.substring("New Status".length),10)||0;return new s({name:"New Status "+(t+1)})}}s.All=new s({_id:"All",name:"All",color:new r.default({name:"karl",r:237,g:236,b:237})}),s.NoStatus=new s({_id:"No Status",name:"No Status",color:new r.default({name:"clooney",r:193,g:190,b:193})}),t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,key:n,name:i,description:o,links:r=[],projects:a,newSection:s}=e;this._id=t,this.key=n||t,this.name=i,this.description=o,this.links=r,this.projects=a,this.newSection=s}}t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"TEMPORARY_COMPONENT_SECTION_ID",(function(){return i})),n.d(t,"TEMPORARY_PROJECT_SECTION_ID",(function(){return o}));const i="newComponentSection",o="newProjectSection"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(318));class a extends o.default{constructor(e){super(e)}getInitialState(){return{newReservedSeatCount:0,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1,isCancelScheduledSeatsUpdatePending:!1}}reset(){return this.getInitialState()}updateSeatsRequest(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!0})}updateSeatsSuccess(e,t){return Object.assign(Object.assign({},e),{newReservedSeatCount:t,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1})}updateSeatsFailure(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!1})}getScheduledSeatsUpdateSuccess(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t})}cancelScheduledSeatsUpdateRequest(e){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:null,isCancelScheduledSeatsUpdatePending:!0})}cancelScheduledSeatsUpdateSuccess(e){return Object.assign(Object.assign({},e),{isCancelScheduledSeatsUpdatePending:!1})}cancelScheduledSeatsUpdateFailure(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t,isCancelScheduledSeatsUpdatePending:!1})}reduce(e,t){switch(t.type){case r.default.RESET:return this.reset();case r.default.UPDATE_SEATS_REQUEST:return this.updateSeatsRequest(e);case r.default.UPDATE_SEATS_SUCCESS:return this.updateSeatsSuccess(e,t.reservedSeatCount);case r.default.UPDATE_SEATS_FAILURE:return this.updateSeatsFailure(e);case r.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.getScheduledSeatsUpdateSuccess(e,t.scheduledSeatsUpdate);case r.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:return this.cancelScheduledSeatsUpdateRequest(e);case r.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.cancelScheduledSeatsUpdateSuccess(e);case r.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE:return this.cancelScheduledSeatsUpdateFailure(e,t.cancelledScheduledSeatsUpdate);default:return e}}}t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="organizationBilling/reset",e.UPDATE_SEATS_REQUEST="organizationBilling/updateSeatsRequest",e.UPDATE_SEATS_SUCCESS="organizationBilling/updateSeatsSuccess",e.UPDATE_SEATS_FAILURE="organizationBilling/updateSeatsFailure",e.GET_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/getScheduledSeatsUpdateRequest",e.GET_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/getScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/cancelScheduledSeatsUpdateRequest",e.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/cancelScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE="organizationBilling/cancelScheduledSeatsUpdateFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(320),a=n(263),s=n.n(a),l=n(323),c=n.n(l),d=n(311),u=n.n(d),p=n(286),h=n(278),f=n.n(h),g=n(330),m=n(288),b=n(279),S=n.n(b),y=n(332),v=n(307),C=n(310),O=n.n(C),E=n(248),T=n(275),_=n.n(T),P=n(333);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}class A extends o.a{constructor(e){super(e),this.reducer=new g.default({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==s.a.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,{[t]:i}=n,o=I(n,[t].map(R));return D(D({},e),{},{projects:D({},o)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{pid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new c.a(D(D({},n),{},{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:i}){const o=e.projects[t];if(!o)return e;const a=o.users.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:D(D({},t),i)});let s=o.screens;return s&&(s=o.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===n?D(D({},e),{},{author:D(D({},e.author),i)}):e);return e.creator&&e.creator._id===n?D(D({},e),{},{comments:t,creator:D(D({},e.creator),i)}):D(D({},e),{},{comments:t})}));const o=e.versions.map(e=>{let{creator:t,commit:o}=e,r=I(e,["creator","commit"]);const a=t&&t._id===n?D(D({},t),{},{userData:i}):t,s=o.author&&o.author._id===n?D(D({},o),{},{author:D(D({},o.author),{},{userData:i})}):o;return D(D({},r),{},{creator:a,commit:s})});return D(D({},e),{},{versions:o,dots:t})})),this.reducer.updateBarrel(e,{pid:t,data:new r.default(D(D({},o),{},{screens:s,users:a}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:o,users:r,oid:a}){if(!e.projects[t])return e;if(o||"user"!==a){const o=this.reducer.deleteWorkflowStatus(e,{bid:t});return r?this.reducer.updateBarrelValue(o,{pid:t,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=r.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):o}return this.reducer.updateBarrelValue(e,{pid:t,key:"users",value:e=>e.users.map(e=>{if(r){if(e.user._id===n||e.user._id===i){const t=r.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{data:{project:n,organizationProjects:i}}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o}){if(o!==s.a.PROJECT)return e;const r=Object(P.default)(t);return this.reducer.updateBarrelValue(e,{pid:i,key:r,value:e=>e[r].filter(e=>!n.includes(e))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter(e=>!n.screens.includes(e)),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:o}=n;return this.renameSection(e,{pid:t,seid:i,name:o})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),i)):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),{},{name:i})):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),{},{description:i})):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=Object(E.arrayRemove)(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex(e=>e._id===n);if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter(e=>e._id!==n)}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach(t=>{const n=e.find(e=>e.screens.includes(t));n&&Object(E.arrayRemove)(n.screens,e=>e===t)});const t=e.find(e=>e._id===i);return t?(t.screens.splice(o,0,...n),e):void 0}})}addScreen(e,{pid:t,seid:n,index:i,screen:o}){const r=e.projects[t];if(!r||!r.screens)return e;if(r.screens.find(e=>e._id===o._id))return e;const a=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>[...e,o]});return this.reducer.updateBarrelValue(a,{pid:t,key:"sections",value({sections:e,screens:t}){if(!e)return e;const r=n?e.find(e=>e._id===n):e[0],a=void 0===i?r.screens.length:i;if(r.screens.splice(a,0,o._id),o.requestId){const e=t.filter(e=>e.requestId===o.requestId&&r.screens.includes(e._id));e.forEach(e=>{const t=r.screens.indexOf(e._id);r.screens.splice(t,1)}),e.sort((e,t)=>e.index-t.index),r.screens=r.screens.concat(e.map(e=>e._id))}return[...e]}})}removeScreen(e,{pid:t,sid:n}){const i=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>e._id!==n):e});return this.reducer.updateBarrelValue(i,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(e.screens.includes(n)&&(e.screens=e.screens.filter(e=>e!==n)),e)):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?D(D({},e),{},{description:i}):e):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?D(D({},e),{},{name:i}):e):e})}moveScreen(e,t){const{spid:n,tpid:i,screen:o}=t,r=this.removeScreen(e,{pid:n,sid:o._id});return this.addScreen(r,{pid:i,screen:o})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?(n.forEach(({_id:t,operation:n,tags:i})=>{const o=e.find(e=>e._id===t);o&&"add"===n?o.tags=(o.tags||[]).concat(i):o&&(o.tags=o.tags.filter(e=>!i.includes(e)))}),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:e=>(e.screens||(e.screens=[]),e.screens.find(({_id:e})=>e===n)||e.screens.push({_id:n}),e.screens.map(e=>(e._id===n&&(e.dots=i),e)))})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n)return e;return e.dots&&e.dots.find(e=>e._id===i._id)||(e.dots=(e.dots||[]).concat(i)),e}):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),o)),e):e):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{color:o})),e):e):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:o,y:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{x:o,y:r})),e):e):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{status:o})),e):e):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.filter(({_id:e})=>e!==i),e):e):e})}addComment(e,{pid:t,sid:n,did:i,comment:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);if(!t)return e;return t.comments.find(e=>e._id===o._id)||t.comments.push(o),e}):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:o,commentData:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>(e._id!==i||(e.comments=e.comments.map(e=>e._id!==o?e:D(D({},e),r))),e)),e):e):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);return t?(t.comments=t.comments.filter(e=>e._id!==o),e):e}):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.versions=i,e.totalVersionCount=o,e.allowedVersionCount=r),e)):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;const r=t.versions.find(e=>e._id===i);return r&&Object.assign(r.snapshot,o),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;return t.versions.some(e=>e._id===i._id)||(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop()),e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:D(D({},e),{},{commit:D(D({},e.commit),{},{color:o})}))),e)):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:D(D({},e),{},{commit:D(D({},e.commit),{},{message:o})}))),e)):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.filter(({_id:e})=>e!==i)),e)):e})}hydrateEmbeddedData(e,t){const{project:n,projects:i}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}deleteWorkflowStatuses(e,{statusDeletedBarrels:t}){const n=D({},e);return t.reduce((e,{bid:t})=>this.reducer.deleteWorkflowStatus(e,{bid:t}),n)}updateWorkflowStatuses(e,{statusUpdatedBarrels:t,workflowStatus:n}){const i=D({},e);return t.reduce((e,{bid:t})=>this.reducer.updateWorkflowStatus(e,{bid:t,workflowStatus:n}),i)}reduce(e,t){switch(t.type){case u.a.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case u.a.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case u.a.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case u.a.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case u.a.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case u.a.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case f.a.UPDATE_NAME:return this.reducer.updateName(e,t);case f.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case f.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case f.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case f.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case f.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case f.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case f.a.ADD_COLOR:return this.reducer.addColor(e,t);case f.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case f.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case f.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case f.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case f.a.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case f.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case f.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case f.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case f.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case f.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case f.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case f.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case f.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case f.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case f.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case f.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case f.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case f.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case f.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case f.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case f.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case f.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case f.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case f.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case f.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case f.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case f.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case f.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case f.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case f.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case f.a.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case f.a.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case f.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case f.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case f.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case f.a.UPDATE_WORKFLOW_STATUSES:return this.updateWorkflowStatuses(e,t);case f.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case f.a.DELETE_WORKFLOW_STATUSES:return this.deleteWorkflowStatuses(e,t);case f.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case f.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case f.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case f.a.ADD:return this.add(e,t);case f.a.ACTIVATE:return this.activate(e,t);case f.a.ARCHIVE:return this.archive(e,t);case f.a.REMOVE:return this.remove(e,t);case p.default.LINK_PROJECT_SUCCESS:case p.default.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case p.default.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case f.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case u.a.TRANSFER_OWNERSHIP:case f.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case f.a.LOAD:return this.load(e,t);case f.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case O.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case O.a.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case v.default.MOVE_SCREEN:return this.moveScreen(e,t);case m.default.ADD_SECTION:case m.default.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case m.default.UPDATE_SECTION:return this.updateSection(e,t);case m.default.CREATE_SECTION:return this.createSection(e,t);case m.default.RENAME_SECTION:return this.renameSection(e,t);case m.default.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case m.default.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case m.default.REMOVE_SECTION:return this.removeSection(e,t);case m.default.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case S.a.ADD_SCREEN:return this.addScreen(e,t);case S.a.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case S.a.UPDATE_NAME:return this.updateScreenName(e,t);case S.a.REMOVE_SCREEN:return this.removeScreen(e,t);case S.a.UPDATE_TAGS:return this.updateTags(e,t);case S.a.SET_DOTS:return this.setDots(e,t);case S.a.CREATE_NOTE:case S.a.ADD_DOT:return this.addDot(e,t);case S.a.UPDATE_DOT:return this.updateDot(e,t);case S.a.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case S.a.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case S.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case S.a.REMOVE_DOT:return this.removeDot(e,t);case S.a.CREATE_COMMENT:case S.a.ADD_COMMENT:return this.addComment(e,t);case S.a.UPDATE_COMMENT:return this.updateComment(e,t);case S.a.REMOVE_COMMENT:return this.removeComment(e,t);case S.a.SET_VERSIONS:return this.setVersions(e,t);case S.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case S.a.ADD_VERSION:return this.addVersion(e,t);case S.a.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case S.a.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case S.a.REMOVE_VERSION:return this.removeVersion(e,t);case _.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case _.a.RESET:return this.reset();case _.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);case y.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case y.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case y.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case y.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case y.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);default:return e}}}t.default=A},function(e,t,n){"use strict";n.r(t);var i=n(248),o=n(253),r=n(302),a=n(321),s=n.n(a),l=n(323),c=n.n(l),d=n(256),u=n(324),p=n.n(u),h=n(314),f=n.n(h),g=n(328),m=n(329);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function C(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach((function(e){e.scaledFontSize=e.fontSize/t}));else{var o,r;n<14?(o=24,r=14):i>36?(o=36,r=24):(o=Math.min(36,n),r=Math.max(14,i));var a=n===i?0:(o-r)/(n-i);e[0].scaledFontSize=Math.round(o);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*a)}}}}function O(e,t){return`${e} - ${t}`}function E(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function T(e,t,n){let i;for(const o of e){if(i=o.components.find(e=>e[t]===n),i)return i;if(i=T(o.componentSections,t,n),i)return i}return null}function _(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),_(e.componentSections,n)})}function P(e){return e.components.concat(...e.componentSections.map(P))}function j(e){const t=S({},e);if(t.status||(t.status="active"),t.users&&(t.users=t.users.map(e=>new s.a(e))),t.users.sort(i.sortBy.role),t.integration=new p.a(t.integration),t.extensions||(t.extensions=[]),t.colors?t.colors=t.colors.map(e=>new o.default(e)):t.colors=[],t.textStyles?(t.textStyles=t.textStyles.map(e=>new r.default(e)).sort(i.fontSort),C(t.textStyles,t.densityScale)):t.textStyles=[],t.screens){if(t.sections){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))})}t.screens.forEach(e=>{"versions"in e||(e.description=e.description||"",e.tags=e.tags||[],e.latestVersion&&(e.latestVersion.commit=e.latestVersion.commit||{message:"",color:Object(g.getColorValueByName)("yellow"),author:e.latestVersion.creator},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion))})}t.componentSections&&_(t.componentSections,[]),t.remPreferences=t.remPreferences?new c.a(t.remPreferences):{},t.workflowStatus=t.workflowStatus?new f.a(t.workflowStatus):f.a.NoStatus,Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:()=>t.name,set(e){t.name=e},enumerable:!0},description:{get:()=>t.description,set(e){t.description=e},enumerable:!0},colors:{get:()=>t.colors,enumerable:!0},densityScale:{get:()=>t.densityScale,set(e){t.densityScale=e},enumerable:!0},extensions:{get:()=>t.extensions,set(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:()=>t.integration,set(e){t.integration=e},enumerable:!0},prefix:{get:()=>t.prefix,set(e){t.prefix=e},enumerable:!0},public:{get:()=>t.public,set(e){t.public=e},enumerable:!0},screens:{get:()=>t.screens,set(e){t.screens=e},enumerable:!0},sections:{get:()=>t.sections,set(e){t.sections=e},enumerable:!0},status:{get:()=>t.status,set(e){t.status=e},enumerable:!0},textStyles:{get:()=>t.textStyles,enumerable:!0},thumbnail:{get:()=>t.thumbnail,set(e){t.thumbnail=e},enumerable:!0},users:{get:()=>t.users,enumerable:!0},slackTeamId:{get(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:()=>Object(m.extractTagsFromScreens)(t.screens),enumerable:!0},dimensionSuffix:{get:()=>v(t.densityScale,t.type).dimensionSuffix,enumerable:!0},textDimensionSuffix:{get:()=>v(t.densityScale,t.type).textDimensionSuffix,enumerable:!0},created:{get:()=>t.created,set(e){t.created=e},enumerable:!0},updated:{get:()=>t.updated,set(e){t.updated=e},enumerable:!0},componentSections:{get:()=>t.componentSections,set(e){t.componentSections=e},enumerable:!0},connectedComponents:{get:()=>t.connectedComponents,set(e){t.connectedComponents=e},enumerable:!0},localConnectedComponents:{get:()=>t.localConnectedComponents,set(e){t.localConnectedComponents=e},enumerable:!0},parent:{get:()=>t.parent,set(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:()=>t.ancestors,set(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0},spacingSections:{get:()=>t.spacingSections,set(e){t.spacingSections=e},enumerable:!0},remPreferences:{get:()=>t.remPreferences,set(e){t.remPreferences=e?new c.a(e):{}},enumerable:!0},workflowStatus:{get:()=>t.workflowStatus,set(e){t.workflowStatus=e?new f.a(e):f.a.NoStatus},enumerable:!0}})}j.prototype=Object.create(d.default.prototype),j.prototype.constructor=j,j.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map((function(e){return e.toObject()})),textStyles:this.textStyles.map((function(e){return e.toObject()})),spacingSections:this.spacingSections,remPreferences:this.remPreferences&&S(S({},this.remPreferences),{},{rootFontSize:this.remPreferences.remRootFontSize}),density:i.getDensityScaleRepresentation(this.type,this.densityScale)}},j.prototype.addTextStyle=function(e){this.textStyles.push(new r.default(e)),this.textStyles.sort(i.fontSort),C(this.textStyles,this.densityScale)},j.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find((function(t){return t.id===e}));n&&(Object.assign(n,t),this.textStyles.sort(i.fontSort),C(this.textStyles,this.densityScale))},j.prototype.removeTextStyle=function(e){var t=i.arrayRemove(this.textStyles,(function(t){return t.id===e}));return C(this.textStyles,this.densityScale),t},j.prototype.findTextStyleById=function(e){return this.textStyles.find((function(t){return t.id===e}))},j.prototype.findTextStyleByName=function(e){return this.textStyles.find((function(t){return t.name===e}))},j.prototype.findTextStyleEqual=function(e){return this.textStyles.find((function(t){return e.equals(t)}))},j.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},j.prototype.findSpacingSectionById=function(e){return this.spacingSections.find(({_id:t})=>t===e)||{}},j.prototype.findSpacingTokenInsideSectionById=function(e,t){const n=this.spacingSections.find(({_id:t})=>t===e);return n?n.spacingTokens.find(({_id:e})=>e===t):{}},j.prototype.findUser=function(e){return this.users.find((function(t){return t.user._id===e}))},j.prototype.findOwner=function(){return this.users.find((function(e){return"owner"===e.role}))},j.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.sortBy.role)},j.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.sortBy.role))},j.prototype.removeUser=function(e){return i.arrayRemove(this.users,(function(t){return t.user._id===e}))},j.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.sortBy.role)),this.screens.forEach((function(n){n.dots&&n.dots.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach((function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)}))})),n.versions.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)}))}))},j.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},j.prototype.addColor=function(e){this.colors.push(new o.default(e))},j.prototype.removeColor=function(e){return i.arrayRemove(this.colors,(function(t){return t.id===e}))},j.prototype.updateColor=function(e,t){var n=this.colors.find((function(t){return t.id===e}));Object.assign(n,t)},j.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},j.prototype.findColorById=function(e){return this.colors.find((function(t){return t.id===e}))},j.prototype.findColorByName=function(e){return this.colors.find((function(t){return t.name===e}))},j.prototype.findColorEqual=function(e){return this.colors.find((function(t){return e.equals(t)}))},j.prototype.findColorByHexAndAlpha=function(e){return this.colors.find((function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n}))},j.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},j.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},j.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},j.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(O(t,Math.round(100*e.a).toString()))},j.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=O(e,E(++n));return t},j.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},j.prototype.deleteTag=function(e){return this.screens.reduce((function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t}),[])},j.prototype.addSection=function(e,t){var n=this;return e.screens.forEach((function(e){var t=n.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),this.sections.splice(t,0,e),e},j.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var o=this.sections.findIndex((function(t){return e===t._id})),r=i.screens.splice(t,i.screens.length-t);return this.sections.splice(o+1,0,{name:n,screens:r}),this.sections[o+1]}},j.prototype.findSection=function(e){return e?this.sections.find((function(t){return t._id===e})):null},j.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex((function(t){return t._id===e}));return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.arrayRemove(this.sections,(function(t){return t._id===e}))}},j.prototype.updateSectionOrder=function(e,t){var n=this,o=[].concat(e).map((function(e){return i.arrayRemove(n.sections,(function(t){return t._id===e}))})).filter((function(e){return e}));Array.prototype.splice.apply(this.sections,[t,0].concat(o))},j.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex((function(t){return t._id===e}))},j.prototype.findScreenSection=function(e){return this.sections.find((function(t){return t.screens.includes(e)}))},j.prototype.addScreensToSection=function(e,t,n){var o=this,r=this.findSection(e);r&&(t.forEach((function(e){var t=o.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),Array.prototype.splice.apply(r.screens,[n,0].concat(t)))},j.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},j.prototype.findScreen=function(e){return this.screens.find(t=>t._id===e)},j.prototype.findScreenByName=function(e){return this.screens.find(t=>t.name===e)},j.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.arrayRemove(n.screens,(function(e){return e===t})))return i.arrayRemove(this.screens,(function(e){return e._id===t}))},j.prototype.updateScreenOrder=function(e,t,n){var o=this.findSection(e);o&&(t=[].concat(t).map((function(e){return i.arrayRemove(o.screens,(function(t){return t===e}))})).filter((function(e){return e})),Array.prototype.splice.apply(o.screens,[n,0].concat(t)))},j.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>n.allowedVersionCount?n.versions.pop():void 0},j.prototype.findVersion=function(e,t){const n=this.findScreen(e);return n?n.versions.find(e=>e._id===t):null},j.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var o=i.arrayRemove(n.versions,(function(e){return e._id===t}));return n.totalVersionCount&&n.totalVersionCount--,o}},j.prototype.addIntegration=function(e,t){this.integration[e].push(t)},j.prototype.removeIntegration=function(e,t){return i.arrayRemove(this.integration[e],(function(e){return e._id===t}))},j.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach((function(n){var i=new o.default(n),r=i.toCSS(e);t[r]=i.name})),t},j.prototype.removeExtension=function(e){return i.arrayRemove(this.extensions,(function(t){return t._id===e}))},j.prototype.findComponentById=function(e){return T(this.componentSections,"_id",e)},j.prototype.findComponentByName=function(e){return T(this.componentSections,"name",e)},j.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(t=t.componentSections.find(e=>e._id===n),!t)return null;return t},j.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t))},j.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const o=i.components.find(e=>e._id===t);o&&Object.assign(o,n)},j.prototype.updateComponentOrder=function(e,t,n,o){const r=this.findComponentSection(e);if(!r)return;const a=this.findComponentSection(t);if(!a)return;const s=i.arrayRemove(r.components,e=>e._id===n);s&&(s.idPath=[...t,s._id],a.components.splice(o,0,s))},j.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.components,e=>e._id===t);return o||void 0},j.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),_([n],e),i.componentSections.splice(t,0,n))},j.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},j.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const o=e.pop(),r=this.findComponentSection(e);if(!r)return;const a=this.findComponentSection(t);if(!a)return;const s=i.arrayRemove(r.componentSections,e=>e._id===o);s&&(n?a.components.push(...P(s)):(a.components.push(...s.components),a.componentSections.push(...s.componentSections)),_(this.componentSections,[]))},j.prototype.updateComponentSectionOrder=function(e,t,n){const o=e.pop(),r=this.findComponentSection(e);if(!r)return;const a=this.findComponentSection(t);if(!a)return;const s=i.arrayRemove(r.componentSections,e=>e._id===o);s&&(a.componentSections.splice(n,0,s),_([s],t))},j.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.componentSections,e=>e._id===t);return o||void 0},t.default=j},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256)),r=i(n(322));class a extends o.default{constructor(e){super();const{role:t,user:n,integration:i}=e;this.role=t,this.user=new r.default(n),this.integration=i}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,paymentPlan:n,email:i,status:o,username:r,fullName:a,bio:s,subscriptionStatus:l,subscriptionCancelAt:c,emotar:d,avatar:u,lastSeen:p,offers:h}=e;this.id=t,this._id=t,this.paymentPlan=n,this.email=i,this.status=o,this.username=r,this.fullName=a,this.bio=s,this.subscriptionStatus=l,this.subscriptionCancelAt=c,this.emotar=d,this.avatar=u,this.lastSeen=p,this.offers=h}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:o}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=o}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256)),r=i(n(325)),a=i(n(326));class s extends o.default{constructor(e){super();const{slacks:t,jira:n}=e||{};this.slacks=t?t.map(e=>new r.default(e)):[],n&&(this.jira=new a.default(n))}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,teamName:n,teamId:i,scope:o,incomingWebHook:r}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=o,this.incomingWebHook=r}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256)),r=i(n(327));class a extends o.default{constructor(e){super();const{_id:t,attachments:n}=e;this.id=t,this._id=t,n&&(this.attachments=n.map(e=>new r.default(e)))}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,deploymentUrl:n,type:i,itemId:o,issueKey:r,issueUrl:a}=e;this.id=t,this._id=t,this.deploymentUrl=n,this.type=i,this.itemId=o,this.issueKey=r,this.issueUrl=a}}t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"colorNames",(function(){return s})),n.d(t,"reactions",(function(){return l})),n.d(t,"getColorName",(function(){return c})),n.d(t,"getColorValueByName",(function(){return d})),n.d(t,"isMentioned",(function(){return u})),n.d(t,"checkFilter",(function(){return p}));var i=n(248),o=n(253);const r={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},a={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},s=Object.freeze(Object.keys(a)),l={positive:"👍",neutral:"🤔",negative:"😩"};function c(e){const t="string"==typeof e?e:new o.default(e).hexBase();return r[t]}function d(e){return a[e]}function u(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.mentionRegexFn)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}function p(e,t,n,i){return(!n||c(e.color)===n)&&("mentioned"===t?u(e,i):t===(e.status||"open"))}},function(e,t,n){"use strict";n.r(t),n.d(t,"extractTagsFromScreens",(function(){return o}));var i=n(248);function o(e){if(!e)return null;var t=new Set(e.reduce((function(e,t){return e.concat(t.tags||[])}),[])),n=[];return t.forEach((function(e){n.push(e)})),n.sort(i.sortBy.naturally)}},function(e,t,n){"use strict";n.r(t);var i=n(248),o=n(331),r=n(320),a=n(253),s=n(302),l=n(323),c=n.n(l),d=n(314),u=n.n(d),p=n(316),h=n(249);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=0;t.default=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map(e=>new r.default(e));return g(g({},e),{},{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:g(g({},e[this.barrelsPropertyName]),Object(i.normalizeArray)(n,"_id"))})}getBarrelsFailed(e,{error:t}){return g(g({},e),{},{[this.loadingBarrelsPropertyName]:!1,error:t})}getBarrelRequested(e){return g(g({},e),{},{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t}){const n=this.updateBarrel(e,{[this.bidPropertyName]:t._id,data:g(g({},t),{},{complete:!t.partial}),upsert:!0});return g(g({},n),{},{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return g(g({},e),{},{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return g(g({},e),{},{[this.barrelsPropertyName]:g(g({},e[this.barrelsPropertyName]),{},{[t._id]:new r.default(t)})})}updateBarrel(e,{[this.bidPropertyName]:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:o}=e,a=o[t];return a||i?g(g({},e),{},{[this.barrelsPropertyName]:g(g({},o),{},{[t]:new r.default(g(g({},a),"function"==typeof n?n(a):n))})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return e[n].find(e=>e._id===i._id)?g({},e):g(g({},e),{},{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return g(g({},e),{},{[n]:e[n].filter(({_id:e})=>e!==i)})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value(e){const t=n.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==n?e:g(g({},e),{},{role:i}))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:o}){return o?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>g(g({},e),{},{users:e.users.filter(({user:e})=>e._id!==n),complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e,new a.default(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce((e,n)=>this.addColor(e,{bid:t,color:n}),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==n?e:new a.default(g(g({},e),i)))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==n)})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:[]})}migrateColors(e,{bid:t,colorsToUpdate:n,colorsToAdd:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e.map(e=>{const t=n[e.id];return t?new a.default(g(g({},e),t)):e}),...i.map(e=>new a.default(e))]})}updateColorOrder(e,{bid:t,cid:n,to:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value({colors:e}){const t=Object(i.arrayRemove)(e,e=>e.id===n);return t?(e.splice(o,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>[...e,new s.default(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n}),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==n?e:new s.default(g(g({},e),i)))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==n)})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>[...e,g(g({},n),{},{spacingTokens:n.spacingTokens||[]})]})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>e._id!==n?e:g(g({},e),i))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.filter(({_id:e})=>e!==n)})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,s=Object(o.sortArrayOfObjectsByPropertyName)([...a,r],"value");let l=1===s.length?s[0]._id:t;return i&&(l=r._id),g(g({},e),{},{baseTokenId:l,spacingTokens:s})})})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:r,oldSpacingToken:a}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:s}=e,l=s.filter(({_id:e})=>e!==i),c=g(g({},a),r),d=t===i?c._id:t;return g(g({},e),{},{baseTokenId:d,spacingTokens:Object(o.sortArrayOfObjectsByPropertyName)([...l,c],"value")})})})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:r}=e,a=r.filter(({_id:e})=>e!==o);let s=t;return i&&(s=a.length&&a[0]._id||null),g(g({},e),{},{baseTokenId:s,spacingTokens:a})})})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"remPreferences",value:({remPreferences:e})=>new c.a(g(g({},e),n))})}addComponent(e,{bid:t,csids:n,component:i,index:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(void 0===o?t.components.push(i):t.components.splice(o,0,i),i.requestId){const e=t.components.filter(e=>e.requestId===i.requestId),n=t.components.filter(t=>!e.includes(t));e.sort((e,t)=>e.index-t.index),t.components=n.concat(e)}return[...e.componentSections]}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const r=t.components.find(e=>e._id===i);return r?(Object.assign(r,o),[...e.componentSections]):e.componentSections}})}setComponentSnapshot(e,{bid:t,csids:n,coid:i,vid:o,snapshot:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const a=t.components.find(e=>e._id===i);return a&&a.latestVersion._id===o?(Object.assign(a.latestVersion.snapshot,r),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object(i.arrayRemove)(t.components,o),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const r=t.components.find(({_id:e})=>e===i);return r&&r.latestVersion._id!==o._id?(r.latestVersion=o,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(e.componentSections.find(e=>e._id===o._id))return e.componentSections;const r=g({},o);return r._id||(r._id=p.TEMPORARY_COMPONENT_SECTION_ID,r.newSection=!0,r.key="newComponentSection-"+b++),o.components?r.components=o.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.arrayRemove)(n.components,t.coid)}):r.components=[],o.componentSections||(r.componentSections=[]),void 0===o.index?t.componentSections.push(r):t.componentSections.splice(o.index,0,r),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:o,flatten:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],a=t.pop(),s=e.findComponentSection(t);if(!s)return e.componentSections;const l=e.findComponentSection(o);if(!l)return e.componentSections;const c=Object(i.arrayRemove)(s.componentSections,a);return c?(this.removeVariantFromComponents(c),r?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=n.pop(),o=e.findComponentSection(n);return o?(Object(i.arrayRemove)(o.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{Object(i.arrayRemove)(e.componentSections,t)}),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{coid:n,csid:o,tcsid:r,to:a}=t,s=e.findComponentSection(o),l=e.findComponentSection(r);if(!s||!l)return e.componentSections;const c=Object(i.arrayRemove)(s.components,n);if(!c)return e.componentSections;const d=void 0===a?l.components.length:a;l.components.splice(d,0,c)}),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{csid:n,tcsid:o,to:r}=t,a=e.findComponentSection(n.slice(0,-1)),s=o?e.findComponentSection(o):e,l=Object(i.arrayRemove)(a.componentSections,n[n.length-1]);s.componentSections.splice(r,0,l)}),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira?g(g({},e),{},{jira:g(g({},e.jira),{},{attachments:[...e.jira.attachments,...n.attachments.filter(t=>!e.jira.attachments.find(e=>e.id===t.id))]})}):g(g({},e),{},{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira&&e.jira.attachments?g(g({},e),{},{jira:g(g({},e.jira),{},{attachments:e.jira.attachments.filter(e=>e.id!==n)})}):e})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"localConnectedComponents",value:e=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"connectedComponents",value:e=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:u.a.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter(e=>e.workflowStatus._id===t).reduce((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id}),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t["remaining"+Object(h.uppercaseFirst)(this.barrelsPropertyName)];return g(g({},e),{},{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter(([e])=>i.includes(e)))})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,key:n,value:i}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>new r.default(g(g({},e),{},{[n]:"function"==typeof i?i(e):i}))})}addComponentVariantProperty(e,{bid:t,csid:n,componentVariantProperty:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties.push(i),[...e.componentSections]):e.componentSections}})}updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant||!t.variant.properties)return e.componentSections;const r=t.variant.properties.find(({_id:e})=>e===i);return r?(Object.assign(r,o),[...e.componentSections]):e.componentSections}})}updateComponentVariantPropertyName(e,{bid:t,csid:n,vpid:i,name:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{name:o}})}updateComponentVariantPropertyValues(e,{bid:t,csid:n,vpid:i,values:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{values:o}})}updateComponentVariantPropertiesOrder(e,{bid:t,csid:n,properties:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant)return e.componentSections;for(let n=0;n<o.length;n++){const{_id:e,to:r}=o[n],a=Object(i.arrayRemove)(t.variant.properties,t=>t._id===e);t.variant.properties.splice(r,0,a)}return[...e.componentSections]}})}setComponentVariantData(e,{bid:t,csid:n,name:i,sectionVariant:o,components:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(i&&(t.name=i),o&&(t.variant=o),r&&r.forEach(({_id:t,variant:n})=>{const i=e.findComponentById(t);i&&(i.variant=n)}),[...e.componentSections]):e.componentSections}})}removeVariantPropertyFromComponents(e,t){e.components.forEach(e=>{e.variant&&(e.variant.values=e.variant.values.filter(e=>e.propertyId!==t))}),e.componentSections.forEach(e=>this.removeVariantPropertyFromComponents(e,t))}removeComponentVariantProperty(e,{bid:t,csid:n,vpid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties=t.variant.properties.filter(({_id:e})=>e!==i),this.removeVariantPropertyFromComponents(t,i),[...e.componentSections]):e.componentSections}})}removeVariantFromComponents(e){e.components.forEach(e=>{delete e.variant}),e.componentSections.forEach(e=>this.removeVariantFromComponents(e))}removeComponentVariantData(e,{bid:t,csid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(delete t.variant,this.removeVariantFromComponents(t),[...e.componentSections]):e.componentSections}})}groupComponentsByVariantProperty(e,{bid:t,csid:n,components:i,componentSections:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t)return e.componentSections;const r=this.flattenComponents(t);return o.forEach(e=>{e.components=e.components.map(({_id:e})=>r.find(({_id:t})=>t===e))}),t.componentSections=o,t.components=i.map(({_id:e})=>r.find(({_id:t})=>t===e)),[...e.componentSections]}})}}},function(e,t,n){"use strict";function i(e,t){return e.sort((e,n)=>e[t]-n[t])}function o(e,t){return e.reduce(({memory:e,result:n},i)=>(e[i[t]]||(n.push(i),e[i[t]]=!0),{memory:e,result:n}),{memory:{},result:[]}).result}function r(e,t){return e.reduce((e,n,i)=>(i>0&&e.push(t),e.push(n),e),[])}function a(e,t,n,{excludeStart:i=!1,excludeEnd:o=!1}={}){if(n<=0)throw new RangeError(`Invalid number of steps: ${n}. Steps must be a positive number`);if(e>=t)return[];const r=i?[]:[e],a=(t-e)/n;for(let s=1;s<n;s++)r.push(e+s*a);return o?r:r.concat(t)}n.r(t),n.d(t,"sortArrayOfObjectsByPropertyName",(function(){return i})),n.d(t,"removeDuplicatesFromArrayOfObjects",(function(){return o})),n.d(t,"joinDOMElements",(function(){return r})),n.d(t,"populateArrayOfConstantIncrements",(function(){return a}))},function(e,t,n){"use strict";n.r(t);t.default={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",HIGHLIGHT_SPACING_TOKENS:"styleguide/highlightSpacingTokens",UNHIGHLIGHT_SPACING_TOKEN:"styleguide/unhighlightSpacingToken",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",EXPAND_SECTIONS:"styleguide/expandSections",COLLAPSE_SECTIONS:"styleguide/collapseSections",COLLAPSE_ALL_SECTIONS:"styleguide/collapseAllSections",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide",CONVERT_SECTION_TO_VARIANT_SECTION:"styleguide/convertSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_SECTION:"styleguide/convertVariantSectionToSection",CREATE_COMPONENT_VARIANT_PROPERTY:"styleguide/createComponentVariantProperty",ADD_COMPONENT_VARIANT_PROPERTY:"styleguide/addComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY:"styleguide/updateComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:"styleguide/updateComponentVariantPropertyName",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:"styleguide/updateComponentVariantPropertyValues",UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:"styleguide/updateComponentVariantPropertiesOrder",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:"styleguide/updateComponentVariantPropertyValue",SET_COMPONENT_VARIANT_DATA:"styleguide/setComponentVariantData",REMOVE_COMPONENT_VARIANT_PROPERTY:"styleguide/removeComponentVariantProperty",REMOVE_COMPONENT_VARIANT_DATA:"styleguide/removeComponentVariantData",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"styleguide/createComponentSectionVariantGroups",GROUP_COMPONENTS_BY_VARIANT_PROPERTY:"styleguide/groupComponentsByVariantProperty",HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:"styleguide/hideComponentVariantsOnboardingDialog"}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(232);const o={[i.RESOURCE_TYPE.COLORS]:"colors",[i.RESOURCE_TYPE.TEXT_STYLES]:"textStyles",[i.RESOURCE_TYPE.COMPONENTS]:"componentSections"};function r(e){return o[e]}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(275),a=n.n(r),s=n(278),l=n.n(s),c=n(263),d=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.a{getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,t){const{barrel:{barrelType:n},data:{[n]:{_id:i,name:o}}}=t,r=n===d.a.PROJECT?"projects":"styleguides",a=e[r].filter(({_id:e})=>e!==i),s=[{_id:i,name:o},...a].slice(0,10);return p(p({},e),{},{[r]:s})}reduce(e,t){switch(t.type){case l.a.LOAD:return this.update(e,t);case a.a.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(336)),a=i(n(278)),s=i(n(275)),l=i(n(279));class c extends o.default{constructor(e){super(e)}getInitialState(){return{componentVariantViewVisible:!1,selectedLayer:null,destinationLayer:null,selectedComponentVariantId:null,sourceLayerId:null}}open(e,t,n){return Object.assign(Object.assign({},e),{componentVariantViewVisible:!0,selectedComponentVariantId:t,sourceLayerId:n})}close(){return this.getInitialState()}selectLayer(e,t){return Object.assign(Object.assign({},e),{selectedLayer:t,destinationLayer:t})}enterLayer(e,t){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:null}):e}deselectLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{selectedLayer:null,destinationLayer:null}):e}changeComponentVariant(e,t){return Object.assign(Object.assign({},e),{selectedComponentVariantId:t,selectedLayer:null,destinationLayer:null})}resetComponentVariant(e,t){return e.selectedComponentVariantId!==t?e:Object.assign(Object.assign({},e),{selectedComponentVariantId:null,selectedLayer:null,destinationLayer:null})}reduce(e,t){switch(t.type){case s.default.RESET:case a.default.RESET:case a.default.LOAD:case a.default.CHANGE_SELECTED_VIEW:return this.getInitialState();case r.default.OPEN:return this.open(e,t.coid,t.sourceLayerId);case r.default.CLOSE:return this.close();case r.default.SELECT_LAYER:return this.selectLayer(e,t.layer);case r.default.ENTER_LAYER:return this.enterLayer(e,t.layer);case r.default.LEAVE_LAYER:return this.leaveLayer(e);case r.default.DESELECT_LAYER:return this.deselectLayer(e);case r.default.CHANGE_VARIANT:return this.changeComponentVariant(e,t.coid);case a.default.REMOVE_COMPONENT:return this.resetComponentVariant(e,t.coid);case l.default.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="componentVariant/open",e.CLOSE="componentVariant/close",e.SELECT_LAYER="componentVariant/selectLayer",e.ENTER_LAYER="componentVariant/enterLayer",e.LEAVE_LAYER="componentVariant/leaveLayer",e.DESELECT_LAYER="componentVariant/deselectLayer",e.CHANGE_VARIANT="componentVariant/changeVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(279),a=n.n(r),s=n(278),l=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loadingDots:!0,statusFilter:"open",colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[]}}reset(){return this.getInitialState()}load(e={}){return d(d({},this.getInitialState()),e)}setDots(e,t,n,i){return d(d({},e),{},{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,t){return d(d({},e),{},{dotId:t,statusFilter:"open",colorFilter:null})}updateDot(e,t,n){return e.dotId!==t&&t===n?e:d(d({},e),{},{dotId:n})}updateDotStatus(e,t,n){return e.dotId!==t||e.statusFilter===n?e:d(d({},e),{},{dotId:null})}updateLastNoteColorUsed(e,t){return d(d({},e),{},{lastNoteColorUsed:t})}removeDot(e,t){return e.dotId!==t?e:d(d({},e),{},{dotId:null})}changeDotFilter(e,t,n,i){return d(d({},e),{},{colorFilter:n,statusFilter:t,dotId:i})}flash(e,t){return d(d({},e),{},{flash:t})}dotsFlashed(e){return d(d({},e),{},{flash:!1})}selectDot(e,t,n){return e.dotId===t?e:d(d({},e),{},{dotId:t,highlightedComments:n,highlightedDots:e.highlightedDots.filter(e=>e!==t)})}deselectDot(e){return d(d({},e),{},{dotId:null})}highlightDots(e,t){return d(d({},e),{},{highlightedDots:[].concat(t).filter(Boolean)})}unhighlightDot(e,t){return d(d({},e),{},{highlightedDots:e.highlightedDots.filter(e=>e!==t)})}reduce(e,t){switch(t.type){case l.a.CHANGE_SELECTED_VIEW:case l.a.RESET:return this.reset();case l.a.LOAD:return this.load(t.dots);case a.a.SET_DOTS:return this.setDots(e,t.dotId,t.statusFilter,t.colorFilter);case a.a.CREATE_NOTE:return this.createNote(e,t.dot._id);case a.a.UPDATE_DOT:return this.updateDot(e,t.did,t.dotData._id);case a.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.did,t.status);case a.a.UPDATE_DOT_COLOR:return this.updateLastNoteColorUsed(e,t.colorName);case a.a.REMOVE_DOT:return this.removeDot(e,t.did);case a.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color,t.dotId);case a.a.ENABLE_NOTE_MODE:return this.flash(e,t.flash);case a.a.DOTS_FLASHED:return this.dotsFlashed(e);case a.a.OPEN_SCREEN:case a.a.SELECT_DOT:return this.selectDot(e,t.dotId,t.commentId);case a.a.SELECT_LAYER:case a.a.CLOSE_DOT_POPUP:case a.a.OPEN_DOT_MENU:case a.a.DESELECT_LAYER:return this.deselectDot(e);case a.a.HIGHLIGHT_DOTS:return this.highlightDots(e,t.dids);case a.a.UNHIGHLIGHT_DOT:return this.unhighlightDot(e,t.did);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(275),a=n.n(r),s=n(278),l=n.n(s),c=n(279),d=n.n(c),u=n(336),p=n.n(u),h=n(339),f=n(340),g=n(229),m=n(232);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends o.a{getInitialState(){return{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:260,selectedSidebarTab:h.default[0].id,sourceFiles:{},componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:Object(g.isMobileViewport)(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsSidebarWidth:280}}reset(){return this.getInitialState()}load(e={}){return y(y({},this.getInitialState()),e)}openScreen(e,t){let{shouldResetDashboardFilters:n,barrelId:i,dotId:o,commentId:r}=t,a=b(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return y(y(y({},e),a),{},{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return y(y({},e),{},{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:h.default[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1})}changeZoomLevel(e,t,n=!1){const i=Math.max(f.ZOOM_LEVEL_MIN,Math.min(t,f.ZOOM_LEVEL_MAX));return y(y({},e),{},{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=f.default.find(t=>t>e.zoomLevel)||f.ZOOM_LEVEL_MAX;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...f.default].reverse().find(t=>t<e.zoomLevel)||f.ZOOM_LEVEL_MIN;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,f.ZOOM_LEVEL_DEFAULT,!0)}zoomApplied(e){return e.animateZooming?y(y({},e),{},{animateZooming:!1}):e}startGesture(e){return y(y({},e),{},{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/100)}openTagManager(e,t){return y(y({},e),{},{tagManagerScreenId:t})}closeTagManager(e){return y(y({},e),{},{tagManagerScreenId:null})}toggleLayoutGrid(e){return y(y({},e),{},{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return y(y({},e),{},{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return y(y({},e),{},{noteMode:!1})}showNotes(e){return y(y({},e),{},{notesVisible:!0,noteMode:!1})}hideNotes(e){return y(y({},e),{},{notesVisible:!1,noteMode:!1})}selectLayer(e,{layer:t,shouldIncrementNumberOfLayerComponentViews:n}){const i=e.numberOfLayerComponentViews+(n?1:0);return y(y({},e),{},{selectedLayer:t,destinationLayer:t,numberOfLayerComponentViews:i})}deselectLayer(e){return y(y({},e),{},{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?y(y({},e),{},{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?y(y({},e),{},{destinationLayer:null}):e}enablePercentageMode(e){return y(y({},e),{},{percentageMode:!0})}disablePercentageMode(e){return y(y({},e),{},{percentageMode:!1})}showFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!0})}hideFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!1})}changeSidebarTab(e,t){return y(y({},e),{},{selectedSidebarTab:t})}changeScreenSidebarWidth(e,t){return y(y({},e),{},{screenSidebarWidth:t})}setSnapshot(e,{sid:t}){return t!==e.screenId?e:y(y({},e),{},{loadingSnapshot:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return y(y({},e),{},{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:o}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,latestVersionSelected:i,hasNewVersions:o,loadingSnapshot:!0})}showVersions(e,{loadingVersions:t}){return y(y({},e),{},{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return y(y({},e),{},{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!0})}disableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!1})}showVersionsAuntie(e){return y(y({},e),{},{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return y(y({},e),{},{showVersionsAuntie:!1})}newVersionsFound(e){return y(y({},e),{},{hasNewVersions:!0})}changeVersionsSidebarWidth(e,t){return y(y({},e),{},{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?y(y({},e),{},{versionId:n,latestVersionSelected:!0}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return y(y({},e),{},{sourceFiles:y(y({},e.sourceFiles),{},{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen(e):e}hideComponentVariantsOnboardingHintbox(e){return y(y({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}setComponentVariantViewAsSeen(e){return y(y({},e),{},{componentVariantViewSeen:!0})}reduce(e,t){switch(t.type){case a.a.RESET:case l.a.RESET:return this.reset();case l.a.LOAD:return this.load(t.screen);case l.a.CHANGE_SELECTED_VIEW:return t.selectedView===m.ProjectViewTypes.SCREEN?e:this.closeScreen(e);case d.a.OPEN_SCREEN:return this.openScreen(e,t);case d.a.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case d.a.ZOOM_IN:return this.zoomIn(e);case d.a.ZOOM_OUT:return this.zoomOut(e);case d.a.RESET_ZOOM:return this.resetZoom(e);case d.a.START_GESTURE:return this.startGesture(e);case d.a.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case d.a.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case d.a.ZOOM_APPLIED:return this.zoomApplied(e);case d.a.OPEN_TAG_MANAGER:return this.openTagManager(e,t.sid);case d.a.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case d.a.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case d.a.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case d.a.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case d.a.SHOW_NOTES:case d.a.SELECT_DOT:case d.a.CREATE_NOTE:return this.showNotes(e);case d.a.HIDE_NOTES:return this.hideNotes(e);case d.a.SELECT_LAYER:return this.selectLayer(e,t);case d.a.DESELECT_LAYER:return this.deselectLayer(e);case d.a.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case d.a.LEAVE_LAYER:return this.leaveLayer(e);case d.a.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case d.a.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case d.a.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case d.a.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case d.a.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case d.a.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t.screenSidebarWidth);case d.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case d.a.SET_VERSION_ID:return this.setVersionId(e,t);case d.a.SET_VERSIONS:return this.setVersions(e,t);case d.a.ADD_VERSION:return this.addVersion(e,t);case d.a.SHOW_VERSIONS:return this.showVersions(e,t);case d.a.HIDE_VERSIONS:return this.hideVersions(e);case d.a.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case d.a.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case d.a.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case d.a.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case d.a.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case d.a.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case d.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t.versionsSidebarWidth);case d.a.REMOVE_VERSION:return this.removeVersion(e,t);case d.a.SET_SOURCE_FILE:return this.setSourceFile(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case d.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:return this.hideComponentVariantsOnboardingHintbox(e);case p.a.OPEN:return this.setComponentVariantViewAsSeen(e);case p.a.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=C},function(e,t,n){"use strict";n.r(t);t.default=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"ZOOM_LEVEL_DEFAULT",(function(){return o})),n.d(t,"ZOOM_LEVEL_MIN",(function(){return r})),n.d(t,"ZOOM_LEVEL_MAX",(function(){return a}));const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),o=1,r=i[0],a=i[i.length-1];t.default=i},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(11)),l=a(n(342)),c=r(n(343)),d=n(248);function u(e,t,n,i){return n?Object.assign(Object.assign({},e),{[t]:c.getEventsOfGroup(i,t)}):d.filterOut(e,t)}function p(e,t,n,i){var o;const r=c.getGroupOfEvent(i,t);let a=null!==(o=e[r])&&void 0!==o?o:[];return n&&!a.includes(t)?Object.assign(Object.assign({},e),{[r]:a.concat(t)}):!n&&a.includes(t)?(a=a.filter(e=>e!==t),0===a.length?d.filterOut(e,r):Object.assign(Object.assign({},e),{[r]:a})):e}class h extends s.default{getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[],barrelType:null}}load(e,t,n,i){return Object.assign(Object.assign({},e),{barrelType:i,eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:c.groupEvents(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign(Object.assign({},e),{open:!0,inid:t,channelName:n}):e}close(e){return Object.assign(Object.assign({},e),{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[e.inid]:u(e.eventGroupsByInid[e.inid],t,n,e.barrelType)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?Object.assign(Object.assign({},e),{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:u(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n],e.barrelType)}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:p(e.eventGroupsByInid[t],n,i,e.barrelType)})}):e}reduce(e,t){switch(t.type){case l.default.LOAD:return this.load(e,t.inid,t.events,t.barrelType);case l.default.OPEN:return this.open(e,t.inid,t.channelName);case l.default.CLOSE:return this.close(e);case l.default.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case l.default.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case l.default.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case l.default.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.enabled);default:return e}}}t.default=h},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="slackPreferences/init",e.LOAD="slackPreferences/load",e.OPEN="slackPreferences/open",e.CLOSE="slackPreferences/close",e.UPDATE_EVENT_GROUP="slackPreferences/updateEventGroup",e.EVENT_GROUP_UPDATED="slackPreferences/eventGroupUpdated",e.EVENT_GROUP_UPDATE_FAILED="slackPreferences/eventGroupUpdateFailed",e.EVENT_UPDATED="slackPreferences/eventUpdated"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventGroupsByBarrelType=t.groupEvents=t.getGroupOfEvent=t.getEventsOfGroup=void 0;const o=i(n(263)),r={[o.default.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[o.default.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function a(e){return Object.keys(r[e]).reduce((t,n)=>r[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}t.eventGroupsByBarrelType=r;const s={project:a(o.default.PROJECT),styleguide:a(o.default.STYLEGUIDE)};function l(e,t){return s[e][t]}t.groupEvents=function(e,t){return t.reduce((t,n)=>{var i;const o=l(e,n);return o&&(null!==(i=t[o])&&void 0!==i?i:t[o]=[]).push(n),t},{})},t.getEventsOfGroup=function(e,t){return r[e][t].events},t.getGroupOfEvent=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(280)),a=i(n(275)),s=i(n(310)),l=i(n(312)),c=i(n(311)),d=i(n(278)),u=i(n(314)),p=n(232);class h extends o.default{getInitialState(){return{loading:!0,selectedTab:p.WorkspaceTabs.PROJECTS,selectedOrganizationId:"user",selectedProjectSortType:p.SortTypes.CREATED,showArchivedProjects:!1,pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:u.default.All._id,filterValue:"",highlightedBarrels:[],highlightedSection:null,collapsedSections:{},styleguidesTabVisited:!1,visibleDialogType:null,visibleDialogParams:{},autoExpandNotifications:!1,offerReminderNextDate:null}}reset(){return this.getInitialState()}updatePageState(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})}changeProjectSelectedSortType(e,t){return Object.assign(Object.assign({},e),{selectedProjectSortType:t})}toggleArchivedProjects(e){return Object.assign(Object.assign({},e),{showArchivedProjects:!e.showArchivedProjects})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:Object.assign(Object.assign({},e),{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return Object.assign(Object.assign({},e),{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?this.changeWorkflowStatusFilter(e,{workflowStatusFilter:u.default.All._id}):e}unhighlightBarrel(e,{bid:t}){return Object.assign(Object.assign({},e),{highlightedBarrels:e.highlightedBarrels.filter(e=>e!==t)})}highlightSection(e,{oseid:t}){const{collapsedSections:n}=e;return n[t]&&(n[t]=!1),Object.assign(Object.assign({},e),{collapsedSections:n,highlightedSection:t})}unhighlightSection(e){return Object.assign(Object.assign({},e),{highlightedSection:null})}expandHighlightedSections(e,{organization:t}){if(!t)return e;const{sections:n}=t,{highlightedBarrels:i,selectedTab:o}=e;if(!n||!i.length||o!==p.WorkspaceTabs.PROJECTS)return e;const r=n.filter(e=>"default"!==e.name&&e.projects.some(e=>i.includes(e))).map(e=>e._id);return this.expandSections(e,{oseids:r})}expandSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setStyleguidesTabVisited(e){return Object.assign(Object.assign({},e),{styleguidesTabVisited:!0})}showLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}hideLoading(e){return Object.assign(Object.assign({},e),{loading:!1})}openDialog(e,{dialogType:t,dialogParams:n}){return Object.assign(Object.assign({},e),{visibleDialogType:t,visibleDialogParams:n})}closeDialog(e){return Object.assign(Object.assign({},e),{visibleDialogType:null,visibleDialogParams:{}})}closePreviewDialog(e,{bid:t}){const{previewBarrelId:n}=e.visibleDialogParams;return n===t?this.closeDialog(e):e}resetSortTypeAndFilters(e,t){let n=e;return t.syncWithApi&&(e.selectedProjectSortType!==p.SortTypes.SECTIONS&&(n=this.changeProjectSelectedSortType(n,p.SortTypes.SECTIONS)),e.selectedWorkflowStatusFilter!==u.default.All._id&&(n=this.changeWorkflowStatusFilter(n,{workflowStatusFilter:u.default.All._id}))),n}resetUIInteractions(e,t){return this.resetSortTypeAndFilters(e,t)}setAutoExpandNotifications(e,{autoExpandNotifications:t}){return Object.assign(Object.assign({},e),{autoExpandNotifications:t})}highlightCopiedBarrel(e,{barrel:t,addedWithCopy:n}){return n?Object.assign(Object.assign({},this.closeDialog(e)),{highlightedBarrels:[t._id,...e.highlightedBarrels]}):e}autoExpandNotifications(e){return Object.assign(Object.assign({},e),{autoExpandNotifications:!0})}postponeOfferReminder(e,{nextDate:t}){return Object.assign(Object.assign({},e),{offerReminderNextDate:t})}changeFilterValue(e,t){return Object.assign(Object.assign({},e),{filterValue:t})}reduce(e,t){switch(t.type){case r.default.UPDATE_PAGE_STATE:return this.updatePageState(e,t.updateState);case r.default.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case r.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case r.default.TOGGLE_ARCHIVED_PROJECTS:return this.toggleArchivedProjects(e);case r.default.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case r.default.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case r.default.EXPAND_SECTIONS:return this.expandSections(e,t);case r.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case r.default.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case r.default.OPEN_DIALOG:return this.openDialog(e,t);case r.default.CLOSE_DIALOG:return this.closeDialog(e);case r.default.HIDE_LOADING:return this.hideLoading(e);case r.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t);case r.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case r.default.SET_AUTO_EXPAND_NOTIFICATIONS:return this.setAutoExpandNotifications(e,t);case r.default.POSTPONE_OFFER_REMINDER:return this.postponeOfferReminder(e,t);case d.default.ADD:return this.highlightCopiedBarrel(e,t);case s.default.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case s.default.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case s.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case s.default.ADD_PROJECT_SECTION:case s.default.UPDATE_PROJECT_ORDER:return this.resetUIInteractions(e,t);case c.default.CREATE_PROJECT:case l.default.CREATE_STYLEGUIDE:return this.showLoading(e);case d.default.ARCHIVE:case d.default.REMOVE:return this.closePreviewDialog(e,t);case a.default.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:return this.autoExpandNotifications(e);case a.default.LOAD_WORKSPACE_DATA:return this.expandHighlightedSections(e,t);case a.default.RESET:return this.reset();default:return e}}}t.default=h},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(280));class a extends o.default{getInitialState(){return{scrollToHighlightedBarrel:!1}}scrolledToProject(){return{scrollToHighlightedBarrel:!1}}scrollToHighlightedBarrel(e){return{scrollToHighlightedBarrel:!!e}}reduce(e,t){switch(t.type){case r.default.SCROLLED_TO_PROJECT:return this.scrolledToProject();case r.default.UPDATE_PAGE_STATE:return this.scrollToHighlightedBarrel(t.updateState.scrollToHighlightedBarrel);default:return e}}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(275)),a=i(n(280)),s=i(n(278));class l extends o.default{getInitialState(){return{selectedProjects:[]}}toggleProjectSelection(e,t){const n=new Set(e.selectedProjects);return n.has(t)?n.delete(t):n.add(t),Object.assign(Object.assign({},e),{selectedProjects:Array.from(n)})}clearProjectSelection(e){return Object.assign(Object.assign({},e),{selectedProjects:[]})}selectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.concat(t.filter(t=>e.selectedProjects.indexOf(t)<0))})}deselectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.filter(e=>!t.includes(e))})}reduce(e,t){switch(t.type){case a.default.TOGGLE_PROJECT_SELECTION:return this.toggleProjectSelection(e,t.pid);case a.default.CLEAR_PROJECT_SELECTION:case s.default.DELETE_WORKFLOW_STATUSES:case s.default.UPDATE_WORKFLOW_STATUSES:case r.default.SET_PAGE:return this.clearProjectSelection(e);case a.default.SELECT_PROJECTS:return this.selectProjects(e,t.projectIds);case a.default.DESELECT_PROJECTS:return this.deselectProjects(e,t.projectIds);default:return e}}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(332),a=n(275),s=n.n(a),l=n(278),c=n.n(l),d=n(348),u=n(232);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends o.a{getInitialState(){return{sortType:u.SortTypes.SECTIONS,leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,collapsedSections:{},highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1},componentVariantsOnboardingDialogSeen:!1,convertedAnySectionIntoVariant:!1}}reset(){return this.getInitialState()}load(e={}){return h(h({},this.getInitialState()),e)}updateState(e,t){return h(h({},e),t)}changeSortType(e,t){return h(h({},e),{},{sortType:t})}changeLeftSidebarWidth(e,t){return h(h({},e),{},{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return h(h({},e),{},{rightSidebarWidth:t})}changeSelectedNavigatorId(e,t,n){return h(h({},e),{},{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return h(h({},e),{},{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return h(h({},e),{},{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return h(h({},e),{},{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return h(h({},e),{},{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}highlightSpacingTokens(e,t){return h(h({},e),{},{highlightedSpacingTokens:[].concat(t).filter(Boolean)})}unhighlightSpacingToken(e,t){return h(h({},e),{},{highlightedSpacingTokens:e.highlightedSpacingTokens.filter(e=>e!==t)})}sectionScrolled(e){return h(h({},e),{},{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n,collapsedSections:i}){return h(h({},e),{},{selectionComponentId:t,selection:n,collapsedSections:i||e.collapsedSections})}updateForChangeSelectedView(e,{selectedView:t}){return t===u.ProjectViewTypes.STYLEGUIDE?e:h(h({},e),{},{selectionComponentId:null,selection:null,convertedAnySectionIntoVariant:!1})}componentSnapshotsReady(e){return h({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?h(h({},e),{},{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return h(h({},e),{},{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return h(h({},e),{},{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},n),{},{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},t),{},{targetStyleguide:null})})}expandSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}collapseAllSections(e,{seids:t}){return h(h({},e),{},{selectedNavigatorId:null,selectionComponentId:null,collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setSuggestedResources(e){return h(h({},e),{},{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}hideComponentVariantsOnboardingDialog(e){return h(h({},e),{},{componentVariantsOnboardingDialogSeen:!0})}convertedAnySectionIntoVariant(e,{userConvertedSectionIntoVariant:t}){return e.convertedAnySectionIntoVariant||!t?e:h(h({},e),{},{convertedAnySectionIntoVariant:!0})}reduce(e,t){switch(t.type){case s.a.RESET:return this.reset();case c.a.LOAD:return this.load(t.styleguide);case c.a.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case r.default.UPDATE_STATE:return this.updateState(e,t.update);case r.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case r.default.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case r.default.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case r.default.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case r.default.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case r.default.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case r.default.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case r.default.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case r.default.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t.sptids);case r.default.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t.sptid);case r.default.SECTION_SCROLLED:return this.sectionScrolled(e);case r.default.CHANGE_SELECTION:return this.changeSelection(e,t);case r.default.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case r.default.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case r.default.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case r.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case r.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case r.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:return this.hideComponentVariantsOnboardingDialog(e);case r.default.EXPAND_SECTIONS:return this.expandSections(e,t);case r.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case r.default.COLLAPSE_ALL_SECTIONS:return this.collapseAllSections(e,t);case c.a.REMOVE_COMPONENT:return this.removeComponent(e,t);case c.a.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case c.a.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case d.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);case r.default.SET_COMPONENT_VARIANT_DATA:return this.convertedAnySectionIntoVariant(e,t);default:return e}}}t.default=g},function(e,t,n){"use strict";n.r(t);t.default={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans",HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:"hideMultipleColorsSupportedHintBox",HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:"hideExportToStyleguideHintBox"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(312),a=n(278),s=n.n(a),l=n(286),c=n(332),d=n(310),u=n.n(d),p=n(275),h=n.n(p),f=n(320),g=n(263),m=n.n(g),b=n(330),S=n(333);function y(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends o.a{constructor(e){super(e),this.reducer=new b.default({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingStyleguides:!0,loadingSelectParent:!1,styleguides:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==m.a.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:o}){if(n!==m.a.STYLEGUIDE)return e;const{styleguides:r}=e,a=r[t],s=Object.fromEntries(i.map(e=>{const n=r[e];return n.status=o,n.parent&&(n.ancestors=n.ancestors.filter(e=>!a.ancestors.includes(e)),t===e&&(n.parent=null)),[e,n]}));return O(O({},e),{},{styleguides:O(O({},r),s)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,{[t]:i}=n,o=y(n,[t].map(v));return Object.values(o).forEach(e=>{e.parent===t&&(e.parent=i.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),O(O({},e),{},{styleguides:O({},o)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const o=this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),r=i.reduce((e,t)=>O(O({},e),{},{[t._id]:new f.default(O(O({},t),{},{complete:!0}))}),{});return O(O({},o),{},{loadingSelectParent:!1,styleguides:O(O({},o.styleguides),r)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{stid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:O(O({},t),i)})})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:o,toOrganization:r,users:a,oid:s}){const l=e.styleguides[t];if(!l)return e;const c=n.map(t=>e.styleguides[t]);if(r||"user"!==s){const n=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return O(O({},e),{},{styleguides:O(O({},e.styleguides),n)})}const d=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),u=this.reducer.updateBarrelValue(d,{stid:l._id,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"users",value:e=>e.users.map(e=>{if(a){if(e.user._id===i||e.user._id===o){const t=a.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===o&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e})}),u)}load(e,t){const{barrel:{barrelType:n}}=t;if(n===m.a.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:i,ancestors:o}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n});let r=e;return i&&(r=this.reducer.getBarrelsSuccess(e,{styleguides:i})),o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(r,{styleguide:n}))}const{data:{project:i,organizationStyleguides:o,linkedStyleguides:r}}=t;if(i.partial)return e;const a=o?this.reducer.getBarrelsSuccess(e,{styleguides:o}):e;return r.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),a)}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o,targetStyleguideId:r}){const a=Object(S.default)(t);let s=e;o===m.a.STYLEGUIDE&&(s=this.reducer.updateBarrelValue(e,{stid:i,key:a,value:e=>e[a].filter(e=>!n.includes(e))}));const l=e.styleguides[r];return l&&l.complete?this.reducer.updateBarrelValue(s,{stid:r,key:a,value:e=>e[a].concat(n)}):s}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],o=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=o,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...o,...e.ancestors.slice(n)])}),O(O({},e),{},{styleguides:O({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),O(O({},e),{},{styleguides:O({},e.styleguides)})}selectParentRequest(e){return O(O({},e),{},{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const o=this.selectParent(e,{stid:t,parent:n}),r=i.reduce((e,t)=>O(O({},e),{},{[t._id]:new f.default(O(O({},t),{},{complete:!0}))}),{});return O(O({},o),{},{loadingSelectParent:!1,styleguides:O(O({},o.styleguides),r)})}selectParentFailed(e){return O(O({},e),{},{loadingSelectParent:!1})}hydrateEmbeddedData(e,t){const{styleguides:n,project:i,linkedStyleguides:o,styleguide:r,ancestors:a}=t;let s=e;return n&&(s=this.reducer.getBarrelsSuccess(e,{styleguides:n})),i?i.partial?s:o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),s):r?r.partial?this.reducer.getBarrelSuccess(s,{styleguide:r}):a.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(s,{styleguide:r})):s}reduce(e,t){switch(t.type){case r.default.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case r.default.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case r.default.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case r.default.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case r.default.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case r.default.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case s.a.UPDATE_NAME:return this.reducer.updateName(e,t);case s.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case s.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case s.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case s.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case s.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case s.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case s.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case s.a.ADD_COLOR:return this.reducer.addColor(e,t);case s.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case s.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case s.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case s.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case s.a.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case s.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case s.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case s.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case s.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case s.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case s.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case s.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case s.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case s.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case s.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case s.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case s.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case s.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case s.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case s.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case s.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case s.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case s.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case s.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case s.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case s.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case s.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case s.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case s.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case s.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case s.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case s.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case s.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case s.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case s.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case s.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case s.a.ADD:return this.add(e,t);case s.a.ACTIVATE:return this.activateStyleguide(e,t);case s.a.ARCHIVE:return this.archiveStyleguide(e,t);case s.a.REMOVE:return this.remove(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.default.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case s.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case r.default.TRANSFER_OWNERSHIP:case s.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case s.a.LOAD:return this.load(e,t);case s.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case u.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case u.a.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case r.default.SELECT_PARENT:return this.selectParent(e,t);case r.default.REMOVE_PARENT:return this.removeParent(e,t);case r.default.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case r.default.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case r.default.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);case c.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case c.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case c.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case c.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case c.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);case h.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case h.a.RESET:return this.reset();case h.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(351);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return s(s({},e),{},{overridingCategory:t})}reduce(e,t){switch(t.type){case r.default.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),r=i(n(353)),a=i(n(278));class s extends o.default{constructor(e){super(e)}getInitialState(){return{channels:[],loading:!0}}reset(){return this.getInitialState()}setTeamsIntegration(e,t){return Object.assign(Object.assign({},e),{channels:t,loading:!1})}reduce(e,t){switch(t.type){case a.default.RESET:return this.reset();case r.default.SET_TEAMS_INTEGRATION:return this.setTeamsIntegration(e,t.channels);default:return e}}}t.default=s},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_TEAMS_INTEGRATION="teamsIntegration/getTeamsIntegration",e.SET_TEAMS_INTEGRATION="teamsIntegration/setTeamsIntegration"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(348),a=n(279),s=n.n(a),l=n(278),c=n.n(l),d=n(249),u=n(332),p=n(253),h=n(302);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:o=[]}=e[n];return g(g({},t),{},{[n]:{colors:i.map(e=>new p.default(g({_id:Object(d.getRandomString)()},e))),textStyles:o.map(e=>new h.default(g({_id:Object(d.getRandomString)()},e)))}})},{})}class S extends o.a{getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1,multipleColorsSupportedHintBoxVisible:!1,exportToStyleguideHintBoxVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:r,textStyles:a}}=n;if(!r.length)return e;const s=new p.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{textStyles:a,colors:r.filter(e=>e.id!==s.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:r}}=n;return r.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:o}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:r,textStyles:a}}=n;if(!a.length)return e;const s=new h.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{colors:r,textStyles:a.filter(e=>e.id!==s.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:o}=t;if(!n[o])return e;const{[o]:{textStyles:r}}=n;return r.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:o}),e):e}changeHintBoxVisibilities(e,t){const{colorsToAdd:n,hasLinkedStyleguideColor:i}=t,o=n.length>0;return g(g({},e),{},{multipleColorsSupportedHintBoxVisible:o,exportToStyleguideHintBoxVisible:i})}hideMultipleColorsSupportedHintBox(e){return g(g({},e),{},{multipleColorsSupportedHintBoxVisible:!1,listVisible:!1})}hideExportToStyleguideHintBox(e){return g(g({},e),{},{exportToStyleguideHintBoxVisible:!1,listVisible:!1})}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return g(g({},e),{},{suggestedResourcesByBarrel:b(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case s.a.OPEN_SCREEN:return this.hideImportsList(e);case c.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case c.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case c.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case c.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case c.a.MIGRATE_COLORS:return this.changeHintBoxVisibilities(e,t);case u.default.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case u.default.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case r.default.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case r.default.SHOW_IMPORTS_LIST:return this.showImportsList(e);case r.default.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case r.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case r.default.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case r.default.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);case r.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:return this.hideMultipleColorsSupportedHintBox(e);case r.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:return this.hideExportToStyleguideHintBox(e);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(356),a=n(357),s=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.a{getInitialState(){return{isGetWebhooksPending:!0,isGetWebhookPending:!1,isCreateWebhookPending:!1,isUpdateWebhookPending:!1,isDeleteWebhookPending:!1,webhooks:[]}}getWebhooksSuccess(e,{webhooks:t}){return c(c({},e),{},{webhooks:t.map(e=>new s.a(e)),isGetWebhooksPending:!1})}getWebhookRequest(e){return c(c({},e),{},{isGetWebhookPending:!0})}getWebhookSuccess(e,{webhook:t}){const{webhooks:n}=e;return c(c({},e),{},{webhooks:n.map(e=>e._id===t._id?new s.a(c(c({},t),{},{complete:!0})):e),isGetWebhookPending:!1})}getWebhookFailure(e){return c(c({},e),{},{isGetWebhookPending:!1})}createWebhookRequest(e){return c(c({},e),{},{isCreateWebhookPending:!0})}createWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t._id).concat(new s.a(t)),isCreateWebhookPending:!1})}createWebhookFailure(e){return c(c({},e),{},{isCreateWebhookPending:!1})}updateWebhookRequest(e){return c(c({},e),{},{isUpdateWebhookPending:!0})}updateWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.map(e=>e._id===t._id?new s.a(t):e),isUpdateWebhookPending:!1})}updateWebhookFailure(e){return c(c({},e),{},{isUpdateWebhookPending:!1})}deleteWebhookRequest(e){return c(c({},e),{},{isDeleteWebhookPending:!0})}deleteWebhookSuccess(e,{webhookId:t}){return c(c({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t),isDeleteWebhookPending:!1})}deleteWebhookFailure(e){return c(c({},e),{},{isDeleteWebhookPending:!1})}reduce(e,t){switch(t.type){case r.default.GET_WEBHOOKS_SUCCESS:return this.getWebhooksSuccess(e,t);case r.default.GET_WEBHOOK_REQUEST:return this.getWebhookRequest(e,t);case r.default.GET_WEBHOOK_SUCCESS:return this.getWebhookSuccess(e,t);case r.default.GET_WEBHOOK_FAILURE:return this.getWebhookFailure(e,t);case r.default.CREATE_WEBHOOK_REQUEST:return this.createWebhookRequest(e,t);case r.default.CREATE_WEBHOOK_SUCCESS:return this.createWebhookSuccess(e,t);case r.default.CREATE_WEBHOOK_FAILURE:return this.createWebhookFailure(e,t);case r.default.UPDATE_WEBHOOK_REQUEST:return this.updateWebhookRequest(e,t);case r.default.UPDATE_WEBHOOK_SUCCESS:return this.updateWebhookSuccess(e,t);case r.default.UPDATE_WEBHOOK_FAILURE:return this.updateWebhookFailure(e,t);case r.default.DELETE_WEBHOOK_REQUEST:return this.deleteWebhookRequest(e,t);case r.default.DELETE_WEBHOOK_SUCCESS:return this.deleteWebhookSuccess(e,t);case r.default.DELETE_WEBHOOK_FAILURE:return this.deleteWebhookFailure(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";n.r(t);t.default={GET_WEBHOOKS_REQUEST:"getWebhooksRequest",GET_WEBHOOKS_SUCCESS:"getWebhooksSuccess",GET_WEBHOOK_REQUEST:"getWebhookRequest",GET_WEBHOOK_SUCCESS:"getWebhookSuccess",GET_WEBHOOK_FAILURE:"getWebhookFailure",CREATE_WEBHOOK_REQUEST:"createWebhookRequest",CREATE_WEBHOOK_SUCCESS:"createWebhookSuccess",CREATE_WEBHOOK_FAILURE:"createWebhookFailure",UPDATE_WEBHOOK_REQUEST:"updateWebhookRequest",UPDATE_WEBHOOK_SUCCESS:"updateWebhookSuccess",UPDATE_WEBHOOK_FAILURE:"updateWebhookFailure",DELETE_WEBHOOK_REQUEST:"deleteWebhookRequest",DELETE_WEBHOOK_SUCCESS:"deleteWebhookSuccess",DELETE_WEBHOOK_FAILURE:"deleteWebhookFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(256));class r extends o.default{constructor(e){super();const{_id:t,url:n,status:i,urlHealth:o,subscriptions:r,subscribedAllEvents:a,createdBy:s,updatedBy:l,created:c,updated:d,oauthApp:u,complete:p}=e;this.id=t,this._id=t,this.url=n,this.status=i,this.urlHealth=o,this.subscriptions=r,this.subscribedAllEvents=a,this.createdBy=s,this.updatedBy=l,this.created=c,this.updated=d,this.oauthApp=u,this.complete=p}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),r=n(359),a=n(275),s=n.n(a),l=n(360);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loading:!0,userId:null,username:null,fullName:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,selectedView:l.USER_MENU,acquaintancesLoading:!1,acquaintancesError:null,acquaintances:null,offers:[]}}loadUser(e,t){if(!t)return e;const{_id:n,username:i,fullName:o,email:r,status:a,avatar:s,emotar:l,emailNotifications:c,billing:u,paymentPlan:p,offers:h}=t;return d(d({},e),{},{userId:n,username:i,fullName:o,email:r,verified:"verified"===a,avatar:s,emotar:l,isEmailNotificationEnabled:c,billing:u,paymentPlan:p,offers:h,loading:!1})}updateUser(e,t){return d(d(d({},e),t),{},{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}markZeplinThreeZeroWhatsNewAsSeen(e){return d(d({},e),{},{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return d(d({},e),{},{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return d(d({},e),{},{shouldDisplayStyleguideTutorial:!1})}stopPromotingExportDesignTokens(e){return d(d({},e),{},{shouldPromoteExportDesignTokens:!1})}acquaintancesRequested(e){return d(d({},e),{},{acquaintancesLoading:!0,acquaintancesError:null,acquaintances:null})}setAcquaintances(e,t){return d(d({},e),{},{acquaintancesLoading:!1,acquaintances:t})}getAcquaintancesFailed(e,t){return d(d({},e),{},{acquaintancesLoading:!1,acquaintancesError:t})}reduce(e,t){switch(t.type){case s.a.HYDRATE_EMBEDDED_DATA:case r.default.LOAD_USER:return this.loadUser(e,t.user);case r.default.UPDATE_USER:return this.updateUser(e,t.user);case r.default.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case r.default.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case r.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case r.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case r.default.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);case r.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:return this.stopPromotingExportDesignTokens(e);case r.default.ACQUAINTANCES_REQUESTED:return this.acquaintancesRequested(e);case r.default.SET_ACQUAINTANCES:return this.setAcquaintances(e,t.acquaintances);case r.default.GET_ACQUAINTANCES_FAILED:return this.getAcquaintancesFailed(e,t.error);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={LOAD_USER:"user/loadUser",UPDATE_USER:"user/updateUser",SET_SELECTED_VIEW:"user/setSelectedView",MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:"user/markZeplinThreeZeroWhatsNewAsSeen",STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:"user/stopPromotingSpacingSectionDescriptionEditButton",HIDE_STYLEGUIDE_TUTORIAL:"user/hideStyleguideTutorial",STOP_PROMOTING_EXPORT_DESIGN_TOKENS:"user/stopPromotingExportDesignTokens",ACQUAINTANCES_REQUESTED:"user/acquaintancesRequested",SET_ACQUAINTANCES:"user/setAcquaintances",GET_ACQUAINTANCES_FAILED:"user/getAcquaintancesFailed",SET_USER_ATTRIBUTE:"user/setUserAttribute"}},function(e,t,n){"use strict";n.r(t),n.d(t,"EMOTARS",(function(){return i})),n.d(t,"USER_MENU",(function(){return o}));const i="emotars",o="userMenu"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e){const{id:t,label:n,accelerator:o,type:r,enabled:a,checked:s,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=o,this.type=r,this.enabled=a,this.checked=s,this.visible=l,this.role=c,this.submenu=d?d.map(e=>new i(e)):null}}},function(e,t,n){"use strict";n.r(t);t.default={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",RESET_APP_ZOOM_FACTOR:"RESET_APP_ZOOM_FACTOR",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",EXPAND_ALL_SECTIONS:"EXPAND_ALL_SECTIONS",COLLAPSE_ALL_SECTIONS:"COLLAPSE_ALL_SECTIONS",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271)),r=i(n(364)),a=n(248),s=i(n(263)),l=n(230),c={[s.default.PROJECT]:a.permissions.canCreateProject,[s.default.STYLEGUIDE]:a.permissions.canCreateStyleguide};function d(e){const{barrelId:t}=o.default.BarrelStore.getState(),{selectedOrganizationId:n}=o.default.SpaceStore.getState(),{paymentPlan:i}=o.default.UserStore.getState(),{organizations:a,organizationProfiles:s}=o.default.OrganizationStore.getState(),d=t?r.default.findBarrelOrganizationId(t):n,u="string"==typeof i?"free"!==i:"free"!==i.id;if("user"===d)return u||l.isWindowsApp;const p=a.find(e=>e._id===d),h=s[d];return p&&"suspended"!==p.status&&h&&c[e](h)}t.default={canCreateProject:function(){return d(s.default.PROJECT)},canCreateStyleguide:function(){return d(s.default.STYLEGUIDE)}}},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(365),a=n(263),s=n.n(a),l=n(245),c=n(248),d=n(331),u=n(367),p=n.n(u);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b({bid:e}={}){let t=e;if(t||({barrelId:t}=o.a.BarrelStore.getState()),!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();if(n&&t in n)return n[t];const{styleguides:i}=o.a.StyleguidesDataStore.getState();return i&&t in i?i[t]:null}function S({bid:e,uid:t}={}){const n=b({bid:e});if(!n)return null;let i=t;if(i||({userId:i}=o.a.UserStore.getState()),Object(c.isOrganizationProject)(n)){const{members:e}=r.default.getOrganization()||{};if(e&&e.length)return e.find(({user:e})=>e._id===i)}return n.users.find(({user:e})=>e._id===i)}function y(e){const{organizationId:t="user",barrelType:n=s.a.PROJECT}=o.a.BarrelStore.getState(),i=S(),r=n===s.a.PROJECT?"projects":"styleguides";return"user"!==t&&i?Object(l.urlResolve)("workspace-"+r,{url:{oid:t},query:e}):Object(l.urlResolve)(r,{query:e})}function v(e,t){return e.some(({user:{_id:e}})=>e===t._id)}function C(e,t){let n;if("linked"===e.status){const e=t.find(e=>"linked"!==e.remPreferences.status);n=e&&e.remPreferences}return n||e}function O(e,t){let n;return"linked"!==e.status&&(n=t.find(e=>"linked"!==e.remPreferences.status&&"web"===e.type)),n&&{name:n.name,remPreferences:n.remPreferences}}t.default={hasProject:function(e){const{projects:t}=o.a.ProjectsDataStore.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=o.a.StyleguidesDataStore.getState();return t&&e in t},getBarrel:b,getProject:function({pid:e}={}){let t=e;if(!t){const{barrelId:e,barrelType:n}=o.a.BarrelStore.getState();n===s.a.PROJECT&&(t=e)}if(!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();return n&&t in n?n[t]:null},findUser:S,isUserRestricted:function(){const e=S();return e&&"pawn"===e.role},findBarrelOrganizationId:function(e){if(!b({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(t))if(o.includes(e))return i;for(const[i,o]of Object.entries(n))if(o.includes(e))return i;return null},getWorkspaceURL:y,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const i=e.getState(),{loading:o}=i,r=m(i,["loading"]);if(o)return[];const{styleguides:a}=t.getState(),l=b(),u=S(),{barrelId:p,barrelType:h}=r;if(l.partial||!u)return[];const{name:g,type:y,colors:E,textStyles:T,spacingSections:_,remPreferences:P,componentSections:j,connectedComponents:D,localConnectedComponents:k,users:I,dimensionSuffix:R,densityScale:A}=l,w=h===s.a.STYLEGUIDE?g:"Local Styleguide",N=function(e,t){if(t===s.a.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(l,h).map(e=>a[e]).filter(Boolean);return[{id:p,name:w,type:y,colors:E,textStyles:T,spacingSections:_.map(e=>f(f({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(P,N),parentStyleguideToInheritRemPreferences:O(P,N),componentSections:j,connectedComponents:D,localConnectedComponents:k,isMember:v(I,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(l),dimensionSuffix:R,densityScale:A},...N.map((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map(e=>f(f({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(e.remPreferences,N.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:v(e.users,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale}))]},navigateToWorkspace:function(e){const t=y(e);setTimeout(()=>p.a.history.push(t),4)}}},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(366);function a(e){const{organizationProjects:t}=o.a.OrganizationStore.getState(),{projects:n}=o.a.ProjectsDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])}function s(e){const{organizations:t,organizationProjects:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(n))if(o.includes(e)){const n=t.find(e=>e._id===i);if(n&&n.sections){const t=n.sections.find(t=>t.projects.find(t=>t===e));if(t)return t}}return null}function l({itemIds:e,visibleItems:t,visibleTargetIndex:n,firstDroppableIndex:i=0}){let o;return t.length<=i?e.length:n===i?(o=t[n],e.indexOf(o._id)):(o=t[n-1],e.indexOf(o._id)+1)}function c(e,t){const{showArchivedProjects:n}=o.a.SpaceStore.getState(),i=Object(r.getOrganization)(e).sections.find(e=>e._id===t),s=a(e);return i.projects.map(e=>s.find(t=>t._id===e&&(n||"archived"!==t.status))).filter(Boolean)}t.default={getOrganization:r.getOrganization,getOrganizationMembers:r.getOrganizationMembers,getOrganizationMember:r.getOrganizationMember,getOrganizationProjectsWithLookup:r.getOrganizationProjectsWithLookup,getOrganizationProjects:a,getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=o.a.OrganizationStore.getState(),{styleguides:n}=o.a.StyleguidesDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=o.a.OrganizationStore.getState(),{workflowStatuses:i}=n.find(({id:t})=>t===e)||{};return i.find(({_id:e})=>e===t)},getOrganizationProfile:function(e){const{organizationProfiles:t}=o.a.OrganizationStore.getState();return t[e]},getCollapsableSectionIds:r.getCollapsableSectionIds,getCollapsedSectionIds:r.getCollapsedSectionIds,getExpandedSectionIds:r.getExpandedSectionIds,findSectionIndicesOfProjects:function(e,t){const{sections:n}=Object(r.getOrganization)(e);return t.map(e=>{const t=n.find(t=>t.projects.includes(e)),i=t.projects.findIndex(t=>t._id===e);return{pid:e,oseid:t._id,index:i}})},findProjectOrganizationId:r.findProjectOrganizationId,findProjectOrganizationSection:s,findProjectOrganizationSectionId:function(e){const t=s(e);return t?t._id:null},findActualDropIndex:l,getVisibleProjectsOfSection:c,whereToDropSectionInWorkspace:function({oid:e,index:t}){const{sections:n,sectionIds:i}=Object(r.getOrganization)(e);return l({itemIds:i,visibleItems:n,visibleTargetIndex:t,firstDroppableIndex:1})},whereToDropProjectInSection:function({oid:e,oseid:t,index:n}){const i=Object(r.getOrganization)(e).sections.find(e=>e._id===t),o=c(e,t),a=void 0===n?o.length:n;return l({itemIds:i.projects,visibleItems:o,visibleTargetIndex:a})}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrganizationProjectsWithLookup=t.getExpandedSectionIds=t.getCollapsedSectionIds=t.getCollapsableSectionIds=t.findProjectOrganizationId=t.getOrganizationMember=t.getOrganizationMembers=t.getOrganization=void 0;const o=i(n(271));function r(e,{pid:t}={}){let n=null!=e?e:o.default.BarrelStore.getState().organizationId;if(!n&&t&&(n=s(t)),!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return i.find(e=>e._id===n)}function a(e){var t;const n=e||o.default.BarrelStore.getState().organizationId;if(!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return null===(t=i.find(({_id:e})=>e===n))||void 0===t?void 0:t.members}function s(e){const{organizationProjects:t}=o.default.OrganizationStore.getState();for(const[n,i]of Object.entries(t))if(i.includes(e))return n;return null}function l(e){return r(e||o.default.SpaceStore.getState().selectedOrganizationId).sections.filter(e=>"individual"!==e.type).map(e=>e._id)}t.getOrganization=r,t.getOrganizationMembers=a,t.getOrganizationMember=function(e,t){const n=a(e);return n?n.find(({user:e})=>e._id===t):null},t.findProjectOrganizationId=s,t.getCollapsableSectionIds=l,t.getCollapsedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>t[e])},t.getExpandedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>!t[e])},t.getOrganizationProjectsWithLookup=function({oid:e,archivedProjectsVisible:t}){const{organizationProjects:n}=o.default.OrganizationStore.getState(),{projects:i}=o.default.ProjectsDataStore.getState(),r=n[e];if(r)return r.reduce((e,n)=>t||"archived"!==i[n].status?(e.projects.push(i[n]),e.lookup[n]=i[n],e):e,{projects:[],lookup:{}})}},function(e,t,n){"use strict";var i,o,r,a,s,l,c,d,u,p,h,f,g,m,b,S,y,v,C,O,E,T,_=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},P=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const j=n(245),D=n(229);class k{constructor(e,t){i.set(this,void 0),o.set(this,void 0),r.set(this,void 0),a.set(this,e=>{if("#"!==P(this,i).href&&(!P(this,o).match(P(this,i).href)||D.cmdKey(e)))return;if(e.preventDefault(),P(this,i).href===window.location.href)return;if(P(this,o).shouldPreventNavigation(P(this,i).href,e))return;const t={};"flowNav"in P(this,i).dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":P(this,o).history.replace(P(this,i).href,t);break;case"pop":P(this,o).history.pop();break;case"push":default:P(this,o).history.push(P(this,i).href,t)}"back"in P(this,i).dataset&&(P(this,i).dataset.back&&P(this,o).onSetBackButton?P(this,o).onSetBackButton(P(this,i).dataset.back,n):P(this,o).onResetBackButton&&P(this,o).onResetBackButton())}),_(this,i,e),_(this,o,t),P(this,i).routerLink&&P(this,i).removeEventListener("click",P(P(this,i).routerLink,r)),_(this,r,P(this,a).bind(this)),P(this,i).routerLink=this,P(this,i).addEventListener("click",P(this,r))}get element(){return P(this,i)}get navigationOperation(){return P(this,i).dataset.navOp}}i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap;class I{constructor(e){s.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),u.set(this,void 0),p.set(this,{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}),this.attach=e=>{const t=P(this,c);return P(this,l)[t]=e,_(this,c,+P(this,c)+1),t},this.detach=e=>{delete P(this,l)[e]},this.push=(e,{state:t,flowNavigation:n}={})=>{n?P(this,d).push({url:location.href,state:P(this,s).state}):P(this,d).length=0,P(this,s).pushState(t,"",e),P(this,h).call(this,{action:P(this,p).PUSH_STATE,state:t,url:e})},this.replace=(e,{state:t,flowNavigation:n}={})=>{n?P(this,d).push({url:location.href,state:P(this,s).state}):P(this,d).length=0,P(this,s).replaceState(t,"",e),P(this,h).call(this,{action:P(this,p).REPLACE_STATE,state:t,url:e})},this.pop=()=>{if(!P(this,d).length)return;const{state:e,url:t}=P(this,d).pop();P(this,s).pushState(e,"",t),P(this,h).call(this,{action:P(this,p).PUSH_STATE,state:e,url:window.location.toString()})},h.set(this,e=>{Object.keys(P(this,l)).forEach(t=>{P(this,l)[t](e)},this)}),f.set(this,e=>{P(this,u).onResetBackButton&&P(this,u).onResetBackButton(),P(this,h).call(this,{action:P(this,p).POP_STATE,state:e.state,url:window.location.toString()})}),_(this,s,window.history),_(this,l,{}),_(this,c,0),_(this,d,[]),_(this,u,e),window.addEventListener("popstate",P(this,f).bind(this))}}s=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap;g=new WeakMap,m=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakMap,v=new WeakMap,C=new WeakMap,O=new WeakMap,E=new WeakMap,T=new WeakMap;const R=new class{constructor(){g.set(this,void 0),m.set(this,void 0),b.set(this,void 0),this.match=e=>!!P(this,C).call(this,P(this,v).call(this,e)).length,this.route=(e,t,{unshift:n}={unshift:!1})=>(P(this,y).call(this,{regex:e,handler:t},{unshift:n}),this),this.start=e=>(P(this,T).call(this,e),P(this,O).call(this,window.location.href),this),this.reload=()=>P(this,O).call(this,window.location.href,{reload:!0}),this.addPrevention=(e,t)=>P(this,m).push({regex:e,handler:t}),this.onSetBackButtonCallback=e=>{this.onSetBackButton=e},this.onResetBackButtonCallback=e=>{this.onResetBackButton=e},this.shouldPreventNavigation=(e,t)=>{const n=P(this,v).call(this,e);return P(this,m).find(({regex:e,handler:i})=>e.test(n.pathname)&&i({url:n,match:n.pathname.match(e).slice(1),query:j.parseUrlParams(n.search),ev:t}))},S.set(this,e=>new k(e,this)),y.set(this,(e,{unshift:t})=>{t?P(this,g).unshift(e):P(this,g).push(e)}),v.set(this,e=>"string"==typeof e?new URL(e,window.location.origin):e),C.set(this,e=>P(this,g).filter(t=>t.regex.test(e.pathname))),O.set(this,(e,{reload:t=!1}={})=>{const n=P(this,v).call(this,e),i=P(this,C).call(this,n);if(i.length)return i.reduce((e,i)=>e.then(()=>i.handler({url:n,match:n.pathname.match(i.regex).slice(1),query:j.parseUrlParams(n.search),reload:t})),Promise.resolve());location.assign(n.toString())}),E.set(this,e=>e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce((e,t)=>e.concat(P(this,E).call(this,t)),[])),T.set(this,e=>{const t=e.querySelectorAll('[data-link-type="inApp"]');Array.from(t).forEach(e=>{P(this,S).call(this,e)});new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type){const t=e.target;"inApp"===t.dataset.linkType&&P(this,S).call(this,t)}else"childList"===e.type&&Array.from(e.addedNodes).forEach(e=>{P(this,E).call(this,e).forEach(e=>{P(this,S).call(this,e)})})})}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}),_(this,g,[]),_(this,m,[]),_(this,b,new I(this)),this.onSetBackButton=null,this.onResetBackButton=null,P(this,b).attach(e=>{P(this,O).call(this,e.url)})}get history(){return P(this,b)}};t.default=R},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(361),o=n(362),r=n(369),a=n(248),s=n(271),l=n.n(s),c=n(364),d=n(263),u=n.n(d),p=n(370);function h(e,t,n){return e?{id:t===u.a.PROJECT?o.default.DELETE_PROJECT:o.default.DELETE_STYLEGUIDE,label:t===u.a.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&a.permissions.canDeleteProject(n)}:{id:o.default.DELETE_PROJECT,label:"Delete project…",enabled:!1}}function f(e,t,n){return e?{id:t===u.a.PROJECT?o.default.LEAVE_PROJECT:o.default.LEAVE_STYLEGUIDE,label:t===u.a.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===u.a.PROJECT?a.permissions.canLeaveProject(n):a.permissions.canLeaveStyleguide(n)}:{id:o.default.DELETE_PROJECT,label:"Leave project…",enabled:!1}}function g(e,t,n){return e&&t?{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:a.permissions.canManageScreens(n)}:{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:!1}}function m(e,t,n){return e&&t?{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:a.permissions.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}:{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1}}function b(e,t,n){if(!e||!t)return{id:o.default.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?o.default.MANAGE_TAGS:o.default.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:a.permissions.canManageScreens(n)}}function S(){const{barrelType:e}=l.a.BarrelStore.getState(),t=c.default.getBarrel(),n=p.default.getScreen(),a=c.default.findUser();return new i.default({id:o.default.EDIT_SUBMENU,label:"Edit",submenu:[h(t,e,a),f(t,e,a),r.default,g(t,n,a),r.default,m(t,n,a),r.default,b(t,n,a)]})}},function(e,t,n){"use strict";n.r(t),t.default={type:"separator"}},function(e,t,n){"use strict";n.r(t);var i=n(364),o=n(271),r=n.n(o),a=n(371),s=n(245),l=n(367),c=n.n(l);function d({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.screens)return null;let o=t;return o||({screenId:o}=r.a.ScreenStore.getState()),o?n.screens.find(e=>e._id===o):null}function u(){const e=i.default.getBarrel();if(!e||!e.screens)return null;const{filterValue:t,sortType:n,tagFilter:o,jiraIssueFilter:s}=r.a.DashboardStore.getState(),{sortedSections:l}=Object(a.filterSortScreens)(e,n,{filterValue:t,tagFilter:o,jiraIssueFilter:s});return l.flatMap(e=>e.screens)}function p({bid:e,sid:t}={}){const n=d({bid:e,sid:t});return n&&n.dots?n.dots:null}function h({bid:e,sid:t,did:n}={}){const i=p({bid:e,sid:t});if(!i)return null;let o=n;return o||({dotId:o}=r.a.DotsStore.getState()),o?i.find(e=>e._id===o):null}t.default={getScreen:d,getVersion:function({bid:e,sid:t,vid:n}={}){const i=d({bid:e,sid:t});if(!i||!i.versions)return null;let o=n;return o||({versionId:o}=r.a.ScreenStore.getState()),o?i.versions.find(e=>e._id===o):null},getVisibleScreens:u,getPreviousScreen:function(e){const t=u();if(!t)return null;const n=t.findIndex(t=>t._id===e);return n<1?null:t[n-1]},getNextScreen:function(e){const t=u();if(!t)return null;const n=t.findIndex(t=>t._id===e);return-1===n||n===t.length-1?null:t[n+1]},getSectionOfScreen:function({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.sections)return null;let o=t;return o||({screenId:o}=r.a.ScreenStore.getState()),o?n.sections.find(e=>e.screens.includes(o)):null},getDots:p,getDot:h,getComment:function({bid:e,sid:t,did:n,cmid:i}={}){const o=h({bid:e,sid:t,did:n});return o&&o.comments?o.comments.find(e=>e._id===i):null},navigateToScreen:function(e){const{barrelId:t}=r.a.BarrelStore.getState();c.a.history.push(Object(s.urlResolve)("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createItemSectionMap",(function(){return y})),n.d(t,"filterSortScreens",(function(){return C})),n.d(t,"filterSortProjectSections",(function(){return v}));var i=n(248),o=n(232),r=n(257),a=n(329),s=n(249),l=n(314),c=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n){return{_id:e,[n]:t,type:"default",name:"default"}}function f(e,t,n){const o={};return e.filter(e=>{const i=n&&n(e),a=Object(r.calculateMatchingScore)(t,e.name,i);return o[e._id]=a,a}).sort((e,t)=>{const n=o[t._id]-o[e._id];return n||i.sortBy.name(e,t)})}function g({sections:e,items:t,itemsLookup:n,itemKey:r,sortType:a,shouldPutResultsToDefaultSection:l=!1}){if(!i.sortBy[a])return S(e,n,t,r);const c=t.slice(0).sort(i.sortBy[a]);return l?[h("sorted",c,r)]:a===o.SortTypes.CREATED||a===o.SortTypes.UPDATED?function(e,t){const n=[],o={};return e.forEach(e=>{const t=Object(i.getTimeSlot)(new Date(e.updated));let r;t in o?r=o[t]:(n.push(t),r=[],o[t]=r),r.push(e)},{}),n.map(e=>({_id:e,name:Object(s.uppercaseFirst)(e),actionsDisabled:!0,[t]:o[e],type:"timeline"}))}(c,r):a===o.SortTypes.NAME?function(e,t){const n=[],i=e.reduce((e,t)=>{const i=t.name.substr(0,1),o=Object(s.isLetter)(i)?i.toUpperCase():"#";return e[o]?e[o].push(t):(n.push(o),e[o]=[t]),e},{});return n.map(e=>({_id:e,name:e,actionsDisabled:!0,[t]:i[e],type:"name"}))}(c,r):void 0}function m(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;var i;return t.tags.length?(i=t.tags,n=Array.isArray(i)?e=>i.reduce((t,n)=>t&&e.tags&&e.tags.includes(n),!0):e=>e.tags&&e.tags.includes(i)):t.untagged&&(n=e=>!e.tags||!e.tags.length),e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}function b(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter(e=>t.some(t=>t.toLowerCase()===e.issueKey.toLowerCase())),o=i.filter(e=>"section"===e.type),r=i.filter(e=>"screen"===e.type),a=y(e.sections,"screens"),s=e.screens.map(e=>u(u({},e),{},{sectionId:a[e._id]})).filter(e=>r.find(t=>t.itemId===e._id)||o.find(t=>t.itemId===e.sectionId));return{filteredSections:e.sections.filter(e=>s.find(t=>t.sectionId===e._id)||!Object.values(a).includes(e._id)&&o.find(t=>t.itemId===e._id)).map(e=>u(u({},e),{},{screens:s.filter(t=>t.sectionId===e._id).map(e=>e._id)})),filteredScreens:s}}function S(e,t,n,i){return e&&e.length?e.map(e=>{let o=u({},e);return o[i]=e[i].map(e=>t?t[e]:n.find(t=>t._id===e)).filter(Boolean),e.type||(o.type="user"),o}):[]}function y(e,t){return e.reduce((e,n)=>(n[t].forEach(t=>{e[t]=n._id}),e),{})}function v({sections:e,projects:t,projectsLookup:n,sortType:o,filterValue:r=null,statusFilter:a=null,shouldPutResultsToDefaultSection:s}){if(r)return function(e,t,n,o){const r=y(e,"projects");let a=f(t,o,e=>Object(i.getPlatformString)(e.type)).reduce((e,t)=>{const n=r[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{}),s=f(e,o);return S(e.map(e=>a[e._id]?u(u({},e),{},{projects:a[e._id],collapsed:!0}):s.find(t=>t._id===e._id)).filter(Boolean),n,t,"projects")}(e,t,n,r);const{filteredSections:l,filteredProjects:d}=function(e,t,n){if(!n||n===c.a.All._id)return{filteredSections:e,filteredProjects:t};const i=y(e,"projects"),o=t.filter(({workflowStatus:{_id:e}})=>e===n),r=o.reduce((e,t)=>{const n=i[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{});return{filteredSections:e.map(e=>r[e._id]?u(u({},e),{},{projects:r[e._id],collapsed:!0}):null).filter(Boolean),filteredProjects:o}}(e,t,a);return g({sections:l,items:d,itemsLookup:n,itemKey:"projects",sortType:o,shouldPutResultsToDefaultSection:s})}function C(e,t,{filterValue:n,tagFilter:i,jiraIssueFilter:o}){let r,s;if(n)return r=function(e,t){const n=f(e.screens,t),{jira:i}=e.integration||{};if(i){const{filteredScreens:i}=b(e,[t]);n.push(...i.filter(e=>!n.some(t=>t._id===e._id)))}return n.length>0?[h("filtered",n,"screens")]:[]}(e,n.toLowerCase()),{sortedSections:r,visibleTags:e.tags};const{filteredSections:l,filteredScreens:c}=b(e,o);return r=m(g({sections:l,items:c,itemKey:"screens",sortType:t}),i),r.length&&e.sections[0]._id===r[0]._id&&(r[0].type="default"),s=Object(a.extractTagsFromScreens)(c),{sortedSections:r,visibleTags:s}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var i=n(362),o=n(364),r=n(370),a=n(365),s=n(373),l=n.n(s),c=n(374),d=n.n(c),u=n(230),p=n(369),h=n(263),f=n.n(h),g=n(271),m=n.n(g),b=n(361),S=n(232);const y=/^\/login/;function v(e,t){const n=!!e&&!!t;return[{id:i.default.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.default.ZOOM_OUT,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.default.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n},{role:"zoomin",visible:!1},{role:"zoomout",visible:!1},{role:"resetzoom",visible:!1}]}function C(e,t){const n=!!e&&!!t&&u.featureValue.popout;return{id:i.default.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}function O(e,t,n){const o=!e&&!y.test(location.pathname),r=!y.test(location.pathname),a=!!e&&n===S.ProjectViewTypes.DASHBOARD,s=!!e&&t===f.a.PROJECT,l=!!e&&n===S.ProjectViewTypes.STYLEGUIDE,c=!!e&&t===f.a.PROJECT;return[{id:i.default.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:o,enabled:r},p.default,{id:i.default.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:a,enabled:s},{id:i.default.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:c}]}function E(e){const t=!!e;return{id:i.default.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}function T(e,t){const{page:n}=m.a.AppStore.getState(),{selectedTab:o,selectedProjectSortType:r,selectedOrganizationId:s}=m.a.SpaceStore.getState();let c=0,u=0;if("workspace"===n&&o===S.WorkspaceTabs.PROJECTS)r===S.SortTypes.SECTIONS&&(c=a.default.getCollapsableSectionIds(s).length,u=a.default.getCollapsedSectionIds(s).length);else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.DASHBOARD){const{sortType:e}=m.a.DashboardStore.getState();e===S.SortTypes.SECTIONS&&(c=l.a.getCollapsableSectionIds().length,u=l.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}const p=u>0,h=0!==c&&c!==u;return[{id:i.default.EXPAND_ALL_SECTIONS,label:"Expand all sections",enabled:p},{id:i.default.COLLAPSE_ALL_SECTIONS,label:"Collapse all sections",enabled:h}]}function _(e,t,n){const o=!!e&&!!t,r=n?"Hide versions":"Show versions";return{id:n?i.default.HIDE_VERSIONS:i.default.SHOW_VERSIONS,label:r,enabled:o}}function P(e){return e?[p.default,{id:i.default.RESET_APP_ZOOM_FACTOR,label:"Reset app zoom factor"}]:[]}function j(e,t){const n=o.default.getBarrel(),a=r.default.getScreen(),{selectedView:s,barrelType:l}=m.a.BarrelStore.getState(),{versionsVisible:c}=m.a.ScreenStore.getState();return new b.default({id:i.default.VIEW_SUBMENU,label:"View",submenu:[...v(n,a),p.default,C(n,a),p.default,...O(n,l,s),p.default,E(n),p.default,...T(l,s),p.default,_(n,a,c),{id:i.default.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},...P(t),p.default,{id:i.default.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},p.default,{id:i.default.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.default.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.default.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.default.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(364)),r=i(n(271));function a(){const e=o.default.getBarrel();if(!e)return[];const{sections:t}=e;return t?t.filter(e=>"default"!==e.name&&e.screens.length>0).map(e=>e._id):[]}t.default={getCollapsableSectionIds:a,getCollapsedSectionIds:function(){const{collapsedSections:e}=r.default.DashboardStore.getState();return a().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=r.default.DashboardStore.getState();return a().filter(t=>!e[t])}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(364)),r=i(n(271));function a(){const e=o.default.getStyleguidesData({barrelStore:r.default.BarrelStore,styleguidesDataStore:r.default.StyleguidesDataStore,projectsDataStore:r.default.ProjectsDataStore}),t=[];return e.forEach(({componentSections:e})=>{e.forEach(e=>{"default"!==e.name&&t.push(e._id)})}),t}t.default={getCollapsableSectionIds:a,getCollapsedSectionIds:function(){const{collapsedSections:e}=r.default.StyleguideStore.getState();return a().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=r.default.StyleguideStore.getState();return a().filter(t=>!e[t])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(362),o=n(361);function r(){return new o.default({id:i.default.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(362),o=n(361),r=n(369);const a="IDLE",s={[a]:"Check for updates",["CHECKING_FOR_UPDATES"]:"Checking for updates",["DOWNLOADING_UPDATES"]:"Downloading updates"},l="DISABLED",c="IDLE",d={[c]:"Check for plugin updates",["CHECKING_FOR_UPDATES"]:"Checking for plugin updates",["DOWNLOADING_UPDATES"]:"Downloading plugin updates"};function u({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.default.CHECK_FOR_UPDATES,label:s[e],enabled:e===a};return t===l?[n]:[n,{id:i.default.CHECK_FOR_PLUGIN_UPDATES,label:d[t],enabled:t===c}]}function p({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new o.default({id:i.default.HELP_SUBMENU,label:"Help",submenu:[...u({appUpdaterState:t,pluginUpdaterState:n}),{id:i.default.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},r.default,{id:i.default.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.default.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Adobe Photoshop plugin"},r.default,{id:i.default.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.default.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.default.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.default.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.default.RESET_ZEPLIN,label:"Reset Zeplin"},r.default,{id:i.default.OPEN_HELP_CENTER,label:"Open help center"},r.default,{id:i.default.ABOUT_ZEPLIN,label:"About Zeplin"}]})}},function(e,t,n){"use strict";n.r(t);var i=n(231),o=n(378),r=n(364),a=n(379),s=n(244),l=n(384),c=n.n(l),d=n(370),u=n(385),p=n(388),h=n(374),f=n.n(h),g=n(365),m=n(389),b=n(373),S=n.n(b),y=n(230),v=n(271),C=n.n(v),O=n(245),E=n(367),T=n.n(E),_=n(362),P=n(232),j=n(263),D=n.n(j);const k={newProject(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)r.default.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(O.urlResolve)("projects",{query:{newProject:!0}}):Object(O.urlResolve)("workspace-projects",{url:{oid:e},query:{newProject:!0}});T.a.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)r.default.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(O.urlResolve)("styleguides",{query:{newStyleguide:!0}}):Object(O.urlResolve)("workspace-styleguides",{url:{oid:e},query:{newStyleguide:!0}});T.a.history.push(t)}},openRecentProject(e){T.a.history.push(Object(O.urlResolve)("project",{url:{bid:e}}))},openRecentStyleguide(e){T.a.history.push(Object(O.urlResolve)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=r.default.getBarrel();o.prompt("project",t,()=>{a.default.remove({bid:e,syncWithApi:!0})})},deleteStyleguide(){const{id:e,name:t}=r.default.getBarrel();o.prompt("styleguide",t,()=>{a.default.remove({bid:e,syncWithApi:!0})})},leaveBarrel(){const{userId:e}=C.a.UserStore.getState(),{name:t}=r.default.getBarrel();s.create({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){a.default.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=d.default.getScreen();s.create({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){u.default.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=d.default.getScreen();a.default.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=C.a.ScreenStore.getState();u.default.openTagManager(e)},expandAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===P.WorkspaceTabs.PROJECTS){const e=g.default.getCollapsedSectionIds();c.a.expandSections(e)}else if("barrel"===e&&t===D.a.PROJECT&&n===P.ProjectViewTypes.DASHBOARD){const e=S.a.getCollapsedSectionIds();m.default.expandSections(e)}else if("barrel"===e&&(t===D.a.STYLEGUIDE||t===D.a.PROJECT&&n===P.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=f.a.getCollapsedSectionIds();p.default.expandSections(e)}},collapseAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===P.WorkspaceTabs.PROJECTS){const e=g.default.getExpandedSectionIds();c.a.collapseSections(e)}else if("barrel"===e&&t===D.a.PROJECT&&n===P.ProjectViewTypes.DASHBOARD){const e=S.a.getExpandedSectionIds();m.default.collapseSections(e)}else if("barrel"===e&&(t===D.a.STYLEGUIDE||t===D.a.PROJECT&&n===P.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=f.a.getExpandedSectionIds();p.default.collapseSections(e)}}};y.isWindowsApp&&i.default.ipcRenderer.on("menu-item-clicked",(e,{id:t})=>{if(t.startsWith(_.default.OPEN_RECENT_PROJECT))k.openRecentProject(t.substring(_.default.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(_.default.OPEN_RECENT_STYLEGUIDE))k.openRecentStyleguide(t.substring(_.default.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case _.default.NEW_PROJECT:k.newProject();break;case _.default.NEW_STYLEGUIDE:k.newStyleguide();break;case _.default.DELETE_PROJECT:k.deleteProject();break;case _.default.DELETE_STYLEGUIDE:k.deleteStyleguide();break;case _.default.LEAVE_PROJECT:case _.default.LEAVE_STYLEGUIDE:k.leaveBarrel();break;case _.default.DELETE_SCREEN:k.deleteScreen();break;case _.default.SET_AS_THUMBNAIL:k.setAsThumbnail();break;case _.default.MANAGE_TAGS:case _.default.ADD_TAG:k.manageTags();break;case _.default.ZOOM_IN:u.default.zoomIn();break;case _.default.ZOOM_OUT:u.default.zoomOut();break;case _.default.ACTUAL_SIZE:u.default.resetZoom();break;case _.default.OPEN_POPOUT:u.default.openPopout();break;case _.default.WORKSPACE:r.default.navigateToWorkspace();break;case _.default.DASHBOARD:a.default.goToDashboard();break;case _.default.STYLEGUIDE:a.default.goToStyleguide();break;case _.default.JUMP_TO_SCREEN:a.default.openJumpToPopup();break;case _.default.EXPAND_ALL_SECTIONS:k.expandAllSections();break;case _.default.COLLAPSE_ALL_SECTIONS:k.collapseAllSections();break;case _.default.SHOW_VERSIONS:u.default.showVersions();break;case _.default.HIDE_VERSIONS:u.default.hideVersions()}})},function(e,t,n){"use strict";n.r(t),n.d(t,"prompt",(function(){return h}));var i=n(244),o=n(249);const r=document.getElementById("deleteBarrelDialog"),a=r.querySelector(".barrelType"),s=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,p;function h(e,t,n){d=e,u=t,p=n,a.textContent=d,r.showModal()}i.polyfill.registerDialog(r),s.addEventListener("input",()=>{const e=s.value===u;r.querySelector("button.done").disabled=!e;const t=e?"":Object(o.uppercaseFirst)(d)+" name doesn't match provided value";s.setCustomValidity(t)}),l.addEventListener("click",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&r.close()}),r.addEventListener("close",()=>{s.value="",s.setCustomValidity(""),s.parentElement.classList.remove("typed"),r.querySelector("button.done").disabled=!0}),s.addEventListener("keydown",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),s.value===u&&(r.close(),p())}}),c.addEventListener("click",()=>{s.value===u&&(r.close(),p())})},function(e,t,n){"use strict";n.r(t);var i=n(278),o=n.n(i),r=n(364),a=n(271),s=n.n(a),l=n(365),c=n(249),d=n(253),u=n(263),p=n.n(u),h=n(380),f=n(232);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=24;function y(e={}){if(!e.bid){const{barrelId:t}=s.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=s.a.BarrelStore.getState();e.barrelType=t}return e}function v(e){const t=r.default.getBarrel();if(!t)return!1;const{barrelType:n,selectedView:i}=s.a.BarrelStore.getState(),{selectedStyleguideSection:o}=s.a.StyleguideStore.getState();return!r.default.isUserRestricted()&&(t.id===e||t.ancestors&&t.ancestors.includes(e))&&(n===p.a.STYLEGUIDE||n===p.a.PROJECT&&i===f.ProjectViewTypes.STYLEGUIDE)&&"components"===o}const C={reset(){s.a.dispatcher.dispatch({type:o.a.RESET})},load(e){s.a.dispatcher.dispatch(m({type:o.a.LOAD},e))},updateState(e){s.a.dispatcher.dispatch({type:o.a.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){s.a.dispatcher.dispatch({type:o.a.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){s.a.dispatcher.dispatch({type:o.a.SET_BARREL_ID,barrelId:e})},addToSlack(e){const{bid:t,barrelType:n}=y(e),{name:i}=r.default.getBarrel({bid:t});s.a.dispatcher.dispatch({type:o.a.ADD_TO_SLACK,bid:t,barrelType:n,name:i})},add({oid:e,oseid:t,index:n,barrel:i,barrelType:r,addedWithCopy:a=!1,syncWithApi:l=!1}){s.a.dispatcher.dispatch({type:o.a.ADD,oid:e,oseid:t,index:n,barrel:i,barrelType:r,addedWithCopy:a,syncWithApi:l})},activate(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let r=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();r=Object(h.getStyleguideAndItsDescendants)(e,t)}s.a.dispatcher.dispatch({type:o.a.ACTIVATE,bid:t,barrelType:n,affectedIds:r,syncWithApi:i})},archive(e){const{bid:t,barrelType:n,uid:i,syncWithApi:a=!1}=y(e),{barrelId:l}=s.a.BarrelStore.getState(),{name:c}=r.default.getBarrel({bid:t});let d=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();d=Object(h.getStyleguideAndItsDescendants)(e,t)}const{userId:u}=s.a.UserStore.getState(),f=r.default.findUser({bid:t,uid:i});s.a.dispatcher.dispatch({type:o.a.ARCHIVE,bid:t,barrelType:n,currentBid:l,affectedIds:d,name:c,uid:i,currentUserId:u,user:f,syncWithApi:a})},remove(e){const{bid:t,barrelType:n,uid:i,syncWithApi:a=!1}=y(e),{barrelId:c}=s.a.BarrelStore.getState(),d=r.default.getBarrel({bid:t}),u=r.default.findBarrelOrganizationId(t),h=n===p.a.PROJECT?l.default.findProjectOrganizationSectionId(t):null,{userId:f}=s.a.UserStore.getState(),g=r.default.findUser({bid:t,uid:i});s.a.dispatcher.dispatch({type:o.a.REMOVE,oid:u,oseid:h,bid:t,barrelType:n,currentBid:c,oldBarrel:d,uid:i,currentUserId:f,user:g,syncWithApi:a})},copy(e){const{bid:t,barrelName:n,barrelType:i,options:a,syncWithApi:l=!1}=y(e),c=r.default.findBarrelOrganizationId(t);s.a.dispatcher.dispatch({type:o.a.COPY,bid:t,oid:c,barrelName:n,barrelType:i,options:a,syncWithApi:l})},updateName(e){const{bid:t,barrelType:n,name:i,syncWithApi:a=!1}=y(e);let l;a&&({name:l}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_NAME,bid:t,barrelType:n,name:i,oldName:l,syncWithApi:a})},updateDescription(e){const{bid:t,barrelType:n,description:i,syncWithApi:a=!1}=y(e);let l;a&&({description:l}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:i,oldDescription:l,syncWithApi:a})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:i,syncWithApi:a=!1}=y(e);let l;a&&({densityScale:l}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:i,oldDensityScale:l,syncWithApi:a})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:i,syncWithApi:a=!1}=y(e);let l;a&&({thumbnail:l}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:i,oldThumbnail:l,syncWithApi:a})},addIntegration(e){const{bid:t,intype:n,integration:i,syncWithApi:r=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_INTEGRATION,bid:t,intype:n,integration:i,syncWithApi:r})},removeIntegration(e){const{bid:t,barrelType:n,intype:i,inid:a,syncWithApi:l=!1}=y(e);let c;if(l){c=r.default.getBarrel({bid:t}).integration[i].find(({_id:e})=>e===a)}s.a.dispatcher.dispatch({type:o.a.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:i,inid:a,removedIntegration:c,syncWithApi:l})},toggleScene(e){const{bid:t,barrelType:n,accessibility:i,syncWithApi:a=!1}=y(e);let l;a&&({public:l}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:i,oldAccessibility:l,syncWithApi:a})},enableScene(){C.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){C.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:i,shouldLoadBarrel:r=!1,syncWithApi:a=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_MEMBERS,bid:t,barrelType:n,members:i,shouldLoadBarrel:r,syncWithApi:a})},updateUserRole(e){const{bid:t,barrelType:n,uid:i,role:a,syncWithApi:l=!1}=y(e);let c;if(l){const e=r.default.getBarrel({bid:t});({role:c}=e.findUser(i))}s.a.dispatcher.dispatch({type:o.a.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:i,role:a,oldRole:c,syncWithApi:l})},updateUserData(e){const{bid:t,uid:n,userData:i,syncWithApi:a=!1}=y(e);let l;if(a){const e=r.default.getBarrel({bid:t});({user:l}=e.findUser(n))}s.a.dispatcher.dispatch({type:o.a.UPDATE_USER_DATA,bid:t,uid:n,userData:i,oldUserData:l,syncWithApi:a})},transferOwnership(e){const{bid:t,barrelType:n,uid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,syncWithApi:!0,bid:t,barrelType:n,uid:i})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:i}=y(e),{barrelUser:{user:{_id:r}},organizationId:a}=s.a.BarrelStore.getState();let l;if(n===p.a.STYLEGUIDE){const{styleguides:e}=s.a.StyleguidesDataStore.getState();l=Object(h.getStyleguideAndItsDescendants)(e,t)}s.a.dispatcher.dispatch({type:o.a.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:r,targetId:i,oid:a,bid:t,affectedIds:l})},removeMember(e){const{bid:t,uid:n,mid:i,barrelType:a,syncWithApi:c=!1}=y(e),d=r.default.findBarrelOrganizationId(t),{restricted:u}=l.default.getOrganizationProfile(d)||{},p="user"!==d&&l.default.findProjectOrganizationSectionId(t),{barrelId:h}=s.a.BarrelStore.getState(),f=r.default.getBarrel({bid:t}),{userId:g}=s.a.UserStore.getState(),m=(u||"user"===d)&&i===g,b=r.default.findUser({bid:t,uid:n});let S,v;m?S=f:v=r.default.findUser({bid:t,uid:i}),s.a.dispatcher.dispatch({type:o.a.REMOVE_MEMBER,oid:d,bid:t,uid:n,mid:i,oseid:p,barrelType:a,shouldRemoveBarrel:m,currentBid:h,currentUserId:g,removingUser:b,removedBarrel:S,removedMember:v,syncWithApi:c})},addColor(e){const{bid:t,barrelType:n,color:i,syncWithApi:a=!1}=y(e);let l=i;if(a){const e=r.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getColorName(new d.default(i))}=i;l=m(m({},i),{},{name:o,_id:n})}s.a.dispatcher.dispatch({type:o.a.ADD_COLOR,bid:t,barrelType:n,color:l,syncWithApi:a})},addMultipleColors(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:a=!1}=t;let{colors:l}=t;if(a){const e=r.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getColorName(new d.default(t)),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}s.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_COLORS,bid:n,barrelType:i,colors:l,syncWithApi:a})},updateColor(e){const{bid:t,barrelType:n,cid:i,colorData:a,syncWithApi:l=!1}=y(e);let c;if(l){var d=r.default.getBarrel({bid:t}).findColorById(i);({}=d),c=Object.assign({},d)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR,bid:t,barrelType:n,cid:i,colorData:a,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:i,syncWithApi:a=!1}=y(e);let l;if(a){l=r.default.getBarrel({bid:t}).findColorById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_COLOR,bid:t,barrelType:n,cid:i,removedColor:l,syncWithApi:a})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let a;if(i){a=r.default.getBarrel({bid:t}).colors}s.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:a,syncWithApi:i})},migrateColors(e){const{bid:t,barrelType:n,colorsToUpdate:i,colorsToAdd:a,hasLinkedStyleguideColor:l,syncWithApi:c=!1}=e,d={};if(c){const e=r.default.getBarrel({bid:t});Object.keys(i).forEach(t=>{const n=e.findColorById(t);d[t]=n})}s.a.dispatcher.dispatch({type:o.a.MIGRATE_COLORS,bid:t,barrelType:n,colorsToUpdate:i,oldDataOfColorsToUpdate:d,colorsToAdd:a,hasLinkedStyleguideColor:l,syncWithApi:c})},updateColorOrder(e){const{bid:t,barrelType:n,cid:i,to:r}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:i,to:r})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:i,syncWithApi:a=!1}=y(e);let l=i;if(a){const e=r.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getTextStyleName()}=i;l=m(m({},i),{},{name:o,_id:n})}s.a.dispatcher.dispatch({type:o.a.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:l,syncWithApi:a})},addMultipleTextStyles(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:a=!1}=t;let{textStyles:l}=t;if(a){const e=r.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}s.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:i,textStyles:l,syncWithApi:a})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:i,textStyleData:a,syncWithApi:l=!1}=y(e);let c;if(l){var d=r.default.getBarrel({bid:t}).findTextStyleById(i);({}=d),c=Object.assign({},d)}s.a.dispatcher.dispatch({type:o.a.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,textStyleData:a,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:i,syncWithApi:a=!1}=y(e);let l;if(a){l=r.default.getBarrel({bid:t}).findTextStyleById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,removedTextStyle:l,syncWithApi:a})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let a;if(i){a=r.default.getBarrel({bid:t}).textStyles}s.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:a,syncWithApi:i})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:i,syncWithApi:r=!1}=y(e);let a=i;if(r){const{_id:e=Object(c.getRandomString)(S)}=i;a=m(m({},i),{},{_id:e})}s.a.dispatcher.dispatch({type:o.a.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:a,syncWithApi:r})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:i,updatedSpacingSection:a,syncWithApi:l=!1}=y(e);let c={};if(l){c=r.default.getBarrel({bid:t}).findSpacingSectionById(i)}s.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,updatedSpacingSection:a,oldSpacingSection:c,syncWithApi:l})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:i,syncWithApi:a=!1}=y(e);let l;if(a){l=r.default.getBarrel({bid:t}).findSpacingSectionById(i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,removedSpacingSection:l,syncWithApi:a})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:i,spacingToken:r,isBaseToken:a=!1,syncWithApi:l=!1}=y(e);let d=r;if(l){const{_id:e=Object(c.getRandomString)(S)}=r;d=m(m({},r),{},{_id:e})}s.a.dispatcher.dispatch({type:o.a.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,isBaseToken:a,spacingToken:d,syncWithApi:l})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:a,updatedSpacingToken:l,syncWithApi:c=!1}=y(e),d=r.default.getBarrel({bid:t}),{baseTokenId:u}=d.findSpacingSectionById(i),p=u===a;let h={};c&&(h=d.findSpacingTokenInsideSectionById(i,a)),s.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:a,isBaseToken:p,updatedSpacingToken:l,oldSpacingToken:h,syncWithApi:c})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:a,syncWithApi:l=!1}=y(e),c=r.default.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(i),u=d===a;let p;l&&(p=c.findSpacingTokenInsideSectionById(i,a)),s.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:a,removedSpacingToken:p,isBaseToken:u,syncWithApi:l})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:i,isRevert:a=!1,syncWithApi:l=!1}=y(e);let c={};if(l){c=r.default.getBarrel({bid:t}).remPreferences}s.a.dispatcher.dispatch({type:o.a.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:i,oldRemPreferences:c,isRevert:a,syncWithApi:l})},addComponent(e){const{bid:t,csids:n,component:i,index:r}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT,bid:t,csids:n,component:i,index:r})},updateComponent(e){const{bid:t,barrelType:n,csids:i,coid:a,componentData:l,syncWithApi:c=!1}=y(e);let d;if(c){var u=r.default.getBarrel({bid:t}).findComponentById(a);({}=u),d=Object.assign({},u)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT,bid:t,barrelType:n,csids:i,coid:a,shouldFetchSnapshot:v(t),componentData:l,oldComponentData:d,syncWithApi:c})},setComponentSnapshot(e){const{bid:t,csids:n,coid:i,vid:r,snapshot:a}=e;s.a.dispatcher.dispatch({type:o.a.SET_COMPONENT_SNAPSHOT,bid:t,csids:n,coid:i,vid:r,snapshot:a})},removeComponent(e){const{bid:t,barrelType:n,csids:i,coid:a,syncWithApi:l=!1}=y(e);let c;if(l){c=r.default.getBarrel({bid:t}).findComponentById(a)}s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT,bid:t,barrelType:n,csids:i,coid:a,oldComponent:c,syncWithApi:l})},addComponentVersion(e){const{bid:t,csids:n,coid:i,componentVersion:r}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_VERSION,bid:t,csids:n,coid:i,shouldFetchSnapshot:v(t),componentVersion:r})},addComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSection:r,isCreateGroup:a=!1,syncWithApi:l=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSection:r,isCreateGroup:a,syncWithApi:l})},updateComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSectionData:a,isComponentGroup:l=!1,syncWithApi:c=!1}=y(e);let d;if(c){var u=r.default.getBarrel({bid:t}).findComponentSection(i);({}=u),d=Object.assign({},u)}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSectionData:a,oldComponentSectionData:d,isComponentGroup:l,syncWithApi:c})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:i,tcsids:a,flatten:l,index:c,syncWithApi:d=!1}=y(e);let u,p=a,h=l;if(d){const e=r.default.getBarrel({bid:t});if(u=e.findComponentSection(i),1===i.length)h=!0,p=[e.componentSections[0]._id];else{const t=i.slice(0,i.length-1),n=e.findComponentSection(t),o=n.componentSections.indexOf(u);let r=n.componentSections[o-1];r||(r=n),h="default"===r.name,p=r.idPath}}s.a.dispatcher.dispatch({type:o.a.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,tcsids:p,flatten:h,index:c,oldComponentSection:u,syncWithApi:d})},removeComponentSection(e){const{bid:t,csids:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:i,syncWithApi:r=!1}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:i,syncWithApi:r})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:i,syncWithApi:a=!1}=y(e);if(a){const e=r.default.getBarrel({bid:t});i.forEach(t=>{void 0===t.to&&(t.to=e.findComponentSection(t.tcsid).components.length)})}s.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:i,syncWithApi:a})},changeSelectedView(e,t={}){s.a.dispatcher.dispatch({type:o.a.CHANGE_SELECTED_VIEW,selectedView:e,viewUpdate:t})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:i,syncWithApi:a=!1}=y(e),l=a?r.default.getBarrel({bid:n}).workflowStatus:{};s.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUS,barrelType:t,bid:n,workflowStatus:i,oldWorkflowStatusData:l,syncWithApi:a})},updateWorkflowStatuses(e){const{workflowStatus:t,syncWithApi:n=!1}=y(e),{bids:i}=e,a=i.map(e=>{const{barrelType:t,bid:i}=y({bid:e});return{bid:i,barrelType:t,oldWorkflowStatusData:n?r.default.getBarrel({bid:i}).workflowStatus:{}}});s.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUSES,statusUpdatedBarrels:a,workflowStatus:t,syncWithApi:n})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:i=!1}=y(e),a=i?r.default.getBarrel({bid:n}).workflowStatus:{};s.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUS,barrelType:t,bid:n,oldWorkflowStatusData:a,syncWithApi:i})},deleteWorkflowStatuses(e){const{syncWithApi:t=!1}=y(e),{bids:n}=e,i=n.map(e=>{const{barrelType:n,bid:i}=y({bid:e});return{bid:i,barrelType:n,oldWorkflowStatusData:t?r.default.getBarrel({bid:i}).workflowStatus:{}}});s.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUSES,statusDeletedBarrels:i,syncWithApi:t})},setAssetExportTarget(e){s.a.dispatcher.dispatch({type:o.a.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:i,assetId:r,name:a,source:l}=y(e);s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:i,assetId:r,name:a,source:l})},changeAssetDensityScalePref(e,t){const{bid:n}=y();s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},goToDashboard(){const{selectedView:e}=s.a.BarrelStore.getState();if(e===f.ProjectViewTypes.DASHBOARD)return;const{bid:t}=y(),{tagFilter:n}=s.a.DashboardStore.getState();s.a.dispatcher.dispatch({type:o.a.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=s.a.BarrelStore.getState();if(e===f.ProjectViewTypes.STYLEGUIDE)return;const{bid:t}=y();s.a.dispatcher.dispatch({type:o.a.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){s.a.dispatcher.dispatch({type:o.a.CHANGE_EXPORT_TARGET})},openExportTarget(){s.a.dispatcher.dispatch({type:o.a.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,version:t,assetId:n,format:i,toastContainer:a,source:l}){const{barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p}=s.a.BarrelStore.getState(),{type:h}=r.default.getBarrel({bid:c});s.a.dispatcher.dispatch({type:o.a.DOWNLOAD_ASSET,barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p,platform:h,containerName:e,version:t,assetId:n,format:i,toastContainer:a,source:l})},downloadMultipleAsset({containerName:e,version:t,assetList:n,toastContainer:i,source:a}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u}=s.a.BarrelStore.getState(),{type:p}=r.default.getBarrel({bid:l});s.a.dispatcher.dispatch({type:o.a.DOWNLOAD_MULTIPLE_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,platform:p,containerName:e,version:t,assetList:n,toastContainer:i,source:a})},exportCode(e){const{bid:t,resourceType:n,source:i,exportObjects:a,extensionId:l}=y(e),{name:c,type:d}=r.default.getBarrel({bid:t});s.a.dispatcher.dispatch({type:o.a.EXPORT_CODE,barrelName:c,platform:d,resourceType:n,source:i,exportObjects:a,extensionId:l})},copyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:r}){s.a.dispatcher.dispatch({type:o.a.COPY_CODE,code:e,toastContainer:t,platform:n,extensionId:i,source:r})},hideNoVectorAssetInfo(){s.a.dispatcher.dispatch({type:o.a.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){s.a.dispatcher.dispatch({type:o.a.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){s.a.dispatcher.dispatch({type:o.a.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){s.a.dispatcher.dispatch({type:o.a.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){s.a.dispatcher.dispatch({type:o.a.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){s.a.dispatcher.dispatch({type:o.a.CLOSE_JUMP_TO_POPUP})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:i})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:i})},fetchComponentSectionShortLink(e){const{bid:t,barrelType:n,seid:i}=y(e);s.a.dispatcher.dispatch({type:o.a.FETCH_COMPONENT_SECTION_SHORT_LINK,bid:t,barrelType:n,seid:i})},join(e){const{bid:t,barrelType:n,source:i,shouldLoadBarrel:r=!0}=y(e);s.a.dispatcher.dispatch({type:o.a.JOIN,bid:t,barrelType:n,shouldLoadBarrel:r,source:i,syncWithApi:!0})},stopLoadingJoin(){s.a.dispatcher.dispatch({type:o.a.STOP_JOIN_LOADING})},enableDevMode(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=r.default.getBarrel({bid:e});s.a.dispatcher.dispatch({type:o.a.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},disableDevMode(){s.a.dispatcher.dispatch({type:o.a.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=r.default.getBarrel({bid:e});s.a.dispatcher.dispatch({type:o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=y(e);s.a.dispatcher.dispatch({type:o.a.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,workspace:n}=y(e);s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,workspace:n})},getConnectedComponentsEditorInfo(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){s.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=y();s.a.dispatcher.dispatch({type:o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=y();s.a.dispatcher.dispatch({type:o.a.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:i,resources:a,targetStyleguideId:l}=y(e);let c;r.default.getBarrel({bid:l}).densityScale||({densityScale:c}=r.default.getBarrel({bid:t})),s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:c,targetStyleguideId:l,resourceType:i,resources:a,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:i,resources:r,targetStyleguideId:a}=y(e);s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:i,resources:r,targetStyleguideId:a})},moveResourcesFail(){s.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=y(e);s.a.dispatcher.dispatch({type:o.a.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=y(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=y(e);s.a.dispatcher.dispatch({type:o.a.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})},highlightedConnectToCodeButtonViewed(){s.a.dispatcher.dispatch({type:o.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED})},markConnectedComponentsOnboardingDialogAsSeen(){s.a.dispatcher.dispatch({type:o.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN})}};t.default=C},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTrees",(function(){return s})),n.d(t,"generateNodes",(function(){return l})),n.d(t,"getSelectableParentStyleguides",(function(){return a})),n.d(t,"getStyleguideAndItsDescendants",(function(){return c}));var i=n(248),o=n(381),r=n(382);function a({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:o,parentId:r,users:a}){return t.filter(t=>{let s;if(e)s=i.permissions.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=a.find(e=>"owner"===e.role);s=e&&n&&e.user._id===n.user._id}return s&&t._id!==o&&t._id!==r&&"active"===t.status&&!(t.ancestors||[]).includes(o)})}function s(e){const t={};return e.forEach((e,n)=>{const i=new o.default(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new r.default(t[e]))}function l(e){return e.map(e=>new o.default(e))}function c(e,t){return Object.values(e).filter(e=>e._id===t||e.ancestors.includes(t)).map(e=>e._id)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(383);class o{constructor(e){this.root=e,this.levels=function e(t,n=1,o={}){return t.children.length>0&&(o[n]=(o[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,o)})),Object.keys(o).map(e=>new i.default(Number(e),o[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271)),r=i(n(280)),a={updatePageState(e){o.default.dispatcher.dispatch({type:r.default.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){o.default.dispatcher.dispatch({type:r.default.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){o.default.dispatcher.dispatch({type:r.default.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){o.default.dispatcher.dispatch({type:r.default.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.CHANGE_PROJECT_SELECTED_SORT_TYPE,oid:t,sortType:e})},toggleArchivedProjects(){o.default.dispatcher.dispatch({type:r.default.TOGGLE_ARCHIVED_PROJECTS})},unhighlightBarrel(e){o.default.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_BARREL,bid:e})},highlightSection(e){o.default.dispatcher.dispatch({type:r.default.HIGHLIGHT_SECTION,oseid:e})},unhighlightSection(){o.default.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SECTION})},expandSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.EXPAND_SECTIONS,oid:t,oseids:e})},collapseSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.COLLAPSE_SECTIONS,oid:t,oseids:e})},setStyleguidesTabVisited(){o.default.dispatcher.dispatch({type:r.default.SET_STYLEGUIDES_TAB_VISITED})},openDialog(e,t={}){o.default.dispatcher.dispatch({type:r.default.OPEN_DIALOG,dialogType:e,dialogParams:t})},closeDialog(){const{visibleDialogType:e,visibleDialogParams:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.CLOSE_DIALOG,dialogType:e,dialogParams:t})},hideLoading(){o.default.dispatcher.dispatch({type:r.default.HIDE_LOADING})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:r.default.TRACK_BARREL_CLICK,oid:t,isFromPinArea:e})},toggleProjectSelection(e){o.default.dispatcher.dispatch({type:r.default.TOGGLE_PROJECT_SELECTION,pid:e})},clearProjectSelection(){o.default.dispatcher.dispatch({type:r.default.CLEAR_PROJECT_SELECTION})},selectProjects(e){o.default.dispatcher.dispatch({type:r.default.SELECT_PROJECTS,projectIds:e})},deselectProjects(e){o.default.dispatcher.dispatch({type:r.default.DESELECT_PROJECTS,projectIds:e})},setAutoExpandNotifications(e){o.default.dispatcher.dispatch({type:r.default.SET_AUTO_EXPAND_NOTIFICATIONS,autoExpandNotifications:e})},postponeOfferReminder(e){o.default.dispatcher.dispatch({type:r.default.POSTPONE_OFFER_REMINDER,nextDate:e})},scrolledToProject(){o.default.dispatcher.dispatch({type:r.default.SCROLLED_TO_PROJECT})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(364),a=n(279),s=n.n(a),l=n(370),c=n(328),d=n(249),u=n(248),p=n(386);function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e={}){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}if(!e.sid){const{screenId:t}=o.a.ScreenStore.getState();e.sid=t}if(!e.vid){const{versionId:t}=o.a.ScreenStore.getState();e.vid=t}if(!e.did){const{dotId:t}=o.a.DotsStore.getState();e.did=t}return e}const S={calculateVersionsLastSeenForCurrentScreen(){const{screenId:e,versionsVisible:t}=o.a.ScreenStore.getState();if(!e||!t)return{};const{versions:[{created:n}]}=l.default.getScreen();return{sid:e,date:new Date(n)}},openScreen(e,t,n,i){const r=l.default.getScreen({sid:e}),{barrelId:a}=o.a.BarrelStore.getState(),c={type:s.a.OPEN_SCREEN,barrelId:a,screenId:e,dotId:n,commentId:i};if(r){const{versions:[n={}]}=r;let i,o;t?(i=l.default.getVersion({sid:e,vid:t}),o=t,Object.assign(c,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):(i=n,o=i._id);const a=n._id===o,s=l.default.getVisibleScreens();if(!s)return;const d=!s.some(t=>t._id===e);Object.assign(c,{versionId:o,latestVersionSelected:a,loadingSnapshot:!i||!("layers"in i.snapshot),loadingVersions:!r.totalVersionCount,shouldResetDashboardFilters:d})}o.a.dispatcher.dispatch(g(g({},c),{},{screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()}))},selectLayer(e){const t=r.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),n=l.default.getVersion(),i=Boolean(Object(p.findComponentLayer)(n.snapshot,e,t)),{numberOfLayerComponentViews:a}=o.a.ScreenStore.getState(),c=i&&a<p.LAYER_COMPONENT_VIEW_LIMIT;o.a.dispatcher.dispatch({type:s.a.SELECT_LAYER,layer:e,numberOfLayerComponentViews:a,shouldIncrementNumberOfLayerComponentViews:c})},deselectLayer(){o.a.dispatcher.dispatch({type:s.a.DESELECT_LAYER})},enterLayer(e,t){o.a.dispatcher.dispatch({type:s.a.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){o.a.dispatcher.dispatch({type:s.a.LEAVE_LAYER})},enablePercentageMode(){o.a.dispatcher.dispatch({type:s.a.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_PERCENTAGE_MODE})},addScreen(e){const{pid:t,seid:n,index:i,screen:r,syncWithApi:a=!1}=b(e);o.a.dispatcher.dispatch({type:s.a.ADD_SCREEN,pid:t,seid:n,index:i,screen:r,syncWithApi:a})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:r=!1}=b(e);let a;r&&({description:a}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:a,syncWithApi:r})},updateName(e){const{pid:t,sid:n,name:i,onError:r,syncWithApi:a=!1}=b(e);let c;a&&({name:c}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.UPDATE_NAME,pid:t,sid:n,name:i,oldName:c,onError:r,syncWithApi:a})},removeScreen(e){const{pid:t,uid:n,sid:i,syncWithApi:a=!1}=b(e),{screenId:c}=o.a.ScreenStore.getState(),d=i===c;let u,p,h,f;if((a||d)&&(u=l.default.getScreen({bid:t,sid:i})),a){const e=l.default.getSectionOfScreen({bid:t,sid:i});p=e._id,h=e.screens.indexOf(i)}if(n){f=r.default.getBarrel({bid:t}).findUser(n)}o.a.dispatcher.dispatch({type:s.a.REMOVE_SCREEN,pid:t,seid:p,index:h,sid:i,removedScreen:u,removingCurrentScreen:d,user:f,syncWithApi:a})},openTagManager(e){o.a.dispatcher.dispatch({type:s.a.OPEN_TAG_MANAGER,sid:e})},closeTagManager(){o.a.dispatcher.dispatch({type:s.a.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,isScreen:i=!1,syncWithApi:r=!1}=b(e);o.a.dispatcher.dispatch({type:s.a.UPDATE_TAGS,pid:t,updates:n,isScreen:i,syncWithApi:r})},removeTag(e){const{pid:t,tag:n,syncWithApi:i=!1}=b(e),{screens:o}=r.default.getBarrel({bid:t}),a=o.filter(({tags:e})=>e&&e.includes(n)).map(({_id:e})=>({_id:e,operation:"remove",tags:[n]}));this.updateTags({pid:t,updates:a,syncWithApi:i})},openSourceFile(e){o.a.dispatcher.dispatch({type:s.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){o.a.dispatcher.dispatch({type:s.a.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=b(e);i.forEach(e=>{e.status=e.status||"open"});let{statusFilter:r,colorFilter:a,dotId:l,highlightedDots:c}=o.a.DotsStore.getState();if(l){const e=i.find(e=>e._id===l);e?[r,a]=[e.status,null]:l=null}else if(c.length>1){const e=i.some(e=>"open"===e.status&&c.includes(e._id));e&&"open"!==r?[r,a]=["open",null]:e||"resolved"===r||([r,a]=["resolved",null])}o.a.dispatcher.dispatch({type:s.a.SET_DOTS,pid:t,sid:n,dots:i,dotId:l,colorFilter:a,statusFilter:r})},selectDot({dotId:e,commentId:t,source:n}){const{dotId:i}=o.a.DotsStore.getState();i!==e&&o.a.dispatcher.dispatch({type:s.a.SELECT_DOT,dotId:e,commentId:t,source:n})},highlightDots(e){o.a.dispatcher.dispatch({type:s.a.HIGHLIGHT_DOTS,dids:e})},unhighlightDot({did:e}){o.a.dispatcher.dispatch({type:s.a.UNHIGHLIGHT_DOT,did:e})},closeDotPopup(){o.a.dispatcher.dispatch({type:s.a.CLOSE_DOT_POPUP})},changeDotFilter(e,t){const n=r.default.findUser();let{dotId:i}=o.a.DotsStore.getState();if(i){const o=l.default.getDot({did:i});Object(c.checkFilter)(o,e,t,n.user)||(i=null)}o.a.dispatcher.dispatch({type:s.a.CHANGE_DOT_FILTER,dotId:i,status:e,color:t})},dotsFlashed(){o.a.dispatcher.dispatch({type:s.a.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=b(e),{name:r}=l.default.getScreen({bid:t,sid:n}),{snapshot:{width:a,height:c,url:d}}=l.default.getVersion({bid:t,sid:n,vid:i});o.a.dispatcher.dispatch({type:s.a.OPEN_POPOUT,pid:t,name:r,width:a,height:c,url:d})},changeZoomLevel(e,t){o.a.dispatcher.dispatch({type:s.a.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){o.a.dispatcher.dispatch({type:s.a.ZOOM_IN})},zoomOut(){o.a.dispatcher.dispatch({type:s.a.ZOOM_OUT})},resetZoom(){o.a.dispatcher.dispatch({type:s.a.RESET_ZOOM})},zoomApplied(){o.a.dispatcher.dispatch({type:s.a.ZOOM_APPLIED})},startGesture(){o.a.dispatcher.dispatch({type:s.a.START_GESTURE})},zoomWithGesture(e){o.a.dispatcher.dispatch({type:s.a.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){o.a.dispatcher.dispatch({type:s.a.ZOOM_WITH_WHEEL,deltaY:e})},toggleLayoutGrid(){o.a.dispatcher.dispatch({type:s.a.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){o.a.dispatcher.dispatch({type:s.a.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:r}=b(e),{dots:a}=l.default.getScreen(),{lastNoteColorUsed:u}=o.a.DotsStore.getState(),p={_id:"newDot"+Object(d.getRandomString)(),name:a&&a.length?String(parseInt(a[a.length-1].name,10)+1):"1",x:i,y:r,color:Object(c.getColorValueByName)(u),comments:[]};o.a.dispatcher.dispatch({type:s.a.CREATE_NOTE,pid:t,sid:n,dot:p})},addDot(e){const{pid:t,sid:n,uid:i,dot:a,syncWithApi:l=!1}=b(e);let c,d,p;if(i&&({userId:c,username:d}=o.a.UserStore.getState()),l){const e=r.default.getBarrel({bid:t}),[{note:n}]=a.comments;p=Object(u.isThereAnyMentionedUser)(e.users,n)}o.a.dispatcher.dispatch({type:s.a.ADD_DOT,pid:t,sid:n,uid:i,userId:c,username:d,dot:a,hasMention:p,syncWithApi:l})},updateDot(e){const{pid:t,sid:n,did:i,dotData:r,syncWithApi:a=!1}=b(e);let c;if(a){let e;var d=l.default.getDot({bid:t,sid:n,did:i})||{};({_id:e}=d),c=h(d,["_id"])}o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT,pid:t,sid:n,did:i,dotData:r,oldDotData:c,syncWithApi:a})},updateDotColor(e){const{pid:t,sid:n,did:i,color:r,syncWithApi:a=!1}=b(e);let d;if(a){var u=(l.default.getDot({bid:t,sid:n,did:i})||{}).color;({}=u),d=Object.assign({},u)}o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_COLOR,pid:t,sid:n,did:i,color:r,oldColor:d,colorName:Object(c.getColorName)(r),syncWithApi:a})},updateDotPosition(e){const{pid:t,sid:n,did:i,x:r,y:a,syncWithApi:c=!1}=b(e);let d,u;c&&({x:d,y:u}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_POSITION,pid:t,sid:n,did:i,x:r,y:a,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){const{pid:t,sid:n,did:i,status:r,syncWithApi:a=!1,source:c="Screen"}=b(e);let d;a&&({status:d}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:s.a.UPDATE_DOT_STATUS,pid:t,sid:n,did:i,status:r,oldStatus:d,syncWithApi:a,source:c})},removeDot(e){const{pid:t,sid:n,did:i,syncWithApi:r=!1}=b(e);let a;r&&(a=l.default.getDot({bid:t,sid:n,did:i})),o.a.dispatcher.dispatch({type:s.a.REMOVE_DOT,pid:t,sid:n,did:i,removedDot:a,syncWithApi:r})},createComment(e){const{pid:t,sid:n,did:i,note:a,hasReaction:c,syncWithApi:p=!1,source:h="Screen"}=b(e),f="newComment"+Object(d.getRandomString)(),{user:{_id:g,email:m,username:S,emotar:y,avatar:v}}=r.default.findUser({bid:t}),C=Date.now(),O={_id:f,author:{_id:g,email:m,username:S,emotar:y,avatar:v},note:a,created:C,updated:C};let E,T;if(p){const e=r.default.getBarrel({bid:t}),o=l.default.getDot({bid:t,sid:n,did:i}),s=o.comments.map(e=>e.author._id).lastIndexOf(Zeplin.user._id)+1,c=o.comments.slice(s);E=Object(u.isThereAnyMentionedUser)(e.users,a),T=c.some(e=>e.author._id!==Zeplin.user._id&&e.note.includes("@"+Zeplin.user.username))}o.a.dispatcher.dispatch({type:s.a.CREATE_COMMENT,pid:t,sid:n,did:i,comment:O,hasReaction:c,toMention:T,hasMention:E,syncWithApi:p,source:h})},addComment(e){const{pid:t,sid:n,uid:i,did:r,comment:a}=b(e);let l,c;i&&({userId:l,username:c}=o.a.UserStore.getState()),o.a.dispatcher.dispatch({type:s.a.ADD_COMMENT,pid:t,sid:n,uid:i,userId:l,username:c,did:r,comment:a})},updateComment(e){const{pid:t,sid:n,uid:i,did:a,cmid:c,commentData:d,syncWithApi:u=!1}=b(e);let p,f,g,m;if(u){let e;var S=l.default.getComment({pid:t,sid:n,did:a,cmid:c})||{};({_id:e}=S),p=h(S,["_id"])}i&&(({userId:f,username:g}=o.a.UserStore.getState()),({user:m}=r.default.findUser({bid:t,uid:i})||{})),o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMENT,pid:t,sid:n,uid:i,author:m,userId:f,username:g,did:a,cmid:c,commentData:d,oldCommentData:p,syncWithApi:u})},removeComment(e){const{pid:t,sid:n,did:i,cmid:r,syncWithApi:a=!1}=b(e);let c;a&&(c=l.default.getComment({pid:t,sid:n,did:i,cmid:r})),o.a.dispatcher.dispatch({type:s.a.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:r,removedComment:c,syncWithApi:a})},openDotMenu(){o.a.dispatcher.dispatch({type:s.a.OPEN_DOT_MENU})},showNotes(){o.a.dispatcher.dispatch({type:s.a.SHOW_NOTES})},hideNotes(){o.a.dispatcher.dispatch({type:s.a.HIDE_NOTES})},showFlowLinks(){o.a.dispatcher.dispatch({type:s.a.SHOW_FLOW_LINKS})},hideFlowLinks(){o.a.dispatcher.dispatch({type:s.a.HIDE_FLOW_LINKS})},changeSidebarTab(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},getVersions(){const{screenId:e}=o.a.ScreenStore.getState();o.a.dispatcher.dispatch({type:s.a.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:r,allowedVersionCount:a}=b(e);i.forEach(e=>{e.commit=e.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:e.creator}});let{versionId:l}=o.a.ScreenStore.getState();i.some(({_id:e})=>e===l)||(l=i[0]._id),o.a.dispatcher.dispatch({type:s.a.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:r,allowedVersionCount:a,versionId:l})},setVersionId(e){const{barrelId:t}=o.a.BarrelStore.getState(),{screenId:n}=o.a.ScreenStore.getState(),{versions:[{_id:i}]=[{}]}=l.default.getScreen()||{};let r=e;r||(r=i);const a=r===i;o.a.dispatcher.dispatch({type:s.a.SET_VERSION_ID,barrelId:t,screenId:n,versionId:r,latestVersionSelected:a})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:r}=b(e);o.a.dispatcher.dispatch({type:s.a.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:r})},showVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:s.a.SHOW_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},hideVersions(){o.a.dispatcher.dispatch({type:s.a.HIDE_VERSIONS})},toggleVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:s.a.TOGGLE_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},enableVersionsCompactMode(){o.a.dispatcher.dispatch({type:s.a.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){o.a.dispatcher.dispatch({type:s.a.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){o.a.dispatcher.dispatch({type:s.a.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){o.a.dispatcher.dispatch({type:s.a.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){o.a.dispatcher.dispatch({type:s.a.NEW_VERSIONS_FOUND})},changeVersionsSidebarWidth(e){o.a.dispatcher.dispatch({type:s.a.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){const{pid:t,sid:n,version:i,syncWithApi:a=!1}=b(e);i.commit=i.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:i.creator};if(!r.default.getBarrel({bid:t}).complete)return;let d;const u=l.default.getScreen({bid:t,sid:n});if(!u)return;const{versions:p,allowedVersionCount:h}=u;p.length>h&&(d=p[p.length-1]);const{screenVersionsLastSeen:f}=o.a.BarrelStore.getState();let{versionId:g,latestVersionSelected:m,versionsVisible:S}=o.a.ScreenStore.getState();(m||d&&d._id===g)&&(m=!0,g=i._id);const y=f&&f[n]?f[n]:new Date(0),v=Boolean(p.filter(({created:e})=>new Date(e)>y).length)&&!S;o.a.dispatcher.dispatch({type:s.a.ADD_VERSION,pid:t,sid:n,version:i,poppedVersion:d,syncWithApi:a,versionId:g,latestVersionSelected:m,hasNewVersions:v,screenVersionsLastSeen:this.calculateVersionsLastSeenForCurrentScreen()})},updateCommitColor(e){const{pid:t,sid:n,vid:i,color:r,syncWithApi:a=!1}=b(e);let c;if(a){var d=l.default.getVersion({sid:n,vid:i}).commit.color;({}=d),c=Object.assign({},d)}o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:i,color:r,oldColor:c,syncWithApi:a})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:r,syncWithApi:a=!1}=b(e);let c;if(a){c=l.default.getVersion({sid:n,vid:i}).commit.message}o.a.dispatcher.dispatch({type:s.a.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:r,oldMessage:c,syncWithApi:a})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:r=!1}=b(e);let a;r&&(a=l.default.getVersion({sid:n,vid:i}));let{versionId:c}=o.a.ScreenStore.getState();const{latestVersionSelected:d}=o.a.ScreenStore.getState(),u=i===c;u&&d?({versions:[,{_id:c}]}=l.default.getScreen({sid:n})):u&&({versions:[{_id:c}]}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:s.a.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:a,removingCurrentVersion:u,syncWithApi:r,versionId:c})},setSourceFile({versionId:e,sourceFile:t}){o.a.dispatcher.dispatch({type:s.a.SET_SOURCE_FILE,versionId:e,sourceFile:t})},hideComponentVariantsOnboardingHintbox(){o.a.dispatcher.dispatch({type:s.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX})}};t.default=S},function(e,t,n){"use strict";n.r(t),n.d(t,"LAYER_COMPONENT_VIEW_LIMIT",(function(){return r})),n.d(t,"HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT",(function(){return a})),n.d(t,"findUsedScreens",(function(){return s})),n.d(t,"findConnectedComponentByIdOrName",(function(){return l}));var i=n(248),o=n(387);n.d(t,"findComponentById",(function(){return o.findComponentById})),n.d(t,"findComponentByName",(function(){return o.findComponentByName})),n.d(t,"findComponentLayer",(function(){return o.findComponentLayer})),n.d(t,"isBooleanProperty",(function(){return o.isBooleanProperty})),n.d(t,"isTruthyPropertyValue",(function(){return o.isTruthyPropertyValue})),n.d(t,"findOmittedVariantProperties",(function(){return o.findOmittedVariantProperties})),n.d(t,"getComponentSectionById",(function(){return o.getComponentSectionById})),n.d(t,"getComponentLayerForVariant",(function(){return o.getComponentLayerForVariant})),n.d(t,"LayerComponentSearchResult",(function(){return o.LayerComponentSearchResult}));const r=50,a=50;function s(e,t,n){return e.filter(({versions:[{snapshot:{componentNames:e,componentIds:i}}]})=>i&&i.includes(n)||e&&e.includes(t))}function l(e,t,n,o){if(!t||!n)return null;let r=null,a=0;for(const s of n){const n=o?s.localConnectedComponents:s.connectedComponents;if(n){for(const t of n){const{zeplinIds:n}=t;if(n&&n.includes(e))return t}for(const e of n){const{zeplinNames:n}=e;if(n.includes(t))return e;for(const o of n)if(new RegExp(`^${Object(i.escapeRegExpButAsterisk)(o)}$`.replace(/\*/g,".*")).test(t)){const t=o.replace(/\*/g,"").length;(!r||t>a)&&(r=e,a=t)}}}}return r}},function(e,t,n){"use strict";function i(e,t,n){if(e===t)return[e,...n];if(!e.layers||!e.layers.length)return null;for(const o of e.layers){const r=i(o,t,[e,...n]);if(r)return r}return null}function o({componentSections:e},t,n=[]){for(const i of e){const e=i.components.find(e=>t(e));if(e)return{ancestors:[...n,i],component:e};const r=o(i,t,[...n,i]);if(r)return r}return null}function r({componentSections:e},t){for(const n of e){if(n._id===t)return n;const e=r(n,t);if(e)return e}return null}function a(e,t,n=0){if(n===e.length)return null;const i=e[n],{componentName:r,componentId:s}=i;if(!r&&!s)return a(e,t,n+1);const l=function(e,t,n){if(!t&&!n)return null;if(n)for(const i of e){const e=o(i,e=>e.sourceId===n);if(e)return Object.assign({barrelId:i.id},e)}if(t)for(const i of e){const e=o(i,e=>e.name===t);if(e)return Object.assign({barrelId:i.id},e)}return null}(t,r,s);return l?Object.assign({layer:i},l):a(e,t,n+1)}function s(e,t,n){if(!e||!t||!n)return null;const o=function(e,t){if(!e.layers||!e.layers.length)return null;for(const n of e.layers){const e=i(n,t,[]);if(e)return e}return null}(e,t);return o?a(o,n):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLayerForVariant=t.findOmittedVariantProperties=t.isTruthyPropertyValue=t.isBooleanProperty=t.findComponentLayer=t.getComponentSectionById=t.findComponentById=void 0,t.findComponentById=function(e,t){if(!t)return null;for(const n of e){const e=o(n,e=>e._id===t);if(e)return Object.assign({barrelId:n.id},e)}return null},t.getComponentSectionById=function(e,t){if(!t)return null;for(const n of e){const e=r(n,t);if(e)return e}return null},t.findComponentLayer=s,t.isBooleanProperty=function(e){const t=[["true","false"],["yes","no"],["on","off"]];for(const n of t)if(e.every(e=>n.includes(e.toLowerCase())))return!0;return!1},t.isTruthyPropertyValue=function(e){return["true","yes","on"].includes(e.toLowerCase())},t.findOmittedVariantProperties=function(e){const t={};return e.forEach(({variant:e})=>{e&&e.values.forEach(({propertyId:e,value:n})=>{const i=`${e}:${n}`;i in t?t[i]++:t[i]=1})}),Object.entries(t).filter(([,t])=>t===e.length).map(([e])=>e)},t.getComponentLayerForVariant=function(e,t,n){const i=s(e,t,n);if(!i)return null;const o=i.ancestors.find(e=>e.variant);return o?Object.assign(Object.assign({},i),{component:Object.assign(Object.assign({},i.component),{name:o.name})}):i}},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(332),a=n(364),s=n(249),l=n(386),c=n(374),d=n.n(c);function u(e={}){if(!e.bid){const{barrelId:t}=o.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=o.a.BarrelStore.getState();e.barrelType=t}return e}const p={updateState(e){o.a.dispatcher.dispatch({type:r.default.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_SORT_TYPE,sortType:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){o.a.dispatcher.dispatch({type:r.default.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},expandSections(e){o.a.dispatcher.dispatch({type:r.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:r.default.COLLAPSE_SECTIONS,seids:e})},collapseAllSections(){const e=d.a.getExpandedSectionIds();e.length&&o.a.dispatcher.dispatch({type:r.default.COLLAPSE_ALL_SECTIONS,seids:e})},highlightColors(e){o.a.dispatcher.dispatch({type:r.default.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){o.a.dispatcher.dispatch({type:r.default.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){o.a.dispatcher.dispatch({type:r.default.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){o.a.dispatcher.dispatch({type:r.default.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t,collapsedSections:n}){const{selectionComponentId:i}=o.a.StyleguideStore.getState();if(e&&e!==i&&e!==t._id){const t=a.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),{component:n}=Object(l.findComponentById)(t,e)||{};if(!n)return;const{latestVersion:{snapshot:{assets:i=[]}}}=n;if(i.find(e=>"snapshot"===e.layerId))return void o.a.dispatcher.dispatch({type:r.default.CHANGE_SELECTION,selectionComponentId:e,selection:n})}o.a.dispatcher.dispatch({type:r.default.CHANGE_SELECTION,selectionComponentId:e,selection:t,collapsedSections:n})},componentSnapshotsReady(){o.a.dispatcher.dispatch({type:r.default.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){o.a.dispatcher.dispatch({type:r.default.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){o.a.dispatcher.dispatch({type:r.default.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){o.a.dispatcher.dispatch({type:r.default.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){o.a.dispatcher.dispatch({type:r.default.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){o.a.dispatcher.dispatch({type:r.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){o.a.dispatcher.dispatch({type:r.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})},convertSectionToVariantSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:a=!1}=u(e);o.a.dispatcher.dispatch({type:r.default.CONVERT_SECTION_TO_VARIANT_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:a})},convertVariantSectionToSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:a=!1}=u(e);o.a.dispatcher.dispatch({type:r.default.CONVERT_VARIANT_SECTION_TO_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:a})},createComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:a={},syncWithApi:l=!1}=u(e);let c=a;if(l){const{_id:e="newVariant"+Object(s.getRandomString)(),name:t="",values:n=[]}=a;c={_id:e,name:t,values:n}}o.a.dispatcher.dispatch({type:r.default.CREATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:c,syncWithApi:l})},addComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:a,syncWithApi:s=!1}=u(e);o.a.dispatcher.dispatch({type:r.default.ADD_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:a,syncWithApi:s})},updateComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:a,data:s}=u(e);o.a.dispatcher.dispatch({type:r.default.UPDATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:a,data:s})},updateComponentVariantPropertyName(e){const{bid:t,barrelType:n,csid:i,vpid:s,name:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);({name:d}=e.variant.properties.find(({_id:e})=>e===s))}o.a.dispatcher.dispatch({type:r.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME,bid:t,barrelType:n,csid:i,vpid:s,name:l,oldName:d,syncWithApi:c})},updateComponentVariantPropertyValues(e){const{bid:t,barrelType:n,csid:i,vpid:s,values:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);({values:d}=e.variant.properties.find(({_id:e})=>e===s))}o.a.dispatcher.dispatch({type:r.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES,bid:t,barrelType:n,csid:i,vpid:s,values:l,oldValues:d,syncWithApi:c})},updateComponentVariantPropertiesOrder(e){const{bid:t,barrelType:n,csid:i,properties:s,syncWithApi:l=!1}=u(e);let c;if(l){const e=a.default.getBarrel({bid:t}).findComponentSection([i]);c=s.map(({_id:t})=>{const n=e.variant.properties.findIndex(e=>e._id===t);return{_id:t,to:n}})}o.a.dispatcher.dispatch({type:r.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER,bid:t,barrelType:n,csid:i,properties:s,oldProperties:c,syncWithApi:l})},updateComponentVariantPropertyValue(e){const{bid:t,barrelType:n,csid:i,vpid:a,coid:s,value:l,syncWithApi:c=!1}=u(e);o.a.dispatcher.dispatch({type:r.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE,bid:t,barrelType:n,csid:i,vpid:a,coid:s,value:l,syncWithApi:c})},setComponentVariantData(e){const{bid:t,barrelType:n,csid:i,name:a,sectionVariant:s,components:l,userConvertedSectionIntoVariant:c=!1}=u(e);o.a.dispatcher.dispatch({type:r.default.SET_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i,name:a,sectionVariant:s,components:l,userConvertedSectionIntoVariant:c})},removeComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:s,syncWithApi:l=!1}=u(e);let c;if(l){c=a.default.getBarrel({bid:t}).findComponentSection([i]).variant.properties.find(({_id:e})=>e===s)}o.a.dispatcher.dispatch({type:r.default.REMOVE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:s,removedComponentVariantProperty:c,syncWithApi:l})},removeComponentVariantData(e){const{bid:t,barrelType:n,csid:i}=u(e);o.a.dispatcher.dispatch({type:r.default.REMOVE_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i})},createComponentSectionVariantGroups(e){const{bid:t,barrelType:n,csid:i,vpid:a}=u(e);o.a.dispatcher.dispatch({type:r.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,bid:t,barrelType:n,csid:i,vpid:a,syncWithApi:!0})},groupComponentsByVariantProperty(e){const{bid:t,barrelType:n,csid:i,components:a,componentSections:s}=u(e);o.a.dispatcher.dispatch({type:r.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,components:a,componentSections:s})},hideComponentVariantsOnboardingDialog(){o.a.dispatcher.dispatch({type:r.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG})}};t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(364),a=n(288),s=n(370),l=n(249);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}return e}const h={changeSortType(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_SORT_TYPE,sortType:e})},toggleFixedThumbnailSize(){o.a.dispatcher.dispatch({type:a.default.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){o.a.dispatcher.dispatch({type:a.default.CHANGE_TAG_FILTER,tagFilter:e})},expandSections(e){o.a.dispatcher.dispatch({type:a.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:a.default.COLLAPSE_SECTIONS,seids:e})},downloadScreens(e,t){o.a.dispatcher.dispatch({type:a.default.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=s.default.getScreen({sid:e});h.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=r.default.getBarrel(),n=t.filter(t=>t.tags&&t.tags.includes(e));h.downloadScreens(n,e+".zip")},unhighlightScreen(e){o.a.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=r.default.getBarrel(),i=t.find(t=>t._id===e),o=i.screens.map(e=>n.find(t=>t._id===e));h.downloadScreens(o,i.name+".zip")},highlightSection(e){o.a.dispatcher.dispatch({type:a.default.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){o.a.dispatcher.dispatch({type:a.default.UNHIGHLIGHT_SECTION})},splitSection(e){const{sections:t}=r.default.getBarrel(),n=t.find(t=>t.screens.includes(e)),i=n.screens.indexOf(e),o=t.findIndex(e=>e._id===n._id),a=n.screens.slice(i),s={_id:"newSectionFromSplit"+Object(l.getRandomString)(),name:"Untitled section",screens:a};this.addSection({section:s,index:o+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:r=!1}=p(e);o.a.dispatcher.dispatch({type:a.default.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:r})},createSection(e){const{pid:t,seid:n,name:i}=p(e),{sections:s}=r.default.getBarrel(),l=s.findIndex(e=>e._id===n),c=d(d({},s[l]),{},{name:i});o.a.dispatcher.dispatch({type:a.default.CREATE_SECTION,pid:t,section:c,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=p(e),{screens:i,sections:[s]}=r.default.getBarrel(),c=i.filter(e=>e.tags&&e.tags.includes(n)).map(e=>e._id),d=[...s.screens],u={_id:"newSectionFromTag"+Object(l.getRandomString)(),name:n,screens:c};o.a.dispatcher.dispatch({type:a.default.CONVERT_TAG_TO_SECTION,pid:t,section:u,index:1,defaultSectionId:s._id,oldDefaultSectionScreens:d,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:r=!1}=p(e);o.a.dispatcher.dispatch({type:a.default.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:r})},renameSection(e){const{pid:t,seid:n,name:i,onError:s,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=r.default.getBarrel();({name:c="Untitled section"}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:a.default.RENAME_SECTION,pid:t,seid:n,name:i,oldName:c,onError:s,syncWithApi:l})},updateSectionDescription(e){const{pid:t,seid:n,description:i,onError:s,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=r.default.getBarrel();({description:c=""}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:a.default.UPDATE_SECTION_DESCRIPTION,pid:t,seid:n,description:i,oldDescription:c,onError:s,syncWithApi:l})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:s=!1}=p(e);let l;if(s){const{sections:e}=r.default.getBarrel();l=e.findIndex(e=>e._id===n)}o.a.dispatcher.dispatch({type:a.default.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:s})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=p(e);let s,l;if(i){const{sections:e}=r.default.getBarrel({bid:t});s=e.findIndex(e=>e._id===n),l=e[s]}o.a.dispatcher.dispatch({type:a.default.REMOVE_SECTION,pid:t,seid:n,index:s,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:s,syncWithApi:l=!1}=p(e),c=r.default.getBarrel({bid:t});if(!c.complete)return;const{sections:d}=c;let u;l&&(u=n.map(e=>{const{_id:t,screens:n}=d.find(t=>t.screens.includes(e));return{sourceSectionId:t,sourceIndex:n.findIndex(t=>t===e)}}));let h=s;if(void 0===s){const{screens:{length:e}}=d.find(e=>e._id===i);h=e}o.a.dispatcher.dispatch({type:a.default.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:h,oldIndices:u,syncWithApi:l})}};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendGAPageView=void 0;const i=n(238);t.sendGAPageView=function({title:e,source:t}={}){Zeplin.user&&!i.shouldTrackUser(Zeplin.user)||(ga("set","location",location.href),e&&ga("set","title",e),ga("send","pageview",t))}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},,,,function(e,t,n){"use strict";n.r(t);var i=n(398);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(249),r=n(5),a=n.n(r),s=n(399),l=n(252),c=n(400),d=n.n(c);n(403);const{h:u}=i;class p extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMaskChange=this.handleMaskChange.bind(this),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}handleInputChange(e){const t=e.target.value;this.setState({value:t});const{onInput:n}=this.props;n(t)}handleBlur(){const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})}handleMaskChange(){this.setState(e=>({isMasked:!e.isMasked}))}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:r,onKeyPress:a,primary:c,valid:u,extraInfoText:p,extraInfoLoading:h,tipText:f,showTipText:g,minLength:m,maxLength:b,autoComplete:S,autofocus:y,inputRef:v,type:C}=this.props;let O;c&&u?O="img/icTickBlue.svg":u?O="img/icTick.svg":!1===u&&(O="img/icInvalid.svg");let E=C;const T="password"===C;T&&!n&&(E="text");const _=Object(o.getRandomString)(),P=(t||g)&&!!f,j=Object(s.default)("inputArea",{focus:t,typed:!!e});return i.h("div",{class:Object(s.default)("inputWithLabelContainer",{primary:c,invalid:!1===u})},i.h("div",{class:j,title:r},i.h("input",{id:_,value:e,name:"textInput",type:E,placeholder:r,minLength:m,maxLength:b,ref:v,autoComplete:S,autofocus:y,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:a}),i.h("label",{for:_,class:"inputLabel"},r),i.h("div",{class:"extraInputInfo"},h&&i.h("img",{src:Object(l.imageUrl)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!O&&i.h("img",{src:Object(l.imageUrl)(O)}),i.h("span",{class:"extraInfoText"},p),T&&i.h("label",{class:"showPasswordContainer"},i.h(d.a,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),P&&i.h("div",{class:"tipText"},f))}}p.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1},p.propTypes={value:a.a.string,label:a.a.string,onKeyPress:a.a.func,onInput:a.a.func,onBlur:a.a.func,onFocus:a.a.func,primary:a.a.bool,valid:a.a.bool,extraInfoText:a.a.string,extraInfoLoading:a.a.bool,tipText:a.a.object,showTipText:a.a.boolean,maxLength:a.a.number,autoComplete:a.a.string,type:a.a.string,inputRef:a.a.func},t.default=p},function(e,t,n){"use strict";function i(){var e=[];return Array.from(arguments).forEach((function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter((function(e){return!0===t[e]})))))})),e.join(" ")}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(401));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),a=o(n(399));n(402),t.default=function(e){const{class:t,partialSelect:n}=e,o=i(e,["class","partialSelect"]);return r.h("div",{class:a.default("checkboxComponent",t,{partialSelect:n})},r.h("input",Object.assign(o,{type:"checkbox"})),r.h("div",{class:"indicator"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(405);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399);n(406);const{h:s}=i;function l(e){const{children:t,baseRef:n,class:o,style:r,type:s,disabled:l,inverted:c,ninja:d,primary:u,secondary:p,warning:h,onClick:f,onMouseEnter:g,onMouseLeave:m,"data-testid":b}=e,S=Object(a.default)("button",o,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!p,warning:!!h});return i.h("button",{style:r,ref:n,type:s,disabled:l,onClick:f,onMouseEnter:g,onMouseLeave:m,class:S},t)}l.propTypes={class:r.a.string,style:r.a.object,disabled:r.a.bool,children:r.a.node,onClick:r.a.func,primary:r.a.bool,secondary:r.a.bool},l.defaultProps={type:"button"},t.default=l},function(e,t,n){},,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t,n="nodeRefs"){n in e||(e[n]={}),"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:o}=e;return"function"!=typeof o[t]&&(o[t]=e=>{i[t]=e}),o[t]}n.r(t),n.d(t,"default",(function(){return i}))},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(431),a=n(236),s=n(234),l=n(244),c=n(367),d=n.n(c),u=n(433),p=n(230),h=n(233),f=n(1998),g=(n(779),n(1999)),m=n(2003),b=n(271),S=n.n(b),y=n(2005),v=n.n(y),C=n(2071),O=n(2073),E=n(2074),T=n(2086),_=n(2087);n(2088),n(2089),n(2090),n(2091),n(2093),n(2094),n(269),n(2095);function P(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function I(){const e=await(p.isWindowsApp&&a.userPrefs.get("lastAppLocation")),t=function(){const e=new URLSearchParams(location.search).get("uri");if(!e)return null;try{const t=new URL(e);if(p.isWindowsApp&&t.pathname.startsWith("//export-xd")&&!p.supports.xdPlugin)return l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(h.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}}),null;return Object(o.convertURItoWebURL)(t)||null}catch(t){return null}}()||e;t?history.replaceState(null,null,t):await Object(g.goToLastOrganizationWorkspace)()}function R(e){return e?e.map(e=>D(D({},e),{},{complete:!1})):null}s.default.get("userToken")?(S.a.initializeStores(),v()(),Object(g.registerWorkspaceRouteHandlers)(),Object(m.registerDotsViewHandlers)(),Object(E.registerWorkspaceSocketBindings)(),Object(O.default)(),Object(T.registerSSOTokenExpiration)(),Object(_.registerSentryToDispatcherAndStores)(),Object(f.setMixpanelGroupProperties)(),i.render(i.h(u.default),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:o,organizations:a,organizationProfiles:s,barrel:l,project:c,linkedStyleguides:d=[],ancestors:u,versions:p,dots:h}=e,f=P(e,["projects","styleguides","focusedBarrels","oid","organizations","organizationProfiles","barrel","project","linkedStyleguides","ancestors","versions","dots"]);r.default.hydrateEmbeddedData({config:Zeplin.apiConfig,projects:R(t),styleguides:R(n),focusedBarrels:i,oid:o,organizations:a,organizationProfiles:s,project:c,linkedStyleguides:d,versions:p,dots:h,styleguide:l,ancestors:u,user:Zeplin.user}),Zeplin.apiData=f}else r.default.hydrateEmbeddedData({config:Zeplin.apiConfig,user:Zeplin.user})}(),Object(C.default)(),async function(){await I(),window.addEventListener("online",()=>{s.default.get("userToken")&&(r.default.reset(),setTimeout(async()=>{try{await d.a.reload()}catch(e){location.reload()}},1e3))}),d.a.onSetBackButtonCallback=r.default.setBackButton,d.a.onResetBackButtonCallback=r.default.resetBackButton,d.a.start(document.body)}()):Zeplin.requireLogin(),d.a.route(/.*/,e=>Object(f.trackVisitiedAppEvent)(e.url.pathname))},function(e,t,n){"use strict";n.r(t);var i=n(275),o=n.n(i),r=n(271),a=n.n(r),s=n(432);const l={loadWorkspaceData({organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:r,styleguides:s,dialogDismissParams:l,oid:c}){a.a.dispatcher.dispatch({type:o.a.LOAD_WORKSPACE_DATA,organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:r,styleguides:s,dialogDismissParams:l,oid:c})},reset(){a.a.dispatcher.dispatch({type:o.a.RESET})},hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:r,organizationProfiles:s,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g,config:m}){a.a.dispatcher.dispatch({type:o.a.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:r,organizationProfiles:s,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g,config:m})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){a.a.dispatcher.dispatch({type:o.a.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})},resetBackButton(){a.a.dispatcher.dispatch({type:o.a.RESET_BACK_BUTTON})},setBackButton(e,t){a.a.dispatcher.dispatch({type:o.a.SET_BACK_BUTTON,label:e,link:t})},setPage(e){a.a.dispatcher.dispatch({type:o.a.SET_PAGE,page:e})},ssoTokenExpired(e){const{organizations:t}=a.a.OrganizationStore.getState();if(!t)return void Zeplin.logout();const n=t.find(t=>t.sso.provider.identifier===e),{sessionDuration:i}=n.sso;a.a.dispatcher.dispatch({type:o.a.SSO_TOKEN_EXPIRED,frequency:Object(s.turnMinutesIntoHumanReadableInterval)(i)})},unsetSSOTokenExpired(){a.a.dispatcher.dispatch({type:o.a.UNSET_SSO_TOKEN_EXPIRED})},loginSSO(){a.a.dispatcher.dispatch({type:o.a.LOGIN_SSO})},switchToOldNotificationExperience(){a.a.dispatcher.dispatch({type:o.a.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE})},switchToNewNotificationExperience(){a.a.dispatcher.dispatch({type:o.a.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE})}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCalendarDateOfISOString=t.turnMinutesIntoHumanReadableInterval=t.getDateDifference=t.inSameDay=t.getDateString=void 0;const i=n(248),o=n(249);function r(e){return e instanceof Date?e:new Date(e)}t.getDateString=function(e){const t=r(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return i.formatTime(t,{year:"numeric",month:"long",day:"numeric"})},t.inSameDay=function(e,t){const n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},t.getDateDifference=function(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((r(n).getTime()-r(t).getTime())/i[e.toLowerCase()])};t.turnMinutesIntoHumanReadableInterval=function(e){let t,n;return e<60?(t=e,n="minute"):e<1440?(t=Math.floor(e/60),n="hour"):e<10080?(t=Math.floor(e/1440),n="day"):e<43200?(t=Math.floor(e/10080),n="week"):(t=Math.floor(e/43200),n="month"),o.pluralize(t,n)},t.getCalendarDateOfISOString=function(e=new Date){return e.toISOString().substr(0,10)}},function(e,t,n){"use strict";n.r(t);var i=n(434);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(435),r=n(867),a=n(1204),s=n(1898),l=n.n(s),c=n(1986),d=n(1991),u=n(1994),p=n(431),h=n(271),f=n.n(h),g=n(230),m=n(513),b=n.n(m);n(1997);class S extends i.Component{static getStores(){return[f.a.AppStore]}static calculateState(){const{page:e,ssoTokenExpired:t}=f.a.AppStore.getState();return{page:e,ssoTokenExpired:t}}getChildContext(){const{page:e}=this.state;return{page:e}}render(){const{page:e,ssoTokenExpired:t}=this.state;if(g.isWindowsApp&&!g.supports.SPA)return i.h(d.default,null);let n;return n="barrel"===e?a.default:"activities"===e?l.a:r.default,i.h(i.Fragment,null,i.h(o.default,null),i.h(n,null),i.h(c.default,null),t&&i.h(u.default,{onLogin:p.default.loginSSO,onLogout:Zeplin.logout,frequency:t}))}}t.default=b()(S)},function(e,t,n){"use strict";n.r(t);var i=n(436),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(249),a=n(245),s=n(230),l=i(n(263)),c=n(232),d=i(n(437)),u=i(n(513)),p=i(n(515)),h=i(n(532)),f=i(n(535)),g=i(n(540)),m=i(n(584)),b=i(n(736)),S=i(n(859)),y=i(n(861)),v=i(n(364)),C=i(n(370)),O=i(n(365)),E=i(n(271)),T=i(n(384)),_=i(n(590)),P=i(n(864));class j extends o.Component{constructor(){super(...arguments),this.getAllNotifications=()=>{setTimeout(()=>{_.default.getNotifications(null,500)},4)}}static getStores(){return[E.default.AppStore,E.default.SpaceStore,E.default.OrganizationStore,E.default.UserStore,E.default.BarrelStore,E.default.DashboardStore,E.default.ScreenStore,E.default.ProjectsDataStore,E.default.StyleguidesDataStore,E.default.NotificationsStore,E.default.ActivitiesViewStore]}static calculateState(){const{loading:e,selectedTab:t,selectedOrganizationId:n}=E.default.SpaceStore.getState(),{loading:i,loadingOrganization:o,loadingProfiles:s,loadingBarrels:d,organizations:u}=E.default.OrganizationStore.getState(),{loading:p,username:h,avatar:f,userId:g}=E.default.UserStore.getState(),{loading:m,barrelId:b,barrelType:S,organizationId:y,selectedView:T}=E.default.BarrelStore.getState(),{partial:_=!1,name:j=""}=v.default.getBarrel()||{},{tagFilter:{tags:D,untagged:k},filterValue:I,jiraIssueFilter:R}=E.default.DashboardStore.getState(),{loadingSnapshot:A,screenId:w}=E.default.ScreenStore.getState(),{loading:N,notifications:L}=E.default.NotificationsStore.getState(),{selectedOrganizationId:x,listScrollData:M,notificationWelcomeMessageMinimized:U}=E.default.ActivitiesViewStore.getState(),{name:B=""}=C.default.getScreen()||{};let{backButtonLabel:z,backButtonLink:V}=E.default.AppStore.getState();const{page:W,oldNotificationExperience:F}=E.default.AppStore.getState();let H,G=!1;"workspace"===W?(G=e||i||o||s||p||d,H=n):"activities"===W?(G=N||o||d||!!M,H=x||n):T===c.ProjectViewTypes.SCREEN?(G=m||A,H=y||n):(G=m,H=y||n);const $=!!H&&"user"!==H;if("activities"!==W||z&&V){if(!("workspace"===W||m||z&&V))if(T===c.ProjectViewTypes.SCREEN){const e={q:I,ja:R,sid:w};Object.assign(e,k?{untagged:"true"}:{tag:D}),z="Dashboard",V=a.urlResolve("project-dashboard",{url:{pid:b},query:e})}else{const{name:e}=O.default.getOrganization(H)||{},t=S===l.default.PROJECT?"projects":"styleguides",n={[S===l.default.PROJECT?"pid":"stid"]:b};V=$?a.urlResolve("workspace-"+t,{url:{oid:H},query:n}):a.urlResolve(t,{query:n}),z=this.getBackButtonLabel($,e)}}else{const{name:e}=O.default.getOrganization(H)||{};V=$?a.urlResolve("workspace-projects",{url:{oid:H}}):a.urlResolve("projects"),z=this.getBackButtonLabel($,e)}let q,Z,Y,K;if(F||"barrel"!==W||(T===c.ProjectViewTypes.STYLEGUIDE?q="Styleguide":T===c.ProjectViewTypes.DASHBOARD?q="Dashboard":T===c.ProjectViewTypes.SCREEN&&(q=B)),Z=G?"Zeplin":"workspace"===W?`Workspace - ${r.uppercaseFirst(t)} - Zeplin`:"activities"===W?"Notifications - Zeplin":T===c.ProjectViewTypes.SCREEN?`${B} - ${j} - Zeplin`:j+" - Zeplin","barrel"===W&&T===c.ProjectViewTypes.SCREEN){const e=C.default.getPreviousScreen(w);e&&(Y=a.urlResolve("project-screen",{url:{pid:b,sid:e._id}}));const t=C.default.getNextScreen(w);t&&(K=a.urlResolve("project-screen",{url:{pid:b,sid:t._id}}))}const J=(O.default.getOrganizationProjects(H)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)&&"archived"!==e.status),X=(O.default.getOrganizationStyleguides(H)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)),Q=L.filter(({_id:e})=>e).filter(({events:e})=>e&&e.every(({_id:e})=>e)).filter(e=>e.params.organization&&e.params.organization._id===H||J.some(({id:t})=>P.default.isRelatedToProject(e,t))||X.some(({id:t})=>P.default.isRelatedToStyleguide(e,t))).some(({markedAsRead:e,actionName:t})=>!e&&P.default.isTypeValid(t));return{loading:G,selectedView:T,page:W,title:Z,backButtonLink:V,backButtonLabel:z,activitiesBackButtonLabel:q,organizations:u,username:h,avatar:f,selectedOrganizationId:H,screenName:B,previousScreenURL:Y,nextScreenURL:K,barrelType:S,isPreview:_,barrelId:b,barrelName:j,hasUnreadNotifications:Q,notifications:L,oldNotificationExperience:("activities"!==W||!F)&&F,notificationWelcomeMessageMinimized:U}}static getBackButtonLabel(e,t){return e?o.h("div",{class:"backButtonLabel",title:t},o.h("div",{class:"organizationName ellipsis"},t),o.h("div",null,"’s Workspace")):"Workspace"}componentDidMount(){this.getAllNotifications(),window.addEventListener("online",this.getAllNotifications)}componentWillUnmount(){window.removeEventListener("online",this.getAllNotifications)}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:i,username:r,avatar:a,selectedOrganizationId:s,screenName:d,previousScreenURL:u,nextScreenURL:g,barrelType:m,isPreview:b,barrelId:S,barrelName:y}=this.state;return"workspace"===t?i.length?o.h(p.default,{organizations:i,username:r,avatar:a,selectedOrganizationId:s,onOrganizationChange:T.default.changeSelectedOrganization}):o.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"activities"===t?o.h("span",{title:"Notifications"},"Notifications"):n===c.ProjectViewTypes.SCREEN?o.h(h.default,{loading:e,title:d,previousScreenURL:u,nextScreenURL:g}):m===l.default.STYLEGUIDE||b?o.h("span",{title:y},y):o.h(f.default,{barrelId:S,selectedTab:n})}renderHeaderRight(){const{selectedOrganizationId:e,hasUnreadNotifications:t,oldNotificationExperience:n,page:i,backButtonLink:r,activitiesBackButtonLabel:s,notificationWelcomeMessageMinimized:l}=this.state;let c;const d="activities"===i;return n||(c=d?r:"user"===e?a.urlResolve("activities"):a.urlResolve("workspace-activities",{url:{oid:e}})),o.h(o.Fragment,null,o.h(g.default,null),l&&d&&o.h(y.default,{oid:e}),n?o.h(m.default,{organizationId:e}):o.h(S.default,{hasUnreadNotifications:t,active:d,backLabel:d?"":s,backLink:c}),o.h(b.default,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:i}=this.state;return document.title=i,o.h(d.default,{loading:e,hideLogo:s.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}}t.default=u.default(j)},function(e,t,n){"use strict";n.r(t);var i=n(438),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(439)),a=n(442),s=i(n(399)),l=n(252);function c({headerLeft:e,headerCenter:t,headerRight:n,homeURL:i,backButtonLabel:c,backButtonLink:d,hideLogo:u,tall:p,hidden:h,loading:f,class:g}){return o.h("header",{class:s.default(g,{tall:p,hidden:h})},o.h("div",{class:"headerLeft noSelect"},!u&&o.h("a",{class:"homeLink",href:i,"data-link-type":"inApp","data-back":""},o.h("img",{src:l.imageUrl("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),c&&o.h("a",{class:"backLink ellipsis",href:d,"data-link-type":"inApp","data-back":""},o.h(a.IconArrowLeft,{color:"var(--gandalf)"}),o.h("span",null,c)),e),o.h("div",{class:"headerCenter noSelect"},t),o.h("div",{class:"headerRight noSelect"},n),o.h(r.default,{running:f}))}n(512),c.defaultProps={homeURL:"/"},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(440);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420);n(441);class r extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:o}=this.props,{stopRequested:r}=this.state;if(!this.nodeRefs.bar||!e&&!r)return;const a=r?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:a},{transform:"scaleX(1)",backgroundColor:a}],{duration:i,easing:o}).addEventListener("finish",()=>{if(r)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:a});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:a}),this.animate()})}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(o.default)(this,"bar")}))}}r.defaultProps={initialColor:"var(--casper)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.default=r},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogoZeplin=t.IconToken=t.IconTick=t.IconCursorPointer=t.IconHourGlass=t.IconAddNote=t.IconHintClose=t.IconSectionDrag=t.IconElevator=t.IconTeams=t.IconLayerStyle=t.IconZoomOut=t.IconZoomIn=t.IconDescription=t.IconTrello=t.IconSlimArrowRight=t.IconSketchCloud=t.IconPaper=t.IconJira=t.IconInvision=t.IconGitlab=t.IconGithub=t.IconFigma=t.IconConfluence=t.IconBitbucket=t.IconAsana=t.IconAbstract=t.IconNotion=t.IconZeplin=t.IconCustomLink=t.IconUnpin=t.IconPin=t.IconDotSpinner=t.IconReadme=t.IconSlack=t.IconDivider=t.IconPopout=t.IconMoveHandle=t.IconClose=t.IconCollapseLeft=t.IconCollapse=t.IconChevron=t.IconGear=t.IconPlusWithCircle=t.IconPlus=t.IconSpinner=t.IconScreenLink=t.IconMagnifier=t.IconFolder=t.IconComponent=t.IconSpacing=t.IconInfo=t.IconTextStyle=t.IconColor=t.IconDelete=t.IconVariants=t.IconGoTo=t.IconShare=t.IconDownload=t.IconCopy=t.IconArrowDown=t.IconArrowRight=t.IconArrowLeft=t.IconSettings=t.IconEdit=t.IconMenu=void 0;var o=n(443);Object.defineProperty(t,"IconMenu",{enumerable:!0,get:function(){return i(o).default}});var r=n(444);Object.defineProperty(t,"IconEdit",{enumerable:!0,get:function(){return i(r).default}});var a=n(445);Object.defineProperty(t,"IconSettings",{enumerable:!0,get:function(){return i(a).default}});var s=n(446);Object.defineProperty(t,"IconArrowLeft",{enumerable:!0,get:function(){return i(s).default}});var l=n(447);Object.defineProperty(t,"IconArrowRight",{enumerable:!0,get:function(){return i(l).default}});var c=n(448);Object.defineProperty(t,"IconArrowDown",{enumerable:!0,get:function(){return i(c).default}});var d=n(449);Object.defineProperty(t,"IconCopy",{enumerable:!0,get:function(){return i(d).default}});var u=n(450);Object.defineProperty(t,"IconDownload",{enumerable:!0,get:function(){return i(u).default}});var p=n(451);Object.defineProperty(t,"IconShare",{enumerable:!0,get:function(){return i(p).default}});var h=n(452);Object.defineProperty(t,"IconGoTo",{enumerable:!0,get:function(){return i(h).default}});var f=n(453);Object.defineProperty(t,"IconVariants",{enumerable:!0,get:function(){return i(f).default}});var g=n(454);Object.defineProperty(t,"IconDelete",{enumerable:!0,get:function(){return i(g).default}});var m=n(455);Object.defineProperty(t,"IconColor",{enumerable:!0,get:function(){return i(m).default}});var b=n(456);Object.defineProperty(t,"IconTextStyle",{enumerable:!0,get:function(){return i(b).default}});var S=n(457);Object.defineProperty(t,"IconInfo",{enumerable:!0,get:function(){return i(S).default}});var y=n(458);Object.defineProperty(t,"IconSpacing",{enumerable:!0,get:function(){return i(y).default}});var v=n(459);Object.defineProperty(t,"IconComponent",{enumerable:!0,get:function(){return i(v).default}});var C=n(460);Object.defineProperty(t,"IconFolder",{enumerable:!0,get:function(){return i(C).default}});var O=n(461);Object.defineProperty(t,"IconMagnifier",{enumerable:!0,get:function(){return i(O).default}});var E=n(462);Object.defineProperty(t,"IconScreenLink",{enumerable:!0,get:function(){return i(E).default}});var T=n(463);Object.defineProperty(t,"IconSpinner",{enumerable:!0,get:function(){return i(T).default}});var _=n(466);Object.defineProperty(t,"IconPlus",{enumerable:!0,get:function(){return i(_).default}});var P=n(467);Object.defineProperty(t,"IconPlusWithCircle",{enumerable:!0,get:function(){return i(P).default}});var j=n(468);Object.defineProperty(t,"IconGear",{enumerable:!0,get:function(){return i(j).default}});var D=n(469);Object.defineProperty(t,"IconChevron",{enumerable:!0,get:function(){return i(D).default}});var k=n(470);Object.defineProperty(t,"IconCollapse",{enumerable:!0,get:function(){return i(k).default}});var I=n(471);Object.defineProperty(t,"IconCollapseLeft",{enumerable:!0,get:function(){return i(I).default}});var R=n(472);Object.defineProperty(t,"IconClose",{enumerable:!0,get:function(){return i(R).default}});var A=n(473);Object.defineProperty(t,"IconMoveHandle",{enumerable:!0,get:function(){return i(A).default}});var w=n(474);Object.defineProperty(t,"IconPopout",{enumerable:!0,get:function(){return i(w).default}});var N=n(475);Object.defineProperty(t,"IconDivider",{enumerable:!0,get:function(){return i(N).default}});var L=n(476);Object.defineProperty(t,"IconSlack",{enumerable:!0,get:function(){return i(L).default}});var x=n(477);Object.defineProperty(t,"IconReadme",{enumerable:!0,get:function(){return i(x).default}});var M=n(478);Object.defineProperty(t,"IconDotSpinner",{enumerable:!0,get:function(){return i(M).default}});var U=n(480);Object.defineProperty(t,"IconPin",{enumerable:!0,get:function(){return i(U).default}});var B=n(481);Object.defineProperty(t,"IconUnpin",{enumerable:!0,get:function(){return i(B).default}});var z=n(482);Object.defineProperty(t,"IconCustomLink",{enumerable:!0,get:function(){return i(z).default}});var V=n(483);Object.defineProperty(t,"IconZeplin",{enumerable:!0,get:function(){return i(V).default}});var W=n(484);Object.defineProperty(t,"IconNotion",{enumerable:!0,get:function(){return i(W).default}});var F=n(485);Object.defineProperty(t,"IconAbstract",{enumerable:!0,get:function(){return i(F).default}});var H=n(486);Object.defineProperty(t,"IconAsana",{enumerable:!0,get:function(){return i(H).default}});var G=n(487);Object.defineProperty(t,"IconBitbucket",{enumerable:!0,get:function(){return i(G).default}});var $=n(488);Object.defineProperty(t,"IconConfluence",{enumerable:!0,get:function(){return i($).default}});var q=n(489);Object.defineProperty(t,"IconFigma",{enumerable:!0,get:function(){return i(q).default}});var Z=n(490);Object.defineProperty(t,"IconGithub",{enumerable:!0,get:function(){return i(Z).default}});var Y=n(491);Object.defineProperty(t,"IconGitlab",{enumerable:!0,get:function(){return i(Y).default}});var K=n(492);Object.defineProperty(t,"IconInvision",{enumerable:!0,get:function(){return i(K).default}});var J=n(493);Object.defineProperty(t,"IconJira",{enumerable:!0,get:function(){return i(J).default}});var X=n(494);Object.defineProperty(t,"IconPaper",{enumerable:!0,get:function(){return i(X).default}});var Q=n(495);Object.defineProperty(t,"IconSketchCloud",{enumerable:!0,get:function(){return i(Q).default}});var ee=n(496);Object.defineProperty(t,"IconSlimArrowRight",{enumerable:!0,get:function(){return i(ee).default}});var te=n(497);Object.defineProperty(t,"IconTrello",{enumerable:!0,get:function(){return i(te).default}});var ne=n(498);Object.defineProperty(t,"IconDescription",{enumerable:!0,get:function(){return i(ne).default}});var ie=n(499);Object.defineProperty(t,"IconZoomIn",{enumerable:!0,get:function(){return i(ie).default}});var oe=n(500);Object.defineProperty(t,"IconZoomOut",{enumerable:!0,get:function(){return i(oe).default}});var re=n(501);Object.defineProperty(t,"IconLayerStyle",{enumerable:!0,get:function(){return i(re).default}});var ae=n(502);Object.defineProperty(t,"IconTeams",{enumerable:!0,get:function(){return i(ae).default}});var se=n(503);Object.defineProperty(t,"IconElevator",{enumerable:!0,get:function(){return i(se).default}});var le=n(504);Object.defineProperty(t,"IconSectionDrag",{enumerable:!0,get:function(){return i(le).default}});var ce=n(505);Object.defineProperty(t,"IconHintClose",{enumerable:!0,get:function(){return i(ce).default}});var de=n(506);Object.defineProperty(t,"IconAddNote",{enumerable:!0,get:function(){return i(de).default}});var ue=n(507);Object.defineProperty(t,"IconHourGlass",{enumerable:!0,get:function(){return i(ue).default}});var pe=n(508);Object.defineProperty(t,"IconCursorPointer",{enumerable:!0,get:function(){return i(pe).default}});var he=n(509);Object.defineProperty(t,"IconTick",{enumerable:!0,get:function(){return i(he).default}});var fe=n(510);Object.defineProperty(t,"IconToken",{enumerable:!0,get:function(){return i(fe).default}});var ge=n(511);Object.defineProperty(t,"LogoZeplin",{enumerable:!0,get:function(){return i(ge).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=({color:e,width:t,class:n})=>{const o=8*t/12;return i.h("svg",{class:n,width:t,height:o,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))};o.defaultProps={color:"var(--teflon)",width:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 48 48"},i.h("g",{stroke:e,"stroke-width":"2"},i.h("rect",{width:"16",height:"6",x:"16",y:"11",fill:"none",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"21",fill:e,"fill-opacity":".5",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"31",fill:e,rx:"3"})))}o.defaultProps={color:"var(--clooney)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,transparent:o}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:o?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}o.defaultProps={color:"var(--gandalf)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:r,class:a}){return i.h("svg",{class:a,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(o,e,r))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:r,class:a}){return i.h("svg",{class:a,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(o,e,r))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(464);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399));function a({color:e,width:t,height:n,class:i}){const a=r.default("iconSpinner",i);return o.h("svg",{class:a,width:t,height:n,viewBox:"0 0 12 12"},o.h("g",{fill:e,"fill-rule":"evenodd"},o.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),o.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),o.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),o.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),o.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),o.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),o.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),o.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}n(465),a.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=a},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,circleColor:t,width:n,height:o}){return i.h("svg",{width:n,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}o.defaultProps={circleColor:"transparent",color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 24 24"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 3c.276 0 .5.224.5.5v4h4c.276 0 .5.224.5.5s-.224.5-.5.5h-4v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4v-4c0-.276.224-.5.5-.5z"}))}o.defaultProps={width:24,height:24,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}o.defaultProps={color:"var(--teflon)",width:8,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}o.defaultProps={color:"var(--teflon)",width:18,height:18},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,height:t,class:n}){const o=4*t/20;return i.h("svg",{class:n,width:o,height:t,viewBox:"0 0 4 20"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}o.defaultProps={color:"var(--teflon)",height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("path",{"fill-opacity":".4",d:"M14.5 8.246c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zm0 3.5c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zM13.927 15h-.177c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h.177c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-2.677 0h-1c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h1c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-3.5 0h-2c-.276 0-.5.223-.5.5 0 .276.224.5.5.5h2c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zM15 4.5h-1v1.746c0 .276.223.5.5.5s.5-.224.5-.5V4.5z"}),i.h("path",{d:"M17.5 6c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zM6.662 5.71c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm1.64 2.29c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm2.198-2c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm-2.338-5c-.277 0-.5.224-.5.5s.223.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.277 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1z"}),i.h("path",{d:"M4 1c-.55 0-1 .45-1 1v13c0 .55.45 1 1 1h2.162v-1H4.5c-.275 0-.5-.225-.5-.5v-12c0-.275.225-.5.5-.5h9c.275 0 .5.225.5.5v2h1V2c0-.55-.45-1-1-1H4z"}))))}o.defaultProps={color:"var(--teflon)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}o.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=16*e/16;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 16 16"},i.h("path",{fill:t||"#e01e5a",d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{fill:t||"#36c5f0",d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:t||"#2eb67d",d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{fill:t||"#ecb22e",d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"}),i.h("g",{class:"iconActiveStateOverlay",fill:"none"},i.h("path",{d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"})))}o.defaultProps={width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(479);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o(e){const{width:t,color:n}=e,o=14*t/14;return i.h("svg",{class:"spinning",width:t,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:n,"fill-rule":"evenodd"},i.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),i.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),i.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),i.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),i.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),i.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),i.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),i.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}o.defaultProps={width:14,color:"var(--cornflower-blue)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--peach)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("g",{fill:e,"fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87l.147.005h6.25c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75V2.5h.625c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-6.25C1.399 8.75 0 7.35 0 5.625 0 3.899 1.4 2.5 3.125 2.5h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M15 0c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-1.25V5h-2.606H15c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87L8.75 5h.625v1.25H8.75c-1.726 0-3.125-1.4-3.125-3.125C5.625 1.399 7.025 0 8.75 0H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.815 6.878c-.6-1.66-2.601-2.652-5.351-2.652-.575 0-1.172.044-1.78.132-.236-.765-.491-1.36-.76-1.771-.342-.522-.73-.787-1.155-.787-.03 0-.06.001-.088.004-.434.038-.784.33-1.039.869-.163.345-.292.796-.393 1.371-.787-.657-1.42-.977-1.923-.977-.229 0-.433.062-.608.184-.356.25-.512.676-.463 1.27.042.502.229 1.139.57 1.946l.02.044c-1.336.846-2.39 1.842-3.064 2.894L0 10.765l2.144 2.47-.069 3.266 3.773-1.358c.782.251 1.677.378 2.662.378.513 0 1.046-.035 1.588-.105l.011.038c.25.81.508 1.404.79 1.815.327.478.702.721 1.115.721.03 0 .059 0 .087-.003.434-.038.785-.338 1.043-.891.157-.337.286-.784.384-1.333.788.658 1.42.979 1.926.979.229 0 .434-.062.609-.184.367-.257.52-.709.455-1.343-.05-.49-.237-1.119-.553-1.87 1.42-.867 2.538-1.902 3.243-3.002.778-1.215.988-2.413.607-3.465zM9.031 8.007c-.18-.313-.346-.62-.5-.917.161-.083.325-.164.491-.241-.005.375-.002.762.009 1.158zm-.135-2.572c-.319.137-.63.283-.934.438-.326-.788-.414-1.234-.431-1.464.227.103.66.364 1.365 1.026zm-.387 8.745c-.875 0-1.656-.113-2.32-.337l-.357-.12-2.372.853.039-1.828-1.2-1.383 2.378-.856.197-.318c.543-.875 1.422-1.72 2.552-2.458.486.935 1.098 1.953 1.784 2.965.127 1.212.314 2.382.545 3.408-.426.05-.843.074-1.246.074zm1.92-9.38c.115-.92.272-1.376.376-1.592.032.045.07.103.11.175.167.293.338.71.5 1.218-.331.079-.664.17-.994.273l.008-.073zm.588 9.094c-.074-.325-.144-.666-.209-1.02.248.31.495.608.741.892-.177.047-.355.09-.532.128zm.958 2.685c-.026-.036-.055-.08-.086-.134-.174-.293-.354-.725-.523-1.254.33-.074.662-.16.992-.258-.113.94-.276 1.42-.383 1.646zm1.964-2.156l-.038-.035c.316-.13.628-.271.93-.42.217.528.357.977.407 1.308.007.049.012.09.015.127-.22-.1-.636-.351-1.314-.98zm4.6-5.773c-.164.534-.508 1.113-.994 1.673-.525.605-1.195 1.175-1.99 1.693-.807.526-1.706.973-2.674 1.33-.746-.824-1.534-1.818-2.284-2.887-.05-.07-.099-.141-.147-.211l-.025-.268c-.113-1.289-.151-2.549-.111-3.658 1.403-.494 2.836-.755 4.15-.755 1.105 0 2.08.185 2.819.534.657.31 1.083.725 1.267 1.232.141.39.138.834-.01 1.317z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.45.068c.05.004.1.012.152.014.284.01.554.076.81.205.173.088.335.192.493.306 1.043.75 2.086 1.5 3.129 2.252.244.176.486.354.728.532.081.06.159.126.229.2.063.066.118.138.158.222.024.05.043.1.045.158.001.014.008.03.013.044v13.771c-.016.035-.013.073-.013.109-.003.157-.04.307-.095.452-.064.172-.172.31-.315.42-.144.111-.309.175-.482.219-.186.048-.375.064-.565.076-.213.014-.425.025-.639.037l-.293.018-.638.04-.632.038c-.207.013-.416.028-.623.04l-.64.038-.877.056-.45.027-.75.046-.639.04-.623.037c-.208.013-.416.028-.624.04l-.64.038-.877.056c-.3.02-.6.036-.9.054l-.293.018-.631.04-.632.038-.723.045c-.065.004-.129.008-.193.014-.019.003-.038.011-.058.016h-.37c-.02-.006-.038-.014-.059-.017-.063-.01-.127-.017-.19-.029-.27-.046-.503-.165-.694-.366-.076-.08-.15-.166-.218-.255-.355-.468-.707-.937-1.06-1.406l-1.412-1.876c-.135-.18-.262-.366-.368-.565-.146-.274-.253-.563-.28-.878-.001-.027-.005-.053-.026-.072V2.168c.024-.03.027-.068.03-.105.007-.1.025-.198.052-.294.104-.373.332-.628.69-.758.138-.05.278-.077.422-.088l.516-.037.254-.02.523-.04L3.68.79c.171-.013.343-.028.515-.04.172-.013.344-.024.516-.038l.723-.056.83-.063.84-.063.946-.07.246-.018.53-.04c.17-.014.339-.025.508-.038l.515-.04c.174-.014.35-.025.524-.038l.807-.061.254-.02.516-.04.523-.038c.24-.019.481-.043.724-.048.028 0 .055-.007.083-.01h.17zm3.977 4.5c-.085 0-.17.005-.254.01l-.23.018c-.152.009-.304.013-.455.023l-.91.056-.924.053-.307.019-.662.04-.648.038c-.215.013-.43.028-.647.04-.22.014-.441.025-.662.038l-.91.056-.924.053-.3.018-.654.041c-.219.013-.437.024-.655.038l-.91.056-.924.053-.3.018-.709.043c-.133.009-.268.013-.4.032-.27.04-.414.174-.477.424l-.006.03c-.022.12-.026.241-.026.362V17.49c0 .098.008.194.027.29.051.253.197.416.44.488l.03.008c.11.03.223.037.336.034.129-.004.257-.01.385-.017.224-.012.447-.024.67-.038l.917-.056.94-.053.307-.02.662-.04c.221-.012.442-.024.663-.038.216-.012.431-.026.647-.04l.672-.036v-.001l.23-.012.316-.02.655-.04.663-.037.916-.056c.221-.014.442-.025.663-.038l.316-.019.693-.041c.12-.008.241-.014.362-.02l.647-.041.562-.034c.096-.007.188-.028.278-.063.16-.064.272-.177.332-.341.022-.06.037-.121.048-.183.024-.127.026-.257.026-.385V5.349c0-.08-.004-.158-.01-.237-.011-.11-.038-.218-.094-.315-.06-.104-.143-.179-.26-.207-.048-.011-.097-.02-.145-.021zM16.05 6.686c.005.008.011.014.013.021.031.135.035.27-.004.406-.01.034-.023.07-.04.101-.05.096-.127.16-.231.182l-.46.096c-.054.01-.106.022-.158.033-.016.033-.01.065-.01.096v1.974l.001 6.277v.084c-.008.008-.013.014-.02.018-.248.14-.505.26-.779.338-.167.048-.336.076-.51.08-.118.004-.236-.007-.352-.03-.131-.026-.248-.085-.354-.167-.09-.07-.17-.152-.243-.24-.136-.166-.266-.336-.379-.518-1.162-1.87-2.326-3.738-3.489-5.606-.015-.024-.03-.049-.046-.072-.004-.006-.011-.008-.02-.014-.003.01-.007.017-.007.024v5.665c.13.036.26.06.387.09l.39.09.386.09v.05c-.026.177-.111.32-.246.433-.146.122-.316.185-.503.197-.303.019-.606.034-.91.052l-.9.056-.678.037-.24.014c-.018-.002-.038-.005-.062-.006-.034-.169-.01-.322.084-.462.048-.07.113-.12.196-.144l.579-.166.081-.026.008-.013.002-.008.001-7.477V8.2l-.007-.02c-.014-.003-.031-.008-.048-.01L6.82 8.12c-.059-.005-.118-.01-.177-.017-.017-.002-.034-.007-.053-.012-.018-.075-.015-.149-.006-.221.02-.169.086-.32.2-.444.112-.122.25-.19.415-.202l.823-.062.57-.037.57-.04.539-.038.269-.02h.044c.08.12.157.244.235.366l.241.377.237.37.24.377.474.74.24.376.237.37.236.37.241.377.236.37.241.377.237.37.236.37.241.376c.079.122.156.246.243.376.006-.018.011-.026.012-.035v-.055-5.077l-.002-.097c-.083-.023-.165-.024-.246-.035l-.246-.027-.237-.029-.245-.032c-.02-.06-.02-.117-.013-.175.042-.358.342-.572.588-.586.144-.008.288-.02.431-.028.226-.014.452-.028.678-.04.105-.008.21-.014.316-.02l.655-.037.47-.03h.06zm-3.043-5.492c-.27.019-.539.04-.808.06l-.269.02-.523.04-.524.038-.807.06-.27.02-.546.042-.507.037-.562.042-.5.037-.554.042-.5.037-.563.042-.492.036-.57.043-.492.037-.53.04-.516.038c-.192.014-.384.028-.577.044-.095.008-.19.017-.283.032-.074.011-.144.04-.2.095-.07.07-.076.144-.017.225.01.015.022.03.036.042.02.02.042.038.065.056.473.385.945.77 1.42 1.153.09.073.186.142.282.207.128.086.268.144.419.173.145.028.29.038.437.032.204-.008.407-.02.609-.033.208-.012.416-.027.623-.04l.632-.037c.205-.013.41-.028.615-.04.213-.014.427-.025.64-.038l.3-.019.64-.04c.21-.013.42-.024.63-.038l.632-.04.64-.037.885-.057.901-.053.308-.019.654-.04.354-.022.632-.04.639-.037.732-.045.292-.018c.058-.004.114-.014.171-.044-.017-.1-.067-.167-.14-.222-.648-.48-1.295-.962-1.944-1.44-.308-.227-.655-.345-1.032-.378-.154-.014-.308-.004-.462.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.587.403c1.28.252 2.459.733 3.377 1.71.737.783 1.15 1.737 1.403 2.766.35 1.418.444 2.865.466 4.318.029 1.851-.02 3.695-.398 5.517-.546 2.638-2.093 4.167-4.737 4.723-1.554.326-3.123.4-4.702.403-1.761.003-3.517-.054-5.235-.493-1.852-.473-3.247-1.496-3.958-3.332-.38-.985-.551-2.012-.665-3.053-.049-.443-.092-.886-.138-1.328V8.18c.022-.139.056-.278.066-.418C.144 6.626.28 5.5.611 4.403c.566-1.87 1.736-3.17 3.628-3.714C5.141.429 6.08.233 7.012.15c2.531-.225 5.066-.241 7.575.252zM8.308 7.768c-2.051-.034-3.763 1.635-3.805 3.711-.043 2.117 1.605 3.823 3.744 3.876 2.069.052 3.797-1.636 3.84-3.751.041-2.096-1.638-3.801-3.779-3.836zm6.845-3.087H4.69v1.86h8.668v8.65h1.795V4.681zM8.27 9.618c1.078-.008 1.942.85 1.954 1.943.013 1.048-.868 1.93-1.928 1.931-1.052.002-1.92-.846-1.931-1.887-.012-1.1.832-1.98 1.905-1.987z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M15.527 10.325c-2.383 0-4.314 1.93-4.314 4.312 0 2.383 1.931 4.314 4.314 4.314 2.382 0 4.313-1.931 4.313-4.314 0-2.381-1.931-4.312-4.313-4.312zm-11.206 0c-2.382 0-4.313 1.93-4.313 4.313 0 2.382 1.93 4.313 4.313 4.313 2.382 0 4.313-1.931 4.313-4.313 0-2.382-1.931-4.313-4.313-4.313zm9.916-5.392c0 2.382-1.931 4.314-4.313 4.314-2.383 0-4.314-1.932-4.314-4.314S7.541.62 9.924.62c2.382 0 4.313 1.931 4.313 4.313z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.649 1C.297.996.004 1.277 0 1.633c0 .036.004.076.008.112l2.72 16.51c.068.417.43.726.854.73H16.63c.317.004.59-.225.641-.537l2.72-16.699c.057-.348-.18-.677-.528-.733-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.72 15.173c3.595-5.85 8.296-6.023 13.826-3.336 1.538.741 3.246 1.546 4.104 1.95.313.144.454.512.316.828l-1.954 4.42c-.069.155-.198.277-.358.336-.16.06-.337.052-.491-.021l-4.07-1.935c-2.948-1.408-4.583-1.737-6.209.947-.23.382-.442.738-.606 1.013-.087.146-.228.25-.392.29-.165.041-.338.014-.483-.075L.3 17.064c-.293-.18-.387-.562-.212-.858.196-.31.426-.698.631-1.033zM14.94.636c.171-.04.35-.006.496.092l4.103 2.525c.293.181.387.563.212.859-.196.31-.426.697-.631 1.032-3.596 5.843-8.297 6.023-13.84 3.34-1.537-.742-3.245-1.547-4.104-1.95-.313-.144-.454-.512-.315-.828l1.954-4.42c.068-.156.197-.277.357-.337.16-.06.338-.052.492.022L7.72 2.896c2.949 1.408 4.584 1.737 6.21-.947.23-.382.442-.738.606-1.013.087-.152.234-.26.404-.3z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.771 6.655c1.063.224 1.895.766 2.426 1.727.373.673.482 1.397.346 2.144-.28 1.533-1.574 2.658-3.078 2.703-1.695.051-2.975-.964-3.446-2.704v.322c0 1.883.004 3.767 0 5.65-.004 1.77-1.275 3.139-3.065 3.308-1.624.154-3.148-1.037-3.463-2.706-.34-1.795.887-3.497 2.822-3.842-1.92-.507-3.002-1.67-2.828-3.66.145-1.648 1.21-2.572 2.854-2.946-1.305-.244-2.204-.914-2.669-2.088-.846-2.139.701-4.44 3.028-4.476C8.913.053 11.129.059 13.344.086c1.712.02 3.115 1.34 3.232 2.97.13 1.806-.996 3.248-2.805 3.6zm-3.74 2.71c.347-1.411 1.23-2.296 2.707-2.678H10.03v2.679z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M18.659 4.98c-.895-1.531-2.108-2.745-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341c-1.532.894-2.745 2.108-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091.113-.104.17-.234.17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051c-.19.035-.432.05-.723.046-.29-.004-.592-.035-.904-.091-.313-.056-.604-.187-.873-.39-.269-.205-.46-.472-.573-.801l-.13-.3c-.087-.2-.223-.421-.41-.664-.187-.243-.375-.408-.566-.495l-.091-.065c-.061-.043-.118-.096-.17-.156-.052-.061-.09-.122-.117-.183-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065.208-.043.403-.108.586-.195.078-.582.29-1.029.638-1.341-.495-.052-.94-.13-1.335-.235-.395-.104-.803-.273-1.224-.508-.421-.234-.77-.525-1.048-.872s-.506-.803-.684-1.367c-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351.807-.225 1.64-.338 2.5-.338.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367-.282.343-.633.632-1.054.866-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.91 11.374L18.866 8.16c-.006-.03-.014-.059-.026-.086l-2.098-6.46c-.114-.341-.436-.57-.796-.568-.36-.002-.68.23-.787.573l-2 6.155H6.845L4.842 1.62c-.107-.341-.425-.574-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684c.165.12.39.12.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95c-.09-.065-.126-.18-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429c.036.104-.001.22-.09.284z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M9.936 0h7.957c1.202 0 1.947.747 1.947 1.952v15.936c0 1.205-.745 1.952-1.946 1.952H1.936C.749 19.84 0 19.088 0 17.9V1.94C0 .751.75.001 1.936.001h8zm6.366 12.68c-.034.087-.052.166-.093.23-.193.308-.354.647-.597.908-.282.303-.635.165-.695-.245-.025-.172-.008-.362.035-.531.19-.736.391-1.47.598-2.202.184-.65.284-1.306.146-1.978-.265-1.288-1.434-1.959-2.681-1.542-.599.2-1.072.576-1.462 1.06-.16.2-.3.413-.486.669l.369-1.704c-1.003 0-1.973-.002-2.942.003-.042 0-.11.05-.122.088-.139.488-.27.978-.41 1.491H9.38c-.015.081-.023.145-.038.206-.247.989-.504 1.975-.737 2.967-.098.42-.294.778-.577 1.09-.395.439-.86.768-1.48.782-.387.009-.584-.206-.567-.59.005-.12.013-.244.042-.362.37-1.505.745-3.009 1.118-4.514l.288-1.161c-1.109 0-2.186-.002-3.263.003-.049 0-.128.051-.14.094-.14.487-.269.976-.407 1.488h1.394c-.013.075-.021.13-.035.186-.214.878-.435 1.755-.644 2.634-.147.62-.346 1.23-.325 1.882.036 1.07.892 1.799 1.952 1.66.843-.112 1.477-.56 1.989-1.21.06-.076.116-.154.175-.23l.033.017-.315 1.285c.09.005.16.012.228.012.51 0 1.02-.007 1.531.004.172.004.246-.038.29-.219.347-1.429.698-2.858 1.072-4.28.095-.363.25-.719.427-1.05.19-.356.495-.614.888-.746.731-.247 1.411.212 1.435.982.006.212-.02.432-.073.637-.114.438-.258.866-.383 1.301-.179.623-.335 1.251-.313 1.905.018.557.182 1.05.706 1.344.681.383 1.76.291 2.362-.205.586-.482.865-1.143 1.078-1.863l-.788-.295zM6.62 3.878c-.7-.003-1.19.474-1.193 1.162-.002.647.52 1.194 1.155 1.207.664.013 1.215-.523 1.22-1.189.004-.682-.492-1.177-1.182-1.18z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(249);function r({width:e,color:t}){const n=16*e/16,r={one:`IconJira-${o.getRandomString()}-path-1`,two:`IconJira-${o.getRandomString()}-path-2`};return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("defs",null,i.h("linearGradient",{id:r.one,x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"})),i.h("linearGradient",{id:r.two,x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"}))),i.h("path",{fill:t||"#2684FF",d:"M15.286 7.55L8.403.667 7.736 0 2.554 5.181.184 7.55c-.245.248-.245.648 0 .895L4.92 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.187-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.364 2.365z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${r.one})`,d:"M7.736 5.633C6.187 4.085 6.18 1.577 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${r.two})`,d:"M10.106 7.991l-2.37 2.372c1.554 1.555 1.554 4.076 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M15.285 7.55L8.402.667 7.735 0l-5.18 5.181L.184 7.55c-.247.248-.247.648 0 .895l4.733 4.734 2.817 2.816 5.181-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.188-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.365 2.365z"}))}r.defaultProps={width:16},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.26 10.594c1.598 1.042 3.199 2.08 4.798 3.12.157.102.156.104-.004.208-2.997 1.95-5.994 3.898-8.986 5.852-.139.09-.22.03-.323-.037-1.235-.804-2.47-1.61-3.706-2.413L.826 13.935c-.054-.035-.118-.06-.163-.13l1.364-.89 3.569-2.32c.34.224.681.447 1.023.67l2.257 1.46c.307.198.616.392.918.599.103.07.175.065.278-.002 1.056-.69 2.115-1.375 3.173-2.062l.136-.095.879-.57zM10.079.073c2.985 1.947 5.974 3.889 8.962 5.832l.152.104c-.034.071-.1.091-.152.125l-.862.56c-1.599 1.042-3.198 2.081-4.798 3.122-.046.03-.09.063-.136.095-1.058.686-2.117 1.37-3.173 2.061-.103.068-.175.073-.278.002-.302-.207-.61-.401-.918-.6L6.62 9.917c-.812-.531-1.623-1.063-2.435-1.592C3.35 7.78 2.516 7.238 1.68 6.695L.797 6.12c-.046-.03-.091-.061-.15-.102l.54-.351C4.049 3.805 6.912 1.944 9.773.08c.109-.07.186-.085.306-.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.84 6.933l-9.377 11.411c-.07.085-.135.173-.205.258-.197.24-.48.24-.677.002-1.698-2.072-3.396-4.144-5.096-6.215C3.03 10.618 1.575 8.85.119 7.08L0 6.933v-.271l.087-.125c1.227-1.772 2.451-3.545 3.685-5.31.069-.1.206-.194.322-.209.39-.05.785-.06 1.177-.089C6.274.857 7.278.78 8.282.713 8.916.672 9.555.594 10.187.63c1.777.097 3.551.253 5.328.363.316.019.495.136.669.39 1.21 1.766 2.435 3.521 3.656 5.28v.27zm-15.436.276L9.92 17.507l5.515-10.298H4.404zm.36-.838h10.311L9.92 1.558 4.764 6.371zm3.982-4.828l-.018-.048-1.192.085c-.959.067-1.918.135-2.877.2-.11.007-.157.05-.165.163-.076 1.03-.156 2.06-.234 3.088-.017.228-.03.456-.046.684l.042.02 4.49-4.192zm2.366-.047l-.019.047 4.534 4.232c-.008-.169-.01-.272-.018-.375-.087-1.132-.18-2.264-.257-3.397-.012-.182-.085-.22-.247-.23-.862-.055-1.724-.121-2.586-.182-.47-.033-.938-.063-1.407-.095zM7.45 14.72l.032-.031c-.013-.028-.023-.058-.038-.085-1.3-2.428-2.601-4.856-3.9-7.286-.05-.095-.109-.122-.21-.122-.634.005-1.266.002-1.9.003-.039 0-.08.011-.142.021l6.158 7.5zm4.907-.03l.034.027L18.566 7.2c-.708 0-1.36.006-2.01-.005-.154-.002-.224.053-.293.183-1.272 2.383-2.549 4.764-3.824 7.146-.03.054-.055.111-.082.168zm6.293-8.309l-2.375-3.43c-.015.007-.03.014-.043.022l.264 3.409h2.154zM1.194 6.376h2.15l.263-3.407-.046-.014-2.368 3.421z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 11 9"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e,"fill-rule":"nonzero"},i.h("path",{d:"M112.477 14c.208 0 .423-.092.61-.27l3.647-3.585c.165-.163.266-.404.266-.645 0-.234-.1-.475-.266-.638l-3.647-3.586c-.187-.184-.402-.276-.61-.276-.517 0-.87.354-.87.822 0 .262.116.46.28.624l1.142 1.134 1.25 1.055H106.91c-.545 0-.911.348-.911.865s.366.872.912.872h7.367l-1.25 1.056-1.141 1.133c-.165.156-.28.362-.28.617 0 .468.352.822.869.822z",transform:"translate(-1139 -265) translate(640 192) translate(0 56) translate(393 12)"}))))}o.defaultProps={color:"var(--cornflower-blue)",width:11,height:9},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}))}o.defaultProps={width:16,color:"#0079BF"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}o.defaultProps={color:"var(--teflon)",width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 26"},i.h("path",{fill:e,d:"M12.417.958c.354 0 .708.142.991.425.284.284.425.638.425.992V3.65l6.234 3.612c.283.213.566.496.637.85.071.071.071.213.071.355 0 .212-.07.495-.212.708l-.78 1.346 3.188 5.454c.142.354.212.708.07 1.133-.07.354-.283.638-.637.85l-11.9 6.8-.268.154c-.995.54-2.099.838-3.203.838-1.7 0-3.329-.637-4.604-1.842C1.225 22.704.446 21.075.375 19.375v-17c0-.354.142-.708.425-.992.283-.283.637-.425.992-.425zm-.071 1.346H1.72v17c.07 1.346.637 2.621 1.629 3.542.992.991 2.337 1.487 3.683 1.487 1.346 0 2.621-.495 3.613-1.416l.142-.142.424-.425c.071-.142.142-.213.213-.283.07-.142.142-.213.212-.355l.071-.07c.425-.709.638-1.488.638-2.409V2.304zm-5.242 13.53c1.771 0 3.188 1.416 3.188 3.187 0 1.77-1.417 3.187-3.188 3.187-1.77 0-3.187-1.416-3.187-3.187s1.416-3.188 3.187-3.188zm11.9-3.896L13.48 21.5l8.288-4.817-2.763-4.745zm-11.9 5.312c-.991 0-1.77.78-1.77 1.77 0 .992.779 1.772 1.77 1.772.992 0 1.771-.78 1.771-1.771 0-.992-.78-1.771-1.77-1.771zm6.73-11.9v12.608l5.524-9.42-5.525-3.188z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(249);function r({width:e,color:t}){const n=16*e/16,r="IconTeams-"+o.getRandomString();return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},t?i.h(i.Fragment,null,i.h("path",{fill:t,d:"M8.81,0.58c1.34,0,2.43,1.09,2.43,2.43s-1.09,2.43-2.43,2.43c-0.04,0-0.07-0.01-0.1-0.01V4.6 c0-0.65-0.53-1.19-1.19-1.19h-1.1C6.4,3.28,6.38,3.15,6.38,3.01C6.38,1.66,7.47,0.58,8.81,0.58z M14.03,2.1 c0.92,0,1.67,0.75,1.67,1.67c0,0.92-0.75,1.67-1.67,1.67c-0.92,0-1.67-0.75-1.67-1.67C12.35,2.84,13.1,2.1,14.03,2.1z M5.87,5.74 H2.33v0.72h1.34v3.73h0.86V6.46h1.35V5.74z M7.52,3.92c0.35,0,0.64,0.26,0.68,0.6L8.2,4.6v6.84c0,0.35-0.26,0.64-0.6,0.68 l-0.09,0.01H0.68c-0.35,0-0.64-0.26-0.68-0.6L0,11.44V4.6c0-0.35,0.26-0.63,0.6-0.68l0.09-0.01H7.52z M15.3,6.15 c0.39,0,0.7,0.32,0.7,0.71v3.77c0,1.44-1.15,2.61-2.58,2.61h-0.01c-0.23,0-0.45-0.04-0.66-0.1c0.27-0.61,0.42-1.28,0.41-1.99V6.86 c0.01-0.27-0.1-0.51-0.25-0.72H15.3z M11.97,6.15c0.39,0.01,0.69,0.33,0.68,0.72l0,4.48c-0.04,2.24-1.84,4.07-4.1,4.12 c-1.81-0.04-3.3-1.23-3.86-2.84h2.82c0.66,0,1.19-0.53,1.19-1.19V6.15H11.97z"})):i.h(i.Fragment,null,i.h("defs",null,i.h("linearGradient",{id:r,x1:"17.372%",x2:"82.628%",y1:"-6.51%",y2:"106.51%"},i.h("stop",{offset:"0%","stop-color":"#5A62C3"}),i.h("stop",{offset:"50%","stop-color":"#4D55BD"}),i.h("stop",{offset:"100%","stop-color":"#3940AB"}))),i.h("g",{fill:"none",transform:"translate(0 1)"},i.h("path",{fill:"#5059C9",d:"M11.181 5.535h4.072c.385 0 .697.315.697.704v3.75c0 1.43-1.147 2.59-2.56 2.59h-.012c-1.414 0-2.56-1.16-2.56-2.589V5.903c0-.204.162-.368.363-.368z"}),i.h("circle",{cx:"13.987",cy:"3.17",r:"1.66",fill:"#5059C9"}),i.h("circle",{cx:"8.805",cy:"2.415",r:"2.415",fill:"#7B83EB"}),i.h("path",{fill:"#7B83EB",d:"M11.949 5.535H5.158c-.384.01-.688.328-.679.712v4.273c-.054 2.304 1.77 4.216 4.074 4.272 2.305-.056 4.128-1.968 4.075-4.272V6.247c.009-.384-.295-.703-.68-.712z"}),i.h("path",{fill:"#000",d:"M9.006 5.535V11.5c-.002.273-.168.52-.42.623-.081.035-.168.052-.255.052H4.903c-.048-.122-.092-.243-.129-.369-.129-.423-.195-.863-.195-1.306V6.243c-.01-.382.293-.699.675-.708h3.752z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 5.535V11.9c0 .088-.018.175-.052.256-.103.254-.347.42-.618.423H5.073c-.063-.123-.121-.245-.172-.371-.052-.126-.092-.245-.128-.37-.129-.426-.194-.869-.194-1.313V6.246c-.01-.383.29-.702.67-.711h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 5.535v5.567c-.003.37-.301.669-.67.672H4.773c-.129-.422-.194-.86-.194-1.3V6.24c-.01-.38.29-.695.67-.704h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.201 5.535v5.567c-.003.37-.306.669-.681.672H4.675c-.13-.422-.196-.86-.197-1.3V6.24c-.009-.38.296-.695.681-.704h3.042z",opacity:".2"}),i.h("path",{fill:"#000",d:"M9.006 3.682v1.14c-.063.005-.122.008-.184.008-.063 0-.122-.003-.185-.007-.124-.008-.248-.028-.369-.058-.747-.174-1.364-.688-1.66-1.384-.05-.117-.09-.238-.118-.362h1.841c.372.001.674.297.675.663z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.302 3.996v.734c-.77-.177-1.406-.701-1.711-1.41h1.015c.384.002.694.304.696.676z",opacity:".2"}),i.h("path",{fill:`url(#${r})`,d:"M.73 3.32h6.792c.375 0 .68.305.68.68v6.793c0 .375-.305.679-.68.679H.729c-.375 0-.679-.304-.679-.68V4c0-.375.304-.68.68-.68z"})),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M8.805 1c1.334 0 2.415 1.081 2.415 2.415S10.139 5.83 8.805 5.83c-.209 0-.411-.026-.605-.076v.78h7.053c.353 0 .644.266.69.61l.007.095v3.75c0 1.376-1.06 2.5-2.398 2.585l-.162.005h-.012c-.4 0-.777-.093-1.114-.257-.636 1.423-2.048 2.43-3.71 2.47-1.979-.048-3.602-1.463-3.989-3.32H.73c-.375 0-.679-.304-.679-.68V5c0-.375.304-.68.68-.68h5.835c-.113-.28-.175-.585-.175-.905C6.39 2.081 7.47 1 8.805 1zm5.182 1.51c.917 0 1.66.743 1.66 1.66 0 .917-.743 1.66-1.66 1.66-.917 0-1.66-.743-1.66-1.66 0-.917.743-1.66 1.66-1.66z"}),i.h("path",{fill:"#FFF",d:"M5.887 6.851L4.549 6.851 4.549 10.56 3.696 10.56 3.696 6.851 2.365 6.851 2.365 6.132 5.887 6.132z"})))}r.defaultProps={width:16},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M6 15c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8zM6 10c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm14.5.5c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11zM6 4c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({class:e,color:t,width:n,height:o}){return i.h("svg",{class:e,width:n,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M11.5 8.5c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 9.5 0 9.276 0 9s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 6.5 0 6.276 0 6s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 3.5 0 3.276 0 3s.224-.5.5-.5h11z"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM8.157 6.336c-.398-.399-1.029-.394-1.42-.002l-.403.402c-.393.392-.391 1.028.002 1.421L10.178 12l-3.842 3.843c-.399.398-.394 1.029-.002 1.42l.402.403c.392.393 1.028.391 1.421-.002L12 13.822l3.843 3.842c.398.399 1.029.394 1.42.002l.403-.402c.393-.392.391-1.028-.002-1.421L13.822 12l3.842-3.843c.399-.398.394-1.029.002-1.42l-.402-.403c-.392-.393-1.028-.391-1.421.002L12 10.178z",transform:"translate(-940 -173) translate(940 173)"})))))}o.defaultProps={color:"var(--gandalf)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M9.978 3.439c-.086.316-.147.64-.176.975H2.028l-.001 10.733 7.748-.001h.213l1.552 1.474 1.552-1.474h3.318l-.002-4.413c.351-.025.693-.08 1.024-.158v4.572c0 .537-.458.975-1.022.975h-2.893L11.54 18l-1.977-1.878H2.025c-.565 0-1.025-.438-1.025-.975V4.413c0-.537.461-.974 1.028-.974zm3.86 7.317c.284 0 .513.218.513.488s-.23.487-.513.487H4.595c-.284 0-.514-.218-.514-.487 0-.27.23-.488.514-.488zM15.892 1c.284 0 .513.219.513.488v2.927h3.081c.284 0 .514.218.514.487 0 .27-.23.488-.514.488h-3.08v2.927c0 .27-.23.488-.514.488-.284 0-.514-.219-.514-.488V5.39h-3.08c-.285 0-.514-.218-.514-.488 0-.269.23-.487.513-.487h3.081V1.488c0-.27.23-.488.514-.488zm-5.285 6.83c.214.35.465.675.748.975h-6.76c-.284 0-.514-.219-.514-.488 0-.27.23-.488.514-.488z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function(){return i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M2.75 19c-.414 0-.75-.336-.75-.75s.336-.75.75-.75H4v-2c0-2.46 1.481-4.575 3.6-5.5C5.481 9.074 4 6.96 4 4.5v-2h-.75c-.414 0-.75-.336-.75-.75S2.836 1 3.25 1h13.5c.414 0 .75.336.75.75s-.336.75-.75.75H16v2c0 2.46-1.481 4.575-3.6 5.5 2.119.925 3.6 3.04 3.6 5.5v2h1.25c.414 0 .75.336.75.75s-.336.75-.75.75H2.75zM10 10.5c-2.761 0-5 2.239-5 5v1.182C6.075 15.065 7.913 14 10 14c2.088 0 3.926 1.066 5.001 2.684L15 15.5c0-2.761-2.239-5-5-5zm5-8H5v2c0 2.761 2.239 5 5 5s5-2.239 5-5v-2z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"9",height:"12",viewBox:"0 0 9 12"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M29.322 16.279l-1.596 2.34c-.188.348-.657.249-.704-.15l-2.018-9.908c-.047-.398.329-.697.61-.498l8.166 5.228c.329.2.282.697-.094.797l-2.675.846 2.44 3.485c.142.2.095.449-.046.598l-1.173.896c-.188.15-.423.1-.564-.1l-2.346-3.534z",transform:"translate(-25 -8)"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=11*e/14;return i.h("svg",{width:e,height:n,viewBox:"0 0 14 11"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M5.057 7.264l6.8-7.055c.268-.279.702-.279.97 0l.972 1.008c.268.278.268.73 0 1.007l-8.256 8.567c-.268.279-.703.279-.971 0L.202 6.256c-.27-.278-.27-.73 0-1.008l.97-1.008c.269-.278.703-.278.972 0l2.913 3.024z"}))}o.defaultProps={width:14,color:"#C8CF2D"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zm0 1.5c3.038 0 5.5 2.462 5.5 5.5s-2.462 5.5-5.5 5.5-5.5-2.462-5.5-5.5S8.962 6.5 12 6.5zm0 1c-2.485 0-4.5 2.015-4.5 4.5s2.015 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.015-4.5-4.5-4.5zm.166 1c.24-.004.437.22.433.496v.502c.213.044.432.126.651.256.222.116.315.421.202.67-.113.247-.384.337-.595.197-.672-.397-1.084-.11-1.211.134-.065.121-.072.216-.018.333.054.118.206.291.582.407.52.159.905.483 1.094.91.19.427.163.928-.037 1.32-.147.288-.378.514-.668.655v.608c.011.279-.183.512-.427.512s-.439-.233-.428-.512v-.458c-.313-.023-.65-.126-.998-.323-.217-.116-.308-.415-.201-.66.106-.245.37-.343.582-.216.834.474 1.268.166 1.401-.096.067-.13.072-.254.014-.386-.059-.133-.205-.304-.554-.41-.532-.164-.922-.474-1.117-.893-.194-.422-.158-.919.039-1.294.177-.338.473-.59.834-.71v-.546c-.002-.269.185-.492.422-.496z",transform:"translate(-204 -1013) translate(0 997) translate(200 12)"}))}o.defaultProps={width:16,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);var o;function r({class:e,width:t,type:n}){return n===o.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}!function(e){e.DEFAULT="default",e.OUTLINE="outline"}(o||(o={})),r.defaultProps={width:25,type:"default"},t.default=r},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(20)),r=i(n(514)),a={pure:!0,withProps:!1,withContext:!1};t.default=(e,t={})=>{const n=class extends e{constructor(n,i){super(n,i),this.getState=(t,n,i)=>{const o=this.options.withProps?n:void 0,r=this.options.withContext?i:void 0;return e.calculateState(t,o,r)},this.options=Object.assign(Object.assign({},a),t),this.fluxContainerSubscriptions=new o.default,this.fluxContainerSubscriptions.setStores(this.getStores(n)),this.fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this.getState(e,t,i))}),this.state=Object.assign(Object.assign({},this.state||{}),this.getState(void 0,n,i))}getStores(t,n){const i=this.options.withProps?t:void 0,o=this.options.withContext?n:void 0;return e.getStores(i,o)}componentWillReceiveProps(e,t){var n;null===(n=super.componentWillReceiveProps)||void 0===n||n.call(this,e,t),(this.options.withProps||this.options.withContext)&&(this.fluxContainerSubscriptions.setStores(this.getStores(e,t)),this.setState(n=>this.getState(n,e,t)))}shouldComponentUpdate(e,t,n){return this.options.pure?r.default(this.props,e)||r.default(this.state,t):!super.shouldComponentUpdate||super.shouldComponentUpdate(e,t,n)}componentWillUnmount(){var e;null===(e=super.componentWillUnmount)||void 0===e||e.call(this),this.fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n}},function(e,t,n){"use strict";n.r(t);t.default=(e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}},function(e,t,n){"use strict";n.r(t);var i=n(516);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(517),r=n(525),a=n(248);n(531);function s(e){const{username:t,avatar:n,organizations:s,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...s.map(e=>({id:e._id,name:e.name,logoUrl:e.logo})).sort(a.sortBy.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(o.default,{optionsClass:"organizationDropdownOptions",top:35,fixedTop:!0,centerX:!0,onChange:c},d.map(({id:e,name:t,logoUrl:n})=>i.h(o.default.Item,{key:e,class:"organizationDropdownItem",label:i.h(r.default,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e}))))}s.defaultProps={selectedOrganizationId:"user"},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(518);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(519),s=n(523),l=n(442),c=n(399),d=n(420);n(524);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:p}=i;class h extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}positionOptions(){const{top:e,left:t,fixedTop:n,autoScroll:i,centerX:o,alignRight:r,posRef:a}=this.props,s=a.getBoundingClientRect(),l=this.nodeRefs.options.getBoundingClientRect(),c=e||s.height,d=t||0;let u=s.top+c,p=s.left;o?p+=(s.width-l.width)/2:r?p=s.right-l.width:p+=d,!n&&u<this.edgeOffset?u=this.edgeOffset:!n&&u+l.height+this.edgeOffset>window.innerHeight&&(u=window.innerHeight-l.height-this.edgeOffset,i&&u<this.edgeOffset&&(u=this.edgeOffset)),i&&(this.nodeRefs.options.style.maxHeight=window.innerHeight-u-this.edgeOffset+"px",this.nodeRefs.options.style.overflowY="auto"),p<this.edgeOffset?p=this.edgeOffset:p+l.width+this.edgeOffset>window.innerWidth&&(p=window.innerWidth-l.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${p}px, ${u}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(c.default)("dropdownOptions",t),ref:Object(d.default)(this,"options")},e))}}class f extends i.Component{constructor(...e){super(...e),u(this,"state",{open:!1}),u(this,"hideOptions",()=>{this.setState({open:!1})}),u(this,"toggleOptions",e=>{const{onDropdownClick:t,disabled:n}=this.props;n||(t?t(e):(e.stopPropagation(),this.setState(e=>({open:!e.open}))))}),u(this,"handleItemSelect",e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)})}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n,showSelectedAsLabel:o}=this.props;if(!o)return{label:n,title:null};const r=function e(t,n=0){if(n===t.length)return;const o=t[n];if(o.type&&o.type.name===s.default.name){if(o.props.selected)return o}else if(o.props&&o.props.children)return e(i.toChildArray(o.props.children));return e(t,n+1)}(i.toChildArray(e));let a,l=n;if(!t&&r){const{dropdownLabel:e,label:t}=r.props;l=e||t}return!t&&r&&"string"==typeof r.props.label?a=r.props.label:"string"==typeof n&&(a=n),{label:l,title:a}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,showCheck:t,top:n,left:o,fixedTop:r,autoScroll:l,centerX:c,alignRight:d,optionsClass:u,disableClosingWithESC:p}=this.props,f=function e(t,n,o){const{children:r}=t.props;return i.toChildArray(r).map(t=>t.type&&t.type.name===s.default.name?i.cloneElement(t,{showCheck:n,onSelect:o}):t.props&&t.props.children?i.cloneElement(t,{children:e(t,n,o)}):t)}(this,t,this.handleItemSelect);return i.h(a.default,{into:e},i.h(h,{class:u,onClose:this.hideOptions,fixedTop:r,autoScroll:l,posRef:this.nodeRefs.base,top:n,left:o,centerX:c,alignRight:d,disableClosingWithESC:p},f))}render(){const{open:e}=this.state,{class:t,labelClass:n,showLabel:o,showChevron:r,disabled:a,chevronColor:s}=this.props,u=Object(c.default)("dropdown","noSelect",t,{open:e,disabled:a}),{label:p,title:h}=this.labelAndTitle,f=a?void 0:"0";return i.h("div",{ref:Object(d.default)(this,"base"),class:u,title:h,tabIndex:f,onClick:this.toggleOptions},o&&i.h("span",{class:Object(c.default)("ellipsis",n)},p),r&&i.h(l.IconArrowDown,{width:"9",color:s,class:"chevron"}),e&&this.renderOptions())}}f.propTypes={portalInto:r.a.oneOfType([r.a.element,r.a.object]),showCheck:r.a.bool,defaultLabel:r.a.oneOfType([r.a.object,r.a.string]),multiSelect:r.a.bool,top:r.a.number,left:r.a.number,fixedTop:r.a.bool,autoScroll:r.a.bool,centerX:r.a.bool,children:r.a.oneOfType([r.a.arrayOf(r.a.instanceOf(s.default)),r.a.node]),onChange:r.a.func.isRequired,onDropdownStateChange:r.a.func,disableClosingWithESC:r.a.bool,showLabel:r.a.bool,labelClass:r.a.string,showChevron:r.a.bool,chevronColor:r.a.string,alignRight:r.a.bool,disabled:r.a.bool},f.defaultProps={portalInto:document.body,fixedTop:!1,autoScroll:!1,showCheck:!0,showLabel:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1,showSelectedAsLabel:!0},f.Item=s.default,t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(520);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(521),r=n(420);const{h:a}=i;class s extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>"string"==typeof e?document.querySelector(e):e,(n="findNode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(o.createPortal)(i.h("div",{ref:Object(r.default)(this,"portal")},e),this.findNode(t))}}s.defaultProps={into:document.body},t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return A})),n.d(t,"Children",(function(){return h})),n.d(t,"render",(function(){return P})),n.d(t,"hydrate",(function(){return j})),n.d(t,"unmountComponentAtNode",(function(){return x})),n.d(t,"createPortal",(function(){return E})),n.d(t,"createFactory",(function(){return w})),n.d(t,"cloneElement",(function(){return L})),n.d(t,"isValidElement",(function(){return N})),n.d(t,"findDOMNode",(function(){return M})),n.d(t,"PureComponent",(function(){return s})),n.d(t,"memo",(function(){return l})),n.d(t,"forwardRef",(function(){return u})),n.d(t,"unstable_batchedUpdates",(function(){return U})),n.d(t,"StrictMode",(function(){return B})),n.d(t,"Suspense",(function(){return m})),n.d(t,"SuspenseList",(function(){return y})),n.d(t,"lazy",(function(){return S}));var i=n(522);n.d(t,"useState",(function(){return i.useState})),n.d(t,"useReducer",(function(){return i.useReducer})),n.d(t,"useEffect",(function(){return i.useEffect})),n.d(t,"useLayoutEffect",(function(){return i.useLayoutEffect})),n.d(t,"useRef",(function(){return i.useRef})),n.d(t,"useImperativeHandle",(function(){return i.useImperativeHandle})),n.d(t,"useMemo",(function(){return i.useMemo})),n.d(t,"useCallback",(function(){return i.useCallback})),n.d(t,"useContext",(function(){return i.useContext})),n.d(t,"useDebugValue",(function(){return i.useDebugValue})),n.d(t,"useErrorBoundary",(function(){return i.useErrorBoundary}));var o=n(4);function r(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}n.d(t,"createElement",(function(){return o.createElement})),n.d(t,"createContext",(function(){return o.createContext})),n.d(t,"createRef",(function(){return o.createRef})),n.d(t,"Fragment",(function(){return o.Fragment})),n.d(t,"Component",(function(){return o.Component}));var s=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)},i}(o.Component);function l(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:a(this.props,e)}function i(t){return this.shouldComponentUpdate=n,Object(o.createElement)(e,t)}return i.prototype.isReactComponent=!0,i.displayName="Memo("+(e.displayName||e.name)+")",i.t=!0,i}var c=o.options.__b;o.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function u(e){function t(t,n){var i=r({},t);return delete i.ref,e(i,t.ref||n)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return e?Object(o.toChildArray)(e).reduce((function(e,n,i){return e.concat(t(n,i))}),[]):null},h={map:p,forEach:p,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},f=o.options.__e;function g(e){return e&&((e=r({},e)).__c=null,e.__k=e.__k&&e.__k.map(g)),e}function m(){this.__u=0,this.o=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function S(e){var t,n,i;function r(r){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return Object(o.createElement)(n,r)}return r.displayName="Lazy",r.t=!0,r}function y(){this.i=null,this.l=null}o.options.__e=function(e,t,n){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return i.__c(e,t.__c);f(e,t,n)},(m.prototype=new o.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var i=b(n.__v),o=!1,r=function(){o||(o=!0,i?i(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){r(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(r,r)},m.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=g(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,t.u?null:e.children),t.u&&e.fallback]};var v=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(y.prototype=new o.Component).u=function(e){var t=this,n=b(t.__v),i=t.l.get(e);return i[0]++,function(o){var r=function(){t.props.revealOrder?(i.push(o),v(t,e,i)):o()};n?n(r):r()}},y.prototype.render=function(e){this.i=null,this.l=new Map;var t=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){v(e,n,t)}))};var C=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function O(e){var t=this,n=e.container,i=Object(o.createElement)(C,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Object(o.render)(i,n),t.__k=n.__k):(t.v=document.createTextNode(""),Object(o.hydrate)("",n),n.appendChild(t.v),t.p=!0,t.s=n,Object(o.render)(i,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h)),t.h=i,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Object(o._unmount)(t.h)},null}function E(e,t){return Object(o.createElement)(O,{vnode:e,container:t})}var T=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;o.Component.prototype.isReactComponent={};var _="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function P(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Object(o.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function j(e,t,n){return Object(o.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}var D=o.options.event;function k(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}o.options.event=function(e){D&&(e=D(e)),e.persist=function(){};var t=!1,n=!1,i=e.stopPropagation;e.stopPropagation=function(){i.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var I={configurable:!0,get:function(){return this.class}},R=o.options.vnode;o.options.vnode=function(e){e.$$typeof=_;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(I.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",I)),"function"!=typeof t){var i,r,a;for(a in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(Object(o.toChildArray)(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(i=T.test(a))break;if(i)for(a in r=e.props={},n)r[T.test(a)?a.replace(/[A-Z0-9]/,"-$&").toLowerCase():a]=n[a]}!function(t){var n=e.type,i=e.props;if(i&&"string"==typeof n){var o={};for(var r in i)/^on(Ani|Tra|Tou)/.test(r)&&(i[r.toLowerCase()]=i[r],delete i[r]),o[r.toLowerCase()]=r;if(o.ondoubleclick&&(i.ondblclick=i[o.ondoubleclick],delete i[o.ondoubleclick]),o.onbeforeinput&&(i.onbeforeinput=i[o.onbeforeinput],delete i[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(i.type))){var a=o.oninput||"oninput";i[a]||(i[a]=i[o.onchange],delete i[o.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(k(t.prototype,"componentWillMount"),k(t.prototype,"componentWillReceiveProps"),k(t.prototype,"componentWillUpdate"),t.m=!0)}R&&R(e)};var A="16.8.0";function w(e){return o.createElement.bind(null,e)}function N(e){return!!e&&e.$$typeof===_}function L(e){return N(e)?o.cloneElement.apply(null,arguments):e}function x(e){return!!e.__k&&(Object(o.render)(null,e),!0)}function M(e){return e&&(e.base||1===e.nodeType&&e)||null}var U=function(e,t){return e(t)},B=o.Fragment;t.default={useState:i.useState,useReducer:i.useReducer,useEffect:i.useEffect,useLayoutEffect:i.useLayoutEffect,useRef:i.useRef,useImperativeHandle:i.useImperativeHandle,useMemo:i.useMemo,useCallback:i.useCallback,useContext:i.useContext,useDebugValue:i.useDebugValue,version:"16.8.0",Children:h,render:P,hydrate:j,unmountComponentAtNode:x,createPortal:E,createElement:o.createElement,createContext:o.createContext,createFactory:w,cloneElement:L,createRef:o.createRef,Fragment:o.Fragment,isValidElement:N,findDOMNode:M,Component:o.Component,PureComponent:s,memo:l,forwardRef:u,unstable_batchedUpdates:U,StrictMode:o.Fragment,Suspense:m,SuspenseList:y,lazy:S}},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",(function(){return f})),n.d(t,"useReducer",(function(){return g})),n.d(t,"useEffect",(function(){return m})),n.d(t,"useLayoutEffect",(function(){return b})),n.d(t,"useRef",(function(){return S})),n.d(t,"useImperativeHandle",(function(){return y})),n.d(t,"useMemo",(function(){return v})),n.d(t,"useCallback",(function(){return C})),n.d(t,"useContext",(function(){return O})),n.d(t,"useDebugValue",(function(){return E})),n.d(t,"useErrorBoundary",(function(){return T}));var i,o,r,a=n(4),s=0,l=[],c=a.options.__r,d=a.options.diffed,u=a.options.__c,p=a.options.unmount;function h(e,t){a.options.__h&&a.options.__h(o,e,s||t),s=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function f(e){return s=1,g(k,e)}function g(e,t,n){var r=h(i++,2);return r.t=e,r.__c||(r.__c=o,r.__=[n?n(t):k(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__[0]=t,r.__c.setState({}))}]),r.__}function m(e,t){var n=h(i++,3);!a.options.__s&&D(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function b(e,t){var n=h(i++,4);!a.options.__s&&D(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function S(e){return s=5,v((function(){return{current:e}}),[])}function y(e,t,n){s=6,b((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function v(e,t){var n=h(i++,7);return D(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function C(e,t){return s=8,v((function(){return e}),t)}function O(e){var t=o.context[e.__c],n=h(i++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__}function E(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)}function T(e){var t=h(i++,10),n=f();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function _(){l.some((function(e){if(e.__P)try{e.__H.__h.forEach(P),e.__H.__h.forEach(j),e.__H.__h=[]}catch(o){return e.__H.__h=[],a.options.__e(o,e.__v),!0}})),l=[]}function P(e){"function"==typeof e.u&&e.u()}function j(e){e.u=e.__()}function D(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function k(e,t){return"function"==typeof t?t(e):t}a.options.__r=function(e){c&&c(e),i=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(P),t.__h.forEach(j),t.__h=[])},a.options.diffed=function(e){d&&d(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==l.push(t)&&r===a.options.requestAnimationFrame||((r=a.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(_))},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(P),e.__h=e.__h.filter((function(e){return!e.__||j(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(r,e.__v)}})),u&&u(e,t)},a.options.unmount=function(e){p&&p(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(P)}catch(e){a.options.__e(e,t.__v)}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(252);const{h:l}=i;class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:o,children:r}=this.props,l=Object(a.default)("dropdownItem","noSelect",o,{selected:t});return i.h("div",{class:l,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},r||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(s.imageUrl)("img/icMenuCheck.svg"),alt:"&check;"}))}}c.displayName="Dropdown.Item",c.propTypes={label:r.a.oneOfType([r.a.string,r.a.node,r.a.element]),dropdownLabel:r.a.string,value:r.a.string.isRequired,selected:r.a.bool,showCheck:r.a.bool,children:r.a.oneOfType([r.a.node,r.a.element]),onSelect:r.a.func.isRequired},c.defaultProps={selected:!1,showCheck:!0},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(526);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o),a=n(399);n(530);t.default=function({logoUrl:e,name:t,personal:n}){const o=(n?"Personal":t+"’s")+" Workspace",s=n?"user":"organization",l=Object(a.default)("organizationItem",{personal:n});return i.h("div",{class:l},i.h(r.a,{class:"organizationLogo",src:e,type:s,size:24,bgSize:15}),i.h("div",{class:"organizationName ellipsis"},o))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(528);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(399));n(529);function s({class:e,src:t,srcset:n,type:i,title:s,size:l,bgSize:c}){const[d,u]=r.useState(!0),[p,h]=r.useState(!1),f=r.useRef();function g(){u(!1),h(!1)}r.useEffect(()=>{var e;(null===(e=f.current)||void 0===e?void 0:e.src)&&f.current.complete?g():(u(!0),h(!1))},[t,n]);const m=a.default("avatarFrame",e,i,{placeholder:d||p}),b={width:l,height:l,backgroundSize:null!=c?c:"contain"};return o.h("div",{class:m,style:b,title:s},o.h("img",{ref:f,srcSet:n,src:t,width:l,height:l,onLoad:g,onError:function(){h(!0)},alt:"👤"}))}s.defaultProps={type:"user",size:32},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(533);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(420),l=n(399);n(534);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{titleWidth:null,offline:!1,online:!1}),c(this,"fixTitleWidth",()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}),c(this,"restoreTitleWidth",()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}),c(this,"setOffline",()=>{this.setState({offline:!0})}),c(this,"setOnline",()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()}),c(this,"unsetOnline",()=>{this.onlineTimeout=setTimeout(()=>{this.setState({online:!1})},1e4)})}get titleExtra(){const{offline:e,online:t}=this.state;return e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…"}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:o}=this.props,{titleWidth:r,offline:c,online:d}=this.state,u=Object(l.default)("screenNavigator",{loading:e,offline:c,online:d}),p=null===r?{}:{width:r};return i.h("div",{class:u,ref:Object(s.default)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(a.IconArrowLeft,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(s.default)(this,"title"),style:p,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:o,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(a.IconArrowRight,null)))}}d.propTypes={loading:r.a.bool,title:r.a.string,previousScreenURL:r.a.string,nextScreenURL:r.a.string},d.defaultProps={loading:!1,title:""},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(536);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(229),r=n(245),a=n(232),s=n(537);function l({barrelId:e,selectedTab:t}){if(!e)return null;const n=Object(o.getOS)()===o.OS.MAC?"⌥":"Alt+",l=Object(r.urlResolve)("project-dashboard",{url:{pid:e}}),c=Object(r.urlResolve)("project-styleguide",{url:{bid:e}});return i.h(s.default,null,i.h(s.default.Tab,{label:"Dashboard",shortcut:n+"A",selected:t===a.ProjectViewTypes.DASHBOARD,href:l}),i.h(s.default.Tab,{label:"Styleguide",shortcut:n+"S",selected:t===a.ProjectViewTypes.STYLEGUIDE,href:c}))}},function(e,t,n){"use strict";n.r(t);var i=n(538);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(539);function r({children:e}){return i.h("div",{class:"headerTabView"},e)}r.Tab=function({label:e,shortcut:t,href:n,selected:r}){const a=Object(o.default)("tab","noSelect",{selected:r});return i.h("a",{href:n,class:a,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(541);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(271),r=n.n(o),a=n(542),s=n(543),l=n(513),c=n.n(l);n(583);function d(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:o},progress:{update:r,isGettingProject:a,isGettingProjectFailed:s,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:p}}=e,{_id:h,name:f,type:g}=n;return{id:t,versionCollectionId:h,versionCollectionName:f,versionCollectionType:g,barrelId:i,barrelType:o,update:r,gettingProject:a,gettingProjectFailed:s,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:p}}class u extends i.Component{static getStores(){return[r.a.VersionImportsStore]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:o,multipleColorsSupportedHintBoxVisible:a,exportToStyleguideHintBoxVisible:s}=r.a.VersionImportsStore.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const l=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:o,anyVersionImportFailed:r}=e,a=Math.floor((o*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),s=r||!!t.progress.isApiOperationFailed,l=i.find(e=>e._id===t.barrel._id);let c=i;return l?l.versionImports.push(d(t)):c.unshift({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[d(t)]}),{importsByBarrel:c,versionImportsProgress:a,anyVersionImportFailed:s}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:c,versionImportsProgress:u,anyVersionImportFailed:p}=l;return{suggestedResourcesByBarrel:o,indicatorVisible:n,versionImportsProgress:u,anyVersionImportFailed:p,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:c,multipleColorsSupportedHintBoxVisible:a,exportToStyleguideHintBoxVisible:s}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,multipleColorsSupportedHintBoxVisible:u,exportToStyleguideHintBoxVisible:p}=this.state;return e?i.h(s.default,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:a.default.showImportsList,onListClose:a.default.hideImportsList,importsSource:r,componentRejections:l,suggestedResourcesByBarrel:c,multipleColorsSupportedHintBoxVisible:u,exportToStyleguideHintBoxVisible:p,importsByBarrel:d,onImportClick:a.default.goToImportedVersion,onRetryImport:a.default.retryImport,onCancelImport:a.default.cancelImport,onRetryGetProject:a.default.retryGetProjectForImports,onClearImports:a.default.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:a.default.hideComponentLimitHint,onComponentLimitActionClick:a.default.seePlans}):null}}t.default=c()(u)},function(e,t,n){"use strict";n.r(t);var i=n(348),o=n(271),r=n.n(o);const a={hideImportsIndicator(){r.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_INDICATOR})},showImportsList(){r.a.dispatcher.dispatch({type:i.default.SHOW_IMPORTS_LIST})},hideImportsList(){r.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_LIST})},handleImports(e){r.a.dispatcher.dispatch({type:i.default.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){r.a.dispatcher.dispatch({type:i.default.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(){r.a.dispatcher.dispatch({type:i.default.GO_TO_IMPORTED_VERSION})},retryImport(e){r.a.dispatcher.dispatch({type:i.default.RETRY_IMPORT,id:e})},cancelImport(e){r.a.dispatcher.dispatch({type:i.default.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){r.a.dispatcher.dispatch({type:i.default.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){r.a.dispatcher.dispatch({type:i.default.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){r.a.dispatcher.dispatch({type:i.default.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){r.a.dispatcher.dispatch({type:i.default.SEE_PLANS})},hideMultipleColorsSupportedHintBox(){r.a.dispatcher.dispatch({type:i.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX})},hideExportToStyleguideHintBox(){r.a.dispatcher.dispatch({type:i.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(544);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(545),s=n(548),l=n(551),c=n(247),d=n(552),u=n(404),p=n(571),h=n(576),f=n(579),g=n(542);n(582);class m extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}handleExportToStyleguideHintBoxClick(){g.default.hideExportToStyleguideHintBox(),Object(c.openLink)("https://zpl.io/exporting-to-a-styleguide")}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:o,onRetryGetProject:r}=this.props,{id:a,versionCollectionId:s,versionCollectionName:l,versionCollectionType:c,barrelId:u,barrelType:p,update:h,gettingProject:f,gettingProjectFailed:g,countOfUploadedImages:m,countOfImagesToUpload:b,apiOperationCompleted:S,apiOperationFailed:y,apiOperationFailedError:v}=e;return f&&!g?i.h(d.GettingProject,null):f&&g?i.h(d.GettingProjectFailed,{id:a,onRetry:r}):b===m&&S&&!y?i.h(d.Done,{key:a,id:a,update:h,barrelId:u,barrelType:p,versionCollectionId:s,versionCollectionName:l,versionCollectionType:c,onClick:t}):S&&y?i.h(d.Failed,{key:a,id:a,update:h,versionCollectionName:l,errorMessage:v?v.message:null,onRetry:n}):S?void 0:i.h(d.InProgress,{key:a,id:a,update:h,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:m,onCancel:o})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:o,onComponentLimitActionClick:r}=this.props;if(!t[e])return null;const{owner:a,ownerPlan:s,rejected:l,total:c}=t[e];return i.h(p.default,{key:"componentLimitHintBox",onHideClick:o,onActionClick:r,owner:a,currentUser:n,ownerPlan:s,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:o}=this.props,{colors:r=[],textStyles:a=[]}=n[e]||{};return i.h(h.default,{onClick:o,colors:r,textStyles:a,barrelType:t,barrelId:e})}renderMultipleColorsSupportedHintBox(e,t){const{multipleColorsSupportedHintBoxVisible:n,exportToStyleguideHintBoxVisible:o}=this.props;if(o){const n="Zeplin now supports multiple colors with same values, you can re-export your colors to your styleguide to start using them.";return i.h(f.default,{barrelType:t,barrelId:e,content:n,onClick:this.handleExportToStyleguideHintBoxClick})}if(n){const n="Zeplin now supports multiple colors with same values, we updated the colors in the styleguide.";return i.h(f.default,{barrelType:t,barrelId:e,content:n,onClick:g.default.hideMultipleColorsSupportedHintBox})}return null}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,o=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(l.default,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},o)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length&&this.renderMultipleColorsSupportedHintBox(t[0]._id,t[0].barrelType),1===t.length?i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.h(u.default,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListClose:r,onListOpen:l}=this.props;return i.h(a.default,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:o,onClose:r,onOpen:l,left:2,top:2},i.h(s.default,{warning:n,progress:t}))}}m.propTypes={versionImportsProgress:r.a.number.isRequired,anyVersionImportFailed:r.a.bool.isRequired,listOpen:r.a.bool.isRequired,onListOpen:r.a.func.isRequired,onListClose:r.a.func.isRequired,importsSource:r.a.string.isRequired,importsByBarrel:r.a.arrayOf(r.a.shape({_id:r.a.string.isRequired,name:r.a.string.isRequired,type:r.a.string.isRequired,versionImports:r.a.arrayOf(r.a.shape({id:r.a.string.isRequired,versionCollectionId:r.a.string,versionCollectionName:r.a.string.isRequired,barrelId:r.a.string.isRequired,barrelType:r.a.oneOf(["project","styleguide"]),update:r.a.bool.isRequired,countOfImagesToUpload:r.a.number.isRequired,countOfUploadedImages:r.a.number.isRequired,apiOperationCompleted:r.a.bool.isRequired,apiOperationFailed:r.a.bool.isRequired,apiOperationFailedError:r.a.shape({message:r.a.string.isRequired})}))})),onImportClick:r.a.func.isRequired,onRetryImport:r.a.func.isRequired,onCancelImport:r.a.func.isRequired,onRetryGetProject:r.a.func.isRequired,onClearImports:r.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(546);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(519),s=n(399),l=n(420),c=n(248);n(547);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"positionPopover",()=>{const{open:e,offsetX:t,topOffset:n,bottomOffset:i,targetNode:o,left:r,top:a,faceLeft:s,faceTop:l,centerX:c,centerY:d,anchorTop:u,stickToEdge:p,showAnchor:h,openToLeft:f,originParent:g}=this.props,m=o||this.nodeRefs.container,b=this.nodeRefs.popover,S=this.nodeRefs.anchor,y=g===window?g.innerWidth:g.clientWidth,v=g===window?g.innerHeight:g.clientHeight;if(!e||!b||!m)return;const C=m.getBoundingClientRect(),O=b.getBoundingClientRect(),E=r,T=a;let _=s?C.left:C.right;_+=c?(C.width-O.width)/2:E;let P=l||h?C.top:C.bottom;P+=d?(C.height-O.height)/2:T;let j=!1;const D=C.right-O.width-C.width-r;if((f&&D>t||_+O.width+t>y)&&(_=D,j=!0),p&&P+n<0?P=n||64:P+O.height+n>v&&(P=p?v-O.height-i:Math.max(P-O.height,0)),n&&P<n&&(P=n),b.style.transform=`translate3d(${_}px, ${P}px, 0)`,h){const e=C.top-P+(C.height-S.offsetHeight)/2+u;S.style.top=Math.min(Math.max(e,28),O.height-28)+"px",S.classList.toggle("faceLeft",j)}}),d(this,"registerListeners",()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)}),d(this,"removeListeners",()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)}),d(this,"handleToggle",e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()}),d(this,"handleClose",()=>{const{onClose:e}=this.props;e&&e()}),d(this,"handleDocumentClick",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;if(t.contains(e.target))return;n&&n.contains(e.target)||this.handleClose()}),d(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}),d(this,"handleResize",()=>{requestAnimationFrame(this.positionPopover)}),d(this,"handleMouseEnter",e=>{const{onMouseEnter:t}=this.props;t&&t(e)}),d(this,"handleMouseLeave",e=>{const{onMouseLeave:t}=this.props;t&&t(e)})}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=Object(s.default)("popoverAnchor",{faceLeft:e});return i.h("div",{ref:Object(l.default)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n}=this.props,o=Object(s.default)("popoverContent",n),r="function"==typeof e?e():e;return i.h("div",{class:o,ref:Object(l.default)(this,"popover"),onClick:c.stopPropagation,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t&&this.renderAnchor(),i.toChildArray(r))}render(){const{open:e,children:t,portalInto:n,class:o}=this.props,r=Object(s.default)(o,"popoverContainer");return i.h("div",{ref:Object(l.default)(this,"container"),class:r,onClick:this.handleToggle,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(i.Fragment,null,t,e&&i.h(a.default,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}u.defaultProps={offsetX:0,topOffset:0,bottomOffset:12,left:0,top:0,anchorTop:0,originParent:window},u.propTypes={open:r.a.bool.isRequired,children:r.a.node,onClose:r.a.func,onOpen:r.a.func,portalInto:r.a.object,contentClass:r.a.string,class:r.a.string,offsetX:r.a.number,topOffset:r.a.number,bottomOffset:r.a.number,targetNode:r.a.oneOfType([r.a.node,r.a.object]),left:r.a.number,top:r.a.number,faceLeft:r.a.bool,faceTop:r.a.bool,centerX:r.a.bool,anchorTop:r.a.number,openToLeft:r.a.bool,originParent:r.a.object,onMouseEnter:r.a.func,onMouseLeave:r.a.func},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(549);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(404),s=n(252);n(550);const l=30*Math.PI;function c(e){const{progress:t=0,warning:n=!1}=e,o=`${l*t/100} ${l*(100-t)/100}`;return i.h(a.default,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:15}),i.h("circle",{cx:"16",cy:"16",r:15,"stroke-dasharray":o})),100===t&&i.h("img",{src:Object(s.imageUrl)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}c.defaultProps={progress:0,warning:!1},c.propTypes={progress:r.a.number,warning:r.a.bool},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(252);function r(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.default=function(e){const{asset:t,descriptors:n}=e,a=r(e,["asset","descriptors"]),s=Object(o.imageUrl)(t);return i.h("img",Object.assign({src:s,srcset:Object(o.srcset)(s,n)},a))}},function(e,t,n){"use strict";n.r(t);var i=n(553);n.d(t,"GettingProject",(function(){return i.default}));var o=n(556);n.d(t,"GettingProjectFailed",(function(){return o.default}));var r=n(560);n.d(t,"Done",(function(){return r.default}));var a=n(566);n.d(t,"InProgress",(function(){return a.default}));var s=n(568);n.d(t,"Failed",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(554);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(555);function o(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(557);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(404),l=n(252);n(559);class c extends a.default{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(s.default,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.imageUrl)("img/icImportProgressFetchProjectRetry.svg")})))}}c.propTypes={id:r.a.string.isRequired,onRetry:r.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(514);class r extends i.Component{shouldComponentUpdate(e,t){return Object(o.default)(this.props,e)||Object(o.default)(this.state,t)}}r.isPureReactComponent=!0,t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(561);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(551),s=n(562),l=n(399),c=n(558),d=n(245),u=n(263),p=n.n(u);n(565);const h={};function f(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(a.default,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}class g extends c.default{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(d.urlResolve)("project-screen",{url:{pid:e,sid:n}});const o={url:{bid:e},query:{coid:n}},r=t===p.a.PROJECT?"project-styleguide-components":"styleguide-components";return Object(d.urlResolve)(r,o)}render(){const{id:e,update:t,versionCollectionName:n,onClick:o}=this.props;h[e]||(h[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const r=h[e];return i.h(s.default,{class:Object(l.default)("done",r),update:t,success:!0,versionCollectionName:n,progress:100,detail:f(r),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:o})}}g.propTypes={id:r.a.string.isRequired,update:r.a.bool.isRequired,versionCollectionId:r.a.string.isRequired,versionCollectionName:r.a.string.isRequired,barrelId:r.a.string.isRequired,barrelType:r.a.oneOf(["project","styleguide"]),onClick:r.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(563);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(404),r=n(399),a=n(252);n(564);function s(e){const{class:t,update:n,success:s,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:p,onButtonClick:h,onClick:f,link:g}=e;let m=n?"Replacing":"Importing";m=s?m.replace("ing","ed"):m;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},m," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:c+"%"}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),g?i.h("img",{key:"img",src:Object(a.imageUrl)(p)}):i.h(o.default,{key:"button",onClick:h},i.h("img",{src:Object(a.imageUrl)(p)}))];return g?i.h("a",{class:Object(r.default)("versionImport",t),href:g,"data-link-type":"inApp",onClick:f},b):i.h("div",{class:Object(r.default)("versionImport",t),onClick:f},b)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(567);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(562),s=n(558);class l extends s.default{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:this.calculateProgress()+"%"}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(a.default,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:r.a.string.isRequired,update:r.a.bool.isRequired,versionCollectionName:r.a.string.isRequired,countOfUploadedImages:r.a.number.isRequired,countOfImagesToUpload:r.a.number.isRequired,onCancel:r.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(569);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(562),s=n(558);n(570);class l extends s.default{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(a.default,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}l.propTypes={id:r.a.string.isRequired,update:r.a.bool.isRequired,versionCollectionName:r.a.string.isRequired,errorMessage:r.a.string,onRetry:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(572);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);n(575);const a=new Date(2016,11,1);class s extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:o,currentUser:s,onActionClick:l}=this.props,c=e._id===s._id;let d,u,p;return"Company"===t.name?(d=`${c?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-a)/2592e6)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,u=c?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",p="Upgrade"):c?(p="See plans",d=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,u="Upgrade to access more space!"):(p="See plans",d=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,u="Ping them to upgrade and access more space!"),i.h(r.a,{class:"componentLimitHintBox",actionContent:p,onHideClick:this.handleHideClick,onActionClick:l},"Out of ",o," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),d,i.h("br",null),i.h("br",null),u)}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(404)),a=n(442),s=i(n(399));function l({class:e,children:t,type:n,emoji:i,actionContent:l,onHideClick:c,onActionClick:d,hideButtonText:u,hideEmoji:p}){const h=[],f="warning"===n?"⚠️":"💁‍♀️";return l&&h.push(o.h(r.default,{class:"hintAction",onClick:d},l)),c&&h.push(o.h(r.default,{class:"hideHintButton",onClick:c},o.h(a.IconDelete,{transparent:!0}),u)),o.h("div",{class:s.default("hintBox",e,n)},!p&&o.h("span",{class:"emoji"},i||f),o.h("div",{class:"hintContent"},t,h.length>0&&o.h("div",{class:"hintFooter"},h)))}n(574),l.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(577);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o),a=n(249),s=n(245),l=n(263),c=n.n(l);n(578);const d={[c.a.PROJECT]:"project-styleguide",[c.a.STYLEGUIDE]:"styleguide"};t.default=function(e){const{colors:t,textStyles:n,barrelId:o,barrelType:l,onClick:c}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(a.pluralize)(t.length,"color")} and ${Object(a.pluralize)(n.length,"text style")}`),t.length&&!n.length&&(u="Found "+Object(a.pluralize)(t.length,"color")),!t.length&&n.length&&(u="Found "+Object(a.pluralize)(n.length,"text style"));let p=Object(s.urlResolve)(d[l]+"-colors",{url:{bid:o}});return t.length||(p=Object(s.urlResolve)(d[l]+"-textstyles",{url:{bid:o}})),i.h("a",{href:p,class:"suggestedResourcesHintBox",onClick:c,"data-link-type":"inApp"},i.h(r.a,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(580),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(573)),a=i(n(263)),s=n(245);n(581);const l={[a.default.PROJECT]:"project-styleguide",[a.default.STYLEGUIDE]:"styleguide"};t.default=function({barrelId:e,barrelType:t,content:n,onClick:i}){const a=s.urlResolve(l[t]+"-colors",{url:{bid:e}});return o.h("a",{href:a,class:"multipleColorsSupportedHintBox",onClick:i,"data-link-type":"inApp"},o.h(r.default,null,n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(585);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(586),s=n(233),l=n(271),c=n.n(l),d=n(590),u=n.n(d),p=n(384),h=n.n(p),f=n(230),g=n(591),m=n(595),b=n.n(m),S=n(545),y=n(605),v=n(513),C=n.n(v),O=n(231),E=n(248),T=n(420);n(735);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),_(this,"intersectionObserver",null),_(this,"handleLastItemCallback",e=>{e&&this.props.hasMore&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.nodeRefs.base,rootMargin:"0px 0px 288px 0px"})),this.intersectionObserver.observe(e))}),_(this,"handleNotificationIntersection",e=>{const[t]=e;t.isIntersecting&&(this.intersectionObserver.unobserve(t.target),this.props.onEnd())})}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}renderEmpty(){return i.h("div",{class:"none noSelect"},"No notifications currently.",i.h("br",null),"Kinda great? 😏")}renderEnd(){return i.h("div",{class:"end noSelect"},"~ The End ~")}renderError(){return i.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.h("br",null),"notifications. ",i.h("span",{onClick:this.props.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(){const{notifications:e,notificationLastReadTime:t,onItemClick:n,hasError:o,hasMore:r,organizationId:a}=this.props;if(o)return this.renderError();const s=e.map((i,o)=>{const r={notificationLastReadTime:t,onClick:n};return o===e.length-1&&(r.ref=this.handleLastItemCallback),Object(y.default)(i,r)});return 0===s.length?this.renderEmpty():(r||s.push(this.renderEnd()),s.unshift(i.h(b.a,{organizationId:a})),s)}render(){return i.h("div",{ref:Object(T.default)(this,"base"),class:"notificationsContainer"},this.renderNotifications())}}P.propTypes={onRetry:r.a.func.isRequired,onEnd:r.a.func.isRequired,onItemClick:r.a.func.isRequired,notifications:r.a.array.isRequired,hasMore:r.a.bool.isRequired,notificationLastReadTime:r.a.object.isRequired,hasError:r.a.object};class j extends i.Component{constructor(...e){super(...e),_(this,"state",{showNotifications:!1}),_(this,"fetchMore",()=>{const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;u.a.getNotifications(t,500)}),_(this,"handlePopoverClose",()=>{this.setState({showNotifications:!1})}),_(this,"handlePopoverOpen",()=>{O.default&&this.state.hasUnread&&O.default.ipcRenderer.send("read-notifications"),u.a.updateNotificationLastReadTime(),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}),_(this,"handleWindowsAppBadgeShow",(e,t)=>{const{hasUnread:n}=this.state;t&&n&&O.default.ipcRenderer.send("unread-notifications",Object(E.calculateOverlayIcon)())})}static calculateState(){const{notifications:e,notificationLastReadTime:t,error:n,hasMore:i}=c.a.NotificationsStore.getState(),o=e.length>0&&new Date(e[0].updated)>t;let r;if(o)for(const s of e){if(new Date(s.updated)<t)break;if("CreateCoupon"===s.actionName){r=!0;break}}const{autoExpandNotifications:a}=c.a.SpaceStore.getState();return{notifications:e,hasError:n,hasMore:i,notificationLastReadTime:t,hasUnread:o,hasPromotion:r,autoExpandNotifications:a}}static getStores(){return[c.a.NotificationsStore]}getAllNotifications(){setTimeout(u.a.getNotifications(null,500),4)}registerSubscribers(){a.default.subscribe(s.ANNOUNCEMENT_CHANNEL).bind("Notification",e=>{u.a.addNotification(e.body)})}unregisterSubscribers(){a.default.unsubscribe(s.ANNOUNCEMENT_CHANNEL)}componentDidMount(){this.unregisterSubscribers(),this.registerSubscribers(),f.isWindowsApp&&O.default.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow);const{autoExpandNotifications:e,showNotifications:t}=this.state;e&&!t&&(this.handlePopoverOpen(),h.a.setAutoExpandNotifications(!1))}componentDidUpdate(e,t){const{autoExpandNotifications:n}=this.state;O.default&&!t.hasUnread&&this.state.hasUnread&&O.default.ipcRenderer.send("unread-notifications",Object(E.calculateOverlayIcon)()),!t.autoExpandNotifications&&n&&(h.a.setAutoExpandNotifications(!1),this.handlePopoverOpen())}componentWillUnmount(){this.unregisterSubscribers()}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:o,hasPromotion:r,notificationLastReadTime:a,showNotifications:s}=this.state,{organizationId:l}=this.props,c=i.h(P,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:a,organizationId:l});return i.h(S.default,{open:s,content:c,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.h(g.default,{hasUnread:o,hasPromotion:r}))}}t.default=C()(j)},function(e,t,n){"use strict";n.r(t),n.d(t,"userChannel",(function(){return f}));var i=n(27),o=n.n(i),r=n(28),a=n.n(r),s=n(587),l=n(234),c=n(589),d=n(233);let u;function p(){u||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(u=setTimeout(()=>{c.show({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},3e4))}const h=l.default.get("userToken");let f,g;if(h){const e={cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:d.FLAG_NEW_PUSHER_AUTH?d.PUSHER_URL_V2:d.PUSHER_URL,auth:{headers:{"Zeplin-Token":h}}};d.FLAG_NEW_PUSHER_AUTH&&Object.assign(e,{authorizer:s.default,authDelay:2e3}),g=new o.a(d.PUSHER_ACCESS_KEY,e),g.connection.bind("failed",p),g.connection.bind("unavailable",p),g.connection.bind("connected",()=>{Zeplin.headers.set("Zeplin-Socket-Id",g.connection.socket_id),clearTimeout(u),c.closeBanner("socket")});const{sub:t}=a()(h);f=g.subscribe(`${d.USER_CHANNEL_PREFIX}${t}`)}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(27),o=n.n(i),r=n(588),a=n.n(r);function s(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function l(e,t,n,i,r){var a=o.a.Runtime.createXHR();for(var s in a.open("POST",i,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)a.setRequestHeader(s,n.headers[s]);a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(n){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}t&&r(!1,e)}else r(!0,a.status)},a.send(function(e,t,n){var i=0,o="&socket_id="+encodeURIComponent(t);for(var r in e)o+="&channel_name["+i+"]="+encodeURIComponent(r),i++;for(var a in n.params)o+="&"+encodeURIComponent(a)+"="+encodeURIComponent(n.params[a]);return o}(e,t,n))}var c=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};c.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},c.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},c.prototype.executeRequests=function(){var e=this.requests;this.requests={},a()(e).forEach(e=>{l(e,this.options.socketId,this.authOptions,this.options.authEndpoint,(function(t,n){s(e,t?function(e){e(!0,n)}:function(e,t){n[t]?n[t].status&&200!==n[t].status?e(!0,n[t].status):e(null,n[t].data):e(!0,404)})}))})};var d={};t.default=function(e,t){return{authorize:function(n,i){var o=t.authEndpoint,r=n+":"+o,a=d[r];a||(a=d[r]=new c({socketId:n,authEndpoint:o,authDelay:t.authDelay,authOptions:t.auth})),a.add(e.name,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){const{batches:t}=Object.keys(e).reduce((t,n)=>200===t.lastBatchKeysLength?(t.batches.push({[n]:e[n]}),t.lastBatchKeysLength=1,t):(t.lastBatchKeysLength++,t.batches[t.batches.length-1][n]=e[n],t),{lastBatchKeysLength:0,batches:[{}]});return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return o})),n.d(t,"closeBanner",(function(){return r}));var i=document.getElementById("bannerTemplate");function o(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",(function(e){e.stopPropagation()})),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()})),e.bodyCallbacks)for(var o in e.bodyCallbacks)t.querySelector(o).addEventListener("click",e.bodyCallbacks[o]);e.container?e.container.appendChild(t):document.body.appendChild(t)}function r(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(276)),r=i(n(271)),a=n(248),s=n(260),l=a.debouncePromise(s.updateNotificationLastReadTime),c={addNotification(e){r.default.dispatcher.dispatch({type:o.default.ADD_NOTIFICATION,notification:e})},getNotifications(e,t){r.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_REQUESTED}),s.getNotifications(e,t).then(e=>{r.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{r.default.dispatcher.dispatch({type:o.default.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){r.default.dispatcher.dispatch({type:o.default.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){l().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),c.setNotificationLastReadTime(t)})},setReadStatus({notifications:e,markedAsRead:t,trackEventName:n}){r.default.dispatcher.dispatch({type:o.default.SET_READ_STATUS,notifications:e,markedAsRead:t,trackEventName:n})},restoreReadStatus(e){r.default.dispatcher.dispatch({type:o.default.RESTORE_READ_STATUS,notifications:e})},setReadStatusOffline(e,t){r.default.dispatcher.dispatch({type:o.default.SET_READ_STATUS_OFFLINE,nids:e,markedAsRead:t})},setEventReadStatus({notification:e,eventIds:t,markedAsRead:n,trackUnreadEvent:i}){r.default.dispatcher.dispatch({type:o.default.SET_EVENT_READ_STATUS,notification:e,eventIds:t,markedAsRead:n,trackUnreadEvent:i})},setEventReadStatusOffline(e,t,n){r.default.dispatcher.dispatch({type:o.default.SET_EVENT_READ_STATUS_OFFLINE,nid:e,eventIds:t,markedAsRead:n})}};t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(592);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(252),l=n(593),c=n.n(l);n(594);function d({hasUnread:e,hasPromotion:t=!1,onClick:n=null,active:o}){return i.h("button",{class:Object(a.default)("notificationsButton",{active:o}),onClick:function(e){n&&n(e)}},e&&!t&&i.h("div",{class:"unreadBadge"}),e&&t&&i.h("img",{src:Object(s.imageUrl)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.h(c.a,null))}d.propTypes={hasUnread:r.a.bool,hasPromotion:r.a.bool,active:r.a.bool},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({width:e=24,height:t=26}){return i.h("svg",{width:e,height:t},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(596);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(245),a=i(n(597)),s=i(n(431)),l=i(n(602));n(604),t.default=function({organizationId:e}){let t;return t="user"===e?r.urlResolve("activities"):r.urlResolve("workspace-activities",{url:{oid:e}}),o.h("div",{class:"notificationCenterMessage"},o.h("div",{class:"messageIconContainer"},o.h(a.default,{iconType:l.default.STAR})),o.h("div",{class:"messageContainer"},o.h("div",{class:"title"},"New notifications experience (Prerelease) ",o.h("span",{class:"titleEmoji"},"🕵️‍♀️")),o.h("div",{class:"content"},"Quickly find the notifications most important to you and take action without losing context."),o.h("a",{"data-link-type":"inApp",class:"button primary activitiesLink",onClick:()=>{s.default.switchToNewNotificationExperience()},href:t},"Enable Prerelease")))}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(598),s=n(599);function l(e){const{iconType:t,subIconType:n}=e;return i.h(a.default,{subIconType:n},i.h(s.default,{type:t}))}l.propTypes={iconType:r.a.string.isRequired,subIconType:r.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(599),s=n(399);n(603);function l(e){const{children:t,subIconType:n,class:o}=e,r=Object(s.default)("icon",o);return i.h("div",{class:r},t,n&&i.h(a.default,{class:"subIcon",type:n}))}l.propTypes={class:r.a.string,subIconType:r.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(600);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(551),s=n(601);function l(e){const{type:t,class:n}=e,o=s.default[t],r=o.responsive?a.default:"img",l={[o.responsive?"asset":"src"]:o.source,alt:o.alt,class:n};return i.h(r,l)}l.propTypes={avatar:r.a.bool,type:r.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(602),o=n(252);const r={[i.default.ADD]:{source:Object(o.imageUrl)("img/ntf/icAdd.svg"),alt:"+"},[i.default.DELETE]:{source:Object(o.imageUrl)("img/ntf/icDelete.svg"),alt:"-"},[i.default.PERSON]:{source:Object(o.imageUrl)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.default.NOTE]:{source:Object(o.imageUrl)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.default.TRANSFER]:{source:Object(o.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.default.ARCHIVE]:{source:Object(o.imageUrl)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.default.ACTIVATE]:{source:Object(o.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.default.STAR]:{source:Object(o.imageUrl)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.default.JIRA]:{source:Object(o.imageUrl)("img/ntf/icJira.svg"),alt:""},[i.default.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.default.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.default.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.default.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.default.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.default.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.default.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0},[i.default.SPACING]:{source:"img/ntf/icSpacing.png",alt:"&#xe12b;",responsive:!0}};t.default=r},function(e,t,n){"use strict";n.r(t),t.default={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",JIRA:"jira",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",SPACING:"spacing",STAR:"star"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(248),a=n(263),s=n.n(a),l=n(606),c=n(607);t.default=function(e,t){const n=t.notificationLastReadTime<new Date(e.updated),{events:a}=e,d=a?a[0]:null;switch(e.actionName){case"AddProjectExtension":case"AddStyleguideExtension":{const{extension:a}=d,l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(r.getPlatformString)(u.type),h=Object(o.urlResolve)(l,{url:{bid:u._id},query:{eid:a._id}});return i.h(c.AddExtensionNotification,{onClick:t.onClick,link:h,barrelName:u.name,platform:p,extensionName:a.name,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"ActivateProject":case"ActivateStyleguide":{const r=d.project?s.a.PROJECT:s.a.STYLEGUIDE,a=d[r],l=Object(o.urlResolve)(r,{url:{bid:a._id}});return i.h(c.ActivateBarrelNotification,{barrelType:r,onClick:t.onClick,link:l,user:e.params.source,barrelNames:[a.name],updated:e.updated,unread:n,baseRef:t.ref})}case"ArchiveProject":case"ArchiveStyleguide":{const o=d.project?s.a.PROJECT:s.a.STYLEGUIDE,r=d[o];return i.h(c.ArchiveBarrelNotification,{barrelType:o,onClick:t.onClick,user:e.params.source,barrelNames:[r.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AuthProjectSlack":case"AuthStyleguideSlack":{const r=d.project?s.a.PROJECT:s.a.STYLEGUIDE,a=d[r],l=Object(o.urlResolve)(r,{url:{bid:a._id}});return i.h(c.AuthSlackNotification,{onClick:t.onClick,link:l,user:e.params.source,barrelName:a.name,slackChannelName:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateAnnouncement":case"RemindVerification":case"VerifyUser":{if(!("webURI"in e.action))return null;const o=e.action.webURI;return i.h(c.VerificationNotification,{onClick:t.onClick,link:o||"#",disabled:!o,user:e.params.source,content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponent":case"CreateStyleguideComponent":{const l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(r.getPlatformString)(u.type),h=a.map(e=>e.component.name),f=a.length>1?a.map(e=>e.component._id):d.component._id,g=Object(o.urlResolve)(l===s.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:u._id},query:{coid:f}});return i.h(c.CreateComponentNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,componentNames:h,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[l],p=Object(r.getPlatformString)(u.type),h=a.map(e=>e.component.name),f=a.length>1?a.map(e=>e.component._id):d.component._id,g=Object(o.urlResolve)(l===s.a.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:u._id},query:{coid:f}});return i.h(c.CreateComponentVersionNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,componentNames:h,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectColor":case"CreateStyleguideColor":{const l=a.map(e=>e.color),u=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(r.getPlatformString)(p.type),f=a.length>1?a.map(e=>e.color._id):d.color._id,g=Object(o.urlResolve)(u===s.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:p._id},query:{cid:f}});return i.h(c.CreateColorNotification,{onClick:t.onClick,link:g,barrelName:p.name,platform:h,user:e.params.source,colors:l,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateCoupon":return"webURI"in e.action?i.h(c.CreateCouponNotification,{onClick:t.onClick,link:e.action.webURI,content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref}):null;case"CreateDot":{const s=1===a.length?e.content:null,{project:l,screen:u}=e.params,p=Array.from(new Set(a.map(e=>e.source))),h=Object(r.getPlatformString)(l.type),f=a.length>1?a.map(e=>e.dot._id):d.dot._id,g=Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:u._id},query:{did:f}});return i.h(c.CreateDotNotification,{onClick:t.onClick,link:g,screenName:u.name,barrelName:l.name,platform:h,users:p,notes:a,content:s,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDot-Mention":{const{dot:a,source:s}=d,{project:l,screen:u}=e.params,p=Object(r.getPlatformString)(l.type),h=Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:u._id},query:{did:a._id,cmid:d.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:h,barrelName:l.name,platform:p,screenName:u.name,noteName:a.name,user:s,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment-Mention":{const{dot:a,project:s,screen:l}=e.params,u=a.name,p=Object(r.getPlatformString)(s.type),h=Object(o.urlResolve)("project-screen",{url:{pid:s._id,sid:l._id},query:{did:a._id,cmid:d.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:h,barrelName:s.name,platform:p,screenName:l.name,noteName:u,user:d.source,content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment":{const s=1===a.length?e.content:null,{dot:{_id:l,name:u},project:p,screen:h}=e.params,f=Array.from(new Set(a.map(e=>e.source))),g=Object(r.getPlatformString)(p.type),m=a.length>1?a.map(e=>e.comment._id):d.comment._id,b=Object(o.urlResolve)("project-screen",{url:{pid:p._id,sid:h._id},query:{did:l,cmid:m}});return i.h(c.CreateCommentNotification,{onClick:t.onClick,link:b,screenName:h.name,barrelName:p.name,platform:g,noteName:u,users:f,content:s,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateScreen":{const{project:s,source:l}=e.params,d=a.map(e=>e.screen),u=d.map(e=>e.name),p=d.map(e=>e._id),h=Object(r.getPlatformString)(s.type),f=a.length>1?Object(o.urlResolve)("project",{url:{bid:s._id},query:{sid:p}}):Object(o.urlResolve)("project-screen",{url:{pid:s._id,sid:p[0]}});return i.h(c.CreateScreenNotification,{onClick:t.onClick,link:f,barrelName:s.name,platform:h,user:l,screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateScreenVersion":{const{source:s,project:l}=e.params,d=a.map(e=>e.screen),u=d.map(e=>e.name),p=d.map(e=>e._id),h=Object(r.getPlatformString)(l.type),f=a.length>1?Object(o.urlResolve)("project",{url:{bid:l._id},query:{sid:p}}):Object(o.urlResolve)("project-screen",{url:{pid:l._id,sid:p[0]}});return i.h(c.CreateScreenVersionNotification,{onClick:t.onClick,link:f,barrelName:l.name,platform:h,user:s,screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":{const{source:l,project:d}=e.params,u=a.map(e=>e.textStyle),p=u.map(({name:e})=>e),h=u.map(({_id:e})=>e),f=d?s.a.PROJECT:s.a.STYLEGUIDE,g=e.params[f],m=Object(r.getPlatformString)(g.type),b=u.length>1?h:h[0],S=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:b}});return i.h(c.CreateTextStyleNotification,{onClick:t.onClick,link:S,barrelName:g.name,platform:m,user:l,textStyles:p,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectColor":case"DeleteStyleguideColor":{const{source:o,project:l}=e.params,d=a.map(e=>e.color),u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(r.getPlatformString)(p.type);return i.h(c.DeleteColorNotification,{barrelName:p.name,platform:h,user:o,colors:d,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectComponent":case"DeleteStyleguideComponent":{const{source:o,project:l}=e.params,d=l?s.a.PROJECT:s.a.STYLEGUIDE,u=e.params[d],p=Object(r.getPlatformString)(u.type),h=a.map(e=>e.component.name);return i.h(c.DeleteComponentNotification,{barrelName:u.name,platform:p,componentNames:h,user:o,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteScreen":{const{source:o,project:s}=e.params,l=a.map(e=>e.screen).map(e=>e.name),d=Object(r.getPlatformString)(s.type);return i.h(c.DeleteScreenNotification,{barrelName:s.name,platform:d,user:o,screenNames:l,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProject":case"DeleteStyleguide":{const o=d.project?s.a.PROJECT:s.a.STYLEGUIDE,r=d[o].name;return i.h(c.DeleteBarrelNotification,{barrelType:o,user:e.params.source,barrelNames:[r],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectTextStyle":case"DeleteStyleguideTextStyle":{const{source:o,project:l}=e.params,d=a.map(e=>e.textStyle).map(({name:e})=>e),u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(r.getPlatformString)(p.type);return i.h(c.DeleteTextStyleNotification,{barrelName:p.name,platform:h,user:o,textStyles:d,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveExtensionFromProject":case"RemoveExtensionFromStyleguide":{const{extension:o}=d,{source:a,project:l}=e.params,u=l?s.a.PROJECT:s.a.STYLEGUIDE,p=e.params[u],h=Object(r.getPlatformString)(p.type);return i.h(c.DeleteExtensionNotification,{barrelName:p.name,platform:h,extensionName:o.name,user:a,updated:e.updated,unread:n,baseRef:t.ref})}case"ResolveDot":{const s=a.map(e=>e.dot.name),{screen:l,project:u}=e.params,p=Object(r.getPlatformString)(u.type),h=Array.from(new Set(a.map(e=>e.source))),f=a.length>1?a.map(e=>e.dot._id):d.dot._id,g=Object(o.urlResolve)("project-screen",{url:{pid:u._id,sid:l._id},query:{did:f}});return i.h(c.ResolveDotNotification,{onClick:t.onClick,link:g,barrelName:u.name,platform:p,screenName:l.name,users:h,notes:s,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateOrganizationMemberRole":{const r=a[a.length-1],s=r.user.role,{organization:l}=e.params,d=Object(o.urlResolve)("workspace-members",{url:{oid:l._id}});return i.h(c.UpdateOrganizationMemberRoleNotification,{onClick:t.onClick,link:d,roleName:s,organizationName:l.name,user:r.source,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectColor":case"UpdateStyleguideColor":{const{source:l,project:u}=e.params,p=a.map(e=>e.color),h=u?s.a.PROJECT:s.a.STYLEGUIDE,f=e.params[h],g=Object(r.getPlatformString)(f.type),m=a.length>1?a.map(e=>e.color._id):d.color._id,b=Object(o.urlResolve)(h===s.a.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:f._id},query:{cid:m}});return i.h(c.UpdateColorNotification,{onClick:t.onClick,link:b,barrelName:f.name,platform:g,colors:p,user:l,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectUserRole":case"UpdateStyleguideUserRole":{const r=d.project?s.a.PROJECT:s.a.STYLEGUIDE,l=d[r],u=a.map(e=>e[r].name),p=a.length>1?{query:{bid:a.map(e=>e[r]._id)}}:{url:{bid:l._id}},h=a.length>1?r+"s":r,f=Object(o.urlResolve)(h,p);return i.h(c.AssignAdminNotification,{barrelType:r,onClick:t.onClick,link:f,barrelNames:u,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":{const{source:l,project:d}=e.params,u=a.map(e=>e.textStyle),p=u.map(({name:e})=>e),h=u.map(({_id:e})=>e),f=d?s.a.PROJECT:s.a.STYLEGUIDE,g=e.params[f],m=Object(r.getPlatformString)(g.type),b=u.length>1?h:h[0],S=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:g._id},query:{tsid:b}});return i.h(c.UpdateTextStyleNotification,{onClick:t.onClick,link:S,barrelName:g.name,platform:m,user:l,textStyles:p,updated:e.updated,unread:n,baseRef:t.ref})}case"UserJoined":{const r=Array.from(new Set(a.map(e=>e.member))),l=e.params.project?s.a.PROJECT:s.a.STYLEGUIDE,d=e.params[l],u=Object(o.urlResolve)(l,{url:{bid:d._id}});return i.h(c.NewMemberNotification,{onClick:t.onClick,link:u,barrelNames:[d.name],users:r,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveUserFromProject":case"RemoveUserFromStyleguide":{const{source:o,project:r}=e.params,a=r?s.a.PROJECT:s.a.STYLEGUIDE,l=e.params[a];return i.h(c.RemoveUserNotification,{barrelNames:[l.name],user:o,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteMember":{const{source:r,organization:a}=e.params,s=Object(o.urlResolve)("workspace-members",{url:{oid:a._id}});return i.h(c.InviteMemberNotification,{onClick:t.onClick,link:s,organizationName:a.name,user:r,updated:e.updated,unread:n,baseRef:t.ref})}case"InviteProjectUser":case"InviteStyleguideUser":{const r=d.project?s.a.PROJECT:s.a.STYLEGUIDE,l=d[r],u=a.map(e=>e[r].name),p=a.length>1?{query:{bid:a.map(e=>e[r]._id)}}:{url:{bid:l._id}},h=a.length>1?r+"s":r,f=Object(o.urlResolve)(h,p);return i.h(c.InviteUserNotification,{barrelType:r,onClick:t.onClick,link:f,barrelNames:u,user:e.params.source,updated:e.updated,unread:n,baseRef:t.ref})}case"TransferProjectOwnership":case"TransferStyleguideOwnership":{const r=d.project?s.a.PROJECT:s.a.STYLEGUIDE,a=d[r],l=Object(o.urlResolve)(r,{url:{bid:a._id}});return i.h(c.TransferOwnershipNotification,{onClick:t.onClick,link:l,user:e.params.source,barrelNames:[a.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AttachProjectToJiraIssue":case"AttachSectionToJiraIssue":case"AttachScreenToJiraIssue":case"RemoveProjectJiraIssueAttachment":case"RemoveSectionJiraIssueAttachment":case"RemoveScreenJiraIssueAttachment":{const{project:o}=e.params,s=Array.from(new Set(a.map(e=>e.jiraAttachment.issueKey))),l=a.reduce((e,t)=>{const{itemId:n,itemName:i}=t.jiraAttachment;return e.find(e=>e.itemId===n)||e.push({itemId:n,itemName:i}),e},[]),d=Object(r.getPlatformString)(o.type);return i.h(c.JiraAttachmentNotification,{onClick:t.onClick,barrelId:o._id,barrelName:o.name,platform:d,actionName:e.actionName,updated:e.updated,unread:n,issueKeys:s,items:l,baseRef:t.ref})}case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":{const{params:l,updated:d}=e,u=a.map(e=>e.spacingToken),p=u.map(({token:e})=>e),h=u.map(({_id:e})=>e),f=l.project?s.a.PROJECT:s.a.STYLEGUIDE,g=l[f],m=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?h:h[0]}});return i.h(c.CreateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:p,user:l.source,barrelName:g.name,platform:Object(r.getPlatformString)(g.type),link:m,updated:d,unread:n,onClick:t.onClick})}case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":{const{params:l,updated:d}=e,u=a.map(e=>e.spacingToken),p=u.map(({token:e})=>e),h=u.map(({_id:e})=>e),f=l.project?s.a.PROJECT:s.a.STYLEGUIDE,g=l[f],m=Object(o.urlResolve)(f===s.a.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?h:h[0]}});return i.h(c.UpdateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:p,user:l.source,barrelName:g.name,platform:Object(r.getPlatformString)(g.type),link:m,updated:d,unread:n,onClick:t.onClick})}case"DeleteProjectSpacingToken":case"DeleteStyleguideSpacingToken":{const{params:o,updated:l}=e,d=a.map(e=>e.spacingToken).map(({token:e})=>e),u=o[o.project?s.a.PROJECT:s.a.STYLEGUIDE];return i.h(c.DeleteSpacingTokenNotification,{baseRef:t.ref,spacingTokens:d,user:o.source,barrelName:u.name,platform:Object(r.getPlatformString)(u.type),updated:l,unread:n})}default:return null}}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=e=>{const t=e.split(/\*([^*]+)\*/g).map((e,t)=>t%2?i.h("strong",{key:e+t},e):e);return i.h("span",null,t)}},function(e,t,n){"use strict";n.r(t);var i=n(608);n.d(t,"CreateDotNotification",(function(){return i.default}));var o=n(640);n.d(t,"CreateScreenNotification",(function(){return o.default}));var r=n(646);n.d(t,"CreateScreenVersionNotification",(function(){return r.default}));var a=n(649);n.d(t,"NewMemberNotification",(function(){return a.default}));var s=n(654);n.d(t,"UpdateColorNotification",(function(){return s.default}));var l=n(662);n.d(t,"CreateComponentNotification",(function(){return l.default}));var c=n(664);n.d(t,"CreateComponentVersionNotification",(function(){return c.default}));var d=n(666);n.d(t,"DeleteComponentNotification",(function(){return d.default}));var u=n(668);n.d(t,"InviteUserNotification",(function(){return u.default}));var p=n(670);n.d(t,"InviteMemberNotification",(function(){return p.default}));var h=n(673);n.d(t,"UpdateOrganizationMemberRoleNotification",(function(){return h.default}));var f=n(677);n.d(t,"VerificationNotification",(function(){return f.default}));var g=n(680);n.d(t,"ResolveDotNotification",(function(){return g.default}));var m=n(683);n.d(t,"CreateCommentNotification",(function(){return m.default}));var b=n(686);n.d(t,"CommentMentionNotification",(function(){return b.default}));var S=n(689);n.d(t,"DeleteScreenNotification",(function(){return S.default}));var y=n(691);n.d(t,"RemoveUserNotification",(function(){return y.default}));var v=n(693);n.d(t,"AddExtensionNotification",(function(){return v.default}));var C=n(696);n.d(t,"DeleteExtensionNotification",(function(){return C.default}));var O=n(699);n.d(t,"DeleteBarrelNotification",(function(){return O.default}));var E=n(701);n.d(t,"ArchiveBarrelNotification",(function(){return E.default}));var T=n(703);n.d(t,"ActivateBarrelNotification",(function(){return T.default}));var _=n(705);n.d(t,"AssignAdminNotification",(function(){return _.default}));var P=n(707);n.d(t,"CreateColorNotification",(function(){return P.default}));var j=n(709);n.d(t,"DeleteColorNotification",(function(){return j.default}));var D=n(711);n.d(t,"AuthSlackNotification",(function(){return D.default}));var k=n(714);n.d(t,"CreateCouponNotification",(function(){return k.default}));var I=n(717);n.d(t,"CreateTextStyleNotification",(function(){return I.default}));var R=n(719);n.d(t,"DeleteTextStyleNotification",(function(){return R.default}));var A=n(721);n.d(t,"UpdateTextStyleNotification",(function(){return A.default}));var w=n(723);n.d(t,"CreateSpacingTokenNotification",(function(){return w.default}));var N=n(725);n.d(t,"UpdateSpacingTokenNotification",(function(){return N.default}));var L=n(727);n.d(t,"DeleteSpacingTokenNotification",(function(){return L.default}));var x=n(729);n.d(t,"TransferOwnershipNotification",(function(){return x.default}));var M=n(731);n.d(t,"JiraAttachmentNotification",(function(){return M.default}))},function(e,t,n){"use strict";n.r(t);var i=n(609);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(597),c=n(633),d=n(636),u=n(602),p=n(249);n(639);function h(e){const{baseRef:t,users:n,screenName:o,barrelName:r,platform:h,notes:f,content:g,updated:m,link:b,unread:S,onClick:y}=e,v=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(s.default,{user:n[0],subIconType:u.default.NOTE}),C=i.h(i.Fragment,null,i.h(d.default,{users:n}),` added ${Object(p.pluralize)(f.length,"note")} to `,i.h("span",{class:"screenName"},o),g?":":"."),O=i.h("div",{class:"contentWrapper ellipsis"},g),E=i.h(c.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"createDot",onClick:y,icon:v,header:C,content:O,footer:E,unread:S,updated:m,link:b})}h.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenName:r.a.string.isRequired,notes:r.a.arrayOf(r.a.oneOfType([r.a.string,r.a.object])),users:r.a.arrayOf(r.a.object).isRequired,content:r.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(611);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(612),s=n(399);n(613);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){const{unread:t,disabled:n,link:o,linkTarget:r,linkType:c,icon:d,header:u,content:p,footer:h,updated:f,onClick:g,class:m,baseRef:b,isCommentMention:S}=e;const y=Object(s.default)("notificationItem",{disabled:n,unread:t},m);let v="a",C={"data-link-type":c,target:r,href:o,onClick:function(){mixpanel.master.track("Clicked notification",{Mention:S,Source:"Notifications pop-up"}),g&&g()}};return n&&(v="div",C={}),i.h(v,l({ref:b,class:y},C),d&&i.h("div",{class:"notificationIcon"},d),i.h("div",{class:"notificationBody"},u&&i.h("div",{class:"notificationHeader"},u),p&&i.h("div",{class:"notificationContent"},p),i.h("div",{class:"notificationFooter"},h,i.h(a.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:f}))))}c.propTypes={icon:r.a.node,header:r.a.node,content:r.a.node,footer:r.a.node,unread:r.a.bool,disabled:r.a.bool,link:r.a.string,linkTarget:r.a.string,linkType:r.a.string,class:r.a.string,updated:r.a.string.isRequired,onClick:r.a.func,isCommentMention:r.a.bool},c.defaultProps={linkType:"inApp",isCommentMention:!1},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558);function r(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class a extends o.default{render(){const e=this.props,{class:t,children:n,type:o}=e,a=r(e,["class","children","type"]),s=`<${o} ${Object.entries(a).map(([e,t])=>`${e}="${t}"`).join(" ")}></${o}>`;return i.h("span",{class:t,dangerouslySetInnerHTML:{__html:s}})}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(598),s=n(527),l=n.n(s),c=n(615),d=n(247);function u({user:e,subIconType:t}){return i.h(c.default,{member:{user:e},topOffset:6},i.h(a.default,{subIconType:t},i.h(l.a,{src:Object(d.getUserAvatar)(e).src,size:36})))}u.propTypes={user:r.a.object.isRequired,subIconType:r.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(616);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(545),s=n(617),l=n(365),c=n(364),d=n(420),u=n(399),p=n(271),h=n.n(p),f=n(513),g=n.n(f);n(632);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{open:this.props.open||!1}),m(this,"popoverMouseEventTimer",null),m(this,"handleMouseEnter",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!0}),t&&t(!0)},300))}),m(this,"handleMouseLeave",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!1}),t&&t(!1)},100))}),m(this,"handleUserProfileCardContentChange",()=>{this.componentRefs&&this.componentRefs.userProfileCardPopoverContainer.positionPopover()})}static calculateState(e,t){const{userId:n,member:i}=t;if(i){const{user:e,tags:t}=i;return{user:e,tags:t}}const{selectedOrganizationId:o}=h.a.SpaceStore.getState(),{organizationId:r}=h.a.BarrelStore.getState(),{members:a=[]}=l.default.getOrganization(r||o)||{},{users:s=[]}=c.default.getBarrel()||{},d=[...a,...s],{user:u,tags:p}=d.find(e=>e.user._id===n)||{};return{user:u,tags:p}}static getStores(){return[h.a.SpaceStore,h.a.OrganizationStore,h.a.BarrelStore,h.a.ProjectsDataStore,h.a.StyleguidesDataStore]}componentDidUpdate(){this.handleUserProfileCardContentChange()}componentWillUnmount(){clearTimeout(this.popoverMouseEventTimer)}render(){if(!this.state.user)return;const{targetNode:e,topOffset:t,openToLeft:n,class:o,contentClass:r,originParent:l,children:c}=this.props,{user:p,tags:h,open:f}=this.state;return i.h(a.default,{ref:Object(d.default)(this,"userProfileCardPopoverContainer","componentRefs"),class:Object(u.default)("userProfileCardPopoverContainer",o),targetNode:e,content:i.h(s.default,{user:p,tags:h,onContentChange:this.handleUserProfileCardContentChange}),contentClass:Object(u.default)("userProfileCardPopoverContainerContent",r),originParent:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,left:19,topOffset:t,bottomOffset:6,offsetX:6,openToLeft:n,open:f,centerY:!0,stickToEdge:!0,showAnchor:!0,centerAnchorVerticaly:!0},c)}}b.propTypes={targetNode:r.a.object,userId:r.a.string,member:r.a.object,topOffset:r.a.number,openToLeft:r.a.bool,open:r.a.bool,class:r.a.string,contentClass:r.a.string,originParent:r.a.object,children:r.a.node,onVisibilityChange:r.a.func},b.defaultProps={topOffset:58,openToLeft:!0},t.default=g()(b,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(618);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(527),s=n.n(a),l=n(404),c=n(619),d=n(622),u=n(624),p=n(442),h=n(247),f=n(245),g=n(399),m=n(420);n(631);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"handleEmailCopy",()=>{Object(h.copyContent)({content:this.props.user.email,toastContainer:this.nodeRefs.userProfileCard})}),b(this,"renderTags",()=>{if(!this.hasTags)return null;const{tags:e}=this.props;return i.h("div",{class:"userProfileCardTagsContainer"},e.map(e=>i.h("div",{key:e,class:"userProfileCardTag ellipsis"},e)))})}get actionButtonText(){const{fullName:e,bio:t}=this.props.user;let n="Add";return e||(n+=" full name",t||(n+=" and")),t||(n+=" bio"),n}get hasTags(){const{tags:e}=this.props;return Boolean(e&&e.length)}componentDidUpdate(){const{onContentChange:e}=this.props;e&&e()}render(){const{user:e}=this.props,{src:t,srcset:n}=Object(h.getUserAvatar)(e,{size:64}),{_id:o,username:r,email:a,fullName:b,bio:S,status:y}=e,v=Boolean(S),C=!(b&&S||o!==Zeplin.user._id),O=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING],E="invited"===y;return i.h("div",{ref:Object(m.default)(this,"userProfileCard"),class:Object(g.default)("userProfileCard",{hasBio:v,hasTags:this.hasTags,footerVisible:C})},i.h("div",{class:"userProfileCardHeader"},i.h(s.a,{class:"userProfileCardAvatar",src:t,srcset:n,size:64}),i.h("div",{class:"userProfileCardMetaData"},Boolean(b)&&i.h("div",{class:"userProfileCardFullName ellipsis",title:b},i.h("strong",null,b)),Boolean(r)&&i.h("div",{class:"userProfileCardUsername ellipsis",title:r},"@",r),i.h("div",{class:Object(g.default)("userProfileCardEmail",{userProfileCardSubInfo:!E}),title:a},i.h("span",{class:"ellipsis"},a),i.h(c.default,{targetClass:"userProfileCardCopyEmailButtonContainer",content:"Copy email address"},i.h(l.default,{onClick:this.handleEmailCopy},i.h(p.IconCopy,null)))),E&&i.h("div",{class:"userProfileCardSubInfo"},"Pending Invitation"))),(v||this.hasTags)&&i.h("div",{class:"userProfileCardBody"},v&&i.h("div",{class:"userProfileCardBio"},i.h(d.default,{disabledFeatures:O},S)),this.renderTags()),C&&i.h("div",{class:"userProfileCardFooter"},i.h("a",{target:"_blank",rel:"noopener",href:Object(f.urlResolve)("profile-account"),class:"userProfileCardActionButton button ninja"},this.actionButtonText)))}}S.propTypes={user:r.a.object,tags:r.a.array,onContentChange:r.a.func},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(620);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(519),l=n(420);n(621);class c extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?500:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},200)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-2,o=t.left+(t.width-n.width)/2;o<12?o=12:o+n.width+12>window.innerWidth&&(o=window.innerWidth-12-n.width),i+n.height+12>window.innerHeight&&(i=i-n.height-12),e.style.transform=`translate3d(${o}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:a.stopPropagation},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.default)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(s.default,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}c.propTypes={children:r.a.oneOfType([r.a.array,r.a.node,r.a.element,r.a.object]),content:r.a.oneOfType([r.a.node,r.a.element]).isRequired,delay:r.a.number,targetClass:r.a.string},c.defaultProps={delay:500},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(623);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(364),r=n(271),a=n.n(r),s=n(365),l=n(513),c=n.n(l),d=n(624);class u extends i.Component{static getStores(){return[a.a.BarrelStore,a.a.OrganizationStore,a.a.ProjectsDataStore,a.a.SpaceStore,a.a.StyleguidesDataStore,a.a.UserStore]}static calculateState(){const{organizations:e}=a.a.OrganizationStore.getState(),{selectedOrganizationId:t}=a.a.SpaceStore.getState(),{barrelId:n,organizationId:i}=a.a.BarrelStore.getState(),{username:r,userId:l}=a.a.UserStore.getState(),{projects:c}=a.a.ProjectsDataStore.getState(),{styleguides:d}=a.a.StyleguidesDataStore.getState(),u=o.default.getBarrel(),{members:p=[]}=s.default.getOrganization(i||t)||{},{users:h=[]}=u||{};return{organizations:e,barrelId:n,username:r,userId:l,members:[...p,...h],barrel:u,projects:c,styleguides:d}}render(){const{children:e,disabledFeatures:t,onUpdate:n}=this.props,{organizations:o,barrelId:r,barrel:a,username:s,userId:l,members:c,projects:u,styleguides:p}=this.state;return i.h(d.default,{disabledFeatures:t,organizations:o,barrelId:r,barrel:a,username:s,userId:l,members:c,projects:u,styleguides:p,onUpdate:n},e)}}t.default=c()(u,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(625);n.d(t,"default",(function(){return i.default})),n.d(t,"MarkdownRules",(function(){return i.MarkdownRules})),n.d(t,"CustomRules",(function(){return i.CustomRules}))},function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownRules",(function(){return A})),n.d(t,"CustomRules",(function(){return R}));var i=n(4),o=n(210),r=n.n(o),a=n(626),s=n.n(a),l=n(209),c=n.n(l),d=n(627),u=n(248),p=n(245),h=n(386),f=n(399),g=n(420),m=n(233),b=n(628),S=n(253);n(630);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=/#([\w-]+)/g,C=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,O=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,E=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,T=new RegExp(`(${m.ZPL_PROTOCOL}//\\S+)`,"g"),_=/tel:([\d+.-]+)\b/g,P=/spotify:([\w:]+)\b/g,j=/youtube\.com\/watch\?v=(\w+)/,D=/youtu\.be\/(\w+)/,k=/:([a-z_-]+?):/g,I=c()();r.a.setOptions({headerIds:!1,highlight(e,t){if(!t)return e;const n=s.a.languages[t];return n?s.a.highlight(e,n):e}});const R={SPOTIFY:"spotify",YOUTUBE:"youtube"},A={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class w extends i.Component{constructor(e){super(e),y(this,"disableHeadingRenderer",(e,t)=>"#".repeat(t)+" "+e),y(this,"checkboxRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(A.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`}),y(this,"imageRenderer",(e,t,n)=>{const{disabledFeatures:i}=this.props,o=t||"";return i.includes(A.IMAGE)?`<a\n                href="${e}"\n                title="${o}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<img src="${e}" srcset="${e} ${window.devicePixelRatio}x" title="${o}" alt="${n}">`}),y(this,"spotifyURLRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}),y(this,"spotifyURIRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(R.SPOTIFY)?e:e.replace(P,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}),y(this,"youtubeRenderer",e=>{const{disabledFeatures:t}=this.props;if(t.includes(R.YOUTUBE))return e;let n="youtu.be"===e.hostname?D:j;const[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}),y(this,"linkRenderer",(e,t,n="")=>{const{barrelId:i}=this.props,o=Object(p.urlResolve)("project",{url:{bid:i}}),r=new URL(e.replace(/&amp;/g,"&"),o),a=t||"";if(r.origin===location.origin||r.protocol===m.ZPL_PROTOCOL){const t=this.parseURL(r,n!==e&&n);if(t){const e=n.startsWith("<")?n:t.anchorText;return`<a\n                    href="${t.href}"\n                    title="${a}"\n                    data-link-type="inApp">${e}</a>`}}return["spotify.com","open.spotify.com"].includes(r.hostname)?this.spotifyURLRenderer(r):["youtube.com","www.youtube.com","youtu.be"].includes(r.hostname)?this.youtubeRenderer(r):`<a href="${e}" title="${a}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}),y(this,"colorRenderer",e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(v,(e,o)=>{let r,a=n&&n.colors.find(e=>e.name===o),s=e;if(a)r=`{{color${i.length}}}`,i.push(a.toCSS()),s=`<span class="color">${e}<span class="colorPreview" style="background-color: ${r};"></span></span>`;else if(C.test(e)){const t=S.default.fromHex(o);a=n&&n.colors.find(e=>e.equals(t));r=a?e:"",s=`<span class="color">#${a?a.name:o}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(a){const e=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:a.id}});return this.linkRenderer(e,r,s)}return s}).replace(O,(e,...i)=>{const{r:o,g:r,b:a,a:s}=Object(d.parseRGBA)(...i),l=n&&n.colors.find(e=>e.equals({r:o,g:r,b:a,a:s}));let c;if(c=l?`<span class="color">#${l.name}<span class="colorPreview" style="background-color: ${l.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,l){const n=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:l.id}});return this.linkRenderer(n,e,c)}return c}).replace(E,(e,...i)=>{const{h:o,s:r,l:a,a:s}=Object(d.parseHSLA)(...i),l=S.default.fromHSLA(o,r,a,s),c=n&&n.colors.find(e=>e.equals(l));let u;if(u=c?`<span class="color">#${c.name}<span class="colorPreview" style="background-color: ${c.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,c){const n=Object(p.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:c.id}});return this.linkRenderer(n,e,u)}return u}).replace(/{{color(\d+)}}/g,(e,t)=>i[parseInt(t,10)])}),y(this,"mentionRenderer",e=>{const{username:t,userId:n,members:i}=this.props,o=Object(u.mentionRegexFn)(t);return e.replace(/@\w+\b/g,e=>{const t=e.substring(1),r=!u.groupMentionKeywords.includes(t)&&i.find(e=>e.user.username===t);let a=e;return r&&r.user.fullName&&(a="@"+r.user.fullName),o.test(e)?`<span data-unique-id="${n}" class="user self">${a}</span>`:r?`<span data-unique-id="${r&&r.user._id}" class="user">${a}</span>`:a})}),y(this,"telRenderer",e=>e.replace(_,(e,t)=>`<a href="tel:${t}">${t}</a>`)),y(this,"emojiRenderer",e=>e.replace(k,(e,t)=>{const n=b.default.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})),y(this,"textRenderer",e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(T)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return Object(u.pipe)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,u.spanEmojis)(t)}),y(this,"canWeMakeThisJumbo",e=>{const t=(e.match(I)||[]).length+(e.match(k)||[]).length;let n=e.replace(I,"");return n=n.replace(k,""),!n&&t>0&&t<=5}),y(this,"bindCheckboxEventListeners",()=>{const{disabledFeatures:e,onUpdate:t}=this.props;if(e.includes(A.CHECKBOX)||!t)return;this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",this.handleChange)})}),y(this,"handleChange",e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let o=-1;n(t.replace(/- \[(x| )\]/g,(e,t)=>(o++,o===i?" "===t?"- [x]":"- [ ]":e)))});const{disabledFeatures:t}=e;this.renderer=new r.a.Renderer,this.renderer.checkbox=this.checkboxRenderer,this.renderer.link=this.linkRenderer,this.renderer.text=this.textRenderer,this.renderer.image=this.imageRenderer,t.includes(A.HEADING)&&(this.renderer.heading=this.disableHeadingRenderer),this.lexer=new r.a.Lexer,t.includes(A.TABLE)&&(this.lexer.rules.table={exec:()=>{}})}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e,t){const{organizations:n,projects:i,styleguides:o,barrelId:r}=this.props,a=Object(d.parseAppLink)(e);if(!a)return null;const{url:s={},query:l={},urlSlug:c}=a;if(t)return{anchorText:t,href:Object(p.urlResolve)(c,{url:s,query:l})};const{oid:u,bid:f,sid:g}=s,m=this.getBarrel(f);let b;switch(c){case"workspace-projects":{const{name:e="Organization"}=n.find(e=>e._id===u)||{};b=e+"ʼs Projects";break}case"workspace-styleguides":{const{name:e="Organization"}=n.find(e=>e._id===u)||{};b=e+"ʼs Styleguides";break}case"projects":b="Projects";break;case"styleguides":b="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=l;if(f!==r){b=t.length?`Comment${t.length>1?"s":""} on screen of ${m.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${m.name}`:"Screen in "+m.name;break}const{name:n="screen",dots:i=[]}=(m.screens||[]).find(e=>e._id===g)||{};if(e.length)if(e.length>1)b="Notes on "+n;else{const{name:o=""}=i.find(t=>t._id===e[0])||{},r=`Note #${o}, ${n}`;b=t.length?`Comment${t.length>1?"s":""} on ${r}`:r}else b=n;break}case"project-screen-version":{const{name:e="screen"}=(m.screens||[]).find(e=>e._id===g)||{};b="Version of "+e;break}case"project-styleguide":case"styleguide":b=f===r?m.name:"Styleguide";break;case"project-styleguide-colors":case"styleguide-colors":b=(f===r?"":m.name)+" Colors";break;case"project-styleguide-textstyles":case"styleguide-textstyles":b=(f===r?"":m.name)+" Text Styles";break;case"project-styleguide-spacing":case"styleguide-spacing":b=(f===r?"":m.name)+" Spacing";break;case"project-styleguide-components":case"styleguide-components":{const{query:{coid:[e]=[]}}=a;if(e){const{component:t}=Object(h.findComponentById)([...Object.values(i),...Object.values(o)].filter(e=>e.complete),e)||{};if(t){b=t.name;break}}b=(f===r?"":m.name)+" Components";break}case"styleguide-about":b=(f===r?"":m.name)+" About";break;case"project-dashboard":default:{const{sid:e=[]}=l;b=e.length?`${e.length} screens in ${f===r?"dashboard":m.name}`:f===r?"Dashboard":m.name;break}}return{anchorText:b,href:Object(p.urlResolve)(c,{url:s,query:l})}}componentDidMount(){this.bindCheckboxEventListeners()}componentDidUpdate(){this.bindCheckboxEventListeners()}renderMarkdown(){const{children:e}=this.props;return this.checkboxCounter=0,r()(e,{renderer:this.renderer,sanitize:!0,silent:!0})}render(){const e=Object(f.default)("markdown",{jumboEmojis:this.canWeMakeThisJumbo(this.props.children)});return i.h("div",{ref:Object(g.default)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.renderMarkdown()}})}}w.defaultProps={disabledFeatures:[],organizations:[]},t.default=w},function(e,t){e.exports=Prism},function(e,t,n){"use strict";n.r(t),n.d(t,"parseAppLink",(function(){return f})),n.d(t,"parseRGBA",(function(){return S})),n.d(t,"parseHSLA",(function(){return y}));var i=n(263),o=n.n(i),r=n(233);const a=/\/workspace\/([\da-f]{24})\/(projects|styleguides)?/i,s=/\/(styleguide|project)\/([\da-f]{24})/i,l=/\/(dashboard|screen|styleguide)/,c=/\/(about|colors|textStyles|spacing|components)/i,d=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function u(e){return e===o.a.PROJECT?"dashboard":"about"}function p(e){return e===o.a.PROJECT?"colors":"about"}function h(e){const[t,n="project",i]=e.match(s)||[];if(!i)return null;const r=e.substring(t.length),[,a=u(n)]=r.match(l)||[],h={url:{pid:i,stid:i,bid:i}};if(n===o.a.STYLEGUIDE||"styleguide"===a){const[,e=p(n)]=r.match(c)||[];h.urlSlug=`${function(e){return e===o.a.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===a){const[,e,t]=r.match(d)||[];h.urlSlug=t?"project-screen-version":"project-screen",Object.assign(h.url,{sid:e,vid:t})}else h.urlSlug="project-dashboard";return h}function f(e){const t=e.origin===location.origin;return e.protocol===r.ZPL_PROTOCOL?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),r=e.searchParams.getAll("sptid"),a=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:r,coid:a}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(a)||[],o=e.searchParams.getAll("pid"),r=e.searchParams.getAll("stid");t.urlSlug="workspace-"+i,t.url={oid:n},t.query={pid:o,stid:r}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=h(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function g(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function m(e){return parseFloat(e)/100}function b(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function S(e,t,n,i="1"){return{r:g(e),g:g(t),b:g(n),a:b(i)}}function y(e,t,n,i="1"){return{h:(o=e,parseFloat(o)/360),s:m(t),l:m(n),a:b(i)};var o}},function(e,t,n){"use strict";n.r(t);var i=n(629),o=n(249);function r(e){return e=e.replace(/_/g," "),i.default.find((function(t){return t.aliases.includes(e)}))}t.default={addCustomEmojis:function(e){var t={};Object.keys(e).forEach((function(n){var o=e[n];if(n=n.replace(/_/g," "),o.startsWith("alias:"))t[n]=o.substring(6);else{var a=r(n);a?a.aliases.push(n):i.default.push({emoji:o,aliases:[n],customEmoji:!0})}})),Object.keys(t).forEach((function(e){var n=r(t[e]);n&&n.aliases.push(e)}))},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.default.forEach((function(n){for(var i=0;i<n.aliases.length;i++)if(Object(o.anyWordStartsWith)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})})),t},searchEmoji:r}},function(e,t,n){"use strict";n.r(t),t.default=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o);n(635);function a(e){const{name:t,platform:n}=e;return i.h("div",{class:"barrel"},i.h("span",{class:"name ellipsis",title:t},t)," • ",i.h("span",{class:"platform"},n))}a.propTypes={name:r.a.string.isRequired,platform:r.a.string.isRequired},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(637);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(615),s=n(238),l=n(331);n(638);function c(e){const{users:t=[]}=e,n=t.length;let o,r,c=[...t];if(!n)return null;function d(e){return i.h(a.default,{class:"usernamesUserProfileCardPopoverContainer",member:{user:e},topOffset:6,openToLeft:!1},Object(s.getUserDisplayName)(e))}if(n>1)if(n>3)c=t.slice(0,3),o=n-3+" more people",r=t.slice(3).map(e=>Object(s.getUserDisplayName)(e)).join("\n");else{o=d(c.pop())}return i.h("span",null,Object(l.joinDOMElements)(c.map(e=>d(e)),", "),o&&i.h("span",{title:r}," and ",o))}c.propTypes={users:r.a.arrayOf(r.a.object).isRequired},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(641);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);n(645);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:r,content:p,platform:h,link:f,unread:g,updated:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:u.default.ADD}),y=o.length>1,v=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!y&&"a screen: ",i.h(d.default,{names:o}),y&&" screens","."),C=p?i.h("div",{class:"contentWrapper ellipsis"},p):null,O=i.h(l.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"createScreen",onClick:b,icon:S,header:v,footer:O,unread:g,content:C,updated:m,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(643);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o);n(644);function a(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.h("span",{class:"multiName",title:n},t.length)}a.propTypes={names:r.a.arrayOf(r.a.string).isRequired},t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(647);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);n(648);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:r,platform:p,updated:h,link:f,content:g,unread:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:u.default.ADD}),y=o.length>1,v=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",y?"versions":"a version"," to ",i.h(d.default,{names:o})," screen",y&&"s","."),C=g?i.h("div",{class:"contentWrapper ellipsis"},g):null,O=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"createScreenVersion",onClick:b,icon:S,header:v,footer:O,unread:m,content:C,updated:h,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(650);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(597),c=n(651),d=n(636),u=n(602);function p(e){const{baseRef:t,users:n,barrelNames:o,updated:r,link:p,unread:h,onClick:f}=e,g=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.PERSON}):i.h(s.default,{user:n[0],subIconType:u.default.PERSON}),m=i.h(i.Fragment,null,i.h(d.default,{users:n})," joined ",i.h(c.default,{barrelNames:o}),".");return i.h(a.default,{baseRef:t,class:"newMember",onClick:f,icon:g,header:m,updated:r,unread:h,link:p})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelNames:r.a.arrayOf(r.a.string),users:r.a.arrayOf(r.a.object).isRequired,content:r.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(652);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o);n(653);function a(e){const{barrelNames:t=[]}=e;let n,o;return 0===t.length?null:(1===t.length?n=t[0]:(o=t.pop(),n=t.join(", ")),i.h("span",null,i.h("span",{class:"barrelName"},n),o&&[" and ",i.h("span",{key:"tail",class:"barrelName"},o)]))}a.propTypes={barrelNames:r.a.arrayOf(r.a.string).isRequired},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(655);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(656),c=n(633),d=n(636),u=n(659),p=n(602);function h(e){const{baseRef:t,user:n,colors:o,barrelName:r,platform:h,updated:f,link:g,unread:m,onClick:b}=e,S=o.length>1,y=S?i.h(s.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.ADD}):i.h(l.default,{color:o[0],subIconType:p.default.ADD}),v=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," updated ",!S&&"a color: ",i.h(u.default,{platform:h,colors:o}),S&&" colors","."),C=i.h(c.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"updateColor",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}h.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,user:r.a.object.isRequired,colors:r.a.arrayOf(r.a.object)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(657);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(598),s=n(253);n(658);function l(e){const{color:t,subIconType:n}=e;return i.h(a.default,{subIconType:n},i.h("div",{class:"colorPreviewWrapper"},i.h("div",{class:"colorPreview",style:{backgroundColor:new s.default(t).toCSS()}})))}l.propTypes={color:r.a.string.isRequired,subIconType:r.a.string},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(660);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(253);n(661);function s(e){const{platform:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new a.default(n[0]);return i.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const o=n.map(e=>{const n=new a.default(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.h("span",{class:"colorName",title:o},n.length)}s.propTypes={platform:r.a.string.isRequired,colors:r.a.arrayOf(r.a.object).isRequired},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(663);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:r,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{user:n,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!S&&"a component: ",i.h(d.default,{names:o}),S&&" components","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"createComponent",onClick:m,icon:b,header:y,footer:v,unread:g,updated:h,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,componentNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(665);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:r,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{user:n,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",S?"versions":"a version"," to ",i.h(d.default,{names:o})," component",S&&"s","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"createComponentVersion",onClick:m,icon:b,header:y,footer:v,unread:g,updated:h,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,componentNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(667);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,componentNames:o,barrelName:r,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{user:n,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed ",!m&&"a component: ",i.h(d.default,{names:o}),m&&" components","."),S=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"deleteComponent",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,componentNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(669);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:r,link:u,unread:p,onClick:h,barrelType:f}=e,g=i.h(s.default,{user:n,subIconType:d.default.PERSON}),m=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," invited you to ",o.length>1&&`${o.length} ${f}s: `,i.h(c.default,{barrelNames:o}),".");return i.h(a.default,{baseRef:t,class:"inviteUser",onClick:h,icon:g,header:m,updated:r,unread:p,link:u})}u.propTypes={onClick:r.a.bool,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelType:r.a.string.isRequired,barrelNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(671);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(602);n(672);function d(e){const{baseRef:t,user:n,organizationName:o,updated:r,link:d,unread:u,onClick:p}=e,h=i.h(s.default,{user:n,subIconType:c.default.PERSON}),f=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," invited you to ",i.h("span",{class:"organizationName"},o)," organization.");return i.h(a.default,{baseRef:t,class:"inviteMember",onClick:p,icon:h,header:f,updated:r,unread:u,link:d,linkType:"legacy"})}d.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,organizationName:r.a.string.isRequired,user:r.a.object.isRequired},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(674);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(551),d=n(602),u=n(675);n(676);function p(e){const{baseRef:t,user:n,roleName:o,organizationName:r,updated:p,link:h,unread:f,onClick:g}=e,m=u.default[o],b=i.h(s.default,{user:n,subIconType:d.default.PERSON}),S=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," assigned you as ",i.h("span",{class:"roleName"},m.name)," ",i.h(c.default,{class:"roleIcon",asset:m.icon})," on ",i.h("span",{class:"organizationName"},r)," organization.");return i.h(a.default,{baseRef:t,class:"updateOrganizationMemberRole",onClick:g,icon:b,header:S,updated:p,unread:f,link:h,linkType:"legacy"})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,roleName:r.a.string.isRequired,organizationName:r.a.string.isRequired,user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t),t.default={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(678);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(636),c=n(602);n(679);function d(e){const{baseRef:t,user:n,content:o,updated:r,link:d,unread:u,onClick:p,disabled:h}=e,f=i.h(s.default,{iconType:c.default.UPDATE}),g=i.h("div",{class:"contentWrapper"},o),m=i.h(l.default,{users:[n]});return i.h(a.default,{baseRef:t,class:"verification",onClick:p,icon:f,content:g,footer:m,unread:u,updated:r,disabled:h,link:d,linkTarget:"_blank"})}d.propTypes={onClick:r.a.func,disabled:r.a.bool,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,user:r.a.object.isRequired,content:r.a.node},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(681);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(597),c=n(633),d=n(636),u=n(602),p=n(249);n(682);function h(e){const{baseRef:t,users:n,screenName:o,barrelName:r,platform:h,notes:f,updated:g,link:m,unread:b,onClick:S}=e,y=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(s.default,{user:n[0],subIconType:u.default.NOTE}),v=i.h(i.Fragment,null,i.h(d.default,{users:n})," resolved ",Object(p.pluralize)(f.length,"note")," on ",i.h("span",{class:"screenName"},o),"."),C=i.h(c.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"resolveDot",onClick:S,icon:y,header:v,footer:C,unread:b,updated:g,link:m})}h.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenName:r.a.string.isRequired,notes:r.a.arrayOf(r.a.string),users:r.a.arrayOf(r.a.object).isRequired},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(684);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(614),c=n(633),d=n(636),u=n(602);n(685);function p(e){const{baseRef:t,users:n,screenName:o,barrelName:r,platform:p,noteName:h,content:f,updated:g,link:m,unread:b,onClick:S}=e,y=n.length>1?i.h(s.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(l.default,{user:n[0],subIconType:u.default.NOTE}),v=i.h("div",{class:"contentWrapper ellipsis"},f),C=i.h(i.Fragment,null,i.h(d.default,{users:n})," replied to note ",i.h("span",{class:"noteName"},h)," on ",i.h("span",{class:"screenName"},o),f?":":"."),O=i.h(c.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"createComment",onClick:S,icon:y,header:C,content:v,footer:O,unread:b,updated:g,link:m})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenName:r.a.string.isRequired,noteName:r.a.string.isRequired,users:r.a.arrayOf(r.a.object).isRequired,content:r.a.string},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(687);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(602);n(688);function u(e){const{baseRef:t,user:n,screenName:o,barrelName:r,platform:u,noteName:p,content:h,updated:f,link:g,unread:m,onClick:b}=e,S=i.h(s.default,{user:n,subIconType:d.default.MENTION}),y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," mentioned you in note ",i.h("span",{class:"noteName"},p)," on ",i.h("span",{class:"screenName"},o),h?":":"."),v=i.h("div",{class:"contentWrapper ellipsis"},h),C=i.h(l.default,{name:r,platform:u});return i.h(a.default,{baseRef:t,class:"commentMention",onClick:b,icon:S,header:y,content:v,footer:C,unread:m,updated:f,link:g,isCommentMention:!0})}u.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenName:r.a.string.isRequired,noteName:r.a.string.isRequired,user:r.a.object.isRequired,content:r.a.string},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(690);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,screenNames:o,barrelName:r,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{user:n,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," deleted ",!m&&"a screen: ",i.h(d.default,{names:o}),m&&" screens","."),S=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"deleteScreen",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,screenNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(692);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(651),c=n(636),d=n(602);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:r,unread:u}=e,p=i.h(s.default,{user:n,subIconType:d.default.DELETE}),h=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed you from ",i.h(l.default,{barrelNames:o}),".");return i.h(a.default,{baseRef:t,class:"removeUser",icon:p,header:h,updated:r,unread:u,disabled:!0})}u.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(694);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(602);n(695);function u(e){const{baseRef:t,user:n,barrelName:o,platform:r,extensionName:u,updated:p,link:h,unread:f,onClick:g}=e,m=i.h(s.default,{user:n,subIconType:d.default.ADD}),b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added an extension: ",i.h("span",{class:"extensionName"},u),"."),S=i.h(l.default,{name:o,platform:r});return i.h(a.default,{baseRef:t,class:"addExtension",onClick:g,icon:m,header:b,footer:S,unread:f,updated:p,link:h})}u.propTypes={onClick:r.a.bool,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,extensionName:r.a.string.isRequired,user:r.a.object.isRequired},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(697);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(633),c=n(636),d=n(602);n(698);function u(e){const{baseRef:t,user:n,barrelName:o,platform:r,extensionName:u,updated:p,unread:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.DELETE}),g=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed an extension: ",i.h("span",{class:"extensionName"},u),"."),m=i.h(l.default,{name:o,platform:r});return i.h(a.default,{baseRef:t,class:"deleteExtension",icon:f,header:g,footer:m,unread:h,updated:p,disabled:!0})}u.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,extensionName:r.a.string.isRequired,user:r.a.object.isRequired},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(700);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,barrelType:n,user:o,barrelNames:r,content:u,updated:p,unread:h}=e,f=i.h(s.default,{user:o,subIconType:d.default.DELETE}),g=i.h(i.Fragment,null,i.h(l.default,{users:[o]})," deleted a ",n,": ",i.h(c.default,{barrelNames:r}),".");return i.h(a.default,{baseRef:t,icon:f,header:g,content:u,updated:p,unread:h,disabled:!0})}u.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelType:r.a.string.isRequired,user:r.a.object.isRequired,barrelNames:r.a.arrayOf(r.a.string),content:r.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(702);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:r,unread:u,onClick:p,barrelType:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.ARCHIVE}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," archived a ",h,": ",i.h(c.default,{barrelNames:o}),".");return i.h(a.default,{baseRef:t,onClick:p,icon:f,header:g,updated:r,unread:u,disabled:!0})}u.propTypes={onClick:r.a.func,unread:r.a.bool,updated:r.a.string.isRequired,barrelType:r.a.string.isRequired,user:r.a.object.isRequired,barrelNames:r.a.arrayOf(r.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(704);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:r,link:u,unread:p,onClick:h,barrelType:f}=e,g=i.h(s.default,{user:n,subIconType:d.default.ACTIVATE}),m=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," activated a ",f,": ",i.h(c.default,{barrelNames:o}),".");return i.h(a.default,{baseRef:t,onClick:h,icon:g,header:m,unread:p,updated:r,link:u})}u.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelType:r.a.string.isRequired,user:r.a.object.isRequired,barrelNames:r.a.arrayOf(r.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(706);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,barrelType:n,user:o,barrelNames:r,updated:u,link:p,unread:h,onClick:f}=e,g=i.h(s.default,{user:o,subIconType:d.default.ADMIN}),m=i.h(i.Fragment,null,i.h(l.default,{users:[o]})," assigned you as an admin on ",r.length>1&&`${r.length} ${n}s: `,i.h(c.default,{barrelNames:r}),".");return i.h(a.default,{baseRef:t,class:"assignAdmin",onClick:f,icon:g,header:m,updated:u,unread:h,link:p})}u.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelType:r.a.string.isRequired,barrelNames:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(708);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(656),l=n(597),c=n(633),d=n(636),u=n(659),p=n(602);function h(e){const{baseRef:t,user:n,colors:o,barrelName:r,platform:h,updated:f,link:g,unread:m,onClick:b}=e,S=o.length>1,y=S?i.h(l.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.ADD}):i.h(s.default,{color:o[0],subIconType:p.default.ADD}),v=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," added ",!S&&"a color: ",i.h(u.default,{platform:h,colors:o}),S&&" colors","."),C=i.h(c.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"createColor",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}h.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,colors:r.a.arrayOf(r.a.object),user:r.a.object.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(710);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(656),c=n(633),d=n(636),u=n(659),p=n(602);function h(e){const{baseRef:t,user:n,colors:o,barrelName:r,platform:h,updated:f,unread:g}=e,m=o.length>1?i.h(s.default,{iconType:p.default.GROUP_COLORS,subIconType:p.default.DELETE}):i.h(l.default,{color:o[0],subIconType:p.default.DELETE}),b=o.length>1,S=i.h(i.Fragment,null,i.h(d.default,{users:[n]})," removed ",!b&&"a color: ",i.h(u.default,{platform:h,colors:o}),b&&" colors","."),y=i.h(c.default,{name:r,platform:h});return i.h(a.default,{baseRef:t,class:"deleteColor",icon:m,header:S,footer:y,unread:g,updated:f,disabled:!0})}h.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,user:r.a.object.isRequired,colors:r.a.arrayOf(r.a.object)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(712);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(636),c=n(602);n(713);function d(e){const{baseRef:t,user:n,barrelName:o,slackChannelName:r,updated:d,link:u,unread:p,onClick:h}=e,f=i.h(s.default,{iconType:c.default.SLACK}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," connected ",i.h("span",{class:"barrelName"},o)," to Slack channel ",i.h("span",{class:"slackChannelName"},r),".");return i.h(a.default,{baseRef:t,class:"authSlack",onClick:h,icon:f,header:g,updated:d,unread:p,link:u})}d.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,slackChannelName:r.a.string.isRequired,user:r.a.object.isRequired,content:r.a.string},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(715);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(602);n(716);function c(e){const{baseRef:t,updated:n,link:o,content:r,unread:c,onClick:d}=e,u=i.h("div",{class:"iconWrapper"},i.h(s.default,{iconType:l.default.STAR})),p=i.h("div",{class:"contentWrapper"},r);return i.h(a.default,{baseRef:t,class:"createCoupon",onClick:d,icon:u,content:p,updated:n,unread:c,link:o})}c.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,content:r.a.node},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(718);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:r,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," added ",!S&&"a text style: ",i.h(d.default,{names:o}),S&&" text styles","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"createTextStyle",onClick:m,icon:b,header:y,footer:v,unread:g,updated:h,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,textStyles:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(720);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:r,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.DELETE}),m=o.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," removed ",!m&&"a text style: ",i.h(d.default,{names:o}),m&&" text styles","."),S=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"deleteTextStyle",icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={unread:r.a.bool,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,textStyles:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(722);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,user:n,textStyles:o,barrelName:r,platform:p,updated:h,link:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),S=o.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[n]})," updated ",!S&&"a text style: ",i.h(d.default,{names:o}),S&&" text styles","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,class:"deleteTextStyle",onClick:m,icon:b,header:y,footer:v,unread:g,updated:h,link:f})}p.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,textStyles:r.a.arrayOf(r.a.string),user:r.a.object.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(724);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:r,platform:p,link:h,updated:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),S=n.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," added ",!S&&"a spacing token: ",i.h(d.default,{names:n}),S&&" spacing tokens","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,icon:b,header:y,footer:v,unread:g,updated:f,link:h,onClick:m})}p.propTypes={spacingTokens:r.a.arrayOf(r.a.string).isRequired,user:r.a.object.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,link:r.a.string.isRequired,updated:r.a.string.isRequired,unread:r.a.bool.isRequired,onClick:r.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(726);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:r,platform:p,link:h,updated:f,unread:g,onClick:m}=e,b=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),S=n.length>1,y=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," updated ",!S&&"a spacing token: ",i.h(d.default,{names:n}),S&&" spacing tokens","."),v=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,icon:b,header:y,footer:v,unread:g,updated:f,link:h,onClick:m})}p.propTypes={spacingTokens:r.a.arrayOf(r.a.string).isRequired,user:r.a.object.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,link:r.a.string.isRequired,updated:r.a.string.isRequired,unread:r.a.bool.isRequired,onClick:r.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(728);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(633),c=n(636),d=n(642),u=n(602);function p(e){const{baseRef:t,spacingTokens:n,user:o,barrelName:r,platform:p,updated:h,unread:f}=e,g=i.h(s.default,{iconType:u.default.SPACING,subIconType:u.default.DELETE}),m=n.length>1,b=i.h(i.Fragment,null,i.h(c.default,{users:[o]})," removed ",!m&&"a spacing token: ",i.h(d.default,{names:n}),m&&" spacing tokens","."),S=i.h(l.default,{name:r,platform:p});return i.h(a.default,{baseRef:t,icon:g,header:b,footer:S,unread:f,updated:h,disabled:!0})}p.propTypes={spacingTokens:r.a.arrayOf(r.a.string).isRequired,user:r.a.object.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,updated:r.a.string.isRequired,unread:r.a.bool.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(730);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(614),l=n(636),c=n(651),d=n(602);function u(e){const{baseRef:t,user:n,barrelNames:o,updated:r,link:u,unread:p,onClick:h}=e,f=i.h(s.default,{user:n,subIconType:d.default.TRANSFER}),g=i.h(i.Fragment,null,i.h(l.default,{users:[n]})," transfered the ownership of ",i.h(c.default,{barrelNames:o})," to you.");return i.h(a.default,{baseRef:t,onClick:h,icon:f,header:g,updated:r,unread:p,link:u})}u.propTypes={onClick:r.a.func,unread:r.a.bool,link:r.a.string.isRequired,updated:r.a.string.isRequired,user:r.a.object.isRequired,barrelNames:r.a.arrayOf(r.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(732);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(610),s=n(597),l=n(399),c=n(602),d=n(733),u=n(245),p=n(633);n(734);function h(e){const{baseRef:t,barrelId:n,barrelName:o,platform:r,actionName:h,issueKeys:f,items:g,updated:m,unread:b,onClick:S}=e,y=d.default[h],v=i.h(s.default,{iconType:c.default.JIRA,subIconType:"attach"===y.eventType?c.default.ADD:c.default.DELETE}),C=g.length>1?`${g.length} ${y.itemType}s`:g[0].itemName,O=f.length>1?f.length+" issues":f[0];let E="";E="attach"===y.eventType&&"project"!==y.itemType?Object(u.urlResolve)("project-dashboard",{url:{pid:n},query:{ja:f}}):"screen"===y.itemType&&1===g.length?Object(u.urlResolve)("project-screen",{url:{pid:n,sid:g[0].itemId}}):Object(u.urlResolve)("project-dashboard",{url:{pid:n}});const T=[i.h("span",{key:"itemNames",class:Object(l.default)({bold:1===g.length})},C),g.length>1?" are ":" is ","attach"===y.eventType?"attached to ":"removed from ",i.h("span",{key:"issueKeys",class:Object(l.default)({bold:1===f.length})},O)],_="project"!==y.itemType?i.h(p.default,{name:o,platform:r}):null;return i.h(a.default,{baseRef:t,class:"JiraAttachment",onClick:S,icon:v,header:T,footer:_,updated:m,unread:b,link:E})}h.propTypes={onClick:r.a.func,unread:r.a.bool,barrelId:r.a.string.isRequired,barrelName:r.a.string.isRequired,platform:r.a.string.isRequired,actionName:r.a.string.isRequired,updated:r.a.string.isRequired,items:r.a.array.isRequired,issueKeys:r.a.arrayOf(r.a.string).isRequired},t.default=h},function(e,t,n){"use strict";n.r(t),t.default={AttachProjectToJiraIssue:{eventType:"attach",itemType:"project"},AttachSectionToJiraIssue:{eventType:"attach",itemType:"section"},AttachScreenToJiraIssue:{eventType:"attach",itemType:"screen"},RemoveProjectJiraIssueAttachment:{eventType:"remove",itemType:"project"},RemoveSectionJiraIssueAttachment:{eventType:"remove",itemType:"section"},RemoveScreenJiraIssueAttachment:{eventType:"remove",itemType:"screen"}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(737);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(738),r=n.n(o),a=n(756),s=n(766),l=n(513),c=n.n(l),d=n(527),u=n.n(d),p=n(545),h=n(248),f=n(399),g=n(420),m=n(247),b=n(778),S=n(271),y=n.n(S),v=n(360),C=n(779);n(858);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class _ extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(v.USER_MENU)}handleEmotarsSelect(){this.props.onSelectedViewChange(v.EMOTARS)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(g.default)(this,v.EMOTARS)},i.h(a.default,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,fullName:n,email:o,organizations:a,verified:s,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onUpdatePlanClick:h,onLogout:f}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(g.default)(this,v.USER_MENU)},i.h(r.a,{avatarUrl:e,username:t,fullName:n,email:o,organizations:a,verified:s,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:h,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onLogoutClick:f,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=Object(f.default)("userMenuContainer",e);return i.h("div",{ref:Object(g.default)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}class P extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=y.a.OrganizationStore.getState(),i=t?[]:e.filter(({_id:e})=>n[e]&&!n[e].restricted).sort(h.sortBy.name),o=y.a.UserStore.getState(),{userId:r,email:a,avatar:s,emotar:l}=o,c=T(o,["userId","email","avatar","emotar"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({organizations:i,userId:r,email:a,emotar:l,avatar:s,currentAvatar:Object(m.getUserAvatar)({email:a,emotar:l,avatar:s,_id:r}).src},c)}static getStores(){return[y.a.UserStore,y.a.OrganizationStore]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;b.default.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{b.default.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?b.default.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(C.showPlanChooserOverlay)({source:"Profile"})})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),b.default.setSelectedView(v.USER_MENU)}render(){const{username:e,fullName:t,email:n,avatar:o,emotar:r,currentAvatar:a,verified:l,paymentPlan:c,organizations:d,isEmailNotificationEnabled:h,isDesktopNotificationEnabled:f,isDialogVisible:g,selectedView:m,showUserMenu:S}=this.state,y=i.h("div",null,i.h(_,{username:e,fullName:t,email:n,avatar:o,currentAvatar:a,verified:l,paymentPlan:c,selectedEmotar:r,organizations:d,selectedView:m,isDesktopNotificationEnabled:f,isEmailNotificationEnabled:h,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:b.default.setSelectedView,onEmotarChange:b.default.updateUserEmotar,onLogout:b.default.logout}),g&&i.h(s.BasicOverlayDialog,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(p.default,{open:S,content:y,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(u.a,{src:a,size:28})))}}t.default=c()(P,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(739);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(740)),a=i(n(746)),s=i(n(749)),l=i(n(404)),c=i(n(752)),d=n(245);n(755),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,email:u,verified:p,paymentPlanName:h,organizations:f,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:m,onUpdatePlanClick:b,onDesktopNotificationToggle:S,onEmailNotificationToggle:y,onAvatarClick:v,onLogoutClick:C}=e;return o.h("div",{class:"userMenu"},o.h(r.default,{profileLink:"/profile",avatarUrl:t,username:n,fullName:i,info:u,verified:p,onAvatarClick:v}),f.length>0&&o.h(o.Fragment,null,o.h("div",{class:"menuSeparator"}),f.map(e=>{const t=d.urlResolve("workspace-members",{url:{oid:e._id}});return o.h(a.default,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationStatus:e.status,organizationLink:t})})),o.h("div",{class:"menuSeparator"}),0===f.length&&o.h(s.default,{menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:o.h(l.default,{class:"updatePlanButton"},"Update Plan"),onClick:b}),o.h(s.default,{menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:o.h(c.default,{checked:g}),onClick:S}),o.h(s.default,{menuLabel:"Email Notifications",actionContent:o.h(c.default,{checked:m}),onClick:y}),o.h("div",{class:"menuSeparator"}),o.h(s.default,{menuLabel:"Log out",onClick:C}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(741);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(742));n(745),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,info:a,profileLink:s,verified:l,onAvatarClick:c}=e,d=i||n;return o.h("a",{class:"menuUserItem",href:s},o.h(r.default,{onClick:function(e){e.preventDefault(),c()},src:t,size:64}),o.h("div",{class:"infoContainer"},o.h("span",{class:"username ellipsis",title:d},d),o.h("span",{class:"info ellipsis"},a),!l&&o.h("span",{class:"status"},"Not verified yet.")))}},function(e,t,n){"use strict";n.r(t);var i=n(743);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o);n(744);t.default=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(r.a,t))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(747);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(527));n(748),t.default=function({organizationName:e,organizationLink:t,organizationStatus:n,avatarUrl:i}){return o.h("a",{class:"menuOrganizationItem",href:t},o.h(r.default,{src:i,type:"organization",size:64,bgSize:36}),o.h("div",{class:"infoContainer"},o.h("span",{class:"organizationName ellipsis",title:e},e),o.h("span",{class:"info"},"Workspace"),"frozen"===n&&o.h("span",{class:"status"},"Workspace suspended")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(750);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(252);n(751),t.default=function({menuLabel:e,iconUrl:t,actionContent:n,onClick:r}){return i.h("div",{onClick:r,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},t&&i.h("img",{src:o.imageUrl(t)})),i.h("span",{class:"menuLabel ellipsis"},e),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(753);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(754);class r extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:Object(o.default)("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(757);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(758),s=n(742),l=n(404),c=n(442),d=n(252),u=n(245);n(765);function p(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:o,selectedEmotar:r}=e;let p=null;return r?p=Object(d.emotarUrl)(r):o&&(p=o),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.default,{class:"backButton",onClick:n},i.h(c.IconArrowLeft,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.urlResolve)("profile")},i.h(s.default,{src:p,size:64}))),i.h(a.default,{onEmotarClick:t,avatarUrl:o,selectedEmotar:r}))}p.propTypes={onEmotarClick:r.a.func.isRequired,onBackButtonClick:r.a.func.isRequired,avatarUrl:r.a.string,selectedEmotar:r.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(759);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(760),s=n(527),l=n.n(s),c=n(763),d=n(399);n(764);class u extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*c.default.length);e(c.default[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,o=Object(d.default)("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:o},i.h(l.a,{src:t,size:36})):i.h(a.default,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),c.default.map(t=>i.h(a.default,{key:t,onClick:e,emotar:t,selected:t===n})))}}u.propTypes={onEmotarClick:r.a.func.isRequired,selectedEmotar:r.a.bool,avatarUrl:r.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(761);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(527),s=n.n(a),l=n(399),c=n(252);n(762);class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=Object(l.default)("emotar","noSelect",{selected:t}),o=Object(c.emotarUrl)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(s.a,{src:o,size:36}))}}d.propTypes={onClick:r.a.func.isRequired,emotar:r.a.string.isRequired,selected:r.a.bool},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(767);n.d(t,"BasicOverlayDialog",(function(){return i.default}));var o=n(775);n.d(t,"DismissibleOverlayDialog",(function(){return o.default}));var r=n(769);n.d(t,"default",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var i=n(768);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(769);n(774);function l(e){const{title:t,message:n,positiveButtonText:o,negativeButtonText:r,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,onClose:h,width:f,loading:g,class:m}=e;return i.h(s.default,{class:Object(a.default)("basicDialog",m,{onlyMessage:!t}),positiveButtonText:o,negativeButtonText:r,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,width:f,loading:g,onClose:h},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}l.displayName="BasicDialog",l.defaultProps={width:400},l.propTypes={title:r.a.string,message:r.a.string.isRequired,positiveButtonText:r.a.string,negativeButtonText:r.a.string,fallbackButtonText:r.a.string,onPositiveButtonClick:r.a.func,onNegativeButtonClick:r.a.func,onFallbackButtonClick:r.a.func,hideNegativeButton:r.a.bool,onClose:r.a.func,width:r.a.number,loading:r.a.bool},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(770),s=n(519),l=n(399),c=n(248);n(773);const{h:d}=i;class u extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.isDismissable&&document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{baseRef:e,class:t,children:n,positiveButtonText:o,negativeButtonText:r,fallbackButtonText:d,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b,onNegativeButtonClick:S,onFallbackButtonClick:y,hideNegativeButton:v,onClose:C,width:O,height:E,footer:T,showBackdrop:_,isDismissable:P,loading:j,loadingText:D,hideFooter:k}=this.props;return i.h(s.default,null,i.h("div",{class:Object(l.default)("overlayDialogContainer",{showBackdrop:_}),onClick:P&&C},i.h("div",{ref:e,class:Object(l.default)("overlayDialog",t,{loading:j,hasLoadingText:Boolean(D)}),style:{width:O,height:E},onClick:c.stopPropagation},i.h("div",{class:"overlayDialogContent"},n),!k&&i.h(a.default,{positiveButtonText:o,negativeButtonText:r,fallbackButtonText:d,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b||C,onNegativeButtonClick:S||C,onFallbackButtonClick:y||C,hideNegativeButton:v,footer:T,loading:j,loadingText:D}))))}}u.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit",hideNegativeButton:!0,showBackdrop:!0,isDismissable:!0},u.propTypes={positiveButtonText:r.a.string.isRequired,negativeButtonText:r.a.string,fallbackButtonText:r.a.string,positiveButtonType:r.a.string.isRequired,negativeButtonType:r.a.string.isRequired,fallbackButtonType:r.a.string.isRequired,positiveButtonDisabled:r.a.bool,negativeButtonDisabled:r.a.bool,fallbackButtonDisabled:r.a.bool,onPositiveButtonClick:r.a.func,onNegativeButtonClick:r.a.func,onFallbackButtonClick:r.a.func,hideNegativeButton:r.a.bool,width:r.a.number.isRequired,height:r.a.number,class:r.a.string,onClose:r.a.func.isRequired,children:r.a.node.isRequired,footer:r.a.node,showBackdrop:r.a.bool,isDismissable:r.a.bool,hideFooter:r.a.bool,loading:r.a.bool,loadingText:r.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(771);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(252);n(772);const{h:l}=i;function c(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:o,positiveButtonType:r,negativeButtonType:l,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:p,onPositiveButtonClick:h,onNegativeButtonClick:f,onFallbackButtonClick:g,hidePositiveButton:m,hideNegativeButton:b,footer:S,loading:y,loadingText:v}=e;return i.h("form",{method:"dialog",class:Object(a.default)("buttonsContainer",{loading:y,hasLoadingText:Boolean(v)})},S&&i.h("div",{class:"footer"},S),!y&&o&&i.h("button",{class:"secondary fallback",onClick:g,type:c,disabled:p},o),!y&&!b&&i.h("button",{class:"secondary",onClick:f,type:l,disabled:u},n),!m&&i.h("button",{autoFocus:!0,className:"primary",onClick:h,type:r,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(s.imageUrl)("img/icSpinnerBlue.svg"),className:"spinning"}),v):t))}c.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},c.propTypes={positiveButtonText:r.a.string.isRequired,negativeButtonText:r.a.string,fallbackButtonText:r.a.string,positiveButtonType:r.a.string.isRequired,negativeButtonType:r.a.string.isRequired,fallbackButtonType:r.a.string.isRequired,positiveButtonDisabled:r.a.bool,negativeButtonDisabled:r.a.bool,fallbackButtonDisabled:r.a.bool,onPositiveButtonClick:r.a.func,onNegativeButtonClick:r.a.func,onFallbackButtonClick:r.a.func,hidePositiveButton:r.a.bool,hideNegativeButton:r.a.bool,footer:r.a.node,loading:r.a.bool,loadingText:r.a.string},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(776);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(769),l=(n(777),n(400)),c=n.n(l);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{dismissChecked:!1}),d(this,"handleDismissCheckChange",e=>{this.setState({dismissChecked:e.target.checked})}),d(this,"handlePositiveButtonClick",()=>{const{dismissPrefKey:e,onPositiveButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleNegativeButtonClick",()=>{const{dismissPrefKey:e,onNegativeButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleFallbackButtonClick",()=>{const{dismissPrefKey:e,onFallbackButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),d(this,"handleClose",()=>{const{dismissPrefKey:e,onClose:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})}componentDidMount(){const{dismissChecked:e}=this.props;this.setState({dismissChecked:e})}componentDidUpdate(e){e.dismissChecked!==this.props.dismissChecked&&this.setState({dismissChecked:this.props.dismissChecked})}render(){const{title:e,message:t,positiveButtonText:n,negativeButtonText:o,fallbackButtonText:r,dismissText:l,hideNegativeButton:d,width:u,loading:p,class:h}=this.props,{dismissChecked:f}=this.state,g=Array.isArray(t)?t:[t];return i.h(s.default,{class:Object(a.default)("dismissibleDialog",h,{onlyMessage:!e}),positiveButtonText:n,negativeButtonText:o,fallbackButtonText:r,onPositiveButtonClick:this.handlePositiveButtonClick,onNegativeButtonClick:this.handleNegativeButtonClick,onFallbackButtonClick:this.handleFallbackButtonClick,hideNegativeButton:d,width:u,loading:p,onClose:this.handleClose},i.h("div",{class:"dialogBody"},e&&i.h("h1",{class:"title"},e),i.h("div",{class:"message"},g.map((e,t)=>i.h("p",{key:t},e))),i.h("label",{class:"dismissText"},i.h(c.a,{onChange:this.handleDismissCheckChange,checked:f}),i.h("span",null,l))))}}u.displayName="DismissibleOverlayDialog",u.defaultProps={dismissText:"Do not show this message again",dismissChecked:!1,width:400},u.propTypes={title:r.a.string,message:r.a.oneOfType([r.a.string,r.a.arrayOf(r.a.string)]),dismissPrefKey:r.a.string.isRequired,dismissText:r.a.string,dismissChecked:r.a.bool,positiveButtonText:r.a.string,negativeButtonText:r.a.string,fallbackButtonText:r.a.string,onPositiveButtonClick:r.a.func,onNegativeButtonClick:r.a.func,onFallbackButtonClick:r.a.func,hideNegativeButton:r.a.bool,onClose:r.a.func,width:r.a.number,loading:r.a.bool},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(359),o=n(271),r=n.n(o),a=n(264),s=n(248),l=n(260);const c=Object(s.debouncePromise)(l.updateEmailNotifications);function d(e,t){r.a.dispatcher.dispatch({type:i.default.SET_USER_ATTRIBUTE,name:e,value:t})}const u={loadUser(e){r.a.dispatcher.dispatch({type:i.default.LOAD_USER,user:e})},updateUser(e){r.a.dispatcher.dispatch({type:i.default.UPDATE_USER,user:e})},setUsername(e){d("username",e)},setEmail(e){d("email",e)},setFullName(e){d("fullName",e)},setBio(e){d("bio",e)},setEmotar(e){d("emotar",e)},setAvatar(e){d("avatar",e)},setEmailNotifications(e){d("isEmailNotificationEnabled",e)},setVerified(){d("verified",!0)},setDesktopNotifications(e){d("isDesktopNotificationEnabled",e)},setBilling(e){d("billing",e)},setSelectedView(e){r.a.dispatcher.dispatch({type:i.default.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;u.setEmailNotifications(e),c(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{u.setEmailNotifications(t),a.handleError(e)})},updateUserEmotar(e){const t=Zeplin.user.emotar;u.setEmotar(e),Object(l.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.master.track("Updated emotar",{Emoji:e})}).catch(e=>{u.setEmotar(t),a.handleError(e)})},markZeplinThreeZeroWhatsNewAsSeen(){r.a.dispatcher.dispatch({type:i.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){r.a.dispatcher.dispatch({type:i.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){r.a.dispatcher.dispatch({type:i.default.HIDE_STYLEGUIDE_TUTORIAL})},stopPromotingExportDesignTokens(){r.a.dispatcher.dispatch({type:i.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS})},acquaintancesRequested(){r.a.dispatcher.dispatch({type:i.default.ACQUAINTANCES_REQUESTED})},setAcquaintances(e){r.a.dispatcher.dispatch({type:i.default.SET_ACQUAINTANCES,acquaintances:e})},getAcquaintancesFailed(e){r.a.dispatcher.dispatch({type:i.default.GET_ACQUAINTANCES_FAILED,error:e})},logout(){Object(l.logoutUser)().finally(Zeplin.logout)}};t.default=u},function(e,t,n){"use strict";n.r(t),n.d(t,"showPlanChooserOverlay",(function(){return S}));var i=n(264),o=n(260),r=n(245),a=n(393),s=n(780),l=n(841),c=n(842),d=n(248),u=n(843),p=n.n(u),h=n(390);const f=document.createElement("div");f.id="paymentDialogsContainer",document.body.appendChild(f);const g=new a.default(s.default,f),m=new a.default(p.a,f);let b;function S({source:e,upgradeTrigger:t,cb:n,oid:i,displayFullMode:o=!1}={}){l.default.setOverridingCategory(c.default.PRICING),b=n,m.render({oid:i,upgradeTrigger:t,displayFullMode:o,cancelEnabled:o,onCancelPlan:E,onUpdateSubscription:v,onCreateWorkspace:y,onClose:C}),mixpanel.master.track("Viewed pricing modal",{Source:e}),Object(h.sendGAPageView)({source:"/pricing-popup"})}function y(e){location.assign(Object(r.urlResolve)("workspace-create",{query:{period:e.period,plan:e.group}}))}function v(e,t){setTimeout(()=>C({action:"updatePlan",plan:t}),3e3)}function C(e={}){m.remove(),l.default.setOverridingCategory(null),b&&(b(e),b=null)}function O(e){(function(e){return e?o.getOrganizationUpcomingInvoice(e):o.getUserUpcomingInvoice()})(e).then(({invoice:t})=>{C({action:"cancelPlan"});const n=Object(d.formatTime)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});g.render({oid:e,periodEndDate:n,onClose(){g.remove()},onBackClick(){g.remove(),S({oid:e,displayFullMode:!0})}})}).catch(e=>{i.handleError(e)})}function E(e){O(e)}},function(e,t,n){"use strict";n.r(t);var i=n(781);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(264),r=n(260),a=n(245),s=n(782),l=n(785),c=n(835),d=n(838),u=n(766);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){location.replace(Object(a.urlResolve)("profile-account"))}function f(){Intercom("showNewMessage")}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}),p(this,"hideTransferPlanWarningDialog",()=>{this.setState({transferPlanWarningDialogShown:!1})}),p(this,"hideTransferOrgOwnershipDialog",()=>{this.setState({transferOrgOwnershipDialogShown:!1})}),p(this,"hideCancelPlanDialog",()=>{this.setState({cancelPlanDialogShown:!1})}),p(this,"hideSubscriptionCancelledDialog",()=>{this.setState({subscriptionCancelledDialogShown:!1})}),p(this,"performTransferUserPlan",()=>{const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(r.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(a.urlResolve)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelUserPlan",()=>{const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(r.cancelUserSubscription)({reason:e,description:t}).then(()=>{Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelOrgPlan",()=>{const{oid:e}=this.props,{cancelReason:t,cancelDescription:n}=this.state;this.setState({loading:!0}),Object(r.cancelOrganizationSubscription)(e,{reason:t,description:n}).then(()=>{this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelPlan",()=>{this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()}),p(this,"handleQuestionChange",()=>{this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}),p(this,"handleGoToOrgDashboardClick",()=>{const{oid:e}=this.props;location.replace(Object(a.urlResolve)("workspace-members",{url:{oid:e}}))}),p(this,"handleCancelPlanClick",(e,t)=>{this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})}),p(this,"handleTransferPlanFormSubmit",e=>{this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(r.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(o.handleError)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}),p(this,"handleTransferPlanClick",()=>{const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}),p(this,"handleCancelPlanSuccess",()=>{const{oid:e}=this.props;e?location.replace(Object(a.urlResolve)("workspace-profile-billing",{url:{oid:e}})):location.replace(Object(a.urlResolve)("profile-billing"))})}render(){const{onClose:e,onBackClick:t,periodEndDate:n}=this.props,{loading:o,transferEmail:r,transferPlanFormError:a,transferPlanFormShown:p,subscriptionCancelledDialogShown:g,cancelPlanDialogShown:m,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:S}=this.state;return i.h(i.Fragment,null,i.h(l.default,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:h,onContactSupportClick:f,transferPlanFormError:a,transferPlanFormShown:p}),o&&i.h(s.default,null),b&&i.h(c.default,{email:r,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),S&&i.h(u.BasicOverlayDialog,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),m&&i.h(d.default,{periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),g&&i.h(u.BasicOverlayDialog,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:this.handleCancelPlanSuccess,onClose:this.hideSubscriptionCancelledDialog}))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(783);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=(n(784),n(399));function r({class:e}){return i.h("div",{class:Object(o.default)("loadingOverlay",e)},i.h("div",{class:"ripple ripple1"}),i.h("div",{class:"ripple ripple2"}),i.h("div",{class:"ripple ripple3"}),i.h("div",{class:"ripple ripple4"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(786);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(787),r=n(790),a=n(793),s=n(442);n(834);t.default=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,onQuestionChange:h,transferPlanFormError:f,transferPlanFormShown:g}=e;return i.h(o.default,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(s.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(r.default,null),i.h(a.default,{onBackClick:n,onQuestionChange:h,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,transferPlanFormShown:g,transferPlanFormError:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248);n(789);class s extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map(e=>i.cloneElement(e,{onClick:a.stopPropagation})))}}s.propTypes={onClose:r.a.func},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(791);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(792);function o(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(794);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(795),r=n(797);n(833);t.default=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:a,onTransferPlanClick:s,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:p}=e;return i.h(o.default,{class:"cancelPlanSurvey",onChange:p},i.h(r.WrongAccount,{onTransferPlanClick:s,onTransferPlanFormSubmit:a,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(r.SubscribedAnnually,{onBackClick:t}),i.h(r.MovedToTeamPlan,{onCancelPlanClick:n}),i.h(r.SwitchedToAnotherTool,{onCancelPlanClick:n}),i.h(r.RanIntoIssue,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(r.TooExpensive,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(r.ProjectEnded,{onCancelPlanClick:n}),i.h(r.Other,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";n.r(t);var i=n(796);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(798);n.d(t,"MovedToTeamPlan",(function(){return i.default}));var o=n(812);n.d(t,"Other",(function(){return o.default}));var r=n(822);n.d(t,"ProjectEnded",(function(){return r.default}));var a=n(823);n.d(t,"RanIntoIssue",(function(){return a.default}));var s=n(824);n.d(t,"SubscribedAnnually",(function(){return s.default}));var l=n(828);n.d(t,"SwitchedToAnotherTool",(function(){return l.default}));var c=n(829);n.d(t,"TooExpensive",(function(){return c.default}));var d=n(830);n.d(t,"WrongAccount",(function(){return d.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(799),r=n(802),a=n(805),s=n(811);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.MOVED_TO_TEAM_PLAN)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(o.default,null,i.h(r.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Moved to a team plan"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(800);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(801);t.default=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(803);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(399);n(804);t.default=function(e){const{secondary:t,class:n}=e,a=Object(r.default)("questionButton",n,{primary:!t,secondary:t}),s=Object.assign({},e,{class:a});return delete s.secondary,i.h(o.default,s)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(806);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(807),r=n.n(o),a=n(399);n(810);t.default=function(e){const{content:t,mainText:n,subText:o,onSelect:s,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:Object(a.default)("selectWithText",{hasSubText:!!o})},i.h(r.a,{onClick:s,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),o&&i.h("p",{class:"subText"},o))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(808);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),a=o(n(399));n(809),t.default=function(e){const{class:t}=e,n=i(e,["class"]);return r.h(r.Fragment,null,r.h("input",Object.assign(n,{type:"radio",class:"radioButtonRadio"})),r.h("div",{class:a.default("radioButton",t)},r.h("div",{class:"radioButtonInner"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ENDED",(function(){return i})),n.d(t,"MOVED_TO_TEAM_PLAN",(function(){return o})),n.d(t,"SWITCHED_TO_ANOTHER_TOOL",(function(){return r})),n.d(t,"RAN_INTO_ISSUE",(function(){return a})),n.d(t,"TOO_EXPENSIVE",(function(){return s})),n.d(t,"OTHER",(function(){return l}));const i="Project ended",o="Moved to team plan",r="Switched to another tool",a="Ran into issue",s="Too expensive",l="Other"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(813),r=n(805),a=n(811);class s extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(a.OTHER,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Other"})}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(814);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(802),s=n(815),l=n(818);n(821);class c extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:p}=this.props,{value:h,dirty:f,isInputValid:g}=this.state,m="email"===c&&l.default||s.default,b=!f&&!!d,S=h&&h.trim()&&g;return i.h("form",{class:Object(o.default)("questionTextForm",{hasError:b},p),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(m,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:h,inputRef:Object(r.default)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(a.default,{class:"questionTextFormButton",disabled:!S,type:"submit"},t))}}c.defaultProps={maxLength:2048},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(816);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(817);class r extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:r,class:a}=this.props;return i.h("div",{class:Object(o.default)("questionTextArea",a)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:r,placeholder:t,ref:n,onInput:this.handleInput}))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(819);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(820);t.default=function(e){const t=Object.assign({},e,{class:Object(o.default)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(799),r=n(802),a=n(805),s=n(811);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.PROJECT_ENDED)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(o.default,null,i.h(r.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Project ended, won't need Zeplin for a while"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(799),r=n(802),a=n(805),s=n(811);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.RAN_INTO_ISSUE)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(o.default,null,i.h(r.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(r.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(a.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(805),r=n(825);t.default=function(e){const{onSelect:t,selected:n,value:a,onBackClick:s}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(r.default,{onClick:s},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(o.default,{onSelect:t,selected:n,value:a,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";n.r(t);var i=n(826);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(827);t.default=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(813),r=n(805),a=n(811);class s extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(a.SWITCHED_TO_ANOTHER_TOOL,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Switched to another tool"})}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(799),r=n(802),a=n(805),s=n(811);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(s.TOO_EXPENSIVE)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=i.h(i.Fragment,null,i.h("p",null,"We wouldn’t want to lose you over pricing. Mind contacting us and sharing why? We’d love to figure out the best plan for you and your team."),i.h(o.default,null,i.h(r.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(r.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan")));return i.h(a.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Too expensive",subText:"e.g. It’s difficult to pay in USD"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(831);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(799),r=n(802),a=n(813),s=n(805);n(832);function l(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:s,transferPlanFormError:l,transferPlanFormShown:c}=e;return c?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(a.default,{class:"transferPlanForm",type:"email",maxLength:254,label:"Enter the email of the user to transfer to:",error:l,onSubmit:s,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(o.default,null,i.h(r.default,{onClick:n},"Transfer plan"),i.h(r.default,{onClick:t},"Change email"))]}t.default=function(e){const{onSelect:t,selected:n,value:o}=e;return i.h(s.default,{onSelect:t,selected:n,value:o,content:l(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(836);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(766);n(837);t.default=function(e){const{email:t}=e;return i.h(o.default,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(839);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(766);n(840);t.default=function(e){const{periodEndDate:t,onCancelPlan:n,onClose:r}=e;return i.h(o.default,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:r,onPositiveButtonClick:n,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",t),". Once the billing period ends, your projects and styleguides will be archived automatically."))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(351);const a={setOverridingCategory(e){o.a.dispatcher.dispatch({type:r.default.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),t.default={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(844);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),l=a(n(513)),c=a(n(766)),d=a(n(782)),u=a(n(404)),p=n(232),h=r(n(244)),f=a(n(399)),g=n(845),m=a(n(420)),b=n(245),S=n(247),y=a(n(271)),v=a(n(846)),C=n(847),O=n(249),E=a(n(850)),T=a(n(854));n(857);class _ extends s.Component{constructor(){super(...arguments),this.nodeRefs={},this.updateSubscription=e=>{var t;const{currentPlan:n,organization:i}=this.state,{oid:o}=this.props,r=n&&p.PLAN_ORDER[e.group]<p.PLAN_ORDER[n.group],a=(r?"Downgrade":"Update")+" subscription?",s=`You can ${r?"upgrade":"update"} it again, anytime!`,l=null===(t=this.nodeRefs)||void 0===t?void 0:t.dialogContent;h.create({title:a,message:s,done:{name:"UPDATE",cb:()=>{this.setState({loading:!0}),v.default.updateOrganizationSubscription({oid:o,plan:e.id,oldPlan:i.paymentPlan,isReactivation:!n,toastContainer:l,onSuccess:this.handleUpdateSubscriptionSuccess,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleUpdateSubscriptionSuccess=(e,t)=>{const{onUpdateSubscription:n}=this.props;this.setState({loading:!1}),n&&n(e,t)},this.createChangePlanHandler=e=>{const{oid:t,dialogSource:n,onCreateWorkspace:i}=this.props;return()=>{if(e.group===p.PlanGroup.ENTERPRISE){const e="mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan";if("macApp"===n)return void history.replaceState(null,"",b.urlResolve("workspace-create",{query:{source:n,close:!0,redirect:e}}));S.openLink(e)}else t?this.updateSubscription(e):i(e)}},this.createCancelPlanHandler=e=>{const{oid:t}=this.props;return()=>{this.setState({loading:!0}),this.props.onCancelPlan(t,e)}},this.createPeriodClickHandler=e=>()=>{this.setState({period:e})},this.renderTitleAndDescription=()=>{const{currentPlan:e,organization:t}=this.state,{upgradeTrigger:n,displayFullMode:i}=this.props;let o,r;switch(n){case p.PlanUpgradeTrigger.USER_LIMIT:o="Your Zeplin team is growing 👨‍👩‍👧‍👦",r=s.h("p",null,"You are currently on the ",s.h("strong",null,"Free")," plan where you can have up to 10 users. Upgrade below to invite as many users as you need.");break;case p.PlanUpgradeTrigger.VERSION_LIMIT:o="Access unlimited version history ⌛",r=s.h("p",null,"You are currently on the ",s.h("strong",null,"Free")," plan where you can view 30 days of version history. Upgrade below to access unlimited version history, including access to your existing versions.");break;case p.PlanUpgradeTrigger.PROJECT_LIMIT:{o="More projects, more opportunities 🍧";const n=(null==t?void 0:t.projectLimit)||e.projectLimit;r=s.h("p",null,"You are currently on the ",s.h("strong",null,e.name)," plan️ where you can have up to ",O.pluralize(n,"project"),". Upgrade below to create as many as you need.");break}case p.PlanUpgradeTrigger.STYLEGUIDE_LIMIT:{const n=(null==t?void 0:t.styleguideLimit)||e.styleguideLimit;o="More styleguides, more coherence 🍧",r=s.h("p",null,"You are currently on the ",s.h("strong",null,e.name)," plan️ where you can have up to ",n," styleguide(s). Upgrade below to create as many as you need.");break}default:o="Change plan",r=s.h("p",null,"You can upgrade or downgrade to another plan, change your plan’s billing cycle or cancel your plan below.")}return s.h(s.Fragment,null,s.h("h1",null,o),s.h("div",{class:f.default("plansDescription",{fixedHeight:!i})},r))},this.renderDeprecatedPlanBanner=()=>{const{currentPlan:e,organization:t}=this.state,n=(null==t?void 0:t.subscriptionStatus)||Zeplin.user.subscriptionStatus,i="active"===n||"past_due"===n;return"deprecated"===(null==e?void 0:e.status)?s.h("div",{class:"deprecatedPlanBanner"},s.h("span",null,"You’re on the deprecated ",s.h("strong",null,e.name)," plan. Reach out to us if you have any questions: ",s.h("a",{href:"mailto:support@zeplin.io",target:"_blank",rel:"noopener noreferrer"},"support@zeplin.io")),i&&s.h("span",null,"If you’d like to, you can ",s.h("a",{href:"#",onClick:this.createCancelPlanHandler(e)},s.h("strong",null,"cancel your plan.")))):null},this.renderPlanContent=e=>{const{unitPrice:t}=g.getPlanPrice({plan:e,period:e.period===p.BillingPeriod.ETERNAL?p.BillingPeriod.ANNUALLY:e.period,seatCount:1});switch(e.name){case"Team":return s.h(C.TeamPlanContent,{projectLimit:e.projectLimit,selectedUnitPrice:t});case"Organization":return s.h(C.OrganizationPlanContent,{minUserCount:e.quantity,selectedUnitPrice:t});case"Enterprise":return s.h(C.EnterprisePlanContent,null)}},this.renderPlanFooter=e=>{const{currentPlan:t}=this.state,{cancelEnabled:n}=this.props;if(e.group===p.PlanGroup.ENTERPRISE)return s.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Contact us");if(t&&p.PLAN_ORDER[e.group]<p.PLAN_ORDER[t.group])return s.h(u.default,{secondary:!0,onClick:this.createChangePlanHandler(e)},"Downgrade to ",e.name," Plan");if("active"===e.status&&"active"===(null==t?void 0:t.status)&&(null==t?void 0:t.group)===e.group){const i=e.period===t.period;return s.h(s.Fragment,null,i?s.h("div",{className:"currentPlanLabel"},"Current plan"):s.h(u.default,{class:f.default("changePeriod",{primary:e.period===p.BillingPeriod.ANNUALLY,secondary:e.period===p.BillingPeriod.MONTHLY}),onClick:this.createChangePlanHandler(e)},"Change period"),n&&s.h(u.default,{class:"cancelButton",secondary:!0,onClick:this.createCancelPlanHandler(e)},"Cancel plan"))}return s.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Upgrade to ",e.name," Plan")}}static calculateState(e,t){const{config:{plans:n}}=y.default.AppStore.getState(),{paymentPlan:i,userId:o}=y.default.UserStore.getState(),{organizations:r}=y.default.OrganizationStore.getState(),{oid:a}=t,s="string"==typeof i?n.find(e=>e.id===i):i,l=r.find(({_id:e})=>e===a),c=a?n.find(e=>e.id===l.paymentPlan):s;let d=p.BillingPeriod.ANNUALLY;return!(null==e?void 0:e.period)&&t.period?d=t.period:c&&c.period!==p.BillingPeriod.ETERNAL&&(d=c.period),{period:d,plans:n,currentPlan:c,userId:o,organization:l,loading:null==e?void 0:e.loading}}static getStores(){return[y.default.AppStore,y.default.UserStore,y.default.OrganizationStore]}render(){const{isDismissable:e,displayFullMode:t,dialogSource:n,onClose:i}=this.props,{period:o,plans:r,loading:a}=this.state,l=r.find(e=>"active"===e.status&&e.group===p.PlanGroup.TEAM&&e.period===o),h=r.find(e=>"active"===e.status&&e.group===p.PlanGroup.ORGANIZATION&&e.period===o),g=r.find(e=>"active"===e.status&&e.group===p.PlanGroup.ENTERPRISE);return s.h(c.default,{class:f.default("planChooserDialog",{displayFullMode:t,noRadius:"macApp"===n}),width:960,onClose:i,isDismissable:e,hideFooter:!0},s.h("div",{class:"planChooserDialogContent",ref:m.default(this,"dialogContent")},a&&s.h(d.default,{class:"planChooserLoading"}),this.renderTitleAndDescription(),t&&s.h(s.Fragment,null,this.renderDeprecatedPlanBanner(),s.h("div",{class:"periodTabsContainer"},s.h("div",{className:f.default("periodTabSlider","noSelect",{[o]:!0})}),s.h(u.default,{ninja:!0,class:f.default("periodTab",{selected:o===p.BillingPeriod.MONTHLY}),onClick:this.createPeriodClickHandler(p.BillingPeriod.MONTHLY)},"Monthly"),s.h(u.default,{ninja:!0,className:f.default("periodTab",{selected:o===p.BillingPeriod.ANNUALLY}),onClick:this.createPeriodClickHandler(p.BillingPeriod.ANNUALLY)},"Annually"))),s.h("div",{class:"plans"},[l,h,g].map(e=>s.h("div",{key:e.id,class:"plan"},this.renderPlanContent(e),s.h("div",{class:"footer"},this.renderPlanFooter(e))))),t&&s.h("div",{class:"planComparisonAndFaq"},s.h(E.default,{plans:r,period:o}),s.h(T.default,null))))}}_.defaultProps={displayFullMode:!1,cancelEnabled:!1,isDismissable:!0},t.default=l.default(_,{withProps:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPeriodText=t.hasTeamPlan=t.isOfferValid=t.formatPriceForStripe=t.getDiscountedPrice=t.getPlanPrice=t.formatPriceForUI=t.getDiscountNotice=t.isCouponValid=void 0;const i=n(248),o=n(232);function r({coupon:e,period:t}){return!!e&&(!(!t||"monthly"!==t)&&(!(e.redeem_by&&Date.now()/1e3>e.redeem_by)&&!(e.max_redemptions&&e.times_redeemed>=e.max_redemptions)))}function a(e){return e/100}function s(e,t){return e-e*t/100}t.isCouponValid=r,t.getDiscountNotice=function(e,t){return e&&"monthly"===t?e.redeem_by&&Date.now()/1e3>e.redeem_by?"This coupon is expired":e.max_redemptions&&e.times_redeemed>=e.max_redemptions?"This coupon is maxed out":`${e.percent_off?e.percent_off+"% off":i.formatCurrency(e.amount_off/100)+" off"} ${function(e,t){switch(e.duration){case"once":return"for the first "+("monthly"===t?"month":"year");case"repeating":return`for ${e.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}`:""},t.formatPriceForUI=a,t.getPlanPrice=function({plan:e,period:t,seatCount:n,coupon:i,offer:l,credit:c}){let d=0,u=e.price,p=0,h=0;return r({coupon:i,period:t})&&(i.amount_off?d-=i.amount_off:u=s(u,i.percent_off)),d+=u*n,t===o.BillingPeriod.ANNUALLY&&(u/=12),!i&&l&&(l.amount?d-=l.amount:l.percentage&&(d=s(d,l.percentage),u=s(u,l.percentage)),h=d,c&&(p=c.credit+c.balance,d-=p,d<0&&(p+=d))),d=Math.max(0,a(d)),u=Math.max(0,a(u)),p=Math.max(0,a(p)),h=Math.max(0,a(h)),{totalPrice:d,unitPrice:u,creditUsed:p,totalPriceBeforeCredit:h}},t.getDiscountedPrice=s,t.formatPriceForStripe=function(e){return Math.max(0,100*e)},t.isOfferValid=function(e){return new Date(e.validUntil).getTime()-(new Date).getTime()>0},t.hasTeamPlan=function(e){return["team_monthly_unit_price_v1","team_annual_unit_price_v1"].includes(e)},t.getPeriodText=function(e){return e===o.BillingPeriod.MONTHLY?"monthly":"annually"}},function(e,t,n){"use strict";n.r(t);var i=n(310),o=n.n(i),r=n(365),a=n(271),s=n.n(a);function l(e){let{oid:t,selectedOrganizationId:n}=e;return n=n||t,n||(({selectedOrganizationId:n}=s.a.SpaceStore.getState()),e.oid=n),e}const c={getBarrels(e){s.a.dispatcher.dispatch({type:o.a.GET_BARRELS,oid:e})},requestInvite(e,t){s.a.dispatcher.dispatch({type:o.a.REQUEST_INVITE,id:e,container:t})},addOrganization(e){s.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,workflowStatusData:n,syncWithApi:i=!1}=l(e);s.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusData:n,syncWithApi:i})},updateOrganization(e,t){s.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){s.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:r,onSuccess:a,syncWithApi:l}){s.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_SUBSCRIPTION,oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:r,onSuccess:a,syncWithApi:l})},updateOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,workflowStatusData:i,syncWithApi:a=!1}=l(e),c=a?r.default.getOrganizationWorkflowStatus(t,n):{};s.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:c,syncWithApi:a})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){s.a.dispatcher.dispatch({type:o.a.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,syncWithApi:i=!1}=l(e),a=i?r.default.getOrganizationWorkflowStatus(t,n):{};s.a.dispatcher.dispatch({type:o.a.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,oldWorkflowStatusData:a,syncWithApi:i})},getOrganizationsSuccess(e){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATIONS_SUCCESS,organizations:e})},getOrganizationSuccess(e){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_SUCCESS,organization:e})},getOrganizationSectionsSuccess(e,t){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_SECTIONS_SUCCESS,sections:e,oid:t})},organizationMembersRequested(e){s.a.dispatcher.dispatch({type:o.a.ORGANIZATION_MEMBERS_REQUESTED,oid:e})},getOrganizationMembersSuccess(e){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBERS_SUCCESS,organizationMembers:e})},getOrganizationMembersFailed(e,t){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBERS_FAILED,oid:e,error:t})},getOrganizationMemberProfilesSuccess(e){s.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){s.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},getFocusedBarrelsSuccess(e){const{focusedBarrels:t,oid:n}=l(e);s.a.dispatcher.dispatch({type:o.a.GET_FOCUSED_BARRELS_SUCCESS,focusedBarrels:t,oid:n})},addBarrelToFocus(e){const{mid:t,bid:n,barrelType:i,shouldPopOldestBarrel:r,oid:a,syncWithApi:c}=l(e),{focusedBarrels:d}=s.a.OrganizationStore.getState();let u;d[a]&&d[a].length&&(u=d[a][0]),s.a.dispatcher.dispatch({type:o.a.ADD_BARREL_TO_FOCUS,oid:a,mid:t,bid:n,barrelType:i,poppedBarrel:u,shouldPopOldestBarrel:r,syncWithApi:c})},addBarrelToFocusSuccess(e){s.a.dispatcher.dispatch({type:o.a.ADD_BARREL_TO_FOCUS_SUCCESS})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,poppedBarrel:r,oid:a,syncWithApi:c}=l(e);s.a.dispatcher.dispatch({type:o.a.REMOVE_BARREL_FROM_FOCUS,oid:a,mid:t,bid:n,barrelType:i,poppedBarrel:r,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,oid:r,syncWithApi:a}=l(e);s.a.dispatcher.dispatch({type:o.a.UNPIN_BARREL_FROM_FOCUS,oid:r,mid:t,bid:n,barrelType:i,syncWithApi:a})},unpinBarrelFromFocusSuccess(e){const{bid:t}=l(e);s.a.dispatcher.dispatch({type:o.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS,bid:t})},repinBarrelToFocus(e){const{selectedOrganizationId:t,bid:n}=l(e);s.a.dispatcher.dispatch({type:o.a.REPIN_BARREL_TO_FOCUS,oid:t,bid:n})},hitPinLimit(e){const{pinnedAnyway:t,focusCountLimit:n}=l(e);s.a.dispatcher.dispatch({type:o.a.HIT_PIN_LIMIT,pinnedAnyway:t,focusCountLimit:n})},removeUnjoinedBarrels({oid:e,mid:t}){const n=r.default.getOrganizationProjects(e),i=r.default.getOrganizationStyleguides(e),a=n.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e),l=i.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e);s.a.dispatcher.dispatch({type:o.a.REMOVE_UNJOINED_BARRELS,oid:e,remainingProjects:a,remainingStyleguides:l})},updateMemberTags({oid:e,mid:t,operation:n,tags:i}){s.a.dispatcher.dispatch({type:o.a.UPDATE_MEMBER_TAGS,oid:e,mid:t,operation:n,tags:i})},addProjectSection(e){const{oid:t,index:n,sectionData:i,shouldCalculateActualIndex:a,dialogDismissParams:c,syncWithApi:d,bulkOperation:u=!1}=l(e),{sections:p}=r.default.getOrganization(t);let h;d&&(h=r.default.findSectionIndicesOfProjects(t,i.projects));let f=n;if(void 0===f){const e=p.findIndex(e=>e.projects.includes(i.projects[0]));f=0===e?p.length:e+1}a&&(f=r.default.whereToDropSectionInWorkspace({oid:t,index:f})),s.a.dispatcher.dispatch({type:o.a.ADD_PROJECT_SECTION,oid:t,index:f,sectionData:i,oldIndices:h,dialogDismissParams:c,syncWithApi:d,bulkOperation:u})},addProjectSectionId(e){const{oid:t,index:n,oseid:i}=l(e);s.a.dispatcher.dispatch({type:o.a.ADD_PROJECT_SECTION_ID,oid:t,index:n,oseid:i})},updateProjectSection(e){const{oid:t,oseid:n,sectionData:i,syncWithApi:a=!1}=l(e);let c;if(a){c=r.default.getOrganization(t).sections.find(e=>e._id===n)}s.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_SECTION,oid:t,oseid:n,sectionData:i,oldSectionData:c,syncWithApi:a})},removeProjectSection(e){const{oid:t,oseid:n,syncWithApi:i=!1}=l(e);let a,c;if(i){const e=r.default.getOrganization(t);c=e.sections.findIndex(e=>e._id===n),a=e.sections[c]}s.a.dispatcher.dispatch({type:o.a.REMOVE_PROJECT_SECTION,oid:t,oseid:n,oldSectionIndex:c,oldSectionData:a,syncWithApi:i})},updateProjectSectionOrder(e){const{oid:t,oseid:n,index:i,shouldCalculateActualIndex:a,dialogDismissParams:c,syncWithApi:d=!1}=l(e);let u;if(d){const{sections:e}=r.default.getOrganization(t);u=e.findIndex(e=>e._id===n)}let p=i;a&&(p=r.default.whereToDropSectionInWorkspace({oid:t,index:i})),s.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_SECTION_ORDER,oid:t,oseid:n,index:p,oldSectionIndex:u,dialogDismissParams:c,syncWithApi:d})},updateProjectOrder(e){const{oid:t,oseid:n,projects:i,index:a,shouldCalculateActualIndex:c,dialogDismissParams:d,syncWithApi:u=!1,bulkOperation:p=!1}=l(e);let h,f=[];if(u){const{sections:e}=r.default.getOrganization(t);h=n===e[0]._id,f=r.default.findSectionIndicesOfProjects(t,i)}let g=a;c&&(g=r.default.whereToDropProjectInSection({oid:t,oseid:n,index:a})),s.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_ORDER,oid:t,oseid:n,projects:i,index:g,oldIndices:f,isDefaultSection:h,dialogDismissParams:d,syncWithApi:u,bulkOperation:p})},addSectionLink(e){const{oid:t,oseid:n,linkData:i,syncWithApi:r=!1}=l(e);s.a.dispatcher.dispatch({type:o.a.ADD_SECTION_LINK,oid:t,oseid:n,linkData:i,syncWithApi:r})},updateSectionLink(e){const{oid:t,oseid:n,oselid:i,linkData:a,syncWithApi:c=!1}=l(e);let d;if(c){d=r.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===i)}s.a.dispatcher.dispatch({type:o.a.UPDATE_SECTION_LINK,oid:t,oseid:n,oselid:i,linkData:a,oldLink:d,syncWithApi:c})},removeSectionLink(e){const{oid:t,oseid:n,oselid:i,syncWithApi:a=!1}=l(e);let c;if(a){c=r.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===i)}s.a.dispatcher.dispatch({type:o.a.REMOVE_SECTION_LINK,oid:t,oseid:n,oselid:i,oldLink:c,syncWithApi:a})}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;var i=n(848);Object.defineProperty(t,"TeamPlanContent",{enumerable:!0,get:function(){return i.TeamPlanContent}}),Object.defineProperty(t,"OrganizationPlanContent",{enumerable:!0,get:function(){return i.OrganizationPlanContent}}),Object.defineProperty(t,"EnterprisePlanContent",{enumerable:!0,get:function(){return i.EnterprisePlanContent}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;const o=n(4),r=n(442),a=i(n(551)),s=i(n(399)),l=n(252);function c({children:e,newFeature:t}){return o.h("li",{class:s.default({newFeature:t})},o.h(r.IconTick,{color:"var(--gandalf)"}),e)}function d(){return o.h("div",{class:"seatInfoTooltip"},o.h("div",{class:"tooltipContainer"},o.h("span",null,"💁‍♀️ "),o.h("p",null,"Per designers and developers.",o.h("br",null),o.h("br",null),"You can invite unlimited reviewers with no charge. They can view the designs and add notes.")))}n(849),t.TeamPlanContent=function({projectLimit:e,selectedUnitPrice:t,offer:n}){const i=!!(null==n?void 0:n.percentage),r=(null==n?void 0:n.projectLimit)&&n.projectLimit>e?n.projectLimit:void 0;return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icTeamPlan.png"}),o.h("h2",null,"Team"),o.h("p",{className:"description"},"Best for freelancers, small teams"),o.h("p",{className:s.default("priceText",{hasDiscount:i})},o.h("span",{className:"unitPriceWrapper"},o.h("span",{className:"monthlyUnitPrice"},"$",t," "),o.h("span",{className:"seatText"},"seat*",o.h(d,null)),"/mo"),i&&o.h("a",null,"  Offer applied")),o.h("ul",null,r?o.h(c,{newFeature:!!n},o.h("s",null,e)," ",o.h("a",null,r)," Projects"):o.h(c,{newFeature:!!n},e," Projects"),o.h(c,{newFeature:!!n},"Team Workspace"),o.h(c,{newFeature:!!n},"User Management"),o.h(c,{newFeature:!!n},"Unlimited version history"),o.h(c,null,"Unlimited Reviewers")))},t.OrganizationPlanContent=function({minUserCount:e,selectedUnitPrice:t}){return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icOrganizationPlan.png"}),o.h("h2",null,"Organization"),o.h("p",{class:"description"},"Best for medium size teams"),o.h("p",{class:"priceText"},o.h("span",{class:"monthlyUnitPrice"},"$",t," "),o.h("span",{class:"seatText"},"seat*",o.h(d,null)),"/mo",o.h("br",null),o.h("span",{class:"minUserCount"},e," seat minimum")),o.h("h4",null,"Everything in Team, plus;"),o.h("ul",null,o.h(c,null,"Unlimited Projects"),o.h(c,null,"Advanced User Permissions"),o.h(c,null,"Jira Server and Data Center Integration"),o.h(c,null,"Priority support")))},t.EnterprisePlanContent=function(){return o.h("div",{class:"planContent"},o.h(a.default,{class:"planLogo",asset:"/img/icEnterprisePlan.png"}),o.h("h2",null,"Enterprise"),o.h("p",{class:"description"},"Best for large teams"),o.h("p",{className:"priceText"},o.h("img",{src:l.imageUrl("img/icTalk.svg")}),o.h("span",{className:"minUserCount"},"Custom Pricing")),o.h("h4",null,"Everything in Organization, plus;"),o.h("ul",null,o.h(c,null,"Single Sign on (SSO)"),o.h(c,null,"Invoiced billing"),o.h(c,null,"Dedicated success manager"),o.h(c,null,"24hr support SLA")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(851);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(442),a=i(n(852)),s=n(845),l=n(249),c=i(n(399)),d=n(252);n(853);const u="free",p="team_annual_unit_price_v1",h="team_monthly_unit_price_v1",f="organization_annual_unit_price_v4",g="organization_monthly_unit_price_v3",m="enterprise_annual_unit_price_v1";t.default=function({plans:e,period:t}){const n=function(e,t){const n=e.free[t],i=e.team[t],r=e.organization[t],a=e.enterprise[t];return{sidebar:o.h("div",{class:"row header border"},o.h("h2",null,"Compare features")),body:o.h("div",{class:"row header border"},[n,i,r].map(e=>{const t="$"+s.formatPriceForUI(e.price/("annual"===e.period?12:1)),n=0===e.price?"Always free":"seat/month",i=o.h("div",{class:"subText"},n,e.quantity>1?o.h(o.Fragment,null,o.h("br",null),e.quantity," seat minimum"):""),r=-1===e.projectLimit?"Unlimited projects":l.pluralize(e.projectLimit,"Project");return o.h("div",{key:e.id,class:"cell"},o.h("h3",null,e.name),o.h("h2",null,t),i,o.h("div",{class:"smallText"},r))}),o.h("div",{class:"cell"},o.h("h3",null,a.name),o.h("img",{src:d.imageUrl("img/icTalk.svg")}),o.h("div",{class:"subText"},o.h("a",{href:"mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan",target:"_blank",rel:"noopener noreferrer"},"Contact Us")),o.h("div",{class:"smallText"},"Custom Pricing")))}}(function(e){const t=e.find(e=>e.id===u),n=e.find(e=>e.id===p),i=e.find(e=>e.id===h),o=e.find(e=>e.id===f),r=e.find(e=>e.id===g),a=e.find(e=>e.id===m);return{free:{monthly:t,annual:t},team:{annual:n,monthly:i},organization:{annual:o,monthly:r},enterprise:{annual:a,monthly:a}}}(e),t),i=function(e){const t=[],n=[];for(const i of e){t.push(o.h("div",{class:"row border"},o.h("h3",null,i.label))),n.push(o.h("div",{class:"row empty border"}));for(const e of i.features)t.push(o.h("div",{class:"row"},o.h("li",{class:c.default({comingSoon:e.comingSoon,hasList:e.values.some(e=>Array.isArray(e))})},e.label))),n.push(o.h("div",{class:"row border"},e.values.map((e,t)=>"boolean"==typeof e?o.h("div",{key:t,class:"cell"},e&&o.h(r.IconTick,{color:"var(--cornflower-blue)"})):Array.isArray(e)?o.h("div",{key:t,class:"cell"},o.h("ul",null,e.map(e=>o.h("li",{key:e},"• ",e)))):o.h("div",{key:t,class:"cell"},e))))}return{sidebar:t,body:n}}(a.default);return o.h("div",{class:"planComparison"},o.h("div",{class:"sidebar"},n.sidebar,i.sidebar),o.h("div",{class:"body"},n.body,i.body))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{label:"Handoff+",features:[{label:"Show specs",values:[!0,!0,!0,!0]},{label:"Generate assets",values:[!0,!0,!0,!0]},{label:"Generate code snippets",values:[!0,!0,!0,!0]},{label:"Pop out designs",values:[!0,!0,!0,!0]}]},{label:"Collaboration",features:[{label:"Screen version history, commit messages",values:["30 days","Unlimited","Unlimited","Unlimited"]},{label:"Sections and tags to manage screens",values:[!0,!0,!0,!0]},{label:"Notes and comments",values:[!0,!0,!0,!0]}]},{label:"Styleguides",features:[{label:"Number of styleguides",values:["4 styleguides","12 styleguides","Unlimited","Unlimited"]},{label:"Colors, Text Styles",values:[!0,!0,!0,!0]},{label:"Number of Components",values:["99","Unlimited","Unlimited","Unlimited"]},{label:"Connected Components",values:[!0,!0,!0,!0]},{label:"Spacing",values:[!0,!0,!0,!0]}]},{label:"Open Platform",features:[{label:"Slack integration",values:[!0,!0,!0,!0]},{label:"Trello integration",values:[!0,!0,!0,!0]},{label:"Microsoft team integration",values:[!0,!0,!0,!0]},{label:"Jira Cloud integration",values:[!0,!0,!0,!0]},{label:"Jira Server and Data Center integrations",values:[!1,!1,!0,!0]},{label:"API and Webhook",values:[!0,!0,!0,!0]}]},{label:"Workspace management",features:[{label:"Workspace to manage projects",values:[!1,!0,!0,!0]},{label:"Project sections and statuses",values:[!1,!0,!0,!0]},{label:"Pin projects",values:[!1,!0,!0,!0]},{label:"Invite multiple users by tag",values:[!1,!1,!0,!0]},{label:"Content ownership",values:[!1,!1,!1,!0]},{label:"Multiple teams",values:[!1,!1,!1,!0]},{label:"Private projects",values:[!1,!1,!0,!0],comingSoon:!0}]},{label:"User management",features:[{label:"Dashboard to manage users",values:[!1,!0,!0,!0]},{label:"User permissions",values:[!1,["Admin","Editor"],["Admin","Editor","Developer"],["Admin","Editor","Developer"]]},{label:"Reviewer (free)",values:[!1,"Unlimited","Unlimited","Unlimited"]},{label:"Restricted members",values:[!1,!0,!0,!0]},{label:"Priority support",values:[!1,!1,!0,!0]},{label:"Domain Capture",values:[!1,!1,!1,!0],comingSoon:!0},{label:"SCIM",values:[!1,!1,!1,!0],comingSoon:!0}]}]},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(855);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(233);n(856),t.default=function(){return i.h("div",{class:"planChooserFAQ"},i.h("h2",null,"FAQ"),i.h("h3",null,"Who requires a seat in Zeplin?"),i.h("p",null,"A seat is required to publish designs, access technical specs and download assets. Viewing a project and reading/adding notes is available for Reviewers and does not require a seat."),i.h("h3",null,"Why do developers require a seat?"),i.h("p",null,"Zeplin provides capabilities much needed by developers including clarity on “finalized” designs, an accessible design workspace friendly to non-designers, added structure to design screens and of course tailored technical specs built by developers for developers."),i.h("h3",null,"As a designer, do I have to pay for developers?"),i.h("p",null,"If you would like to divide billing between designers and developers, we can customize our Zeplin Enterprise plan to meet your needs,"," ",i.h("a",{href:"mailto:enterprise@zeplin.io",target:"_blank"},"click here")," ",'to contact our sales team."'),i.h("h3",null,"How does Zeplin work with Figma?"),i.h("p",null,"Figma is better together with Zeplin, learn more about how leading design teams use"," ",i.h("a",{href:o.WEB_URL+"/figma",target:"_blank"},"Figma & Zeplin together"),"."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(860);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(591));t.default=function({hasUnreadNotifications:e,active:t,backLabel:n,backLink:i}){return o.h("a",{href:i,"data-link-type":"inApp","data-back":n},o.h(r.default,{hasUnread:e,active:t}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(862);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(232),a=i(n(367)),s=n(247),l=n(245),c=i(n(517)),d=i(n(431));var u;n(863),function(e){e[e.SwitchBack=0]="SwitchBack",e[e.ShareFeedback=1]="ShareFeedback"}(u||(u={})),t.default=function({oid:e}){const t="user"===e?l.urlResolve(r.WorkspaceTabs.PROJECTS):l.urlResolve("workspace-"+r.WorkspaceTabs.PROJECTS,{url:{oid:e}});return o.h(c.default,{onChange:function(e){e===u.ShareFeedback?s.openLink("mailto:beta@zeplin.io?subject=Notifications Feedback",{inNewTab:!1}):e===u.SwitchBack&&(d.default.switchToOldNotificationExperience(),a.default.history.push(t))},class:"activitiesHeaderSelectorDropdown",top:0,left:0,defaultLabel:"👩‍🔧 Prerelease",showSelectedAsLabel:!1,labelClass:"prerelease",optionsClass:"activitiesHeaderSelectorOptions",chevronColor:"var(--cornflower-blue)"},o.h(c.default.Item,{value:u.ShareFeedback},"Share prerelease feedback"),o.h(c.default.Item,{value:u.SwitchBack},"Switch back"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(865)),r=i(n(274)),a=i(n(866)),s=n(328),l=i(n(271)),c=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment","ResolveDot"],d=["CreateScreen","CreateScreenVersion","DeleteScreen"],u=["CreateProjectComponent","CreateStyleguideComponent","CreateProjectComponentVersion","CreateStyleguideComponentVersion","CreateProjectColor","CreateStyleguideColor","CreateProjectTextStyle","CreateStyleguideTextStyle","DeleteProjectColor","DeleteStyleguideColor","DeleteProjectComponent","DeleteStyleguideComponent","DeleteProjectTextStyle","DeleteStyleguideTextStyle","UpdateProjectColor","UpdateStyleguideColor","UpdateProjectTextStyle","UpdateStyleguideTextStyle","CreateProjectSpacingToken","CreateStyleguideSpacingToken","UpdateProjectSpacingToken","UpdateStyleguideSpacingToken","DeleteProjectSpacingToken","DeleteStyleguideSpacingToken"],p=[...c,...d,...u],h=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment"],f=["ResolveDot"],g=["CreateDot-Mention","CreateDotComment-Mention"];function m({actionName:e}){return g.includes(e)}t.default={isTypeValid:function(e){return Object.values(a.default).includes(e)},hasMention:m,doesNoteStatusMatch:function(e,t){switch(t){case o.default.Open:return h.includes(e.actionName);case o.default.Resolved:return f.includes(e.actionName);case o.default.Mentioned:return m(e);default:throw Error("Invalid statusFilter type")}},doesNoteColorMatch:function({params:e,events:t},n){var i;return[null===(i=e.dot)||void 0===i?void 0:i.color,...t.map(e=>{var t;return null===(t=e.dot)||void 0===t?void 0:t.color})].filter(e=>e).some(e=>s.getColorName(e)===n)},doesNoteUserMatch:function({events:e},t){return e.some(({source:e})=>(null==e?void 0:e._id)===t)},getRelatedProjects:function({params:e,events:t}){return[...e.project?[e.project._id]:[],...t.filter(({project:e})=>e).map(({project:e})=>e._id)]},getRelatedStyleguides:function({params:e,events:t}){return[...e.styleguide?[e.styleguide._id]:[],...t.filter(({styleguide:e})=>e).map(({styleguide:e})=>e._id)]},isRelatedToProject:function({params:e,events:t},n){var i;return(null===(i=e.project)||void 0===i?void 0:i._id)===n||t.some(e=>{var t;return(null===(t=e.project)||void 0===t?void 0:t._id)===n})},isRelatedToStyleguide:function({params:e,events:t},n){var i;return(null===(i=e.styleguide)||void 0===i?void 0:i._id)===n||t.some(e=>{var t;return(null===(t=e.styleguide)||void 0===t?void 0:t._id)===n})},isInCategory:function({actionName:e},t){return t===r.default.All||(t===r.default.Note?c.includes(e):t===r.default.Screen?d.includes(e):t===r.default.Styleguide?u.includes(e):t===r.default.Other?!p.includes(e):void 0)},getCategory:function({actionName:e}){return c.includes(e)?r.default.Note:d.includes(e)?r.default.Screen:u.includes(e)?r.default.Styleguide:r.default.Other},trackEventWithFilterDetails:function(e,t={}){const{category:n,sectionId:i,noteStatusFilterType:o,memberId:a,color:s}=l.default.ActivitiesViewStore.getState(),c={[r.default.All]:"All",[r.default.Note]:"Notes",[r.default.Screen]:"Screens",[r.default.Styleguide]:"Styleguide",[r.default.Other]:"Others"},d=[...o||s?["Note Type"]:[],...a?["User"]:[],...i?["Section"]:[]];mixpanel.master.track(e,Object.assign(Object.assign({},t),{"Selected Category":c[n],Filters:d.length?d:void 0}))}}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Open="open",e.Mentioned="mentioned",e.Resolved="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddProjectExtension="AddProjectExtension",e.AddStyleugideExtension="AddStyleguideExtension",e.ActivateProject="ActivateProject",e.ActivateStyleguide="ActivateStyleguide",e.ArchiveProject="ArchiveProject",e.ArchiveStyleguide="ArchiveStyleguide",e.AuthProjectSlack="AuthProjectSlack",e.AuthStyleguideSlack="AuthStyleguideSlack",e.CreateProjectComponent="CreateProjectComponent",e.CreateStyleguideComponent="CreateStyleguideComponent",e.CreateProjectComponentVersion="CreateProjectComponentVersion",e.CreateStyleguideComponentVersion="CreateStyleguideComponentVersion",e.CreateProjectColor="CreateProjectColor",e.CreateStyleguideColor="CreateStyleguideColor",e.CreateDot="CreateDot",e.CreateDotMention="CreateDot-Mention",e.CreateDotCommentMention="CreateDotComment-Mention",e.CreateDotComment="CreateDotComment",e.CreateScreen="CreateScreen",e.CreateScreenVersion="CreateScreenVersion",e.CreateProjectTextStyle="CreateProjectTextStyle",e.CreateStyleguideTextStyle="CreateStyleguideTextStyle",e.DeleteProjectColor="DeleteProjectColor",e.DeleteStyleguideColor="DeleteStyleguideColor",e.DeleteProjectComponent="DeleteProjectComponent",e.DELETE_STYLEGUIDE_COMPONENT="DeleteStyleguideComponent",e.DeleteScreen="DeleteScreen",e.DeleteProject="DeleteProject",e.DeleteStyleguide="DeleteStyleguide",e.DeleteProjectTextStyle="DeleteProjectTextStyle",e.DeleteStyleguideTextStyle="DeleteStyleguideTextStyle",e.RemoveExtensionFromProject="RemoveExtensionFromProject",e.RemoveExtensionFromStyleguide="RemoveExtensionFromStyleguide",e.ResolveDot="ResolveDot",e.UpdateOrganizationMemberRole="UpdateOrganizationMemberRole",e.UpdateProjectColor="UpdateProjectColor",e.UpdateStyleguideColor="UpdateStyleguideColor",e.UpdateProjectUserRole="UpdateProjectUserRole",e.UpdateStyleguideUserRole="UpdateStyleguideUserRole",e.UpdateProjectTextStyle="UpdateProjectTextStyle",e.UpdateStyleguideTextStyle="UpdateStyleguideTextStyle",e.UserJoined="UserJoined",e.ProjectUserJoined="ProjectUserJoined",e.StyleguideUserJoined="StyleguideUserJoined",e.RemoveUserFromProject="RemoveUserFromProject",e.RemoveUserFromStyleguide="RemoveUserFromStyleguide",e.InviteMember="InviteMember",e.InviteProjectUser="InviteProjectUser",e.InviteStyleguideUser="InviteStyleguideUser",e.TransferProjectOwnership="TransferProjectOwnership",e.TransferStyleguideOwnership="TransferStyleguideOwnership",e.CreateProjectSpacingToken="CreateProjectSpacingToken",e.CreateStyleguideSpacingToken="CreateStyleguideSpacingToken",e.UpdateProjectSpacingToken="UpdateProjectSpacingToken",e.UpdateStyleguideSpacingToken="UpdateStyleguideSpacingToken",e.DeleteProjectSpacingToken="DeleteProjectSpacingToken",e.DeleteStyleguideSpacingToken="DeleteStyleguideSpacingToken",e.RemindVerification="RemindVerification",e.VerifyUser="VerifyUser",e.AttachProjectToJiraIssue="AttachProjectToJiraIssue",e.AttachSectionToJiraIssue="AttachSectionToJiraIssue",e.AttachScreenToJiraIssue="AttachScreenToJiraIssue",e.RemoveProjectJiraIssueAttachment="RemoveProjectJiraIssueAttachment",e.RemoveSectionJiraIssueAttachment="RemoveSectionJiraIssueAttachment",e.RemoveScreenJiraIssueAttachment="RemoveScreenJiraIssueAttachment"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(868);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(869),r=n(384),a=n.n(r),s=n(365),l=n(271),c=n.n(l),d=n(513),u=n.n(d),p=n(420),h=n(245),f=n(248),g=n(231),m=n(230),b=n(232),S=n(766),y=n(779);n(1203);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),v(this,"handleEnableSelectMode",({pid:e,focusAreaVisible:t})=>{const n=document.querySelector(".focusedProjects"),i=document.querySelector(".organizationSummary"),o=document.querySelector(".tabs"),r=i.clientHeight+o.clientHeight+(t?n.clientHeight:0);if(this.prevWorkspaceScrollTop=this.nodeRefs.workspace.scrollTop,r>this.prevWorkspaceScrollTop){const s=r-this.prevWorkspaceScrollTop+1,l=new IntersectionObserver(r=>{r[0].isIntersecting||(l.unobserve(r[0].target),i.remove(),o.remove(),t&&n.remove(),this.nodeRefs.workspace.scrollTop=1,a.a.toggleProjectSelection(e))},{root:this.nodeRefs.workspace});l.observe(t?n:o),this.nodeRefs.workspace.scrollBy({top:s,left:0,behavior:"smooth"})}else this.nodeRefs.workspace.scrollTop-=r,i.remove(),o.remove(),t&&n.remove(),a.a.toggleProjectSelection(e)}),v(this,"renderDialogs",()=>{const{visibleDialogType:e,visibleDialogParams:t,selectedOrganization:n,canChangePlan:o}=this.state;if(e===b.DialogTypes.PLAN_CHOOSER){const{barrelType:e,planUpgradeTrigger:r}=t;if(!o)return i.h(S.BasicOverlayDialog,{title:"Cannot create "+e,message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,positiveButtonText:"OK",hideNegativeButton:!0,onPositiveButtonClick:a.a.closeDialog,onClose:a.a.closeDialog});Object(y.showPlanChooserOverlay)({source:`Workspace, Reached ${e} limit`,displayFullMode:!1,upgradeTrigger:r,oid:n&&n._id,cb:a.a.closeDialog})}return null})}static calculateState(){const{loading:e,selectedOrganizationId:t,selectedTab:n,visibleDialogType:i,visibleDialogParams:o}=c.a.SpaceStore.getState(),{selectedProjects:r}=c.a.ProjectSelectionStore.getState(),{organizations:a,organizationProfiles:l,loading:d,loadingOrganization:u,loadingProfiles:p,loadingBarrels:g}=c.a.OrganizationStore.getState(),{loading:m}=c.a.UserStore.getState(),b=e||d||u||p||m||g,S=a.find(({_id:e})=>e===t)||{},y=s.default.getOrganizationProjects(S._id),v=s.default.getOrganizationStyleguides(S._id),{members:C,sections:O}=S,E=l[t],T="user"===t||f.permissions.canChangePlan(E);return{selectedTab:n,loading:b,organizationDashboardLink:p||!E||E.restricted?null:Object(h.urlResolve)("workspace-members",{url:{oid:t}}),visibleDialogType:i,visibleDialogParams:o,selectedOrganization:S,selectedOrganizationProfile:E,canChangePlan:T,projectsCount:y&&y.length,styleguidesCount:v&&v.length,membersCount:C&&C.length,selectedProjects:r,hideTopSection:r.length>0,sectionsCount:O&&O.length}}static getStores(){return[c.a.SpaceStore,c.a.ProjectSelectionStore,c.a.OrganizationStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore,c.a.UserStore]}componentDidMount(){m.isWindowsApp&&g.default.ipcRenderer.send("on-login",Zeplin.user)}componentDidUpdate(e,t){!this.state.hideTopSection&&t.hideTopSection&&t.sectionsCount===this.state.sectionsCount&&(this.nodeRefs.workspace.scrollTop=this.prevWorkspaceScrollTop)}render(){const{loading:e,selectedTab:t,hideTopSection:n,selectedOrganization:r,selectedOrganizationProfile:s,organizationDashboardLink:l,projectsCount:c,styleguidesCount:d,membersCount:u}=this.state;return i.h("main",{class:"spaceContainer",ref:Object(p.default)(this,"base")},i.h(o.default,{baseRef:Object(p.default)(this,"workspace"),loading:e,selectedOrganization:r,selectedOrganizationProfile:s,organizationDashboardLink:l,hideTopSection:n,selectedTab:t,toastContainer:this.nodeRefs.base,projectsCount:c,styleguidesCount:d,membersCount:u,onTabChange:a.a.changeSelectedTab,onDialogClose:a.a.closeDialog,onEnableSelectMode:this.handleEnableSelectMode}),this.renderDialogs())}}t.default=u()(C)},function(e,t,n){"use strict";n.r(t);var i=n(870);n.d(t,"default",(function(){return i.default})),n.d(t,"enableScroll",(function(){return i.enableScroll})),n.d(t,"disableScroll",(function(){return i.disableScroll}))},function(e,t,n){"use strict";n.r(t),n.d(t,"enableScroll",(function(){return S})),n.d(t,"disableScroll",(function(){return y}));var i=n(4),o=n(522),r=n(871),a=n(874),s=n(1110),l=n(1195),c=n.n(l),d=n(399),u=n(247),p=n(249),h=n(232),f=n(903),g=n(1201);n(1202);function m({label:e,value:t,selected:n,onChange:o}){const r=Object(d.default)("tab","noSelect",{selected:n});return i.h("label",{class:r},e,i.h("input",{type:"radio",name:"workspaceTab",value:t,checked:n,onChange:e=>{e.stopPropagation(),o(t)}}))}function b({baseRef:e,onTabChange:t,onEnableSelectMode:n,loading:l,toastContainer:d,hideTopSection:f,selectedOrganization:{_id:b,logo:S,name:y,status:v},selectedOrganizationProfile:C,organizationDashboardLink:O,projectsCount:E,styleguidesCount:T,membersCount:_,selectedTab:P}){const j=C&&C.role,D=Object(o.useRef)(null);function k(e,{increment:t=!1}={}){t?D.current.scrollTop+=e:D.current.scrollTop=e}Object(o.useEffect)(()=>{Object(g.hideOrganizationFrozenBanner)(),"frozen"===v&&Object(g.showOrganizationFrozenBanner)({oid:b,currentRole:j})},[v,b,j]);function I(e){Object(u.copyContent)({content:e,toastContainer:d})}return i.h("div",{class:"workspace",ref:function(t){D.current=t,e(t)}},f?null:i.h(i.Fragment,null,(()=>{if(!b)return null;if(l)return i.h(c.a.Loading,null);const e=_?Object(p.pluralize)(_,"member"):"",t=[void 0!==E?Object(p.pluralize)(E,"project"):"",void 0!==T?Object(p.pluralize)(T,"styleguide"):"",e].filter(Boolean).join(", ");return i.h(c.a,{imageSrc:S,dashboardLink:O,title:y,subInfo:t,projectsCount:E,styleguidesCount:T,membersCount:_})})(),i.h("div",{class:"tabs"},i.h(m,{label:"Projects",value:h.WorkspaceTabs.PROJECTS,selected:P===h.WorkspaceTabs.PROJECTS,onChange:t}),i.h(m,{label:"Styleguides",value:h.WorkspaceTabs.STYLEGUIDES,selected:P===h.WorkspaceTabs.STYLEGUIDES,onChange:t}),i.h("hr",null))),l?i.h(r.default,null):P===h.WorkspaceTabs.PROJECTS?i.h(a.default,{onEnableSelectMode:n,toastContainer:d,onCopyLink:I,hideFocusedProjectsSection:f,setScrollPositionOfWorkspace:k}):P===h.WorkspaceTabs.STYLEGUIDES?i.h(s.default,{onCopyLink:I}):null)}function S(){document.querySelector(".workspace").classList.remove("scrollDisabled")}function y(){document.querySelector(".workspace").classList.add("scrollDisabled")}t.default=function(e){return i.h(f.SectionObserverProvider,null,i.h(b,e))}},function(e,t,n){"use strict";n.r(t);var i=n(872);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(873);t.default=function(){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(875);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(876),r=n(926),a=n(978),s=n(985),l=n(1050),c=n(892),d=n(1052),u=n(766),p=n(1055),h=n(1066),f=n(1081),g=n.n(f),m=n(1084),b=n.n(m),S=n(1087),y=n(1090),v=n(1093),C=n(1096),O=n(1099),E=n.n(O),T=n(1103),_=n(384),P=n.n(_),j=n(363),D=n.n(j),k=n(365),I=n(846),R=n(379),A=n(271),w=n.n(A),N=n(513),L=n.n(N),x=n(1104),M=n(420),U=n(248),B=n(371),z=n(229),V=n(246),W=n(432),F=n(263),H=n.n(F),G=n(314),$=n.n(G),q=n(232),Z=n(1048),Y=n(1105),K=n(1108),J=n.n(K),X=n(1106);n(1109);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t,n){if(!t||t===n)return[n];const i=e.indexOf(t),o=e.indexOf(n),r=Math.min(i,o),a=Math.max(i,o);return e.slice(r>=0?r:0,a+1)}class ie extends i.Component{constructor(...e){super(...e),te(this,"multipleSelectionBaseProject",null),te(this,"state",{hoveredProjects:[],scrollPositionOfWorkspace:0}),te(this,"shiftKeyPressed",!1),te(this,"projectRefs",{}),te(this,"visibleSections",new Set),te(this,"getSelectableProjects",()=>{const{sections:e,collapsedSections:t}=this.state,n=e.reduce((e,n)=>(t[n._id]||n.projects.forEach(t=>{e.add(t.id)}),e),new Set);return Array.from(n)}),te(this,"getSectionName",e=>{const{selectedOrganization:t}=this.state,[n]=t.sections.filter(t=>t._id===e);return n&&n.name}),te(this,"getMoveToSectionMessage",(e,t)=>t.length>1?[`Moving ${t.length} projects out of their sections may cause you to lose access to these sections.`,"Are you sure you want to move these projects from their sections?"]:[`Moving this project out of the "${this.getSectionName(e)}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"]),te(this,"getSectionsToBeEmptied",e=>{const{selectedOrganization:t}=this.state;return t.sections.reduce((n,i)=>{const o=k.default.getVisibleProjectsOfSection(t._id,i._id);return o.length>0&&o.every(t=>e.includes(t._id))?(n.push(i._id),n):n},[])}),te(this,"openMultiselectMoveProjectsDialog",(e,t,n)=>{const i=1===e.length?e[0]:null,o=this.getMoveToSectionMessage(i,t);P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:o,positiveButtonClick:n,positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}),te(this,"handleProjectPreviewJoin",()=>{R.default.join({barrelType:H.a.PROJECT,bid:this.state.previewProject._id,source:"Preview"})}),te(this,"handleOpenCreateProjectDialog",({oseid:e})=>{const{currentPlan:t,currentUserId:n,selectedOrganization:i,isPersonalWorkspace:o,organizationProjects:r}=this.state,a=i&&i.projectLimit?i.projectLimit:t.projectLimit,s=(o?r.filter(e=>e.users.some(({user:{_id:e},role:t})=>e===n&&"owner"===t)):r).filter(e=>"archived"!==e.status);a>0&&s.length>=a?P.a.openDialog(q.DialogTypes.PLAN_CHOOSER,{barrelType:H.a.PROJECT,planUpgradeTrigger:q.PlanUpgradeTrigger.PROJECT_LIMIT}):P.a.openDialog(q.DialogTypes.CREATE_PROJECT,{oseid:e})}),te(this,"handleCreateProject",e=>{const{selectedOrganizationId:t,visibleDialogParams:{oseid:n}}=this.state;T.default.createProject({oid:t,platform:e,oseid:n})}),te(this,"handleProjectDidMount",(e,t)=>{this.projectRefs[e]=t}),te(this,"handleProjectClick",(e,t,n=!1)=>{const{projects:i,currentUserId:o}=this.state,r=i[t];if(r&&"active"===r.status&&!r.users.some(e=>e.user._id===o))return e.preventDefault(),e.stopPropagation(),void P.a.openDialog(q.DialogTypes.PREVIEW_PROJECT,{previewBarrelId:t});P.a.trackBarrelClick({isFromPinArea:n})}),te(this,"handleArchiveProject",({pid:e})=>{R.default.archive({bid:e,barrelType:H.a.PROJECT,syncWithApi:!0})}),te(this,"handleActivateProject",({pid:e})=>{R.default.activate({bid:e,barrelType:H.a.PROJECT,syncWithApi:!0})}),te(this,"handleJoinProject",({pid:e,shouldLoadBarrel:t})=>{R.default.join({barrelType:H.a.PROJECT,bid:e,shouldLoadBarrel:t})}),te(this,"handleDeleteProject",({pid:e})=>{R.default.remove({bid:e,barrelType:H.a.PROJECT,syncWithApi:!0})}),te(this,"handleCopyProject",({bid:e,barrelName:t,options:n})=>{R.default.copy({bid:e,barrelName:t,barrelType:H.a.PROJECT,options:n,syncWithApi:!0})}),te(this,"handleLeaveProject",({bid:e,mid:t})=>{R.default.removeMember({barrelType:H.a.PROJECT,bid:e,mid:t,syncWithApi:!0})}),te(this,"handlePin",e=>{const{pinnedBarrels:t,focusCountLimit:n}=this.state;I.default.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:H.a.PROJECT,shouldPopOldestBarrel:t.length===n,syncWithApi:!0}),this.showToast({text:"Project pinned",source:"projectsContainer"}),P.a.updatePageState({highlightedBarrels:[e]})}),te(this,"handleUnpinFromFocusArea",e=>{I.default.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:H.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),te(this,"handleUnpin",e=>{I.default.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:H.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),te(this,"handleRemoveUnpinned",e=>{I.default.removeBarrelFromFocus({bid:e})}),te(this,"handleScrollToUnpinnedBarrel",e=>{const{sections:t,collapsedSections:n}=this.state,i=t.find(t=>t.projects.find(({_id:t})=>t===e));i&&n[i._id]&&P.a.expandSections([i._id]),P.a.updatePageState({highlightedBarrels:[e],scrollToHighlightedBarrel:!0})}),te(this,"handleReorderProject",({sourceSectionId:e,targetSectionId:t,pid:n,index:i})=>{const{selectedOrganization:o,restrictedUser:r,dismissedDialogs:a}=this.state,s={oseid:t,projects:[n],index:i,shouldCalculateActualIndex:!0,syncWithApi:!0};if(r){if(e===t&&!a.reorderProjectDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Project?",message:["Reordering this project will affect other projects in the section that may not be visible to you.","Are you sure you want to change the order in this section?"],positiveButtonClick:e=>I.default.updateProjectOrder(ee(ee({},s),{},{dialogDismissParams:e})),positiveButtonText:"REORDER PROJECT",dismissPrefKey:"reorderProjectDismissed"});const i=k.default.findProjectOrganizationSection(n),r=i._id===o.sections[0]._id,l=k.default.getVisibleProjectsOfSection(o._id,i._id);if(!r&&1===l.length&&!a.moveProjectOutOfSectionDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${i.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>I.default.updateProjectOrder(ee(ee({},s),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}I.default.updateProjectOrder(s)}),te(this,"handleCreateNewSectionWithProjects",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o=this.getSectionsToBeEmptied(e),r={sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:e},syncWithApi:!0};if(n){if(!(1===o.length&&o[0]===t.sections[0]._id)&&o.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(o,e,e=>{I.default.addProjectSection(ee(ee({},r),{},{dialogDismissParams:e,bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})})}I.default.addProjectSection(ee(ee({},r),{},{bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})}),te(this,"handleMoveSelectedProjectsToSection",(e,t)=>{const{selectedOrganization:n,dismissedDialogs:i,restrictedUser:o}=this.state,r=this.getSectionsToBeEmptied(t),a=n.sections.find(t=>t._id===e);if(o){if(!(1===r.length&&r[0]===n.sections[0]._id)&&r.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(r,t,n=>{I.default.updateProjectOrder({oseid:e,projects:t,dialogDismissParams:n,index:a.projects.length,syncWithApi:!0,bulkOperation:!0})})}I.default.updateProjectOrder({oseid:e,projects:t,index:a.projects.length,syncWithApi:!0,bulkOperation:!0})}),te(this,"handleMoveProjectToSection",(e,t)=>{this.handleReorderProject({targetSectionId:t,pid:e})}),te(this,"handleProjectToSectionHeaderDrop",(e,t)=>{const n=k.default.findProjectOrganizationSectionId(e);n!==t&&this.handleReorderProject({sourceSectionId:n,targetSectionId:t,pid:e})}),te(this,"handleProjectToSectionDrop",({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:r})=>{const{isPersonalWorkspace:a,sections:s}=this.state;if(a)return;const l=s.find(e=>e._id===r),c=l.projects[o],d=this.projectRefs[c._id].getBoundingClientRect(),u=e.left>d.left+d.width/2?"right":"left";let p;if(i===r){if("individual"===l.type)return;p=o,n>o&&"right"===u&&(p=o+1),n<o&&"left"===u&&(p=o-1)}else"right"===u?p=o+1:"individual"!==l.type&&o&&(p=o);i===r&&n===p||this.handleReorderProject({sourceSectionId:i,targetSectionId:r,pid:t,index:p})}),te(this,"handleSectionDrop",({sourceId:e,sourceIndex:t,moveIndex:n})=>{const{selectedOrganizationName:i,sections:o,restrictedUser:r,dismissedDialogs:a}=this.state;if(t===n||n===o.length)return;const s={oseid:e,index:n,shouldCalculateActualIndex:!0,syncWithApi:!0};!r||a.reorderSectionDismissed?I.default.updateProjectSectionOrder(s):P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Section?",message:[`Reordering this section will affect other sections in the ${i} Workspace that may not be visible to you.`,"Are you sure you want to change the order of this section?"],positiveButtonClick:e=>I.default.updateProjectSectionOrder(ee(ee({},s),{},{dialogDismissParams:e})),positiveButtonText:"REORDER SECTION",dismissPrefKey:"reorderSectionDismissed"})}),te(this,"handleCreateEmptySection",()=>{I.default.addProjectSection({index:1,sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:[]},shouldCalculateActualIndex:!0,syncWithApi:!0}),this.showToast({text:"Section created",source:"projectsContainer"})}),te(this,"handleCreateSectionFromProject",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o={sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:[e]},shouldCalculateActualIndex:!0,syncWithApi:!0};if(n){const n=k.default.findProjectOrganizationSection(e),r=n._id===t.sections[0]._id,a=k.default.getVisibleProjectsOfSection(t._id,n._id);if(!r&&1===a.length&&!i.moveProjectOutOfSectionDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${n.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>I.default.addProjectSection(ee(ee({},o),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}I.default.addProjectSection(o),this.showToast({text:"Section created",source:"projectsContainer"})}),te(this,"handleShowCannotDragToast",()=>{const{selectedSortType:e,filterValue:t}=this.state;let n;e!==q.SortTypes.SECTIONS?n="Unselect sort option to reorder":this.isWorkflowStatusFilterApplied?n="Reset status filter to reorder":t&&(n="Reset search to reorder"),n&&this.showToast({text:n,source:"showCannotDragToast"})}),te(this,"handleMouseDown",e=>{const{isPersonalWorkspace:t}=this.state;t||this.canEditSections||e.button!==Zeplin.MOUSE_BUTTON.LEFT||(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.handleShowCannotDragToast,Z.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS),document.addEventListener("mouseup",this.handleMouseUp))}),te(this,"handleMouseUp",()=>{clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}),te(this,"handleCollapseAllSections",()=>{const e=k.default.getExpandedSectionIds();e.length>0&&P.a.collapseSections(e)}),te(this,"handleExpandAllSections",()=>{const e=k.default.getCollapsedSectionIds();e.length>0&&P.a.expandSections(e)}),te(this,"handleKeyPress",e=>{this.shiftKeyPressed=e.shiftKey,this.shiftKeyPressed&&this.handleProjectHover(this.hoveredProjectId),Object(z.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(z.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),te(this,"handleKeyRelease",e=>{const{hoveredProjects:t}=this.state;t.length>0&&e.keyCode===Zeplin.KEY_CODE.SHIFT&&(this.shiftKeyPressed=!1,this.setState({hoveredProjects:[]}))}),te(this,"handleProjectHover",e=>{if(this.hoveredProjectId=e,this.selectionModeEnabled)if(this.shiftKeyPressed&&this.multipleSelectionBaseProject){const t=ne(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);this.setState({hoveredProjects:t})}else this.setState({hoveredProjects:[]});else{const{highlightedBarrels:t,pinnedBarrels:n}=this.state;!n.some(({barrelId:t})=>t===e)&&t.includes(e)&&P.a.unhighlightBarrel(e)}}),te(this,"handleProjectSelect",e=>{const{onEnableSelectMode:t}=this.props,{selectedProjects:n,pinnedBarrels:i}=this.state;if(0!==n.length)if(this.shiftKeyPressed&&this.selectionModeEnabled){const t=ne(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);t.every(e=>n.includes(e))?(this.multipleSelectionBaseProject=null,P.a.deselectProjects(t),this.setState({hoveredProjects:[]})):(this.multipleSelectionBaseProject=e,P.a.selectProjects(t))}else n.includes(e)?this.multipleSelectionBaseProject=null:this.multipleSelectionBaseProject=e,P.a.toggleProjectSelection(e);else t({pid:e,focusAreaVisible:i.length>0})}),te(this,"handleChangeBulkStatus",()=>{this.showToast({text:"Projects status changed",source:"projectsContainer"})}),te(this,"handleSectionClickFromElevator",e=>{P.a.highlightSection(e)}),te(this,"handlePinWarningAuntieAction",e=>{const{focusCountLimit:t}=this.state;I.default.hitPinLimit(ee(ee({},e),{},{focusCountLimit:t}))}),te(this,"handleOpenCopyProjectDialog",({barrelId:e,barrelName:t})=>{P.a.openDialog(q.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})}),te(this,"handleWorkflowStatusChange",e=>{P.a.changeWorkflowStatusFilter({workflowStatus:e})}),te(this,"handleDismissibleDialogPositiveButtonClick",()=>{P.a.closeDialog(),this.state.visibleDialogParams.positiveButtonClick()}),te(this,"handleTransferOwnership",({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const r=i?k.default.getOrganizationProfile(n):"owner",a=U.permissions.canChangePlan(r);T.default.initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:a})}),te(this,"handleUseOfferClick",()=>{location.assign(Object(V.urlResolve)("workspace-create",{query:{useOffer:!0,plan:"team"}}))}),te(this,"handleHideOfferClick",()=>{const{offer:{validUntil:e}}=this.state,t=new Date(e),n=new Date,i=Object(W.getDateDifference)("d",n,t);let o;o=i>10?new Date(n.getTime()+6048e5):i>3?new Date(t.getTime()-2592e5):new Date(n.getTime()+864e5),P.a.postponeOfferReminder(o)}),te(this,"handleWorkspaceScroll",e=>{cancelAnimationFrame(this.setScrollPositionDelayId),this.setScrollPositionDelayId=requestAnimationFrame(()=>{this.setState({scrollPositionOfWorkspace:e.target.scrollTop})})}),te(this,"renderProject",(e,t,n)=>{const{onCopyLink:o}=this.props,{currentOrganizationProfile:r,isPersonalWorkspace:a,currentUserId:s,pinnedBarrels:c,highlightedBarrels:d,scrollToHighlightedBarrel:u,firstHighlightedProject:p,selectedOrganization:h,selectedProjects:f,hoveredProjects:g,focusCountLimit:m}=this.state,b=c.some(({barrelId:t})=>t===e._id),S=!b&&d.includes(e._id),y=!b&&p===e._id&&u;let v;v=a?e.users.find(e=>e.user._id===s):r;const C=f.includes(e._id),O=g.includes(e._id);return i.h(l.default,{key:e._id,sectionId:n,sections:h&&h.sections,onDrop:this.handleProjectToSectionDrop,index:t,onProjectHover:this.handleProjectHover,onClick:this.handleProjectClick,onMouseDown:this.handleMouseDown,project:e,currentUser:v,onArchive:this.handleArchiveProject,onActivate:this.handleActivateProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:this.handleTransferOwnership,onDelete:this.handleDeleteProject,onInvite:T.default.inviteUser,onCopyLink:o,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,highlight:S,onProjectDidMount:this.handleProjectDidMount,pinned:b,scroll:y,onScrolled:P.a.scrolledToProject,shouldDisplayPinWarningAuntie:c.length===m,onPinWarningAuntieAction:this.handlePinWarningAuntieAction,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpin,onSelect:this.handleProjectSelect,isSelected:C,hasHover:O,selectionModeEnabled:this.selectionModeEnabled})}),te(this,"renderProjectSection",(e,t)=>{const{onCopyLink:n}=this.props,{highlightedSection:o,collapsedSections:r,selectedSortType:l}=this.state,c="individual"!==e.type||!!e.projects.length,d=l===q.SortTypes.SECTIONS&&"default"!==e.type&&"individual"!==e.type&&(e.links.length||e.projects.length||this.canEditSections);return c&&i.h(s.default,{collapsed:r[e._id],ref:Object(M.default)(this,e._id,"componentRefs"),key:e.key,index:t+1,data:e,highlight:e._id===o,actionsDisabled:l!==q.SortTypes.SECTIONS||"individual"===e.type,defaultSection:"default"===e.type,readOnly:!this.canEditSections||"individual"===e.type,shouldRenderSummary:d,showDescription:l===q.SortTypes.SECTIONS,onSectionDrop:this.handleSectionDrop,onProjectDrop:this.handleProjectToSectionHeaderDrop,onProjectToSectionDrop:this.handleProjectToSectionDrop,onCreateProjectClick:this.handleOpenCreateProjectDialog,onCopyLink:n},i.h(a.default,null,e.projects&&e.projects.map((t,n)=>this.renderProject(t,n,e._id))))}),te(this,"renderFocusedProjects",()=>{const{hideFocusedProjectsSection:e,onCopyLink:t}=this.props;if(e)return null;const{highlightedBarrels:n,firstHighlightedProject:o,focusedProjects:a,pinnedBarrelOnce:s,selectedOrganizationId:l,selectedOrganization:c={}}=this.state;return i.h("div",{key:"focus",ref:Object(M.default)(this,"focusedProjectsSection"),class:"projects"},i.h(r.default,{projects:a,highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:s,sections:c.sections,organizationId:l,organizationStatus:c.status,organizationSubscriptionStatus:c.subscriptionStatus,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:T.default.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:T.default.inviteUser,onProjectHover:P.a.unhighlightBarrel,onCopyLink:t,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned}))}),te(this,"renderTopSection",()=>{const{sections:e,filterValue:t,selectedSortType:n,selectedWorkflowStatusFilter:r,selectedProjects:a,movableSectionsForSelectMode:s}=this.state;return this.selectionModeEnabled?i.h(C.default,{sections:s,selectedProjects:a,onCreateSection:this.handleCreateNewSectionWithProjects,onMoveToSection:this.handleMoveSelectedProjectsToSection,onChangeStatus:this.handleChangeBulkStatus,onCancelSelectionMode:P.a.clearProjectSelection}):i.h(o.default,{onSort:P.a.changeProjectSelectedSortType,onToggleArchivedProjects:P.a.toggleArchivedProjects,onFilter:P.a.changeFilterValue,onSectionClick:this.handleSectionClickFromElevator,onSectionReorder:this.handleSectionDrop,onWorkflowStatusChange:this.handleWorkflowStatusChange,onCreateProject:this.handleOpenCreateProjectDialog,onCreateSection:this.handleCreateEmptySection,selectedSortType:n,selectedWorkflowStatusFilter:r,filterValue:t,sections:e})}),te(this,"renderOfferHintbox",()=>{const{shouldDisplayOfferHintbox:e,offer:t,currentPlan:n}=this.state;return e?i.h("div",{class:"offerHintboxContainer"},i.h(E.a,{currentPlan:n,offer:t,onUseOfferClick:this.handleUseOfferClick,onHideClick:this.handleHideOfferClick})):null}),te(this,"renderProjects",()=>{if(this.shouldDisplayEmptyProjects)return this.renderProjectsEmptyState();const{sections:e,collapsedSections:t,pinnedBarrels:n,scrollToHighlightedBarrel:o,highlightedSection:r,firstHighlightedProject:s,selectedOrganization:l,scrollPositionOfWorkspace:u}=this.state,p=e.find(e=>e.newSection),h=s&&!n.find(({barrelId:e})=>e===s)&&o?s:null,f=Math.max(0,u-Object(X.calculateScrollTopToIgnore)(n.length)),{surplusProjects:g,sections:m,placeholders:b}=l?Object(Y.virtualScrollProjectSections)({sections:e,collapsedSections:t,highlightedSection:p?p._id:r,projectToScroll:h,scrollPosition:f}):Object(Y.virtualScrollPersonalWorkspace)({section:e[0],projectToScroll:h,scrollPosition:f});return i.h(i.Fragment,null,this.shouldDisplaySectionOnboarding&&i.h(d.default,{onCreateSection:this.handleCreateEmptySection}),i.h(c.default,{key:"projectSectionsDragDropContainer",class:"projects",itemsClass:"projectsDragDropItems",disabled:!this.canEditSections||this.selectionModeEnabled},i.h("div",{key:"topPlaceholder",style:{height:b.top}}),g.length>0&&i.h(a.default,null,g.map(({project:e,indexInSection:t,sectionId:n})=>this.renderProject(e,t,n))),m.map(({rawSection:e,indexInWorkspace:t})=>this.renderProjectSection(e,t)),i.h("div",{key:"bottomPlaceholder",style:{height:b.bottom}})))})}static calculateState(){const{highlightedBarrels:e,highlightedSection:t,collapsedSections:n,selectedOrganizationId:i,filterValue:o,selectedProjectSortType:r,pinnedBarrelOnce:a,selectedWorkflowStatusFilter:s,visibleDialogType:l,visibleDialogParams:c,showArchivedProjects:d,offerReminderNextDate:u}=w.a.SpaceStore.getState(),{scrollToHighlightedBarrel:p}=w.a.WorkspaceScrollStore.getState(),{selectedProjects:h}=w.a.ProjectSelectionStore.getState(),{organizations:f,organizationProfiles:g,focusedBarrels:m,dialogDismissStates:b}=w.a.OrganizationStore.getState(),{projects:S,loadingProject:y}=w.a.ProjectsDataStore.getState(),{paymentPlan:v,userId:C,offers:O}=w.a.UserStore.getState(),{config:{countLimit:{focus:E},plans:T}}=w.a.AppStore.getState(),_=k.default.getOrganizationStyleguides(i)||[],P=S[c.previewBarrelId],j=f.find(e=>e._id===i),I=j&&j.name,R=j&&j.status,A=j&&j.subscriptionStatus,N=j?T.find(e=>e.id===j.paymentPlan):v,L=g[i],x=L&&L.restricted,M="user"===i,z=g[i],V=U.permissions.canUpdateProject(z),W=!!e.length&&e[0],F=b[i],H="suspended"===R||d,{projects:G=[],lookup:Z={}}=k.default.getOrganizationProjectsWithLookup({oid:i,archivedProjectsVisible:H})||{};let Y;if(!M)if(s===$.a.NoStatus._id)Y=$.a.NoStatus.name;else{const{name:e}=j&&j.workflowStatuses.find(({_id:e})=>e===s)||{};Y=e}let K=[],X=[];if(j){if(j.complete&&j.sections.length){const[e,...t]=j.sections;if(e.name="Individual Projects",e.type="individual",e.description="Individual projects that are not assigned to a section.",K=Object(B.filterSortProjectSections)({sections:[...t,e],projects:G,projectsLookup:Z,sortType:r,filterValue:o,statusFilter:s,shouldPutResultsToDefaultSection:!1}),X=j.sections.filter(e=>"individual"!==e.type&&!h.every(t=>e.projects.includes(t))),r===q.SortTypes.SECTIONS&&K.length){const e=K[K.length-1];e.projects=function(e,t){const n=e.reduce((e,{_id:n,users:i,updated:o})=>(e[n]={isJoined:i.some(({user:e})=>e._id===t),updatedDate:new Date(o)},e),{}),i=[...e];return i.sort((e,t)=>{const i=n[e._id].isJoined,o=n[t._id].isJoined;return i===o?n[t._id].updatedDate-n[e._id].updatedDate:o-i}),i}(e.projects,C)}}}else K=Object(B.filterSortProjectSections)({sections:[{_id:"personalProjectDefaultSection",name:"default",type:"default",projects:G.map(e=>e._id)}],projects:G,projectsLookup:Z,sortType:r,filterValue:o,shouldPutResultsToDefaultSection:!0});let Q=[],te=[];const ne=m[i];ne&&(Q=ne.map(({barrelId:e,unpinned:t})=>{const n=G.find(t=>t._id===e);return n?ee(ee({},n),{},{unpinned:t}):null}).filter(Boolean),te=ne.filter(e=>!e.unpinned));const ie=D.a.canCreateProject(),oe=L&&U.permissions.canManageWorkflowStatuses({role:L.role}),re=new Date,[ae]=O||[],se=ae&&new Date(ae.validUntil),le=M&&ae&&se>re&&u<re,ce=J()({projects:G,archivedProjectsVisible:H});return{sections:K,focusedProjects:Q,pinnedBarrels:te,pinnedBarrelOnce:a,selectedOrganizationId:i,selectedOrganizationName:I,selectedOrganizationStatus:R,selectedOrganizationSubscriptionStatus:A,isPersonalWorkspace:M,projects:S,highlightedBarrels:e,scrollToHighlightedBarrel:p,highlightedSection:t,collapsedSections:n,firstHighlightedProject:W,selectedSortType:r,archivedProjectsVisible:H,selectedWorkflowStatusFilter:s,selectedWorkflowStatusName:Y,filterValue:o,visibleDialogType:l,visibleDialogParams:c,dismissedDialogs:F,organizations:f,organizationProfiles:g,organizationProjects:G,organizationStyleguides:_,selectedOrganization:j,canCreateProject:ie,canUpdateProject:V,currentOrganizationProfile:L,restrictedUser:x,currentPlan:N,currentUserId:C,loadingProject:y,previewProject:P,selectedProjects:h,movableSectionsForSelectMode:X,canManageWorkflowStatuses:oe,focusCountLimit:E,shouldDisplayOfferHintbox:le,offer:ae,workflowStatusCounts:ce}}static getStores(){return[w.a.ProjectsDataStore,w.a.SpaceStore,w.a.ProjectSelectionStore,w.a.OrganizationStore,w.a.UserStore,w.a.AppStore]}get hasPaidPlan(){const{currentPlan:e}=this.state;return e.group!==q.PlanGroup.FREE}get selectionModeEnabled(){const{selectedProjects:e}=this.state;return e.length>0}get isWorkflowStatusFilterApplied(){const{selectedWorkflowStatusFilter:e}=this.state;return e&&e!==$.a.All._id}get canEditSections(){const{isPersonalWorkspace:e,canCreateProject:t,selectedSortType:n,filterValue:i}=this.state;return!e&&t&&n===q.SortTypes.SECTIONS&&!this.isWorkflowStatusFilterApplied&&!i}get isOrganizationSuspended(){const{selectedOrganizationStatus:e}=this.state;return"suspended"===e}get shouldDisplayEmptyProjects(){const{sections:e}=this.state;return 0===e.reduce((e,t)=>t.projects.length+e,0)}get shouldDisplaySectionOnboarding(){const{sections:e}=this.state;return this.canEditSections&&e.length<=1}componentDidMount(){this.toastContainer=this.props.toastContainer,document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.addEventListener("scroll",this.handleWorkspaceScroll)}componentDidUpdate(e,t){const{setScrollPositionOfWorkspace:n}=this.props;this.state.selectedOrganizationId!==t.selectedOrganizationId?n(0):1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&this.state.pinnedBarrelOnce&&this.nodeRefs.focusedProjectsSection&&n(this.nodeRefs.focusedProjectsSection.clientHeight,{increment:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.removeEventListener("scroll",this.handleWorkspaceScroll)}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:o,canCreateProject:r,canManageWorkflowStatuses:a,filterValue:s,currentUserId:l,organizationProjects:c,organizationStyleguides:d,archivedProjectsVisible:u,selectedWorkflowStatusName:p,focusCountLimit:h,workflowStatusCounts:f}=this.state;return ee(ee({},this.context),{},{selectedOrganizationId:n,selectedOrganizationName:i,selectedOrganizationProjects:c,selectedOrganizationStyleguides:d,selectedWorkflowStatusName:p,organizations:e,organizationProfiles:t,currentOrganizationProfile:o,canCreateProject:r,canManageWorkflowStatuses:a,canEditSections:this.canEditSections,filterValue:s,currentUserId:l,focusCountLimit:h,archivedProjectsVisible:u,workflowStatusCounts:f,onSetSectionDescriptionHeight:Y.setSectionDescriptionHeight})}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t,loadingProject:n,previewProject:o}=this.state;switch(e){case q.DialogTypes.CREATE_PROJECT:return i.h(h.default,{oseid:t.oseid,onCreate:this.handleCreateProject,onClose:P.a.closeDialog});case q.DialogTypes.RESTRICTED_EDITOR_WARNING:return i.h(u.DismissibleOverlayDialog,{title:t.title,message:t.message,dismissPrefKey:t.dismissPrefKey,onPositiveButtonClick:this.handleDismissibleDialogPositiveButtonClick,onNegativeButtonClick:P.a.closeDialog,onClose:P.a.closeDialog,positiveButtonText:t.positiveButtonText,negativeButtonText:"CANCEL",hideNegativeButton:!1});case q.DialogTypes.PREVIEW_PROJECT:return i.h(p.default,{loading:n,onClose:P.a.closeDialog,onJoin:this.handleProjectPreviewJoin,project:o});case q.DialogTypes.COPY_BARREL:return i.h(g.a,{barrelType:H.a.PROJECT,barrelName:t.barrelName,barrelId:t.barrelId,onCopy:this.handleCopyProject,onClose:P.a.closeDialog});case q.DialogTypes.ASYNC_COPY_BARREL:return i.h(b.a,{barrelType:H.a.PROJECT,barrelName:t.barrelName,onClose:P.a.closeDialog})}}renderNoProjects(){const{organizations:e,hasPaidPlan:t}=this.state,n=e.find(({status:e})=>"deleted"!==e);return i.h(S.default,{hasPaidPlan:t,availableOrganization:n,onCreate:this.handleOpenCreateProjectDialog,onCheckoutOrganization:P.a.changeSelectedOrganization})}renderSuspendedOrganization(){const{selectedOrganizationId:e,selectedOrganizationSubscriptionStatus:t,currentOrganizationProfile:{role:n}}=this.state;return i.h(v.default,{organizationId:e,subscriptionStatus:t,memberRole:n})}renderProjectsEmptyState(){return!this.isOrganizationSuspended&&i.h(y.default,null)}render(){const{organizationProjects:e}=this.state;return i.h("div",{ref:Object(M.default)(this,"base"),class:"projectsContainer"},0===e.length?this.renderNoProjects():i.h(i.Fragment,null,this.renderFocusedProjects(),this.renderTopSection(),this.isOrganizationSuspended&&this.renderSuspendedOrganization(),this.renderOfferHintbox(),this.renderProjects()),this.renderDialogs())}}t.default=L()(Object(x.default)(ie),{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(877);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(878),r=n(884),a=n(517),s=n(890),l=n(905),c=n(314),d=n.n(c),u=n(232);n(925);function p(e,t){const{onSectionClick:n,onSectionReorder:o,onWorkflowStatusChange:r,onSort:c,onToggleArchivedProjects:p,selectedSortType:h,selectedWorkflowStatusFilter:f,sections:g}=e,{selectedOrganizationId:m,canEditSections:b,archivedProjectsVisible:S}=t,y="user"===m,v=!y&&g.length>=3,C=function(e){const t=[{label:"Sort by Created",dropdownLabel:"Created",value:u.SortTypes.CREATED},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:u.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:u.SortTypes.NAME},{label:"Show Archived Projects",dropdownLabel:"Show Archived Projects",value:"showArchivedProjects",class:"archivedProjectsOption"}];return e?t:[{label:"Sort by Sections",dropdownLabel:"Sections",value:u.SortTypes.SECTIONS},...t]}(y);return i.h(i.Fragment,null,v&&i.h(s.default,{sections:g,onSectionClick:function(e){n(e),mixpanel.master.track("Navigated to project section",{"Sorted By":C.find(({value:e})=>e===h).dropdownLabel})},onSectionReorder:o,selectedSortType:h,reorderEnabled:b}),i.h(a.default,{class:"projectsSortDropdown",optionsClass:"projectsSortOptions",onChange:function(e){"showArchivedProjects"===e?p():c(e)}},C.map(({label:e,dropdownLabel:t,value:n,class:o})=>i.h(a.default.Item,{class:o,key:n,value:n,label:e,dropdownLabel:t,selected:n===h||"showArchivedProjects"===n&&S}))),!y&&i.h(l.default,{onWorkflowStatusChange:r,selectedWorkflowStatusFilter:f,defaultWorkflowStatus:d.a.All,showAllStatus:!0,showDropdownChevron:!0}))}function h(e,t){const{onCreateProject:n,onCreateSection:r}=e,{currentOrganizationProfile:a,selectedOrganizationId:s,canCreateProject:l}=t;if(!l)return null;const c=a&&a.restricted,d="user"===s;return i.h(o.default,{onCreateProject:n,canCreateSection:!c&&!d,onCreateSection:r})}t.default=function({onFilter:e,onCreateProject:t,onCreateSection:n,onSectionClick:o,onSort:a,onToggleArchivedProjects:s,onSectionReorder:l,onWorkflowStatusChange:c,filterValue:d,sections:u,selectedSortType:f,selectedWorkflowStatusFilter:g}){return i.h(r.default,{onFilter:e,filterValue:d,searchPlaceholder:"Search for a project",searchPlaceholderWidth:131,leftContent:!d&&i.h(p,{onSectionClick:o,onSectionReorder:l,onWorkflowStatusChange:c,onSort:a,onToggleArchivedProjects:s,sections:u,sortOptionsClass:"projectsSortOptionsClass",selectedSortType:f,selectedWorkflowStatusFilter:g}),rightContent:i.h(h,{onCreateProject:t,onCreateSection:n}),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(879);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(522),s=n(399),l=n(404),c=n(442),d=n(880);n(883);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({onCreateProject:e,onCreateSection:t,canCreateSection:n}){const o=Object(a.useRef)(null),[r,u]=Object(a.useReducer)((e,t)=>p(p({},e),t),{menuOpen:!1,menuOrigin:{}});function h(){if(o.current&&!r.menuOpen){const{left:e,top:t,height:n}=o.current.getBoundingClientRect(),i=28;return u({menuOpen:!r.menuOpen,menuOrigin:{x:e-i,y:t+n}})}u({menuOpen:!r.menuOpen})}return i.h("div",{class:"buttonDropdownWrapper",ref:o},i.h(l.default,{class:Object(s.default)({canCreateSection:n}),onClick:e,primary:!0},"Create Project"),n&&i.h("button",{class:"buttonDropdown",onClick:h},i.h(c.IconArrowDown,{width:"9",color:"white",class:"chevron"})),r.menuOpen&&i.h(d.default.withAutoPosition,{class:"createContextMenu",onClose:h,autoPosition:{menuContainer:".buttonDropdownWrapper",clickOrigin:r.menuOrigin}},i.h(d.default.Item,{onClick:t},"Create section")))}f.propTypes={onCreateProjectClick:r.a.func.isRequired,canCreateSection:r.a.bool,onCreateSectionClick:r.a.func},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(881);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(248);n(882);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(o.default)("menuitem",{warning:t}),onClick:this.handleClick},e)}}class l extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:s,style:l,onMouseDown:c}=this.props;return i.h("div",{ref:Object(r.default)(this,"base"),class:Object(o.default)("contextMenu",s,{toLeft:t,toTop:n}),style:l,onMouseDown:c,onClick:a.stopPropagation},e)}}class c extends i.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{limitingElement:t,menuContainer:n,clickOrigin:i,preventOverflow:o,offset:r}=e,{left:a,top:s,toLeft:l,toTop:c}=this.state,d=this.nodeRefs.contextMenu.base,u=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),p="string"==typeof t?document.querySelector(t):t,h=p?window.innerWidth-p.getBoundingClientRect().x+4:0,f=i.x-u.left+2+"px";let g=i.y-u.top+2+"px";const m=i.x+h+d.offsetWidth>window.innerWidth,b=i.y+d.offsetHeight>window.innerHeight,S=u.top+window.pageYOffset;b&&o&&S<d.offsetHeight&&(g=d.offsetHeight-S+r+"px"),f===a&&g===s&&m===l&&b===c||this.setState({left:f,top:g,toLeft:m,toTop:b})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:a,top:s,toLeft:c,toTop:d}=this.state,u=n?n.zIndex:null;return i.h(l,Object.assign({},e,{toTop:d,toLeft:c,class:Object(o.default)(t,{autoPositioned:!!n}),style:{left:a,top:s,zIndex:u},ref:Object(r.default)(this,"contextMenu")}))}}l.Item=s,l.ItemDivider=()=>i.h("hr",null),l.withAutoPosition=c,t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(885);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(886);n(889);function l({class:e,filterValue:t,onFilter:n,leftContent:o,rightContent:r,searchPlaceholder:l,searchPlaceholderWidth:c,searchDisabled:d,sticky:u}){return i.h("div",{class:Object(a.default)("filterBar",{sticky:u},e)},i.h("div",{class:"bumper"},o),i.h(s.default,{placeholder:l,placeholderWidth:c,value:t,onFilter:n,disabled:d}),i.h("div",{class:"bumper"},r))}l.propTypes={searchPlaceholder:r.a.string,searchPlaceholderWidth:r.a.number.isRequired,filterValue:r.a.string,onFilter:r.a.func.isRequired,leftContent:r.a.node,rightContent:r.a.node,searchDisabled:r.a.bool,sticky:r.a.bool},l.defaultProps={filterValue:"",searchDisabled:!1,sticky:!1,class:""},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(887);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442),r=n(399),a=n(420),s=n(247),l=n(229),c=n(248);n(888);const{h:d}=i;class u extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,200,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(l.cmdKey)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(s.highlightInput)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{class:e,placeholder:t,placeholderWidth:n,disabled:s}=this.props,{focusWithin:l,value:d}=this.state,u=Object(r.default)("filterInput noSelect",e,{focusWithin:l}),p=l||d?null:{width:n};return i.h("label",{onClick:c.stopPropagation,class:u},i.h(o.IconMagnifier,null),i.h("input",{style:p,type:"search",placeholder:t,value:d,ref:Object(a.default)(this,"input"),disabled:s,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(891);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(522),r=n(5),a=n.n(r),s=n(892),l=n(897),c=n(900),d=n(232),u=n(399),p=n(331),h=n(903);n(904);const f=()=>i.h("hr",{class:"sectionElevatorDivider"});function g({sections:e,selectedSortType:t,reorderEnabled:n,onSectionClick:r,onSectionReorder:a}){const[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,v]=Object(o.useState)(null),[C,O]=Object(o.useState)(null),{initSectionObserver:E,disconnectSectionObserver:T}=Object(h.useSectionObserver)(),_=Object(o.useRef)(null),P=Object(o.useRef)(new Set),j=Object(o.useRef)(null),D=Object(o.useRef)(e);if(!e.length)return null;const k=function(e,t){if(t===d.SortTypes.SECTIONS){if("default"===e[0].type)return 1;if("individual"===e[e.length-1].type)return e.length-1}return t===d.SortTypes.NAME&&"#"===e[0].name?1:-1}(e,t);function I(){b||m(!1)}function R(e){r(e),I()}function A(e){let t=!1;const{current:n}=P,{current:i}=D;if(e.forEach(e=>{const{isIntersecting:i,target:{dataset:{id:o}},intersectionRatio:r,intersectionRect:{height:a}}=e,s=n.has(o),l=i&&(1===r||a>100);l&&!s?(n.add(o),t=!0):!l&&s&&(n.delete(o),t=!0)}),!t)return;n.forEach(e=>{i.some(t=>t._id===e)||n.delete(e)});const o=i.find(e=>n.has(e._id));o&&C!==o._id&&(window.clearTimeout(j.current),j.current=window.setTimeout(e=>{O(o._id)},80))}return Object(o.useEffect)(()=>{const e=Object(p.populateArrayOfConstantIncrements)(0,1,20);return E(new IntersectionObserver(A,{threshold:e})),function(){T()}},[]),Object(o.useLayoutEffect)(()=>{D.current=e,P.current=new Set},[e]),i.h(s.default,{key:"elevatorDragDropContainer",itemsClass:"elevatorItems",onStartDrag:function(){S(!0)},getScrollableDropContainers:function(){return[_.current]},onEndDrag:function(){S(!1),v(null)}},i.h(l.default,{open:g,class:Object(u.default)("sectionElevator",{narrow:t===d.SortTypes.NAME}),dragMode:b,onOpen:function(){m(!0)},onContentRef:function(e){_.current=e},onClose:I},e.map((e,t)=>function(e){return!("individual"===e.type&&!e.projects.length||"default"===e.type&&!e.screens.length)}(e)&&i.h(i.Fragment,{key:"sectionElevatorItem-"+e._id},t===k&&i.h(f,null),i.h(c.DragDropSectionElevatorItem,{index:t+1,dragMode:b,isDragging:y===e._id,setDragSection:v,reorderEnabled:n&&"individual"!==e.type,section:e,onClick:R,highlight:C===e._id,onSectionDrop:a})))))}g.defaultProps={sections:[]},g.propTypes={sections:a.a.array,selectedSortType:a.a.string.isRequired,reorderEnabled:a.a.bool,onSectionClick:a.a.func.isRequired,onSectionReorder:a.a.func},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(893);n.d(t,"DragSource",(function(){return i.default}));var o=n(894);n.d(t,"DropTarget",(function(){return o.default}));var r=n(895);n.d(t,"default",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(248);const a={allowX:!0,allowY:!0,movingThreshold:12};t.default=function(e={}){const t=Object.assign({},a,e);return Component=>class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(o.default)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=t.allowX?Math.abs(e.clientX-this.state.originX):0,i=t.allowY?Math.abs(e.clientY-this.state.originY):0;Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(e.stopPropagation(),this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){const n=this.nodeRefs.base.getBoundingClientRect(),i={left:e.clientX-n.left,top:e.clientY-n.top};this.dragStartTimeout=!1;const o=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:n,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:o,dragOffset:i,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:r.preventDefault},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(248);t.default=function(e={}){return Component=>class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const o=()=>{i=!1},a=this.nodeRefs.base.getBoundingClientRect(),s={x:t.left,y:t.top},{discardHorizontalPosition:l,discardVerticalPosition:c}=e;return!!Object(r.rectContainsPoint)(a,s,{discardHorizontalPosition:l,discardVerticalPosition:c})&&(e.onDrop&&e.onDrop(this.props,n,o),i)}checkHover(t,n){if(!this.acceptsItemType(n.draggingItemType,"drag"))return;const i=this.nodeRefs.base.getBoundingClientRect(),o={x:t.left,y:t.top},{discardHorizontalPosition:a,discardVerticalPosition:s}=e;if(Object(r.rectContainsPoint)(i,o,{discardHorizontalPosition:a,discardVerticalPosition:s}))return e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0));this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(o.default)(this,"base")},i.h(Component,this.props))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),r=n(558),a=n(399),s=n(420),l=n(247),c=n(248),d=n(5),u=n.n(d);n(896);class p extends r.default{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:r}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:r}}render(){const{class:e,baseRef:t,items:n,onScroll:o}=this.props;return i.h("div",{class:e,ref:t,onScroll:o},n)}}function h(e){return{top:e.top+window.scrollY,left:e.left}}class f extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.scrollableDropContainers=null,this.lastScrolledDropContainer=null,this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){const{base:e,mirror:t}=this.nodeRefs;if(!t)return;cancelAnimationFrame(this.scrollRootAF);const{mirrorPosition:n}=this.state;let i=this.lastScrolledDropContainer||e;if(i.scrollHeight<=i.clientHeight&&(i=Object(l.getFirstScrollableParent)(i)||i),this.scrollableDropContainers)for(let l of this.scrollableDropContainers){const e=l.getBoundingClientRect(),t={x:n.left,y:n.top};if(Object(c.rectContainsPoint)(e,t)){i=l,this.lastScrolledDropContainer=l;break}}const o=t.getBoundingClientRect(),r=i.getBoundingClientRect(),a=o.top-.1*o.height-r.top;if(a<0&&i.scrollTop>0)return i.scrollTop+=a,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const s=n.top-window.scrollY,d=o.top+.1*o.height-r.bottom,u=s+30-r.bottom,p=d>0?d:u;p>0&&i.scrollTop+i.offsetHeight+.1*o.height<i.scrollHeight&&(i.scrollTop+=p,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{!this.props.enableDropOntoMultipleTargets&&t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:r,position:a}){const{disabled:s,getScrollableDropContainers:l}=this.props;s||(this.lastScrolledDropContainer=null,this.scrollableDropContainers=l&&l(),this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:r,mirrorPosition:h(a)},()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()}))}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:h(e)})}handleEndDrag(){this.props.disabled||(this.scrollableDropContainers=null,this.setState({dragging:!1},()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()}))}handleBaseRef(e){Object(s.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}}))}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:r,noScroll:l,onScroll:c}=this.props,{dragging:d,sourceRect:u,mirrorComponent:h,mirrorZIndex:f,dragData:g,mirrorPosition:m,dragOffset:b}=this.state,S=Object(a.default)("dragDropItems",r,{noScroll:l});return i.h("div",{class:Object(a.default)("dragDropContainer",e)},i.h(p,{class:S,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(o.default,null,i.h("div",{ref:Object(s.default)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${m.left-b.left}px, ${m.top-b.top}px)`,zIndex:f}},i.h(h,Object.assign({},g,{sourceRect:u})))))}}f.propTypes={onStartDrag:u.a.func,onEndDrag:u.a.func,disabled:u.a.bool,class:u.a.string,itemsClass:u.a.string,noScroll:u.a.bool,enableDropOntoMultipleTargets:u.a.bool,children:u.a.node},t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(898);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(522),r=n(5),a=n.n(r),s=n(519),l=n(503),c=n.n(l),d=n(399);n(899);function u({class:e,open:t,onOpen:n,onClose:r,onContentRef:a,dragMode:l,children:u}){const p=Object(o.useRef)(null),h=Object(o.useRef)(null),f=Object(o.useRef)(t),[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,v]=Object(o.useState)(0);function C(){n(),m(!1)}function O(){r(),S(!1)}return Object(o.useLayoutEffect)(()=>{f.current=t},[t]),Object(o.useLayoutEffect)(()=>{if(!t)return;if(h.current.scrollHeight>h.current.clientHeight)return void v(78);const e=p.current.getBoundingClientRect(),n=(e.top+e.bottom)/2,i=n/window.innerHeight,o=Math.max(n-h.current.clientHeight*i,78);v(o)},[window.innerHeight,t,h.current?h.current.clientHeight:0]),i.h(i.Fragment,null,i.h("div",{class:"elevatorIconWrapper",ref:p,onMouseEnter:function(){l||(clearTimeout(O),m(!0),setTimeout(C,300))}},i.h(c.a,null)),(g||t)&&i.h(s.default,null,i.h("div",{class:"elevatorBackdrop"},i.h("div",{class:Object(d.default)("elevatorContent",{open:t,closing:b},e),style:{top:y},ref:function(e){h.current=e,a(e)},onMouseLeave:function(){!f.current||g||l||(S(!0),setTimeout(O,350))}},u))))}u.propTypes={class:a.a.string,open:a.a.bool.isRequired,onOpen:a.a.func.isRequired,onClose:a.a.func.isRequired,children:a.a.node},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(901);n.d(t,"default",(function(){return i.default})),n.d(t,"DragDropSectionElevatorItem",(function(){return i.DragDropSectionElevatorItem}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropSectionElevatorItem",(function(){return f}));var i=n(4),o=n(522),r=n(892),a=n(504),s=n.n(a),l=n(399),c=n(248);n(902);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const u=["projects","screens","components"];function p({section:e,reorderEnabled:t,highlight:n,mirror:r,isDragging:a,dragMode:c,targetPosition:d,onClick:p}){const h=Object(o.useRef)(null);return Object(o.useEffect)(()=>{n&&h.current.scrollIntoView()},[n]),i.h("div",{ref:h,class:Object(l.default)("sectionElevatorItem","noSelect",d,{hidden:a,dragMode:c,mirror:r}),onClick:function(){p(e._id)}},i.h("div",{class:Object(l.default)("sectionElevatorItemContent",{highlight:n})},t&&i.h("div",{class:"dragHandleWrapper"},i.h(s.a,null)),i.h("span",{className:"sectionName ellipsis"},"default"===e.type?"No Section":e.name),i.h("span",{className:"sectionItemCount"},function(e){const t=u.find(t=>t in e);return t?e[t].length:0}(e))))}const h=Object(c.pipe)(Object(r.DragSource)({itemType:"SectionElevatorItem",mirrorComponent:e=>{let t=Object.assign({},e);return i.h(p,d({mirror:!0},t))},mirrorZIndex:1e3,onStartDrag:e=>e.onStartDrag(),provideDragData:e=>e}),Object(r.DropTarget)({acceptsItemType:"SectionElevatorItem",discardHorizontalPosition:!0,onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.section._id,sourceIndex:t.dragData.index}),onHover:(e,t)=>e.onMirrorHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left}),onHoverOut:(e,t)=>e.onMirrorHoverOut({top:t.mirrorPosition.top,left:t.mirrorPosition.left})}))(p);function f(e){const t=Object(o.useRef)(null),[n,r]=Object(o.useState)("");return e.reorderEnabled?i.h(h,d({},e,{ref:t,targetPosition:n,onStartDrag:function(){const{setDragSection:t,section:{_id:n}}=e;t(n)},onMirrorHover:function(e){const{base:i}=t.current,o=i.getBoundingClientRect(),a=n?34:0,s=("top"===n?o.top+a:o.top)+(o.height-a)/2,l=e.top>=s?"bottom":"top";n!==l&&r(l)},onMirrorHoverOut:function(e){n&&r("")},onDrop:function({sourceId:t,sourceIndex:i}){if(!n)return;const{index:o,onSectionDrop:r}=e,a="bottom"===n;let s=o;i>o&&a&&(s=o+1),i<o&&!a&&(s=o-1),r({sourceId:t,sourceIndex:i,moveIndex:s})}})):i.h(p,e)}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"SectionObserverContext",(function(){return r})),n.d(t,"SectionObserverProvider",(function(){return a})),n.d(t,"useSectionObserver",(function(){return s}));var i=n(4),o=n(522);const r=i.createContext({});function a(e){const[t,n]=Object(o.useState)(null),a=Object(o.useRef)(null);return i.h(r.Provider,{value:{sectionObserver:t,initSectionObserver:function(e){n(e),a.current=e},disconnectSectionObserver:function(){a.current&&a.current.disconnect()}}},e.children)}const s=()=>Object(o.useContext)(r)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(906);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(907),r=n(846),a=n(314),s=n.n(a),l=n(244),c=n(249);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),p(this,"handleWorkflowStatusChange",e=>{const{onWorkflowStatusChange:t}=this.props,{workflowStatus:n}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e);t(n)}),p(this,"handleAddButtonClick",e=>{e.stopPropagation();const t=this.workflowStatuses.filter(({workflowStatus:{name:e}})=>e.startsWith("New Status")),{workflowStatus:{name:n}={}}=t[t.length-1]||{},i=s.a.generateNew(n);r.default.addOrganizationWorkflowStatus({workflowStatusData:i,syncWithApi:!1})}),p(this,"handleWorkflowInputBlur",(e,t,n)=>{const{_id:i}=e,o=u(u({},e),{},{name:t});i.startsWith("newWorkflowStatusId")?n?r.default.deleteOrganizationWorkflowStatus({workflowStatusId:o._id,syncWithApi:!1}):r.default.addOrganizationWorkflowStatus({workflowStatusData:o,syncWithApi:!0}):n||e.name===t||r.default.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})}),p(this,"handleUpdateWorkflowStatusColor",(e,t)=>{r.default.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})}),p(this,"handleDeleteWorkflowStatus",e=>{const{count:t}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e),n=1===t?"is":"are",i=1===t?"this project.":"all of these projects.";if(t)return l.create({message:`There ${n} ${Object(c.pluralize)(t,"project")} using this status. Deleting the status will remove it from ${i}`,done:{name:"DELETE",cb(){r.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const o=e.startsWith("newWorkflowStatusId");r.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!o})})}get workflowStatuses(){const{showAllStatus:e,hideNoStatusWhenCountIsZero:t}=this.props,{organizations:n,selectedOrganizationId:i,workflowStatusCounts:o}=this.context,{workflowStatuses:r}=n.find(({_id:e})=>e===i)||{};return function({workflowStatusCounts:e,workflowStatuses:t=[],options:{showAllStatus:n=!1,hideNoStatusWhenCountIsZero:i=!0}}){const o=[],r={workflowStatus:s.a.All};n&&o.push(r);const a=t.map(({_id:t,name:n,color:i})=>({workflowStatus:new s.a({_id:t,name:n,color:i}),count:e[t]||0}));o.push(...a);const l=e[s.a.NoStatus._id];return(l>0||!i)&&o.push({workflowStatus:s.a.NoStatus,count:l}),o}({workflowStatusCounts:o,workflowStatuses:r,options:{showAllStatus:e,hideNoStatusWhenCountIsZero:t}})}render(){const{defaultLabel:e,defaultWorkflowStatus:t,showDropdownChevron:n,dropdownAlignRight:r,showSelectedAsLabel:a,selectedWorkflowStatusFilter:s,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d,dropdownClass:u,disabled:p,onDropdownClick:h}=this.props;return i.h(o.default,{dropdownClass:u,onDropdownClick:h,workflowStatuses:this.workflowStatuses,selectedWorkflowStatusFilter:s,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,defaultLabel:e,defaultWorkflowStatus:t,showSelectedAsLabel:a,showChevron:n,alignRight:r,disabled:p,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d})}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(908);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(517),r=n(404),a=n(909),s=n(912),l=n(914),c=n.n(l),d=n(619),u=n(420),p=n(399),h=n(923),f=n(248),g=n(328),m=n(314),b=n.n(m);n(924);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{customizing:1===this.props.workflowStatuses.length&&this.props.openCustomizeEmptyStateInitially,dropdownOpen:!1}),S(this,"handleDropdownStateChange",e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState(t=>({dropdownOpen:e,customizing:!n&&t.customizing}))}),S(this,"handleCustomizeClick",e=>{e.stopPropagation(),this.setState({customizing:!0})}),S(this,"handleDoneClick",e=>{const{workflowStatuses:t,openCustomizeEmptyStateInitially:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))}),S(this,"renderWorkflowStatusLabel",({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(c.a,{color:Object(g.getColorName)(e)}),i.h("span",{class:"ellipsis"},t))),S(this,"renderFooter",()=>{const{customizing:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:n}=this.context;return i.h("div",{key:"workflowStatusOptionsFooter",class:Object(p.default)("workflowStatusOptionsFooter",{customizing:e}),onClick:f.stopPropagation},t?i.h(r.default,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(d.default,{content:Object(h.default)(n.role,"customize statuses")},i.h(r.default,{ninja:!0,disabled:!0},"Customize")))}),S(this,"renderCustomize",()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:r}=this.props,s=e.filter(({workflowStatus:{_id:e}})=>e!==b.a.All._id&&e!==b.a.NoStatus._id);return i.h(a.default,{workflowStatuses:s,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:r})}),S(this,"renderWorkflowStatusItem",({workflowStatus:{_id:e,name:t,color:n},count:r})=>{const{selectedWorkflowStatusFilter:a,onUpdateWorkflowStatusColor:l,hideStatusCount:c,hideNoStatusIfSelected:d}=this.props,u=e===a;if(d&&e===b.a.NoStatus._id&&u)return null;const p=![b.a.All._id,b.a.NoStatus._id].includes(e);return i.h(o.default.Item,{key:e,label:this.renderWorkflowStatusLabel({color:n,name:t}),value:e,selected:u},i.h("div",{class:"workflowStatusItemWrapper"},i.h(s.default,{itemId:e,selectedColor:Object(g.getColorName)(n),colorSelectable:p,onColorClick:l,selected:u}),i.h("div",{class:"label ellipsis"},t),!c&&r>0&&i.h("span",{class:"labelInfo"},r)))}),S(this,"renderWorkflowStatuses",()=>{const{workflowStatuses:e}=this.props,{customizing:t}=this.state;return i.h("div",{key:"workflowStatusOptions",class:Object(p.default)("workflowStatusDropdownOptionsWrapper",{customizing:t})},e.map(e=>this.renderWorkflowStatusItem(e)))})}componentDidUpdate(e,t){const{workflowStatuses:n,openCustomizeEmptyStateInitially:i}=this.props;if(e.workflowStatuses.length!==n.length&&i){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{dropdownClass:e,onWorkflowStatusChange:t,disabled:n,defaultLabel:r,defaultWorkflowStatus:a,showChevron:s,alignRight:l,showSelectedAsLabel:c,onDropdownClick:d}=this.props,{customizing:h,dropdownOpen:f}=this.state,g=Object(p.default)("workflowStatusFilter",e,{dropdownOpen:f}),m=a?this.renderWorkflowStatusLabel(a):r;return i.h(o.default,{class:g,ref:Object(u.default)(this,"dropdown"),defaultLabel:m,showSelectedAsLabel:c,optionsClass:"workflowStatusOptions",onChange:t,onDropdownClick:d,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:h,showCheck:!1,showChevron:!!s,alignRight:!!l,disabled:n},this.renderWorkflowStatuses(),this.renderFooter(),h&&this.renderCustomize())}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(910);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(911),a=n(919),s=n(619),l=n(248),c=n(399),d=n(420);n(922);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{inputFocused:!1,discard:!1,scrolling:!1}),u(this,"updateScrolling",()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))}),u(this,"handleInputDeleteClick",(e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)}),u(this,"handleInputFocus",()=>{this.setState({inputFocused:!0})}),u(this,"handleInputBlur",(e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,o=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,r=i||o||!e.target.value;n(t,e.target.value,r),this.setState({discard:!1,inputFocused:!1})}),u(this,"handleKeyDown",e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},()=>{e.target.blur()}):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()}),u(this,"renderAddButton",()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return 20===e?i.h(s.default,{content:"A workspace can have at most 20 statuses."},i.h(o.default,{ninja:!0,disabled:!0},"Add")):i.h(o.default,{key:"add",onClick:t,ninja:!0},"Add")}),u(this,"renderInputsOrEmptyState",()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(d.default)(this,"workflowStatusItemsWrapper")},e.map(({workflowStatus:e})=>i.h(r.default,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")}))):i.h(a.default,null)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:Object(c.default)("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.stopPropagation},this.renderAddButton(),i.h(o.default,{key:"done",onClick:t,ninja:!0},"Done")))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(912),r=n(442),a=n(420),s=n(248),l=n(328);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleInputBlur",(e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)}),c(this,"handleInputDeleteClick",(e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)})}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.getColorName)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:s.stopPropagation},d&&i.h(o.default,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(a.default)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(r.IconDelete,null)))}}d.defaultProps={colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(913);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(914),s=n.n(a),l=n(328),c=n(248),d=n(399),u=n(917);n(918);class p extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemId:n,onColorClick:i,selectedColor:o}=this.props;t!==o&&i&&(e.stopPropagation(),i(n,new u.Color(Object(l.getColorValueByName)(t))))},(n="handleColorClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:Object(d.default)("colorSelector",{selectable:t}),onClick:c.stopPropagation},i.h(s.a,{key:e+"-viewOnly",color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},l.colorNames.map(t=>i.h(s.a,{key:t+"-colorDot",color:t,selected:t===e,onClick:this.handleColorClick})))))}}p.propTypes={itemId:r.a.string,selected:r.a.bool,selectedColor:r.a.string,colorSelectable:r.a.bool,onColorClick:r.a.func},p.defaultProps={size:"small",colorSelectable:!0},t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(915);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399));n(916);t.default=({class:e,size:t="small",color:n="karl",selected:i,mainColor:a,onClick:s})=>o.h("div",{class:r.default("colorDot",e,t,n,{selected:i,mainColor:a,clickable:!!s}),onClick:e=>{null==s||s(e,n)}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(253);n.d(t,"Color",(function(){return i.default}));var o=n(299);n.d(t,"Fill",(function(){return o.default}));var r=n(302);n.d(t,"Font",(function(){return r.default}));var a=n(300);n.d(t,"Gradient",(function(){return a.default}));var s=n(295);n.d(t,"Layer",(function(){return s.default}));var l=n(320);n.d(t,"Barrel",(function(){return l.default}));var c=n(304);n.d(t,"Shadow",(function(){return c.default}))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(920);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(921);t.default=()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button"))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(252),r=n(248);function a(e){const t=r.getRoleIconName(e);return i.h("img",{src:Object(o.imageUrl)(`img/${t}.png`),srcSet:`${Object(o.imageUrl)(`img/${t}@2x.png`)} 2x, ${Object(o.imageUrl)(`img/${t}@3x.png`)} 3x`})}function s(e,t){return[i.h("p",{key:"tooltipExplanation"},"Your workspace role is ",r.getUserRoleString(e)," ",a(e)," , only ",r.getUserRoleString("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact workspace Admins to update your role!")]}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(927);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(928),r=n(978),a=n(981);n(984);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),s(this,"handleProjectClick",(e,t)=>{this.props.onProjectClick(e,t,!0)}),s(this,"renderFocusedProject",e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:r,pinnedBarrelOnce:a,sections:s,onDelete:l,onInvite:c,onTransferOwnership:d,onArchive:u,onLeave:p,onProjectHover:h,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onOpenCopyProjectDialog:S,onUnpin:y}=this.props,v=n.includes(e._id),C=!a&&r===e._id;return i.h(o.default,{key:e._id,sections:s,onProjectHover:v?h:null,onClick:this.handleProjectClick,project:e,currentUser:t,onArchive:u,onLeave:p,onTransferOwnership:d,onDelete:l,onInvite:c,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onOpenCopyProjectDialog:S,highlight:v,scroll:C,pinned:!0,onUnpin:y,cardVisible:!0,selectable:!1})})}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(r.default,null,e.map(e=>e.unpinned?i.h(a.default,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e)))):null}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(929);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(930),r=n(955),a=n(962),s=n(965),l=n(545),c=n(766),d=n(967),u=n(970),p=n(870),h=n(248),f=n(245),g=n(971),m=n(399),b=n(420),S=n(232),y=n(263),v=n.n(y),C=n(972),O=n(975),E=n(233),T=n(976);n(977);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),_(this,"transferOwnershipPayload",{}),_(this,"projectThumbnailObserver",null),_(this,"state",{transferOwnershipPopupVisible:!1,moveProjectToSectionPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null}),_(this,"showTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!0})}),_(this,"hideTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!1})}),_(this,"showMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!0})}),_(this,"hideMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!1})}),_(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.ARCHIVE})}),_(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.LEAVE})}),_(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.DELETE})}),_(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:S.DialogTypes.TRANSFER})}),_(this,"generateShortlink",()=>{Object(T.fetchShortlink)(this.webURL)}),_(this,"handlePopoverClose",()=>{const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;e?this.hideTransferOwnershipPopup():t&&this.hideMoveProjectToSectionPopup()}),_(this,"handleDialogClose",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null})}),_(this,"handleContextMenu",e=>{this.setState({contextMenu:{origin:e}})}),_(this,"handleContextMenuClose",()=>{this.setState({contextMenu:null})}),_(this,"handleJoinFromContextMenu",()=>{const{project:{_id:e},onJoin:t}=this.props;t({pid:e,shouldLoadBarrel:!1})}),_(this,"handleJoinFromCard",e=>{e.stopPropagation();const{project:{_id:t},onJoin:n}=this.props;n({pid:t,shouldLoadBarrel:!0})}),_(this,"handleArchive",()=>{const{project:{_id:e},onArchive:t}=this.props;this.handleDialogClose(),t({pid:e})}),_(this,"handleActivate",()=>{const{project:{_id:e},onActivate:t}=this.props;t({pid:e})}),_(this,"handleDelete",()=>{const{project:{_id:e},onDelete:t}=this.props;t({pid:e})}),_(this,"handleLeave",()=>{const{project:{_id:e},currentUser:t,onLeave:n}=this.props;this.handleDialogClose(),n({bid:e,mid:t.user._id})}),_(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()}),_(this,"handleMoveProjectToSection",e=>{const{project:{_id:t},onMoveProjectToSection:n}=this.props;this.setState({moveProjectToSectionPopupVisible:!1},()=>n(t,e))}),_(this,"handleCreateNewSection",()=>{const{project:{_id:e},onCreateNewSection:t}=this.props;t(e)}),_(this,"handleRemoveProjectFromSection",()=>{const{project:{_id:e},sections:t=[],onMoveProjectToSection:n}=this.props,[i]=t;n(e,i._id)}),_(this,"handleOpenCopyBarrelDialog",()=>{const{project:{_id:e,name:t},onOpenCopyProjectDialog:n}=this.props;n({barrelId:e,barrelName:t})}),_(this,"handleCopyWebLink",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(Object(T.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleCopyAppUri",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:o,toOrganization:r}=this.transferOwnershipPayload;this.handleDialogClose(),t({pid:n,fromUserId:i.user._id,targetId:o,toOrganization:r,oid:e})}),_(this,"handleIntersection",e=>{0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.nodeRefs.base&&(this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null}))},{timeout:300}):cancelIdleCallback(this.cropTimeout)}),_(this,"handleBaseRef",e=>{Object(b.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}get webURL(){return Object(f.urlResolve)("project",{url:{bid:this.props.project._id}})}get appURI(){return`${E.ZPL_PROTOCOL}//project?pid=${this.props.project._id}`}get isPopoverOpen(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e||t}get targetSectionsForMovePopup(){const{project:{_id:e},sections:t=[]}=this.props;return t.filter(t=>"individual"!==t.type&&!t.projects.includes(e))}get removeFromSectionsVisible(){const{project:{_id:e},sections:t=[]}=this.props,n=t.find(t=>t.projects.includes(e));return n&&"individual"!==n.type}componentDidMount(){const{scroll:e,onScrolled:t}=this.props,{base:n}=this.nodeRefs;e&&(n.scrollIntoView(),t&&t()),this.projectThumbnailObserver=Object(u.getThumbnailObserver)(),this.projectThumbnailObserver.observe(n,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e,t){const{project:{_id:n},scroll:i,onProjectDidMount:o}=this.props,{scroll:r}=e;o&&o(n,this.nodeRefs.base),!r&&i&&this.nodeRefs.base.scrollIntoView();const{contextMenu:a,transferOwnershipPopupVisible:s,moveProjectToSectionPopupVisible:l}=this.state;!t.contextMenu&&a||!t.transferOwnershipPopupVisible&&s||!t.moveProjectToSectionPopupVisible&&l?Object(p.disableScroll)():(t.contextMenu&&!a||t.transferOwnershipPopupVisible&&!s||t.moveProjectToSectionPopupVisible&&!l)&&Object(p.enableScroll)()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderPopoverContent(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e?this.renderTransferOwnershipPopup():t?this.renderMoveProjectToSectionsPopup():null}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:a}=this.context,s=Object(g.getTransferableUsers)(e,a,n),l=Object(g.getTransferableOrganizations)(t,o,n);return i.h(r.default,{barrelType:v.a.PROJECT,users:s,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderMoveProjectToSectionsPopup(){return i.h(a.default,{barrelType:v.a.PROJECT,sections:this.targetSectionsForMovePopup,onSelect:this.handleMoveProjectToSection})}renderContextMenu(){const{contextMenu:e}=this.state;if(!e)return null;const{currentUser:t,project:n}=this.props;return i.h(s.default,{currentUser:t,project:n,moveToSectionVisible:!!this.targetSectionsForMovePopup.length,removeFromSectionsVisible:this.removeFromSectionsVisible,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onJoin:this.handleJoinFromContextMenu,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,onMoveProjectToSection:this.showMoveProjectToSectionPopup,onCreateNewSection:this.handleCreateNewSection,onRemoveProjectFromSection:this.handleRemoveProjectFromSection,onCopyProject:this.handleOpenCopyBarrelDialog,autoPosition:{preventOverflow:!0,offset:52,menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e.origin}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:o}}=this.props,{selected:r,toOrganization:a}=this.transferOwnershipPayload;if(e===S.DialogTypes.DELETE)return i.h(d.default,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let s,l,u;if(e===S.DialogTypes.TRANSFER){let e;e=a?t.find(e=>e._id===r).name:o.find(e=>e.user._id===r).user.username,s="TRANSFER",l=`Transfer ownership of “${n}” to ${e}?`,u=this.handleTransferOwnership}return e===S.DialogTypes.LEAVE&&(s="LEAVE",l=`Leave “${n}”?`,u=this.handleLeave),e===S.DialogTypes.ARCHIVE&&(s="ARCHIVE",l=`Archive “${n}”?`,u=this.handleArchive),i.h(c.BasicOverlayDialog,{positiveButtonText:s,onPositiveButtonClick:u,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:l})}render(){const{filterValue:e}=this.context,{visibleDialogType:t,projectThumbnail:n}=this.state,{project:{_id:r,name:a,type:s,users:c,updated:d,status:u,workflowStatus:p},moveCubukPosition:g,dragging:b,highlight:S,onClick:y,onProjectHover:v,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:j,onMouseDown:D,isSelected:k,hasHover:I,onSelect:R,selectionModeEnabled:A,selectable:w,cardVisible:N}=this.props,L=Object(f.urlResolve)("project",{url:{bid:r}}),x=N?c.sort(h.sortBy.role):[],M=i.h(C.default,{top:12,height:191}),U="archived"===u;return i.h("div",{class:"projectWrapper"},i.h("div",{class:"projectPaddingArea left"},g===O.CUBUK_POSITION.LEFT&&M),i.h("div",{class:"projectCardWrapper"},i.h(l.default,{open:this.isPopoverOpen,onClose:this.handlePopoverClose,content:this.renderPopoverContent(),top:-12,left:-236,faceTop:!0},i.h(o.default,{id:r,class:Object(m.default)("projectCard",{dragging:b,hovered:I}),baseRef:this.handleBaseRef,onClick:y,onHover:v,link:L,type:s,name:a,members:x,source:n,updated:d,filterValue:E?"":e,onContextMenu:this.handleContextMenu,contextMenu:this.renderContextMenu(),highlight:S,archived:U,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:j,onJoin:this.handleJoinFromCard,onMouseDown:D,workflowStatus:p,onSelect:R,isSelected:k,selectionModeEnabled:A,selectable:w}),t&&this.renderDialog(t))),i.h("div",{class:"projectPaddingArea right"},g===O.CUBUK_POSITION.RIGHT&&M))}}t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(931);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SpaceCardMirror",(function(){return O}));var i=n(4),o=n(5),r=n.n(o),a=n(932),s=n(936),l=n(404),c=n(942),d=n(905),u=n(945),p=n(400),h=n.n(p),f=n(951),g=n(379),m=n(399),b=n(420),S=n(248),y=n(314),v=n.n(y);n(954);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=({source:e,users:t,type:n,name:o})=>{const r=t.sort(S.sortBy.role);return i.h("div",{class:"spaceCard noSelect mirror"},i.h(a.default,{source:e,isMirror:!0}),i.h(s.default,{name:o,type:n,members:r}))};class E extends i.Component{constructor(...e){super(...e),C(this,"state",{showPinWarningAuntie:!1,showWorkflowStatusAuntie:!1,visited:!1}),C(this,"showPinWarningAuntie",()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})}),C(this,"hidePinWarningAuntie",()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})}),C(this,"handleClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;!i&&t&&t(e,n)}),C(this,"handleCardClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;i?this.handleCardCheckboxClick(e):t&&t(e,n)}),C(this,"handleMouseEnter",()=>{const{onHover:e,id:t,selectionModeEnabled:n}=this.props;e&&e(t),n&&!this.isUserJoined&&this.setState({visited:!0})}),C(this,"handleCardCheckboxClick",e=>{e.preventDefault();const{onSelect:t,id:n}=this.props;t(n)}),C(this,"handleContextMenu",e=>{e.preventDefault();const{onContextMenu:t,selectionModeEnabled:n}=this.props;t&&!n&&t({x:e.clientX-12,y:e.clientY-12})}),C(this,"handleOptionsClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+12,y:e.top-12},t)}}),C(this,"handlePinButtonClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:o,onUnpin:r}=this.props;n?r(t):i?this.showPinWarningAuntie():o(t)}),C(this,"handlePinAnyway",()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n}=this.props;t(e),n({pinnedAnyway:!0}),this.hidePinWarningAuntie()}),C(this,"handleHideAuntie",()=>{const{onPinWarningAuntieAction:e}=this.props;e({pinnedAnyway:!1}),this.hidePinWarningAuntie()}),C(this,"handleWorkflowStatusChange",e=>{const{id:t}=this.props;e._id===v.a.NoStatus._id?g.default.deleteWorkflowStatus({bid:t,syncWithApi:!0}):g.default.updateWorkflowStatus({bid:t,workflowStatus:e,syncWithApi:!0})}),C(this,"handleWorkflowStatusDropdownClick",e=>{e.stopPropagation(),this.setState({showWorkflowStatusAuntie:!0})}),C(this,"handleWorkflowStatusAuntieClick",()=>{this.setState({showWorkflowStatusAuntie:!1})}),C(this,"renderPinButtonAndAuntie",()=>{if(!this.canPin)return null;const{focusCountLimit:e}=this.context,{pinned:t}=this.props,{pinWarningAuntieVisible:n}=this.state;return i.h("div",{class:"pinButtonContainer"},i.h(u.default,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),n&&i.h(f.default,{class:"pinWarningAuntie",content:`You can only pin ${e} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie}))}),C(this,"renderActionButtons",()=>i.h(i.Fragment,null,this.canSelect&&i.h("label",{class:"cardCheckbox",onClick:this.handleCardCheckboxClick},i.h(h.a,{class:"round",checked:this.props.isSelected})),this.renderPinButtonAndAuntie(),i.h(c.default,{class:"optionsButton",baseRef:Object(b.default)(this,"optionsButton"),onClick:this.handleOptionsClick}))),C(this,"renderCardActions",()=>{const{showWorkflowStatusAuntie:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:{role:n}={}}=this.context,{archived:o,contextMenu:r,workflowStatus:a,selectionModeEnabled:s}=this.props,l=!this.isPersonalWorkspace&&a;return i.h("div",{class:Object(m.default)("cardActions",{archivedCardActions:o})},i.h("div",{class:"cardButtons",onClick:S.stopPropagation},this.renderActionButtons(),r),l&&i.h("div",{className:"spaceCardWorkflowStatusContainer"},i.h(d.default,{dropdownClass:"spaceCardWorkflowStatusDropdown",onDropdownClick:!t&&this.handleWorkflowStatusDropdownClick,onWorkflowStatusChange:this.handleWorkflowStatusChange,selectedWorkflowStatusFilter:a._id,defaultWorkflowStatus:v.a.NoStatus,disabled:o||s,openCustomizeEmptyStateInitially:!0,dropdownAlignRight:!0,hideNoStatusIfSelected:!0,hideStatusCount:!0,hideNoStatusWhenCountIsZero:!1}),e&&i.h(f.default,{class:"workflowStatusAuntie",content:`Your workspace role is ${Object(S.getUserRoleString)(n)}, only ${Object(S.getUserRoleString)("rook")}s or higher can customize statuses.`,popover:!0,anchor:"top",buttonText:"OK, got it!",hideCallback:this.handleWorkflowStatusAuntieClick})))}),C(this,"renderContent",()=>{const{source:e,archived:t,name:n,type:o,link:r,updated:l,members:c,filterValue:d,selectionModeEnabled:u}=this.props,p=i.h(i.Fragment,null,i.h(a.default,{source:e}),i.h(s.default,{filterValue:d,members:c,name:n,type:o,updated:l}));return t?i.h("div",{class:Object(m.default)({archived:t})},p):i.h("a",{onClick:this.handleClick,href:this.isUserJoined&&!u?r:null,"data-link-type":"inApp"},p)}),C(this,"renderBottomOverlay",()=>this.isUserJoined?null:i.h("span",{onClick:S.stopPropagation,className:"unjoinedOverlay"},"Not joined yet, ",i.h(l.default,{class:"joinButton",ninja:!0,onClick:this.props.onJoin},"join now"),"."))}get isPersonalWorkspace(){return"user"===this.context.selectedOrganizationId}get isUserJoined(){return this.props.members.some(({user:e})=>e._id===this.context.currentUserId)}get canSelect(){const{selectable:e}=this.props,{selectedOrganizationId:t,canCreateProject:n}=this.context;return e&&n&&"user"!==t}get canPin(){const{archived:e,pinnable:t}=this.props,{selectedOrganizationId:n}=this.context;return t&&!e&&"user"!==n}componentDidUpdate(e){const{selectionModeEnabled:t}=this.props;!t&&e.selectionModeEnabled&&this.setState({visited:!1})}render(){const{highlight:e,workflowStatus:t,onMouseDown:n,baseRef:o,class:r,selectionModeEnabled:a,isSelected:s,pinned:l}=this.props,{visited:c}=this.state,d=Object(m.default)("spaceCard","noSelect",{highlight:e,noStatus:t&&t._id===v.a.NoStatus._id,isSelected:s,selectionModeEnabled:a,visited:c,multiselect:this.canSelect,pinned:l},r);return i.h("div",{onContextMenu:this.handleContextMenu,onClick:this.handleCardClick,onMouseEnter:this.handleMouseEnter,onMouseDown:n,class:d,ref:o},this.renderCardActions(),this.renderContent(),this.renderBottomOverlay())}}E.propTypes={id:r.a.string.isRequired,source:r.a.string,archived:r.a.bool,highlight:r.a.bool,name:r.a.string.isRequired,type:r.a.string.isRequired,link:r.a.string.isRequired,updated:r.a.string.isRequired,members:r.a.array.isRequired,filterValue:r.a.string,onContextMenu:r.a.func,contextMenu:r.a.element,pinned:r.a.bool,pinnable:r.a.bool,onPin:r.a.func,onUnpin:r.a.func,shouldDisplayPinWarningAuntie:r.a.bool,onPinWarningAuntieAction:r.a.func,onSelect:r.a.func,isSelected:r.a.bool,selectable:r.a.bool,selectionModeEnabled:r.a.bool},E.defaultProps={selectable:!0,pinnable:!0},t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(933);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(934),r=n.n(o),a=n(399);n(935);class s extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=Object(a.default)("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(r.a,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:270,height:92}))}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=n(252);class s extends o.Component{constructor(){super(...arguments),this.state={src:null,srcset:null},this.imgRef=r.useRef(),this.handleError=()=>{const{source:e}=this.props;if(!e)return null;if(!this.dimensions)return;const{width:t,height:n}=this.dimensions;Promise.all([a.cropImage(e,{width:t,height:n}),a.cropImage(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}}get dimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};if(!this.imgRef.current)return null;const{width:n,height:i}=this.imgRef.current;return{width:n,height:i}}load(e){if(!this.dimensions)return;const{src:t,srcset:n}=a.getResizedImageSources(e,this.dimensions);this.setState({src:t,srcset:n})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:r}=n,a=i(n,["source"]);return o.h("img",Object.assign({},a,{src:e,srcSet:t,onError:this.handleError,ref:this.imgRef}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(937);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(938),r=n(247);n(941);const a=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});function s({type:e,filterValue:t}){const n=a[e];if(!t)return i.h("div",{class:"type"},n);const o=n.toLowerCase();return new RegExp(`\\s*\\b${o}\\b\\s*`,"ig").test(t)?i.h("div",{class:"type"},i.h("span",{class:"highlight"},n)):i.h("div",{class:"type"},n)}function l({name:e,filterValue:t}){if(!t)return i.h("div",{title:e,class:"name ellipsis"},e);const n=Object(r.highlightMatchedParts)(e,t,{caseInsensitive:!0});return i.h("div",{title:e,class:"name ellipsis",dangerouslySetInnerHTML:{__html:n}})}t.default=function({members:e=[],name:t,type:n,updated:r,filterValue:a=""}){return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h(s,{type:n,filterValue:a}),i.h("time-ago",{type:"time-ago",format:"micro",class:"updated",datetime:r})),i.h(l,{name:t,filterValue:a}),i.h(o.default,{members:e}))}},function(e,t,n){"use strict";n.r(t);var i=n(939);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o),a=n(247),s=n(399);n(940);function l(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending… (${e.email})`}function c({remainingMembers:e,currentMemberRole:t,class:n}){const o="+"+e.length,r=e.map(e=>l(e.user,t)).join("\n");return i.h("div",{class:Object(s.default)("remainingMembers",n),title:r},o)}t.default=function({members:e,currentMemberRole:t,class:n,remainingMembersClass:o,avatarSize:d=30,stacked:u}){const p=e.slice(0,6),h=e.length;let f;if(h>7)f=i.h(c,{class:o,key:"remainingMembers",currentMemberRole:t,remainingMembers:e.slice(6)});else if(7===h){const n=e[h-1],o=Object(a.getUserAvatar)(n.user).src,s=l(n.user,t);f=i.h(r.a,{key:"lastUser",class:"avatar",src:o,title:s,size:d})}return i.h("div",{class:Object(s.default)("memberAvatarList",n,{stacked:u})},p.map(e=>{const n=Object(a.getUserAvatar)(e.user).src,o=l(e.user,t);return i.h(r.a,{key:e.user._id,class:"avatar",src:n,title:o,size:d})}),f)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(943);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442),r=n(399),a=n(404);n(944);t.default=function({onClick:e,baseRef:t,class:n}){const s=Object(r.default)("optionsButton",n);return i.h(a.default,{secondary:!0,baseRef:t,onClick:e,class:s},i.h(o.IconSettings,null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(946);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(480),r=n.n(o),a=n(481),s=n.n(a),l=n(399),c=n(404),d=n(947),u=n.n(d);n(950);const p=u()((function({pinned:e,class:t,onClick:n,hover:o}){const a=Object(l.default)("pinButton",t,{pinned:e});return i.h(c.default,{secondary:!0,class:a,onClick:n},e&&o?i.h(s.a,null):i.h(r.a,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))}));t.default=p},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(948);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(248);function r(e){return class extends i.Component{constructor(){super(...arguments),this.state={hover:!1},this.changeHover=e=>{var t,n;this.setState({hover:e}),null===(n=(t=this.props).onHoverChange)||void 0===n||n.call(t,e)},this.handleMouseEnter=()=>{this.changeHover(!0)},this.handleMouseLeave=e=>{const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:r,relatedTarget:a}=e,s=e.target.getBoundingClientRect();if(!t)if(n&&a&&o.rectContainsPoint(s,{x:i,y:r})){const e=()=>this.changeHover(!1);a.addEventListener("mouseleave",(function t(n){o.rectContainsPoint(s,{x:n.clientX,y:n.clientY})||e(),a.removeEventListener("mouseleave",t)}))}else this.changeHover(!1)}}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,Object.assign({},this.props,{hover:this.state.hover})))}}}n(949),r.displayName="HoverRegion",r.defaultProps={initialHover:!1,ignoreOverlays:!0},t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(952);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(248),r=n(399),a=n(252),s=n(420);n(953);class l extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:l,noControls:c,buttonText:d,anchor:u,class:p}=this.props,h=Object(r.default)("hideableInfo",p,{popover:e,padBottom:t});let f=null;n&&n.text&&n.callback&&(f=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let g=null;return c||(g=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:a.imageUrl("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),f)),i.h("div",{class:h,onClick:o.stopPropagation,ref:Object(s.default)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},l),g),i.h("div",{class:"anchor "+(u||"bottom")}))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(956);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(957),r=n(404),a=n(527),s=n.n(a),l=n(247),c=n(252),d=n(420),u=n(399),p=n(263),h=n.n(p);n(961);function f({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:o,info:r,subInfo:a}){const l=Object(u.default)("listItem",{selected:e});return i.h("div",{class:l},i.h(s.a,{class:"itemAvatar",src:t,size:36,bgSize:o,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},r),a&&i.h("div",{class:"subInfo ellipsis"},a)))}class g extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find(t=>t._id===e);t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(f,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:o,username:r}}=e,a=Object(l.getUserAvatar)(n).src;return i.h(f,{selected:t,avatarUrl:a,avatarType:"user",info:r,subInfo:o})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(r.default,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(o.default,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To a workspace:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(d.default)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or workspaces.",e===h.a.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}g.defaultProps={organizations:[],users:[]},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(958);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(959),s=n(514),l=n(420),c=n(399),d=n(247);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return e.filter(e=>e&&e.type&&e.type.name===a.default.name).map(e=>e.props.value)}class h extends i.Component{constructor(...e){super(...e),u(this,"values",p(this.listItems)),u(this,"state",{selected:this.values[0]}),u(this,"handleKeyDown",e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}),u(this,"handleItemHover",e=>{this.mouseActive&&this.changeSelected(e)}),u(this,"handleMouseMove",()=>{this.mouseActive=!0})}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(d.scrollIfNecessary)(this.nodeRefs["selectedListItem-"+e])})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=p(this.listItems);Object(s.default)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map(n=>{if(!n||!n.type||n.type.name!==a.default.name)return n;const o=n.props.value,r=o===e;return i.cloneElement(n,{key:o,onClick:t,onHover:this.handleItemHover,selected:r,baseRef:Object(l.default)(this,"selectedListItem-"+o)})})}render(){const{class:e}=this.props,t=Object(c.default)("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}h.propTypes={onSelect:r.a.func.isRequired,children:r.a.oneOfType([r.a.instanceOf(a.default),r.a.node])},h.ListItem=a.default,t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(960);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:o,baseRef:r,class:a}=this.props;return i.h("div",{ref:r,class:a,onClick:this.handleClick,onMouseEnter:this.handleHover,style:o},n(t,e))}}a.propTypes={renderItem:r.a.func.isRequired,onClick:r.a.func,onHover:r.a.func,value:r.a.string.isRequired,selected:r.a.bool},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(963);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(957),s=n(399);n(964);function l(e,t){return i.h("div",{class:Object(s.default)("listItem",{selected:t})},e.name)}function c({sections:e,onSelect:t}){return i.h("div",{class:"moveProjectToSection noSelect"},i.h("div",{class:"moveProjectToSectionBody"},i.h(a.default,{class:"targetSections",onSelect:t},e.map(({_id:e,name:t})=>i.h(a.default.ListItem,{key:e,class:"selectableListItem",value:e,item:{name:t},renderItem:l})))))}c.defaultProps={sections:r.a.array,onSelect:r.a.func},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(966);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(880),r=n(248);function a(e,t){const{project:{users:n,status:a},currentUser:s,moveToSectionVisible:l,removeFromSectionsVisible:c,autoPosition:d,onInvite:u,onJoin:p,onActivate:h,onArchive:f,onTransferOwnership:g,onDelete:m,onLeave:b,onClose:S,onOpen:y,onCopyWebLink:v,onCopyAppUri:C,onMoveProjectToSection:O,onRemoveProjectFromSection:E,onCreateNewSection:T,onCopyProject:_}=e,{organizations:P,selectedOrganizationId:j}=t,D=n.some(e=>e.user._id===Zeplin.user._id),k=P.find(e=>e._id===j),I=k&&"suspended"===k.status,R="archived"===a,A=!D&&!I,w=D&&!I,N=!R&&D&&!I&&r.permissions.canChangeProjectStatus(s),L=R&&D&&!I&&r.permissions.canChangeProjectStatus(s),x=D&&r.permissions.canUpdateProject(s),M=c&&x&&!I,U=l&&x&&!I,B=k&&r.permissions.canCreateProjectSection(s)&&!I,z=r.permissions.canCopyBarrel(s),V=D&&r.permissions.canTransferOwnership(s),W=D&&!I&&r.permissions.canLeaveProject(s),F=D&&r.permissions.canDeleteProject(s);return i.h(o.default.withAutoPosition,{autoPosition:d,onOpen:y,onClose:S},A&&i.h(o.default.Item,{key:"join",onClick:p},"Join"),w&&i.h(o.default.Item,{key:"invite",onClick:u},"Invite…"),!R&&i.h(o.default.Item,{key:"copyWebLink",onClick:v},"Copy project web link"),!R&&i.h(o.default.Item,{key:"copyApiUri",onClick:C},"Copy project app URI"),(z||V)&&i.h(o.default.ItemDivider,{key:"ownershipDivider"}),z&&i.h(o.default.Item,{key:"copyProject",onClick:_},"Make a copy…"),V&&i.h(o.default.Item,{key:"transferOwnership",onClick:g},"Transfer ownership…"),(B||U)&&i.h(o.default.ItemDivider,{key:"sectionOptionsDivider"}),U&&i.h(o.default.Item,{key:"moveProjectToSection",onClick:O},"Move project to section…"),B&&i.h(o.default.Item,{key:"createNewSection",onClick:T},"Create a new section"),M&&i.h(o.default.Item,{key:"removeProjectFromSection",onClick:E},"Remove project from section"),(W||F)&&i.h(o.default.ItemDivider,{key:"warningDivider"}),N&&i.h(o.default.Item,{key:"archive",onClick:f},"Archive project"),L&&i.h(o.default.Item,{key:"activate",onClick:h},"Activate project"),W&&i.h(o.default.Item,{key:"leave",onClick:b,warning:!0},"Leave project"),F&&i.h(o.default.Item,{key:"delete",onClick:m,warning:!0},"Delete project…"))}},function(e,t,n){"use strict";n.r(t);var i=n(968);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(766),r=n(397);n(969);class a extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:a,placeholder:s,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(o.default,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,a),i.h(r.default,{autofocus:!0,label:s,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";let i,o;n.r(t),n.d(t,"getThumbnailObserver",(function(){return s}));const r=new WeakMap;function a(e){e.forEach(e=>{const t=r.get(e.target);t&&t(e)})}function s(e){return o||(i=new IntersectionObserver(a,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),o={observe(e,t){r.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),r.delete(e)}}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferableUsers=t.getTransferableOrganizations=void 0;const i=n(248);t.getTransferableOrganizations=function(e,t,n){return e.filter(({_id:e,status:o})=>{const r=t[e];return r&&i.permissions.canReceiveOwnership(r)&&"active"===o&&n!==e})},t.getTransferableUsers=function(e,t,n){return e.filter(({user:{_id:e,status:i}})=>"invited"!==i&&!(e===t&&"user"===n))}},function(e,t,n){"use strict";n.r(t);var i=n(973);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(974);t.default=function(e){const{height:t,top:n,left:o}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:o}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"CUBUK_POSITION",(function(){return i}));const i=Object.freeze({LEFT:"left",RIGHT:"right"})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hasShortlink=t.getShortlink=t.fetchShortlink=void 0;const s=r(n(260)),l={};t.fetchShortlink=function(e,t){var n;return a(this,void 0,void 0,(function*(){try{return null!==(n=l[e])&&void 0!==n?n:l[e]=yield s.generateShortlink(e,t)}catch(i){return e}}))},t.getShortlink=function(e){var t;return null!==(t=l[e])&&void 0!==t?t:e},t.hasShortlink=function(e){return Boolean(l[e])}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(979);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(980);t.default=function({children:e}){return i.h("div",{class:"projectsList"},e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(982);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(454),r=n.n(o);n(983);t.default=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:o}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>function(e,t,n){e.preventDefault(),t(n)}(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>o(t)},i.h(r.a,null),i.h("span",null,"Got it!")))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(986);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(987),r=n(990),a=n(1024),s=n(903),l=n(766),c=n(384),d=n.n(c),u=n(846),p=n(1021),h=n(420),f=n(249),g=n(399),m=n(229),b=n(316),S=n(245),y=n(1048),v=n(233),C=n(976);n(1049);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),_(this,"state",{editingDescription:!1,deleteDialogVisible:!1}),_(this,"subscribedToObserver",!1),_(this,"generateShortlink",()=>{Object(C.fetchShortlink)(this.webURL)}),_(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),_(this,"highlightNameAndScrollTo",()=>{this.componentRefs.section.highlightNameAndScrollTo()}),_(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),_(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==b.TEMPORARY_PROJECT_SECTION_ID?u.default.updateProjectSection({oseid:n,sectionData:{name:t},syncWithApi:!0}):this.highlightNameAndScrollTo())}),_(this,"handleDescriptionUpdate",e=>{const{data:{_id:t}}=this.props;u.default.updateProjectSection({oseid:t,sectionData:{description:e},syncWithApi:!0}),this.handleEditingStateChange()}),_(this,"handleEditingStateChange",()=>{this.setState(e=>({editingDescription:!e.editingDescription}))}),_(this,"handleExpand",e=>{d.a.expandSections([e])}),_(this,"handleCollapse",e=>{d.a.collapseSections([e])}),_(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props;e(Object(C.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project section"})}),_(this,"handleCopyAppURI",()=>{const{onCopyLink:e}=this.props;e(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project section"})}),_(this,"handleDeleteSectionClick",()=>{this.setState({deleteDialogVisible:!0})}),_(this,"handleDeleteDialogClose",()=>{this.setState({deleteDialogVisible:!1})}),_(this,"handleDeleteSection",()=>{const{data:{_id:e}}=this.props;u.default.removeProjectSection({oseid:e,syncWithApi:!0}),this.context.showToast({text:"Section deleted",source:"projectsContainer"})}),_(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),_(this,"handleAddCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props,i=T(T({},e),{},{_id:"tempCustomLinkId"});u.default.addSectionLink({oid:t,oseid:n,linkData:i,syncWithApi:!0})}),_(this,"handleUpdateCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;u.default.updateSectionLink({oid:t,oseid:n,oselid:e._id,linkData:e,syncWithApi:!0})}),_(this,"handleRemoveCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;u.default.removeSectionLink({oid:t,oseid:n,oselid:e,syncWithApi:!0})}),_(this,"handleAddNewDescription",()=>{this.handleDescriptionUpdate(y.NEW_SECTION_DESCRIPTION)}),_(this,"handleCreateProjectClick",()=>{const{data:{_id:e},onCreateProjectClick:t}=this.props;t({oseid:e})}),_(this,"renderOptionsMenu",()=>{const{data:{description:e}}=this.props,{canCreateProject:t,canEditSections:n}=this.context;return i.h(o.default,{onOpen:this.generateShortlink},i.h(i.Fragment,null,n&&!e&&i.h(i.Fragment,null,i.h(o.default.Item,{onClick:this.handleAddNewDescription},"Add description"),i.h(o.default.ItemDivider,null)),i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy section web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy section app URI"),t&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCreateProjectClick},"Create project in section")),n&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{warning:!0,onClick:this.handleDeleteSectionClick},"Delete section"))))}),_(this,"renderSummary",()=>{const{shouldRenderSummary:e}=this.props,{editingDescription:t}=this.state;if(!e||t)return null;const{actionsDisabled:n,readOnly:o,data:{projects:r,links:s}}=this.props;return i.h(a.default,{projectCount:r.length,styleguides:this.sectionStyleguides,links:s,readOnly:o||n,onAddLinkButtonClick:this.handleAddCustomLinkClick,onUpdateLinkButtonClick:this.handleUpdateCustomLinkClick,onRemoveLinkButtonClick:this.handleRemoveCustomLinkClick})})}get webURL(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return Object(S.urlResolve)("workspace-projects",{url:{oid:e},query:{seid:t}})}get appURI(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return`${v.ZPL_PROTOCOL}//projects?oid=${e}&seid=${t}`}get sectionStyleguides(){const{data:{projects:e}}=this.props,{selectedOrganizationStyleguides:t}=this.context;return e.reduce((e,n)=>{const{styleguideLink:{styleguide:{_id:i}={}}={}}=n,o=t.find(({_id:e})=>e===i);return o&&!e.includes(o)?[...e,o]:e},[])}componentDidMount(){this.props.data.newSection&&this.highlightNameAndScrollTo(),this.registerToObserverIfReady()}componentDidUpdate(e,t){this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}renderDeleteDialog(){return i.h(l.BasicOverlayDialog,{title:"Delete Section?",message:"Deleting a section will delete the section links and descriptions, the projects will still remain. Are you sure you want to delete this section?",positiveButtonText:"DELETE",onPositiveButtonClick:this.handleDeleteSection,onClose:this.handleDeleteDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{editingDescription:e,deleteDialogVisible:t}=this.state,{data:{projects:n,name:o,type:a,description:s,_id:l},index:c,collapsed:u,readOnly:b,actionsDisabled:S,highlight:y,showDescription:v,onSectionDrop:C,onProjectDrop:O,onProjectToSectionDrop:E,children:T}=this.props,_=n&&n.length?Object(f.pluralize)(n.length,"project")+" collapsed":"",P=this.renderOptionsMenu();return i.h(i.Fragment,null,i.h(r.DragDropProjectSection,{id:l,class:Object(g.default)("projectSection",{safari:Object(m.getBrowser)()===m.BROWSER.SAFARI}),name:o,index:c,type:p.PROJECT_SECTION,collapsed:u,baseRef:Object(h.default)(this,"base"),optionsButtonRef:Object(h.default)(this,"sectionOptionsButton"),componentRef:Object(h.default)(this,"section","componentRefs"),empty:0===n.length,headerClass:"projectSectionHeader",description:s,countInfoText:_,optionsMenu:P,defaultSection:"default"===a,actionsDisabled:S,readOnly:b,highlight:y,scroll:y,draggable:!0,isWorkspace:!0,showDescription:v,editingDescription:e,onSectionDrop:C,onProjectDrop:O,onProjectToSectionDrop:E,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionUpdate,onEditingStateChange:this.handleEditingStateChange,onExpand:this.handleExpand,onCollapse:this.handleCollapse,onHighlightEnd:d.a.unhighlightSection,summary:this.renderSummary()},!u&&i.toChildArray(T)),t&&this.renderDeleteDialog())}}t.default=e=>i.h(s.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(P,O({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(988);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880);n(989);const r=e=>i.h(o.default,Object.assign({},e,{class:"sectionMenu"}));r.Item=o.default.Item,r.ItemDivider=o.default.ItemDivider,t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(991);n.d(t,"default",(function(){return i.default}));var o=n(1019);n.d(t,"DragDropScreenThumbnailSection",(function(){return o.default}));var r=n(1022);n.d(t,"DragDropComponentSection",(function(){return r.default}));var a=n(1023);n.d(t,"DragDropProjectSection",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSectionComponent",(function(){return u}));var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(399),l=n(420),c=n(992);n(1018);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){class t extends i.Component{constructor(...e){super(...e),d(this,"state",{menuShown:!1,hidden:!1}),d(this,"collapseExpandSection",e=>{const{id:t,collapsed:n,onExpand:i,onCollapse:o}=this.props;e.stopPropagation(),n?i(t):o(t)}),d(this,"showOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}),d(this,"hideOptionsMenu",()=>{this.state.menuShown&&this.setState({menuShown:!1})}),d(this,"highlight",()=>{const{scroll:e,highlight:t,onScroll:n}=this.props;if((e||t)&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs&&this.nodeRefs.headerBase){this.highlighting=!0;this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}).addEventListener("finish",this.handleHighlightEnd,{once:!0})}e&&n&&n()}),d(this,"highlightName",()=>{this.componentRefs.header.highlightName()}),d(this,"highlightNameAndScrollTo",()=>{this.componentRefs.header.highlightNameAndScrollTo()}),d(this,"highlightDescription",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;if(t)return n(e),void(this.shouldHighlightDescription=!0);this.componentRefs.header.highlightDescription()}),d(this,"handleHeaderClick",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;t&&n(e)}),d(this,"handleHighlightEnd",()=>{const{onHighlightEnd:e}=this.props;this.highlighting=!1,e&&e()}),d(this,"handleStartDrag",()=>{const{id:e,collapsed:t,empty:n,isWorkspace:i,onCollapse:o}=this.props;!t&&(!n||i)&&o(e),this.setState(Object(a.getStateUpdateFunction)({hidden:!0,menuShown:!1}))}),d(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}componentDidMount(){this.highlight()}componentDidUpdate(e){e.collapsed&&!this.props.collapsed&&this.shouldHighlightDescription&&(this.componentRefs.header.highlightDescription(),this.shouldHighlightDescription=!1),this.highlighting||this.highlight()}renderHeader(){const{id:t,name:n,index:o,collapsed:r,styleguideId:a,defaultSection:s,countInfoText:c,componentCount:d,emptyText:u,empty:p,isWorkspace:h,readOnly:f,headerClass:g,actionsDisabled:m,description:b,showDescription:S,optionsMenu:y,editingDescription:v,onNameBlur:C,onDescriptionBlur:O,onEditingStateChange:E,draggable:T,optionsButtonRef:_,optionsActive:P,sectionHeaderHover:j,summary:D,variantOptionsButton:k,onHover:I,onHoverOut:R,onDrop:A}=this.props,{menuShown:w}=this.state;return s?null:i.h(e,{baseRef:Object(l.default)(this,"headerBase"),componentRef:Object(l.default)(this,"header","componentRefs"),class:g,hasDragHover:j,id:t,index:o,styleguideId:a,name:n,countInfoText:c,componentCount:d,empty:p,emptyText:u,isWorkspace:h,defaultSection:s,readOnly:f,actionsDisabled:m,description:b,showDescription:S,onNameBlur:C,onDescriptionBlur:O,collapsed:r,optionsMenu:w&&y,draggable:T,optionsButtonRef:_,optionsActive:P,editingDescription:v,onEditingStateChange:E,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,summary:D,variantOptionsButton:k,onHover:I,onHoverOut:R,onDrop:A})}render(){const{id:e,collapsed:t,children:n,targetPosition:o,empty:r,isWorkspace:a,putComponentGroupInto:l,class:c}=this.props,{hidden:d,menuShown:u}=this.state,p=Object(s.default)("section",c,o,{putComponentGroupInto:l,collapsed:t,empty:r,menuShown:u,isWorkspace:a,hidden:d});return i.h("div",{class:p,"data-id":e,ref:this.handleBaseRef},this.renderHeader(),!t&&!r&&n)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const p=u(c.default);p.displayName="Section",p.propTypes={onNameBlur:r.a.func.isRequired,onDescriptionBlur:r.a.func.isRequired,name:r.a.string,description:r.a.string,id:r.a.string.isRequired,defaultSection:r.a.bool,countInfoText:r.a.string,showOptionsButton:r.a.bool,optionsMenu:r.a.element,readOnly:r.a.bool,actionsDisabled:r.a.bool},p.defaultProps={showOptionsButton:!1,defaultSection:!1},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(993);n.d(t,"default",(function(){return i.default})),n.d(t,"DragSourceSectionHeader",(function(){return i.DragSourceSectionHeader}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragSourceSectionHeader",(function(){return b}));var i=n(4),o=n(420),r=n(994),a=n(892),s=n(442),l=n(399),c=n(248),d=n(997),u=n(1005);n(1017);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class f extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{onDescriptionBlur:t}=this.props;t(e)},(n="handleDescriptionUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightNameAndScrollTo(){this.componentRefs.nameInput.highlightAndScrollTo()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(o.default)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=60){const i=e.getBoundingClientRect(),o=window.innerHeight;if(i.bottom+12>o)e.style.top=o+-36-i.bottom-12+"px";else if(i.top-n-12<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=12+n-i+"px"}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(o.default)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:a,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:p,countInfoText:h,emptyText:f}=this.props,g=t&&!c&&(e||n);return i.h("div",{class:"sectionInfo"},g&&i.h(s.IconSectionDrag,{class:"moveHandleIcon"}),i.h(r.default,{ref:Object(o.default)(this,"nameInput","componentRefs"),value:a,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},h),p&&i.h("span",{class:"countInfo"},f))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:o,isWorkspace:r,mirror:a,editingDescription:d,collapsed:u,variantOptionsButton:p,onEditingStateChange:h,onExpandCollapseSection:f,onShowOptionsMenu:g}=this.props;const m=!a&&r?!t:!e;return i.h("div",{class:Object(l.default)("sectionActions",{disabled:t})},p,m&&i.h("button",{class:"collapseButton",onMouseDown:c.stopPropagation,onClick:function(e){r&&!u&&d&&h(),f(e)}},i.h(s.IconCollapse,null)),!t&&i.h("button",{class:Object(l.default)("sectionOptionsButton",{active:o}),ref:n,onMouseDown:c.stopPropagation,onClick:g},i.h(s.IconMenu,null)))}renderDescriptionInfo(){const{id:e,description:t,readOnly:n,actionsDisabled:a,isWorkspace:s,showDescription:l,empty:c,editingDescription:d,onEditingStateChange:p,collapsed:h,onDescriptionBlur:f}=this.props,g=n||a||s&&h;return s&&!l?null:i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},s?i.h(u.default,{description:t,readOnly:g,editing:d,emptyWorkspaceSection:c,sectionCollapsed:h,onEditingStateChange:p,onUpdateDescription:this.handleDescriptionUpdate,sectionId:e}):i.h(r.default,{value:t,ref:Object(o.default)(this,"descriptionInput","componentRefs"),required:!1,readOnly:g,showRemaining:!0,onBlur:f}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(d.default,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,isWorkspace:t,description:n,collapsed:o,class:r,onHeaderClick:a,hasDragHover:s,empty:c,summary:d,optionsMenu:u}=this.props,p=t||!o&&n;return i.h("div",{class:Object(l.default)("sectionHead",r,{collapsed:o,empty:c,dragHover:s}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:a},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),u&&this.renderMenu()),d,p&&this.renderDescriptionInfo(),!o&&!t&&this.renderJiraIntegrations())}}const g=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(f,t)},m=Object(a.DragSource)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n,variantOptionsButton:o}=e,r=h(e,["sourceRect","class","variantOptionsButton"]);return i.h(f,p({},r,{width:t.width,mirror:!0,class:Object(l.default)("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty||e.isWorkspace,optionsMenu:null})})(g),b=e=>i.h(m,Object.assign({draggable:!0},e));t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(995);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(420),l=n(247);n(996);const c=100;function d(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function u(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{Object(l.highlightAndScrollToInput)(this.nodeRefs.input)},(n="highlightAndScrollTo")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(a.debounce)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(a.debounce)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.highlightInput)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let o=this.state.discard;const r={focusWithin:!1};e&&!i&&(r.value=t,o=!0),this.setState(r),this.props.onBlur({discard:o,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=c,showRemaining:o,fontStyle:r,tabIndex:a=0}=this.props,{focusWithin:l,value:p,selectionPoints:h,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},r);if(l&&!t){const{selectionStart:e,selectionEnd:t}=h,n=function(e,t){return e&&t?u(d(0,2.5,"butt")):e?u(d(0,1.5,"butt"),d(1.5,2.5,"round")):t?u(d(.5,1.5,"round"),d(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===p.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(s.default)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(s.default)(this,"widthlessMirror"),class:"mirror widthless",style:r},p||" "),i.h("span",{class:"mirror",style:r},p||" "),i.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:p,readonly:t,tabIndex:a,ref:Object(s.default)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),o&&l&&i.h("span",{class:"remainingCounter"},n-p.length))}}p.propTypes={value:r.a.string,required:r.a.bool,onBlur:r.a.func,readOnly:r.a.bool,maxLength:r.a.oneOfType([r.a.number,r.a.string]),showRemaining:r.a.bool,fontStyle:r.a.object,inputRef:r.a.func,tabIndex:r.a.number},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(998);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(271),s=n.n(a),l=n(364),c=n(513),d=n.n(c),u=n(248),p=n(999),h=n(1002),f=n(399),g=n(233);class m extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[s.a.BarrelStore,s.a.ProjectsDataStore]}static calculateState(e,t){const{loading:n}=s.a.BarrelStore.getState(),{integration:i={}}=l.default.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:Object(f.default)("jiraAttachmentsContainer",t)},e.map(e=>i.h(p.default,{logo:i.h(h.default,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick})))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:o}=this.props;if(e||!i||!i.length||!t)return null;const r=i.reduce((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},o){if(!e)return[];const r=Object(u.groupBy)(e.filter(e=>e.type===t&&e.itemId===n),"deploymentUrl"),a="atlOrigin="+g.JIRA_ATL_ORIGIN_TOKEN;return Object.values(r).map(e=>{let t="",n="",r="",s=0;return e.forEach((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,r+="jql=issuekey in ("+e.issueKey):i<o?(t+=", "+e.issueKey,r+=","+e.issueKey):(s++,r+=","+e.issueKey)}),r+=")",s>0&&(t+=` and ${s} more`),{attachmentIds:t,label:i,href:e.length>1?`${n}?${r}&${a}`:`${n}?${a}`}})}(t.attachments,n,o)):e,[]),a=this.renderJiraAttachments(r);return r.length>0&&n?n(a):a}}m.propTypes={wrappingFn:r.a.func,itemType:r.a.string,itemId:r.a.string,maxNumberOfAttachmentsShown:r.a.number},m.defaultProps={maxNumberOfAttachmentsShown:3},t.default=d()(m,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1e3);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399);n(1001);function s(e){const{class:t,logo:n,description:o,text:r,href:s,onClick:l}=e;return i.h("div",{class:Object(a.default)("integrationInfo",t)},i.h("span",{class:"integrationLogo"},n),i.h("span",{class:"integrationDescription"},o),s?i.h("a",{class:"integrationName ellipsis",target:"_blank",title:r,href:s,onClick:l,rel:"external noopener noreferrer"},r):i.h("span",{class:"integrationName ellipsis"},r))}s.propTypes={logo:r.a.element,description:r.a.string,text:r.a.string,href:r.a.string},t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1003);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1004);t.default=function(e){const{class:t,disabled:n}=e,r=Object(o.default)("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:r},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1006);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(522),s=n(624),l=n(1007),c=n(399),d=n(248);n(1016);const u=[s.CustomRules.SPOTIFY,s.CustomRules.YOUTUBE,s.MarkdownRules.IMAGE,s.MarkdownRules.CHECKBOX,s.MarkdownRules.TABLE,s.MarkdownRules.HEADING],p={};function h({description:e,readOnly:t,editing:n,sectionCollapsed:o,emptyWorkspaceSection:r,onEditingStateChange:s,onUpdateDescription:h,sectionId:f},{onSetSectionDescriptionHeight:g}){const m=Object(a.useRef)(null),b=Object(a.useRef)(null),[S,y]=Object(a.useState)(!1),[v,C]=Object(a.useState)(!1),[O,E]=Object(a.useState)(!1);function T(e){p[f]=e,C(e)}Object(a.useLayoutEffect)(()=>{const e=m.current;if(e){const{scrollHeight:t,clientHeight:n}=e;y(v?n>36:t>n),C(p[f]||!1),function(e){const t=e.querySelector(".markdown");if(t){const{firstElementChild:e,childElementCount:n}=t;E(n>1&&18===e.offsetHeight)}}(e)}},[e]),Object(a.useEffect)(()=>{o&&T(!1)},[o]),Object(a.useLayoutEffect)(()=>{g&&b.current&&g(f,b.current.clientHeight)},[e,o,v,S]);const _=!v&&!n&&S;return i.h("div",{class:Object(c.default)("workspaceDescriptionWrapper",{editing:n}),onMouseDown:d.stopPropagation,ref:b},e&&i.h("div",{class:Object(c.default)("workspaceDescription",{expanded:v,readOnly:t,hasNewLine:O}),ref:m},i.h(l.default,{value:e,disabledFeatures:u,supportLink:"https://zpl.io/article/lightweight-markdown-support",readOnly:t,editing:n,onEdit:s,onCancel:s,onUpdate:h})),S&&!n&&i.h("div",{class:"textButton",onClick:function(){T(!v)}},_?"Show more":"Show less"),r&&!o&&i.h("p",{class:"emptyWorkspaceSection"},"☝️ No projects yet. Move projects to this section by dragging and dropping."))}h.propTypes={description:r.a.string,editing:r.a.bool,emptyWorkspaceSection:r.a.bool,onEditingStateChange:r.a.func,onUpdateDescription:r.a.func},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1008);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(399),l=n(1009),c=n(248),d=n(229),u=n(404),p=n(1010),h=n(628),f=n(622),g=n(442),m=n(624);n(1015);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=/:(\S+?):/g;class y extends a.default{constructor(...e){super(...e),b(this,"state",{selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:this.props.value}),b(this,"textAreaRef",i.createRef()),b(this,"emojiAutoCompleteContainerRef",i.createRef()),b(this,"markdownDescriptionRef",i.createRef()),b(this,"changeSuggestedEmojis",()=>{const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,i=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),r=n.substring(t,i+1).match(S);return r&&h.default.searchEmoji(r[0].substring(1,r[0].length-1))?[]:h.default.getSuggestedEmojis(e)}return[]}(e,this.textAreaRef.current.selectionStart);if(i!==t){const e=Math.max(0,Math.min(n,i.length-1));this.setState({suggestedEmojis:i,selectedEmojiIndex:e})}}),b(this,"setValueStateToInitialValue",()=>{const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})}),b(this,"scrollIntoView",()=>{this.markdownDescriptionRef.current.scrollIntoView()}),b(this,"handleCancel",()=>{const{value:e,onCancel:t}=this.props;this.setState({value:e}),t()}),b(this,"handleSubmit",()=>{const{readOnly:e}=this.props;e||this.submit()}),b(this,"handleInput",e=>{const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}),b(this,"handleKeyDown",e=>{const{editing:t,readOnly:n}=this.props;if(n)return;t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.submit())}),b(this,"handleKeyDownListActions",Object(c.debounce)(e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}})),b(this,"handleKeyDownWhenListOpen",e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}),b(this,"handleKeyUp",e=>{e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}),b(this,"handleListItemClick",(e,t)=>{this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}),b(this,"handleListItemMouseOver",(e,t)=>{this.setState({selectedEmojiIndex:e})}),b(this,"handleSelectEmoji",()=>{const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=this.textAreaRef.current,o=e[t],r=i.selectionStart,a=n.substring(0,r).lastIndexOf(":"),s=o.formattedAlias,l=`${n.substring(0,a)}:${s}: ${n.substring(r)}`,c=a+s.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}),b(this,"handleTextAreaClick",()=>{this.props.editing&&this.changeSuggestedEmojis()})}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return e&&"safari"===Object(d.getBrowser)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const e=this.textAreaRef.current,t=this.emojiAutoCompleteContainerRef.current;if(!e||!t)return;const n=e.selectionStart,{top:i,left:o}=Object(l.default)(e,n),r=i+22,a=o;t.style.top=r+"px",t.style.left=a+"px"})}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:o,suggestedEmojis:r}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus()),o||i===t.value||this.changeSuggestedEmojis(),n&&r.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(u.default,{onClick:n},i.h(g.IconEdit,null)))}renderControls(){const{editing:e,value:t,disabledFeatures:n,supportLink:o,readOnly:r}=this.props;if(!e||r)return null;const a=o||"https://zpl.io/article/markdown-support";return i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},!n.includes(m.MarkdownRules.HEADING)&&i.h("span",null,"# Header  "),i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:a,target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(u.default,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(u.default,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:t===this.state.value},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:this.emojiAutoCompleteContainerRef},i.h(p.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,disabledFeatures:o,onUpdate:r}=this.props,{value:a}=this.state,l=!e&&!a&&Boolean(n),c=Object(s.default)("markdownDescription",{editing:e,promoteEditButton:t,placeholderVisible:l});return i.h("div",{ref:this.markdownDescriptionRef,class:c},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(f.default,{onUpdate:r,disabledFeatures:o},a||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},a," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:this.textAreaRef,value:a,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))),this.renderControls())}}y.propTypes={value:r.a.string,maxLength:r.a.number,readOnly:r.a.bool,placeholder:r.a.string,shouldPromoteEditButton:r.a.bool,supportLink:r.a.string,onEdit:r.a.func,onUpdate:r.a.func,onCancel:r.a.func},y.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1,disabledFeatures:[]},t.default=y},function(e,t,n){"use strict";n.r(t);const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=null!==window.mozInnerScreenX;t.default=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const r=n.style,a=window.getComputedStyle(e);var s="INPUT"===e.nodeName;r.whiteSpace="pre-wrap",s||(r.wordWrap="break-word"),r.position="absolute",r.visibility="hidden",i.forEach(e=>{if(s&&"lineHeight"===e)if("border-box"===a.boxSizing){const e=parseInt(a.height,10),t=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10),n=t+parseInt(a.lineHeight,10);r.lineHeight=e>n?e-t+"px":e===n?a.lineHeight:0}else r.lineHeight=a.height;else r[e]=a[e]}),o?e.scrollHeight>parseInt(a.height,10)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=e.value.substring(0,t),s&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(a.borderTopWidth,10),left:l.offsetLeft+parseInt(a.borderLeftWidth,10),height:parseInt(a.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";n.r(t);var i=n(1011);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(5),a=n.n(r),s=n(1012);n(1014);function l(e){const{emoji:t,formattedAlias:n,selected:r,customEmoji:a,onMouseOver:s,onClick:l,listRef:c}=e,d=a?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:Object(o.default)({selected:r},"emojiItem"),onMouseOver:s,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function c({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:r,class:a}){return i.h(s.default,{class:Object(o.default)("emojiAutoCompleteList",a),options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:r,onItemClick:n,RowComponent:l})}c.propTypes={suggestedEmojis:a.a.array,selectedIndex:a.a.number,onItemClick:a.a.func,onItemMouseOver:a.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1013);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(420),a=n(247);function s(e,t){return n=>t(e,n)}const l=Object(o.debounce)(e=>{e&&Object(a.scrollIfNecessary)(e)});class c extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs["ref"+t],o=this.nodeRefs["ref"+n];i&&(l(i),i.classList.add("selected")),o&&o.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:o,selectedIndex:a,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map((e,t)=>i.h(o,Object.assign({},e,{key:e[n]},{listRef:Object(r.default)(this,"ref"+t)},{selected:t===a,onMouseOver:s(t,l),onClick:s(t,c)}))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(892),r=n(992),a=n(991),s=n(1020),l=n(420);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="ScreenThumbnail",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(r.DragSourceSectionHeader),f=Object(a.getSectionComponent)(h),g=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(f);class m extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>n===u?this.dropSectionHeader(e,t):n===p?this.dropScreenThumbnail(e):void 0)}dropSectionHeader(e,t){if(""===this.props.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionHeaderDrop(e,t,n)}dropScreenThumbnail(e){const{id:t,onScreenThumbnailDrop:n}=this.props;n(e,t)}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context;return i.h(g,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1021);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r={[i.SCREEN_THUMBNAIL_SECTION]:80,[i.STYLEGUIDE_COMPONENT_SECTION]:80,[i.PROJECT_SECTION]:160};function a(e){return class extends e{constructor(...e){super(...e),o(this,"calculateMoveIndex",e=>{const{defaultSection:t,index:n}=this.props,{targetPosition:i}=this.state,o="bottom"===i;if(t&&!o)return;let r=n;return e>n&&o&&(r=n+1),e<n&&!o&&(r=n-1),r}),o(this,"setTargetPosition",e=>{const{defaultSection:t,type:n}=this.props,{targetPosition:i}=this.state,{base:o}=this.nodeRefs,a=function({type:e,baseRect:t,pointerPosition:n,targetPosition:i}){const o=i?r[e]:0,a=("top"===i?t.top+o:t.top)+(t.height-o)/2;return n.top>=a}({type:n,baseRect:o.getBoundingClientRect(),pointerPosition:e,targetPosition:i});if(t&&!a)return void this.setState({targetPosition:""});const s=a?"bottom":"top";i!==s&&this.setState({targetPosition:s})}),o(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),o(this,"setSectionHeaderHover",()=>{this.state.sectionHeaderHover||this.setState({sectionHeaderHover:!0})})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_DESCRIPTION",(function(){return i})),n.d(t,"SCREEN_THUMBNAIL_SECTION",(function(){return o})),n.d(t,"STYLEGUIDE_COMPONENT_SECTION",(function(){return r})),n.d(t,"PROJECT_SECTION",(function(){return a}));const i="A sweet, short description.",o="ScreenThumbnailSection",r="StyleguideComponentSection",a="ProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(892),r=n(992),a=n(991),s=n(1020),l=n(420);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="GroupHeader",h="StyleguideComponent",f=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(r.DragSourceSectionHeader),g=Object(a.getSectionComponent)(f),m=Object(o.DropTarget)({acceptsItemType:[u,p],onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1,putComponentGroupInto:!1}),d(this,"setPutComponentGroupInto",(e,t)=>{const n=this.nodeRefs.base.getBoundingClientRect(),{id:i,defaultSection:o,collapsed:r,componentGroupsCount:a}=this.props,{putComponentGroupInto:s}=this.state,l=t[0];o||r||a&&(1!==a||l!==i)||!function(e,t,n){return t.top+43+36>e.bottom-(n?43:0)}(n,e,s)?this.unsetPutComponentGroupInto():s||this.setState({putComponentGroupInto:!0})}),d(this,"unsetPutComponentGroupInto",()=>{this.state.putComponentGroupInto&&this.setState({putComponentGroupInto:!1})}),d(this,"dropSectionHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{styleguideId:i,onSectionOrGroupDrop:o}=this.props,r=this.calculateMoveIndex(e);n===i&&e===r||o({sourceIdPath:[t],sourceIndex:e,sourceStyleguideId:n,targetStyleguideId:i,to:r})}),d(this,"dropComponent",(e,t,n)=>{const{id:i,styleguideId:o,componentCount:r,onComponentToSectionOrGroupDrop:a}=this.props;a({sourceIdPath:t,sourceIndex:e,targetIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:r})}),d(this,"dropGroupHeader",(e,t,n)=>{if(!this.state.putComponentGroupInto)return;const{id:i,styleguideId:o,onSectionOrGroupDrop:r}=this.props;r({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:0})}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n}=t;if(n===u)this.setTargetPosition(e);else if(n===p){const{dragData:{idPath:n}}=t;this.setPutComponentGroupInto(e,n)}else n===h&&this.setSectionHeaderHover()}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===p?this.unsetPutComponentGroupInto():e===h&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i},o)=>{o===u?this.dropSectionHeader(t,e,i):o===h?this.dropComponent(t,n,i):o===p&&this.dropGroupHeader(t,n,i)})}render(){const{targetPosition:e,sectionHeaderHover:t,putComponentGroupInto:n}=this.state,{dragDisabled:o}=this.context;return i.h(m,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,putComponentGroupInto:n,draggable:!o,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(892),r=n(992),a=n(991),s=n(1020),l=n(420);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="Project",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(r.DragSourceSectionHeader),f=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(a.default),g=Object(a.getSectionComponent)(h),m=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"dropSectionHeader",(e,t)=>{if(""===this.state.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionDrop({sourceId:e,sourceIndex:t,moveIndex:n})}),d(this,"dropProject",e=>{const{id:t,onProjectDrop:n}=this.props;n(e,t)}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>{n===u?this.dropSectionHeader(e,t):n===p&&this.dropProject(e)})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context,{actionsDisabled:o}=this.props,r=o?f:m;return i.h(r,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(s.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1025);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(522),r=n(5),a=n.n(r),s=n(1026),l=n(1031),c=n(1034),d=n(1028),u=n(519),p=n(951),h=n(869),f=n(1046),g=n(249),m=n(245),b=n(247),S=n(236),y=n(367),v=n.n(y);n(1047);function C({projectCount:e,styleguides:t,links:n,readOnly:r,onAddLinkButtonClick:a,onUpdateLinkButtonClick:y,onRemoveLinkButtonClick:C},{selectedOrganizationId:O}){const[E,T]=Object(o.useState)(8),[_,P]=Object(o.useState)({}),[j,D]=Object(o.useState)(!1),[k,I]=Object(o.useState)(!1),[R,A]=Object(o.useState)(!1),w=Object(o.useRef)(null);function N(){const e=w.current;if(e){const t=e.scrollWidth>e.clientWidth,i=n.length;t&&E>1&&T(e=>e===i?i-1:e-1)}}function L(){I(!0)}function x(){P({}),D(!1),I(!1)}function M(e){e.stopPropagation(),P({}),L()}async function U(){await S.userPrefs.get("styleguidesUsed")?Object(b.openLink)("https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"):v.a.history.push(Object(m.urlResolve)("workspace-styleguides",{url:{oid:O}}))}function B(e,t){e.stopPropagation(),function(e){mixpanel.master.track("Clicked project section link",{Type:Object(f.getLinkType)(e)})}(t)}function z(){A(!R)}const V=new ResizeObserver(()=>{T(8),N()});return Object(o.useEffect)(()=>(w.current&&V.observe(w.current),()=>V.disconnect()),[]),Object(o.useLayoutEffect)(()=>{N()},[E,n.length]),Object(o.useLayoutEffect)(()=>(j||R?Object(h.disableScroll)():Object(h.enableScroll)(),()=>Object(h.enableScroll)()),[j,R]),i.h(i.Fragment,null,i.h("div",{class:"sectionHeaderSummary",ref:w},Boolean(e)&&i.h("div",{class:"summaryItem projectSummaryItem"},Object(g.pluralize)(e,"project"),i.h(l.default,null)),i.h(s.default,{linkTitle:e?t.length?Object(g.pluralize)(t.length,"styleguide"):i.h(i.Fragment,null,i.h("div",{onClick:z},"No linked styleguides"),R&&i.h(p.default,{class:"styleguideHideableInfo",content:"Link styleguides to projects to display components, colors, text styles and more.",buttonText:"OK, got it!",hideCallback:z,actionButton:{text:"Learn more",callback:U},popover:!0})):null,items:t.map(({_id:e,name:t})=>({_id:e,title:t,url:Object(m.urlResolve)("styleguide",{url:{bid:e}}),inApp:!0})),footer:function(){const e=Object(m.urlResolve)("workspace-styleguides",{url:{oid:O},query:{stid:t.map(({_id:e})=>e)}});return i.h(d.default.Link,{href:e,inApp:!0},"View All Styleguides")}(),trackStyleguideClick:function(){mixpanel.master.track("Clicked project section linked styleguides")}}),function(){const t=Boolean(e||n.length);return i.h(i.Fragment,null,n.slice(0,E).map(({_id:t,title:n,url:o},a)=>{const s=0!==a||Boolean(e);return i.h("div",{class:"summaryItem",key:t},s&&i.h(l.default,null),i.h("a",{title:"Right-click to edit",href:o,key:t,class:"summaryItemLink noSelect",target:"_blank",rel:"noopener",onContextMenu:e=>function({ev:e,_id:t,title:n,url:i}){r||(e.preventDefault(),P({pos:{x:e.clientX,y:e.clientY},_id:t,title:n,url:i}),D(!0))}({ev:e,_id:t,title:n,url:o}),onClick:e=>B(e,o)},Object(f.getLinkIcon)(o),i.h("div",{class:"summaryItemText ellipsis"},n)))}),n.length<8&&n.length<=E&&!r&&i.h("div",{class:"summaryItem"},t&&i.h(l.default,null),i.h("button",{class:"summaryItemLink",onClick:M},"Add link")))}(),n.length>E&&i.h(i.Fragment,null,i.h(l.default,null),i.h(s.default,{linkTitle:"Show more",items:n.slice(E),footer:!r&&i.h(i.Fragment,null,n.length<8&&!r&&i.h(d.default.Button,{onClick:M},"Add link"),i.h(d.default.Submenu,{name:"Edit custom link"},n.slice(E).map(({_id:e,title:t,url:n})=>i.h(d.default.Button,{key:"submenu-"+e,onClick:()=>function({_id:e,title:t,url:n}){P({_id:e,title:t,url:n}),L()}({_id:e,title:t,url:n})},t))))}))),j&&function(){if(r)return;const{pos:{x:e,y:t}}=_;return i.h(u.default,{didRender:function(n){n.style.transform=`translate(${e}px, ${t}px)`}},i.h(d.default,{onClose:function(){D(!1)},onChange:L},i.h(d.default.Button,null,"Edit")))}(),k&&function(){const{_id:e,title:t,url:n}=_,o=Boolean(t)||Boolean(n)?y:a;return i.h(c.default,{id:e,title:t,url:n,onClose:x,onPositiveButtonClick:o,onRemoveLinkButtonClick:C})}())}C.propTypes={selectedOrganizationId:a.a.string.isRequired,projectCount:a.a.number.isRequired,styleguides:a.a.array.isRequired,links:a.a.array.isRequired,readOnly:a.a.bool.isRequired,onAddLinkButtonClick:a.a.func.isRequired,onUpdateLinkButtonClick:a.a.func.isRequired,onRemoveLinkButtonClick:a.a.func.isRequired},t.default=C},function(e,t,n){"use strict";n.r(t);var i=n(1027);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(522),s=n(1028),l=n(519),c=n(869);function d({linkTitle:e,items:t,footer:n,trackStyleguideClick:o}){const r=Object(a.useRef)(),[d,u]=Object(a.useState)(!1);return Object(a.useLayoutEffect)(()=>(d?Object(c.disableScroll)():Object(c.enableScroll)(),()=>Object(c.enableScroll)()),[d]),i.h(i.Fragment,null,i.h("div",{class:"summaryItem withMenu",ref:r,onClick:function(e){o&&o(),e.stopPropagation(),t.length&&u(!0)}},e),d&&i.h(l.default,{didRender:function(e){if(r.current){const{x:t,y:n,width:i}=r.current.getBoundingClientRect(),{width:o}=e.getBoundingClientRect(),a=8,s=t+i+o+36<=window.innerWidth?t+i+a:t-o-a;e.style.transform=`translate(${s}px, ${n}px)`}}},i.h(s.default,{class:"customLinkMenu",onClose:function(){u(!1)}},t.map(({_id:e,title:t,url:n,inApp:o})=>i.h(s.default.Link,{class:"ellipsis",key:e,href:n,inApp:o},t)),i.h("hr",null),n)))}d.propTypes={linkTitle:r.a.node,items:r.a.array,footer:r.a.node,trackStyleguideClick:r.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1029);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(399),a=n(420),s=n(252);n(1030);class l extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let o=0;const r=window.innerHeight-2*e;if(n.bottom>r){const t=n.height,i=Math.max(t-r,0);o=window.innerHeight-n.bottom-e+i,this.nodeRefs.submenu.style.maxHeight=r+"px"}0!==o&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${o}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:o,children:l,submenuClass:c}=this.props;return i.h("label",{ref:Object(a.default)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||o),i.h("img",{src:s.imageUrl("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(a.default)(this,"submenu"),class:Object(r.default)("submenu",t,c)},l))}}class c extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:o,content:r}=this.props,a=e.map(e=>{const o=e.value===n,{value:r,name:a}=e;return i.h("label",{key:`${a}-${r}`},i.h("span",null,a),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:r,checked:o}),i.h("img",{src:s.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))});if(o){let o=t;if(r){o=`${r} (${e.find(e=>e.value===n).name})`}return i.h(l,{content:o},a)}return i.h("div",null,a)}}class d extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{content:e,name:t,disabled:n,value:o}=this.props;return i.h("label",{class:Object(r.default)({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.handleClick,name:t,checked:o}),i.h("img",{src:s.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}}class u extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:o}=this.props;if(o){let r=i?[...i]:[];t?r.push(e):r=r.filter(t=>t!==e),o(n,r,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:o}=this.props,r=e.map(e=>n&&n.includes(e.name)),a=o>=r.filter(e=>e).length;return i.h(h.Submenu,{content:t},e.map((e,t)=>i.h(h.Switch,{key:e.key||t,name:e.name,content:e.content,value:r[t],disabled:e.disabled||a&&r[t],onClick:this.clickHandler})))}}class p extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){const{onClick:t,name:n}=this.props;t(e,n)}render(){const{disabled:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(r.default)({warning:!!t}),disabled:e,onClick:this.handleClick},this.props.children)}}class h extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t}=this.props,n=Object(r.default)("zplMenu",e);return i.h("div",{ref:Object(a.default)(this,"base"),onClick:o.stopPropagation,class:n},i.toChildArray(t).map(e=>i.cloneElement(e,{onClick:this.handleClick})))}}h.Submenu=l,h.Picker=c,h.Switch=d,h.SwitchMenu=u,h.Button=p,h.Link=function({class:e,href:t,inApp:n,children:o}){return n?i.h("a",{class:e,href:t,"data-link-type":"inApp",rel:"noopener"},o):i.h("a",{class:e,href:t,target:"_blank",rel:"noopener"},o)},h.Divider=function(){return i.h("hr",null)},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1032);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1033);function o(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1035);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(522),r=n(5),a=n.n(r),s=n(245),l=n(1036),c=n(1042);n(1045);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h({id:e,title:t,url:n,onPositiveButtonClick:r,onRemoveLinkButtonClick:a,onClose:d}){const[p,h]=Object(o.useState)({title:t,url:n}),f=t&&n?"edit":"add",g=p.title&&Object(s.isValidUrl)(p.url);function m(e,t){h(u(u({},p),{},{[e]:t}))}function b(){r({_id:e,title:p.title,url:p.url})}const S={add:{title:"Add link to a related resource: e.g. brief, requirements or repo.",buttonText:"ADD"},edit:{title:"Update existing link name and URL.",buttonText:"UPDATE",fallbackButtonText:"REMOVE"}};return i.h(c.default,{class:"customLinkDialog",width:540,positiveButtonText:S[f].buttonText,negativeButtonText:"CANCEL",fallbackButtonText:S[f].fallbackButtonText,onPositiveButtonClick:b,onNegativeButtonClick:d,onFallbackButtonClick:function(){a(e)},onClose:d,hideNegativeButton:!1,positiveButtonDisabled:!g},i.h("div",{class:"dialogBody",onKeyPress:function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(!g)return;e.preventDefault(),b(),d()}}},i.h("h3",null,S[f].title),i.h(l.default,{name:"title",label:"Name",value:p.title,placeholder:"Add a name for the link",maxLength:48,shouldDisplayCountDown:!1,onChange:m,autoFocus:!0}),i.h(l.default,{name:"url",label:"URL",value:p.url,placeholder:"Add URL",maxLength:1024,shouldDisplayCountDown:!1,nativeProps:{type:"url"},onChange:m})))}h.propTypes={width:a.a.number,linkName:a.a.string,url:a.a.string,onPositiveButtonClick:a.a.func,onClose:a.a.func},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1037);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1038),s=n(399);n(1041);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:d}=i;class u extends i.Component{constructor(...e){super(...e),c(this,"state",{error:null,isFocused:!1}),c(this,"handleChange",e=>{const{name:t,onChange:n,validate:i}=this.props,o=e.target.value;i&&this.setState({error:i(t,o)}),n(t,o)}),c(this,"handleFocus",()=>{this.setState({isFocused:!0})}),c(this,"handleBlur",()=>{const{name:e,value:t,validate:n,onBlur:i}=this.props;n?this.setState({error:n(e,t),isFocused:!1}):this.setState({isFocused:!1}),i&&i()}),c(this,"handleKeyDown",e=>{const{name:t,onEscape:n,onEnter:i}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC?(e.preventDefault(),e.target.blur(),n&&n(t)):e.keyCode===Zeplin.KEY_CODE.ENTER&&i&&(e.preventDefault(),e.target.blur(),i())})}get shouldDisplayCountDown(){const{maxLength:e,shouldDisplayCountDown:t}=this.props,{isFocused:n}=this.state;return t&&Boolean(e)&&n}get remainingCharCount(){const{maxLength:e,value:t}=this.props;return e-t.length}render(){const{error:e,isFocused:t}=this.state,{name:n,class:o,label:r,value:c,placeholder:d,customSuccessMessage:u,customErrorMessage:p,tipText:h,pendingText:f,nativeProps:g,maxLength:m,rows:b,disabled:S,autoFocus:y,shouldAlwaysDisplayTipText:v,isPending:C}=this.props;return i.h(a.default,{class:Object(s.default)("textFormField",o,{hasCountDown:this.shouldDisplayCountDown}),label:r,successMessage:!this.shouldDisplayCountDown&&u,errorMessage:!this.shouldDisplayCountDown&&(p||e),tipText:h,pendingText:f,disabled:S,shouldDisplayErrorMessageIcon:Boolean(c),shouldDisplayTipText:t||v,isPending:C},b?i.h("textarea",l({name:n,value:c,placeholder:d,maxlength:m,rows:b,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)):i.h("input",l({name:n,value:c,placeholder:d,maxlength:m,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)),this.shouldDisplayCountDown&&i.h("div",{class:Object(s.default)("countDown",{exceed:0===this.remainingCharCount})},this.remainingCharCount))}}u.propTypes={name:r.a.string.isRequired,class:r.a.string,label:r.a.string,value:r.a.string,placeholder:r.a.string,customSuccessMessage:r.a.node,customErrorMessage:r.a.node,tipText:r.a.node,pendingText:r.a.string,nativeProps:r.a.object,maxLength:r.a.number,rows:r.a.number,disabled:r.a.bool,autoFocus:r.a.bool,shouldDisplayCountDown:r.a.bool,shouldAlwaysDisplayTipText:r.a.bool,isPending:r.a.bool,onChange:r.a.func.isRequired,onBlur:r.a.func,onEscape:r.a.func,onEnter:r.a.func,validate:r.a.func},u.defaultProps={value:"",shouldDisplayCountDown:!0},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(509),s=n.n(a),l=n(1039),c=n.n(l),d=n(478),u=n.n(d),p=n(399);n(1040);const{h:h}=i;function f(e){const{children:t,class:n,label:o,successMessage:r,errorMessage:a,tipText:l,pendingText:d,disabled:h,shouldDisplayErrorMessageIcon:f,shouldDisplayTipText:g,isPending:m}=e;let b;return a?b=i.h("div",{class:"formFieldMessageContainer error"},f&&i.h(c.a,null),i.h("p",{class:"formFieldMessage"},a)):m?b=i.h("div",{class:"formFieldMessageContainer pending"},i.h(u.a,null),i.h("p",{class:"formFieldMessage"},d)):r&&(b=i.h("div",{class:"formFieldMessageContainer success"},i.h(s.a,null),i.h("p",{class:"formFieldMessage"},r))),i.h("div",{class:Object(p.default)("formField",n,{disabled:h,hasMessage:Boolean(r||a)||m})},o&&i.h("div",{class:"formFieldLabel"},o),i.h("div",{class:"formFieldContent"},t,b,Boolean(l)&&g&&i.h("div",{className:"formFieldTipText"},l)))}f.propTypes={class:r.a.string,label:r.a.string,children:r.a.node.isRequired,successMessage:r.a.node,errorMessage:r.a.node,tipText:r.a.node,pendingText:r.a.string,disabled:r.a.bool,shouldDisplayErrorMessageIcon:r.a.bool,shouldDisplayTipText:r.a.bool,isPending:r.a.bool},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=12*e/12;return i.h("svg",{width:e,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M6 3.898L2.317.215c-.282-.282-.759-.284-1.052.01l-1.04 1.04c-.298.298-.298.764-.01 1.052L3.898 6 .215 9.683c-.282.282-.284.759.01 1.052l1.04 1.04c.298.298.764.298 1.052.01L6 8.102l3.683 3.683c.282.282.759.284 1.052-.01l1.04-1.04c.298-.298.298-.764.01-1.052L8.102 6l3.683-3.683c.282-.282.284-.759-.01-1.052l-1.04-1.04c-.298-.298-.764-.298-1.052-.01L6 3.898z"}))}o.defaultProps={width:12,color:"#EE6723"},t.default=o},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(770);n.d(t,"DialogFooter",(function(){return i.default}));var o=n(1043);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(519),s=n(248),l=n(420),c=n(399),d=n(22),u=n(770);n(1044);const{h:p}=i;class h extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),d.default.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:r,fallbackButtonType:d,positiveButtonDisabled:p,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,onClose:v,width:C,footer:O,loading:E,loadingText:T,class:_,bodyClass:P}=this.props;return i.h(a.default,null,i.h("dialog",{onClick:s.stopPropagation,onClose:v,style:{width:C},class:Object(c.default)(_,"dialog",{loading:E}),ref:Object(l.default)(this,"dialog")},i.h("div",{class:Object(c.default)(P,"body")},this.props.children),i.h(u.default,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:r,fallbackButtonType:d,positiveButtonDisabled:p,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m||v,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,footer:O,loading:E,loadingText:T})))}}h.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},h.propTypes={positiveButtonText:r.a.string.isRequired,negativeButtonText:r.a.string,fallbackButtonText:r.a.string,positiveButtonType:r.a.string.isRequired,negativeButtonType:r.a.string.isRequired,fallbackButtonType:r.a.string.isRequired,positiveButtonDisabled:r.a.bool,negativeButtonDisabled:r.a.bool,onPositiveButtonClick:r.a.func,onNegativeButtonClick:r.a.func,onFallbackButtonClick:r.a.func,hidePositiveButton:r.a.bool,hideNegativeButton:r.a.bool,width:r.a.oneOfType([r.a.number,r.a.string]),onClose:r.a.func,children:r.a.node,footer:r.a.node,loading:r.a.bool,loadingText:r.a.string},t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getLinkType",(function(){return l})),n.d(t,"getLinkIcon",(function(){return c}));var i=n(4),o=n(442);const r=(e,...t)=>t.some(t=>e.endsWith(t)),a={zeplin:{type:"Zeplin",icon:i.h(o.IconZeplin,null)},asana:{type:"Asana",icon:i.h(o.IconAsana,null)},abstract:{type:"Abstract",icon:i.h(o.IconAbstract,null)},github:{type:"Github",icon:i.h(o.IconGithub,null)},gitlab:{type:"Gitlab",icon:i.h(o.IconGitlab,null)},bitbucket:{type:"Bitbucket",icon:i.h(o.IconBitbucket,null)},figma:{type:"Figma",icon:i.h(o.IconFigma,null)},sketchCloud:{type:"SketchCloud",icon:i.h(o.IconSketchCloud,null)},invision:{type:"Invision",icon:i.h(o.IconInvision,null)},notion:{type:"Notion",icon:i.h(o.IconNotion,null)},paper:{type:"Paper",icon:i.h(o.IconPaper,null)},trello:{type:"Trello",icon:i.h(o.IconTrello,{width:20,color:"var(--gandalf)"})},confluence:{type:"Confluence",icon:i.h(o.IconConfluence,null)},jira:{type:"Jira",icon:i.h(o.IconJira,{width:20,color:"var(--gandalf)"})},default:{type:"Custom",icon:i.h(o.IconCustomLink,null)}};function s(e){try{const{hostname:t,pathname:n}=new URL(e);return function(e,t){return r(e,"zeplin.io","zpl.io")?a.zeplin:r(e,"asana.com")?a.asana:r(e,"abstract.com")?a.abstract:r(e,"github.com")?a.github:r(e,"gitlab.com")?a.gitlab:r(e,"bitbucket.org")?a.bitbucket:r(e,"figma.com")?a.figma:r(e,"sketch.com")?a.sketchCloud:r(e,"invisionapp.com","invis.io")?a.invision:r(e,"notion.so")?a.notion:r(e,"paper.dropbox.com")?a.paper:r(e,"trello.com")?a.trello:r(e,"atlassian.net","jira.com")?((e,...t)=>["/wiki","/l/c/"].some(t=>e.startsWith(t)))(t)?a.confluence:a.jira:a.default}(t,n)}catch(t){return a.default}}const l=e=>s(e).type,c=e=>s(e).icon},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_HEIGHT=t.ORG_SUMMARY_HEIGHT=t.FOCUS_AREA_TOTAL_PADDING=t.PROJECTS_ROW_BOTTOM_PADDING=t.PROJECTS_ROW_TOP_PADDING=t.PROJECTS_ROW_HEIGHT=t.MIN_SECTION_DESCRIPTION_HEIGHT=t.RAW_SECTION_HEADER_HEIGHT=t.PROJECTS_HORIZONTAL_PADDING=t.PROJECT_VERTICAL_MARGIN=t.PROJECT_HORIZONTAL_MARGIN=t.PROJECT_WIDTH=t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=t.NEW_SECTION_DESCRIPTION=t.NEW_SECTION_TITLE=t.DEFAULT_FOCUS_COUNT_LIMIT=void 0;t.DEFAULT_FOCUS_COUNT_LIMIT=4;t.NEW_SECTION_TITLE="Untitled Section";t.NEW_SECTION_DESCRIPTION="Add a _markdown_ flavored description and tell the story of this section.";t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=300;t.PROJECT_WIDTH=272;t.PROJECT_HORIZONTAL_MARGIN=24;t.PROJECT_VERTICAL_MARGIN=24;t.PROJECTS_HORIZONTAL_PADDING=36;t.RAW_SECTION_HEADER_HEIGHT=123;t.MIN_SECTION_DESCRIPTION_HEIGHT=18;t.PROJECTS_ROW_HEIGHT=215;t.PROJECTS_ROW_TOP_PADDING=12;t.PROJECTS_ROW_BOTTOM_PADDING=24;t.FOCUS_AREA_TOTAL_PADDING=26;t.ORG_SUMMARY_HEIGHT=100;t.TABS_HEIGHT=67},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1051);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(928),r=n(892),a=n(248),s=n(420),l=n(975),c=n(931),d=n(970);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=Object(a.pipe)(Object(r.DragSource)({itemType:"Project",mirrorComponent:c.SpaceCardMirror,provideDragData:e=>{const{project:{name:t,thumbnail:n,users:i,_id:o,type:r},moveCubukPosition:a,sectionId:s,index:l,lightness:c}=e;return{sectionId:s,moveCubukPosition:a,name:t,source:n,users:i,id:o,type:r,index:l,lightness:c}}}),Object(r.DropTarget)({acceptsItemType:"Project",onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,moveCubukPosition:t.dragData.moveCubukPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId})}))(o.default);class h extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{cancelIdleCallback(this.visibleId);const t=e.isIntersecting;this.visibleId=requestIdleCallback(()=>{t!==this.state.visible&&this.setState({visible:t})})},(n="handleIntersection")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={lightness:"dark",moveCubukPosition:"",visible:!1},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this)}getImageProperties(){}handleDragHover({mirrorPosition:e}){const{sections:t,sectionId:n}=this.props;if("individual"===t.find(({_id:e})=>e===n).type)return;const i=this.nodeRefs.base.getBoundingClientRect(),o=e.left>i.left+i.width/2;this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:o?l.CUBUK_POSITION.RIGHT:l.CUBUK_POSITION.LEFT}))}handleDragHoverOut(){this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:""}))}componentDidMount(){this.observer=Object(d.getThumbnailObserver)(),this.observer.observe(this.base,this.handleIntersection)}shouldComponentUpdate(e,t){if(e.scroll)return!0;return!(!this.state.visible&&!t.visible)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,lightness:t,visible:n}=this.state;return i.h(p,u({baseRef:Object(s.default)(this,"base"),dragBaseRef:Object(s.default)(this,"dragBase"),lightness:t,cardVisible:n,moveCubukPosition:e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1053);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(404),s=n(551);n(1054);function l({onCreateSection:e},{currentOrganizationProfile:{restricted:t}={}}){return i.h("div",{class:"sectionOnboarding"},i.h("h1",null,"Introducing Sections for projects ",i.h(s.default,{width:"24",height:"18",asset:"img/emjWaffle.png"})),i.h("div",{class:"description"},"Bring clarity to your workspace by organizing and adding more context to your projects."),i.h(s.default,{class:"image noSelect",width:"720",asset:"img/sampleProjectSection.png"}),t?i.h("div",{class:"description restrictedUserInfo"},'Right-click a project and select "Create a new section" to get started'):i.h(a.default,{onClick:e,primary:!0},"Create Section"))}l.propTypes={onCreateSection:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1056);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1057),r=n(1042),a=n(1062),s=n(399);n(1065);t.default=function(e){const{project:t,onClose:n,onJoin:l,loading:c}=e,d=Object(s.default)("projectPreviewDialogBody",{loading:c});return i.h(r.default,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:l,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(a.default,null):i.h(o.default,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";n.r(t);var i=n(1058);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(252),r=n(399),a=n(247),s=n(248),l=n(420),c=n(1059),d=n(527),u=n.n(d);n(1061);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){const{snapshot:t}=e.versions[0],n=Math.floor(180*t.height/t.width);return i.h(c.default,{height:n,key:e._id,source:t.url})}function m(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(s.sortBy.role).map(({user:e})=>h(h({},e),{},{avatar:Object(a.getUserAvatar)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),o=n.slice(0,t).map(e=>i.h(u.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}));if(n.length===t+1){const e=n[t];o.push(i.h(u.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}))}else if(n.length>t+1){const r=n.slice(t).map(e=>e.title).join("\n"),a=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:r},"+",e.length-t);o.push(a)}return i.h("div",{class:"projectUsers"},o)}class b extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),o=Math.floor((i-e)/204),r=i-204*o;let a=t;n.screens.length&&(a=r/2),this.nodeRefs.base.style=`padding-left: ${a}px; padding-right: ${a}px;`;const s=204*o-24-36,l=Math.floor(s/42);l!==this.state.usersLimit&&this.setState({usersLimit:l})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e,source:"Preview"})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:a,users:c,screens:d},loadingJoin:u=!1,hideJoinButton:p,headerSticky:h}=this.props,{usersLimit:f}=this.state,b=Object(r.default)("projectPreviewHeader",{sticky:h}),S=Object(s.getDensityScaleRepresentation)(n,a);return i.h("div",{ref:Object(l.default)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:b},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(s.getPlatformString)(n)),a&&i.h("span",{class:"projectPreviewDensity"},S))),!p&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:o.imageUrl("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),m(c,f),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(g)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(d))}}t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(1060);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(934),r=n.n(o),a=n(399);class s extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=Object(a.default)({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:o,style:{height:e}},i.h(r.a,{source:t,onLoad:this.handleLoad}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1063);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(399),a=n(248);n(1064);const s=Array.from({length:10},()=>{const e=Math.floor(180*Math.random()*.7)+180;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})});class l extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(a.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(r.default)("projectPreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"projectPreviewLoadingMember breathe"}))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},s))}}t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1067);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1068),r=n(1077),a=n(766),s=n(551),l=n(252);n(1080);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"values",["ios","android","web","osx"]),c(this,"state",{selected:this.values[0]}),c(this,"handleChange",e=>{this.setState({selected:e})}),c(this,"handlePositiveButtonClick",()=>{const{selected:e}=this.state,{onCreate:t}=this.props;t(e)}),c(this,"handleTabClick",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(s.default,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.imageUrl)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(s.default,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(r.default,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1069);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1070),r=n(1073);n(1076);function a({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:s,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(r.default,{name:e,value:n,label:s,checked:t,onClick:this.handleClick}),i.h(a,{image:l}),i.h(o.default,{dimensionType:c,exportType:d,selected:t}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1071);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1072);t.default=function({dimensionType:e,exportType:t,selected:n,singleLine:r}){const a=Object(o.default)("projectInfo","noSelect",{selected:n});return i.h("div",{class:a},"Dimensions in ",i.h("strong",null,e),",",!r&&i.h("br",null)," ",t," export.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1074);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(807),r=n.n(o);n(1075);t.default=function(e){const{value:t,name:n,label:o,checked:a,onClick:s}=e;return i.h("div",{class:"projectRadio"},i.h(r.a,{name:n,checked:a,onClick:s,value:t}),i.h("span",{class:"projectTypeName noSelect"},o))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1078);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1070),r=n(1073);n(1079);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:a,dimensionType:s,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(r.default,{name:e,value:n,label:a,checked:t,onClick:this.handleClick}),i.h(o.default,{dimensionType:s,exportType:l,selected:t,singleLine:!0}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1082);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(766)),s=i(n(400)),l=i(n(263));n(1083);const c={users:"Users",notes:"Notes",versions:"Versions"};function d({type:e,subText:t,checked:n,onSelection:i}){return o.h("label",{class:"includeOption"},o.h(s.default,{checked:n,onChange:function(){i(e)}}),o.h("span",{class:"includeDescription"},o.h("span",{class:"type"},c[e]),o.h("span",{class:"subText"},t)))}t.default=function({barrelType:e,barrelId:t,barrelName:n,onCopy:i,onClose:s}){const[c,u]=r.useState(e===l.default.PROJECT?{users:!1,notes:!1,versions:!1}:{users:!1}),[p,h]=r.useState(!1);function f(e){u(Object.assign(Object.assign({},c),{[e]:!c[e]}))}return o.h(a.default,{loading:p,isDismissable:!1,positiveButtonText:"MAKE A COPY",hideNegativeButton:!1,width:540,onPositiveButtonClick:function(){h(!0),i({bid:t,barrelName:n,options:c})},onClose:s},o.h("div",{class:"copyBarrelDialog"},o.h("h4",{class:"copyBarrelHeader"},"Make a copy of ”",n,"”?"),e===l.default.PROJECT?o.h("p",{class:"copyBarrelDescription"},"The copy will include all screens and resources in the local styleguide. Additionally, you can include:"):o.h("p",{class:"copyBarrelDescription"},"The copy will include all components, colors, text styles and spacing tokens. Additionally, you can include:"),o.h("div",{class:"includeOptions"},o.h(d,{type:"users",subText:"Invite same users to the copy",checked:c.users,onSelection:f}),e===l.default.PROJECT&&o.h(o.Fragment,null,o.h(d,{type:"notes",subText:"Include all notes on screens",checked:c.notes,onSelection:f}),o.h(d,{type:"versions",subText:"Include version history of screens",checked:c.versions,onSelection:f})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1085);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(766));n(1086),t.default=function({barrelType:e,barrelName:t,onClose:n}){return o.h(r.default,{width:540,positiveButtonText:"DONE",onPositiveButtonClick:n,onClose:n},o.h("div",{class:"asyncCopyingBarrelDialog"},o.h("h4",null,"Copying ”",t,"”…"),o.h("p",null,"We are now copying the ",e,". This usually takes a minute or two—check back in a bit. We’ll also email you once it’s done.")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1088);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(420),a=n(229),s=n(230);n(1089);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u;const p={primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of a workspace:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},h={title:"Welcome to Zeplin! We are glad you’re here 👋",description:i.h("strong",null,"Let’s start by watching this short tutorial:")},f={FREE_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_MEMBER:c(c(c({},h),p),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),secondaryButtonText:"Create a project"}),PAID_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_NO_CREATE_PERMISSION:c(c({},h),{},{primaryButtonLabel:i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class g extends i.Component{constructor(e){super(e),this.showVideoOverlay=this.showVideoOverlay.bind(this),this.hideVideoOverlay=this.hideVideoOverlay.bind(this),this.handleVideoClick=this.handleVideoClick.bind(this),this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{canCreateProject:e,selectedOrganizationId:t}=this.context,{availableOrganization:n,hasPaidPlan:i,onCheckoutOrganization:o,onCreate:r}=this.props;if("user"===t){let e;return i?e={labels:f.PAID_PLAN,onPrimaryButtonClick:r}:(e={labels:h},s.isWindowsApp&&(e={labels:f.FREE_PLAN,onPrimaryButtonClick:r})),n&&(e=c(c({},e),{},{labels:c(c({},f.ORGANIZATION_MEMBER),{},{primaryButtonText:f.ORGANIZATION_MEMBER.primaryButtonText.replace("{{organizationName}}",n.name)}),onPrimaryButtonClick:()=>o(n._id)}),(i||s.isWindowsApp)&&(e=c(c({},e),{},{onSecondaryButtonClick:r}))),e}return e?{labels:f.PAID_PLAN,onPrimaryButtonClick:r}:{labels:f.ORGANIZATION_NO_CREATE_PERMISSION}}showVideoOverlay(){this.setState({videoOverlayVisible:!0})}hideVideoOverlay(){this.youtubePlayer.pauseVideo(),this.setState({videoOverlayVisible:!1})}handleVideoClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;Object(a.getDevice)()===a.DEVICE_TYPES.MOBILE?location.assign("https://www.youtube.com/watch?v=x1RPNx8Jsp4"):this.setState({videoOverlayVisible:!0})}componentDidMount(){u||(u=new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}))}componentDidUpdate(e,t){!t.videoOverlayVisible&&this.state.videoOverlayVisible&&u.then(e=>{this.youtubePlayer=new e.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:"x1RPNx8Jsp4",events:{onReady:()=>this.youtubePlayer.playVideo()}})})}renderTutorialVideo(){return i.h("div",{key:"video",style:{backgroundImage:"url(https://img.youtube.com/vi/x1RPNx8Jsp4/maxresdefault.jpg)"},class:"tutorialVideo",onClick:this.handleVideoClick},i.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return i.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},i.h("div",{ref:Object(r.default)(this,"youtubePlayerAnchor")}))}renderListItems(){return i.h("ol",null,i.h("li",null,"If you’re a developer, ask your designer to create a project for you."),i.h("li",null,i.h("span",null,"If you’re a designer, download our ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to export designs.")))}render(){const{videoOverlayVisible:e}=this.state,{availableOrganization:t}=this.props,{labels:n,onPrimaryButtonClick:r,onSecondaryButtonClick:a}=this.getLabelsAndHandlers(),l=!t&&!s.isWindowsApp;return i.h("div",{class:"noProjectsScrollContainer"},i.h("div",{class:"noProjects"},i.h("h1",null,n.title),i.h("p",{class:"description"},n.description),this.renderTutorialVideo(),e&&this.renderVideoOverlay(),l&&this.renderListItems(),i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},n.primaryButtonLabel),r&&i.h(o.default,{onClick:r,primary:!0},n.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},n.primaryButtonSubLabel)),a&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},n.secondaryButtonLabel),i.h(o.default,{onClick:a,secondary:!0},n.secondaryButtonText))))}}t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1091);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1092);t.default=function(e,t){const{filterValue:n,canCreateProject:o,selectedOrganizationId:r,selectedWorkflowStatusName:a,currentOrganizationProfile:{restricted:s}={}}=t,l="user"===r,c=`No ${l?"":"organization"} projects ${function(e,t){let n="currently.";return e?n="with this name or type 🤷‍♀️":t&&(n=`with “${t}” status 🤷‍♀️`),n}(n,a)}`;return i.h("div",{class:"emptyProjects"},i.h("h3",null,c),!a&&!n&&!l&&i.h("p",null,o?"Go ahead and create one! ✌️":function(e){return e?i.h("span",null,"To create a project or be invited to an existing project, you can contact anyone with an Editor role in the Organization. "):i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))}(s)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1094);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245);n(1095);t.default=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:r}=e,a=Object(o.urlResolve)("workspace-profile-billing",{url:{oid:t}}),s=["king","queen"].includes(r),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your workspace has been suspended.":s?"Looks like you've cancelled your subscription, your workspace has been suspended.":"It looks like the subscription has been cancelled and your workspace has been suspended.",d=s?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:a},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:a},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1097);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(522),r=n(5),a=n.n(r),s=n(404),l=n(951),c=n(905),d=n(962),u=n(545),p=n(379),h=n(384),f=n.n(h),g=n(314),m=n.n(g),b=n(249),S=n(399),y=n(263),v=n.n(y),C=(n(1098),n(869));function O({onCreateSection:e,onMoveToSection:t,onChangeStatus:n,onCancelSelectionMode:r,selectedProjects:a,sections:h},{selectedOrganizationProjects:g}){const[y,O]=Object(o.useState)(!1),E=Object(o.useRef)(null),T=Object(o.useRef)(null),_=g.filter(({status:e})=>"archived"===e).map(({_id:e})=>e),P=function(e,t){return t.some(t=>e.includes(t))}(_,a),j=function(e,t){const n=t.reduce((t,n)=>t+(e.includes(n)?1:0),0);let i="";return n>0&&(i=` (includes ${Object(b.pluralize)(n,"archived project")})`),`${Object(b.pluralize)(t.length,"project")} selected${i}`}(_,a);function D(e){T.current=()=>function(e){t(e,a)}(e),f.a.clearProjectSelection()}function k(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),f.a.clearProjectSelection())}return Object(o.useEffect)(()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k),Object(C.enableScroll)()}),[]),Object(o.useEffect)(()=>{y?Object(C.disableScroll)():Object(C.enableScroll)()},[y]),Object(o.useEffect)(()=>()=>{T.current&&requestIdleCallback(()=>{T.current(),T.current=null},{timeout:500})},[a]),i.h("div",{class:Object(S.default)("selectModeActionBar","noSelect")},i.h(s.default,{class:"cancelSelectionMode",onClick:r,secondary:!0},"Cancel"),i.h("span",{class:"selectedProjectText ellipsis",title:j},j),i.h(s.default,{class:"createSection",onClick:function(){T.current=()=>e(a),f.a.clearProjectSelection()},primary:!0},"Create section"),h.length>0&&i.h(s.default,{class:"moveToSection",ref:E,onClick:function(){O(!0)},secondary:!0},"Move to section…"),i.h(u.default,{targetNode:E.current&&E.current.base,open:y,onClose:function(){O(!1)},content:function(){return i.h(d.default,{barrelType:v.a.PROJECT,sections:h,onSelect:D})},top:12,left:0,faceLeft:!0}),i.h("div",{class:"statusContainer"},i.h(c.default,{onWorkflowStatusChange:function(e){e._id===m.a.NoStatus._id?p.default.deleteWorkflowStatuses({bids:a,syncWithApi:!0}):p.default.updateWorkflowStatuses({bids:a,workflowStatus:e,syncWithApi:!0}),n()},disabled:P,defaultLabel:"Change status to…",showSelectedAsLabel:!1}),i.h(l.default,{class:Object(S.default)("selectModeInfo",{show:P}),content:"It looks like one of your projects is archived. In order to update the status of these projects, they all need to be active.",popover:!0,anchor:"top",noControls:!0})))}O.propTypes={onCreateSection:a.a.func.isRequired,onMoveToSection:a.a.func.isRequired,onChangeStatus:a.a.func.isRequired,onCancelSelectionMode:a.a.func.isRequired,sections:a.a.array,selectedProjects:a.a.array},t.default=O},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1100);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(432),a=n(249),s=n(248),l=n(232),c=i(n(1101)),d=i(n(404));n(1102),t.default=function({currentPlan:e,offer:t,onUseOfferClick:n,onHideClick:i}){const{group:u,moreSeatsAllowed:p,seat:h,projectLimit:f,percentage:g,validUntil:m}=t,b=h&&!p,S=f?f-e.projectLimit:0,y=s.formatTime(m,{month:"long",day:"numeric",timeZone:"UTC"});return o.h(c.default,{class:"offerHintBox",emoji:"🧚",hideButtonText:"Close",onHideClick:i},function(){const t=e.group===l.PlanGroup.FREE?"Upgrade to Zeplin Team":`Your ${e.name} Plan is going away, upgrade to Zeplin Team today`;let i="";return"free"===u?i=`with 43% savings (until ${y})`:b?i="at no cost":g?i=`with ${g}% savings!`:S&&(i=`and get ${S} bonus projects!`),o.h("div",{className:"header"},o.h("h3",null,t," ",i),o.h(d.default,{onClick:n,primary:!0},"Use offer"))}(),function(){const n=r.getDateDifference("d",new Date,m),i=n<6?"in "+a.pluralize(n,"day"):"on "+y;if(e.group===l.PlanGroup.FREE)return o.h("p",null,"You have a special offer for the Zeplin Team plan! You’ll get support for",o.h("strong",null," 12 projects, unlimited version history, and a team workspace. "),"Get 5 seats for the price of 3 (43% savings). Offer expires ",i,".");let s="";const c=S+" additional projects";return b?s=`to get ${a.pluralize(h,"seat")} of the new Zeplin Team plan\n             ${S?"and "+c:""}  at no extra cost`:g?s=`to lock in ${g}% savings on the new Zeplin Team plan`:S&&(s=`to get the new Zeplin Team plan along with ${c} at no extra cost`),o.h("p",null,"We’re adding features to make teamwork easier like a",o.h("strong",null," team workspace, user management"),"gb"===t.group?", and more. ":o.h("strong",null,", and support for 12 projects. "),"Use this special offer ",s," (offer expires ",i,"). Your ",e.name," Plan will be retired in March 2022.")}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(573);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(311),o=n.n(i),r=n(271),a=n.n(r);const s={getProjectsSuccess({projects:e,oid:t}){a.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){a.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_FAILED,error:e})},requestProject(e){a.a.dispatcher.dispatch({type:o.a.REQUEST_PROJECT,pid:e})},getProjectRequest(){a.a.dispatcher.dispatch({type:o.a.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){a.a.dispatcher.dispatch({type:o.a.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){a.a.dispatcher.dispatch({type:o.a.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t,oseid:n}){a.a.dispatcher.dispatch({type:o.a.CREATE_PROJECT,oid:e,platform:t,oseid:n,syncWithApi:!0})},updateProject({pid:e,data:t}){a.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,canChangePlanAtTarget:s}){a.a.dispatcher.dispatch({type:o.a.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,canChangePlanAtTarget:s,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:s}){a.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:r,users:s})},inviteUser({container:e,pid:t,users:n,oid:i}){a.a.dispatcher.dispatch({type:o.a.INVITE_USER,container:e,pid:t,users:n,oid:i})},toggleProjectSelection(e){a.a.dispatcher.dispatch({type:o.a.TOGGLE_PROJECT_SELECTION,pid:e})}};t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(259);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return class extends e{constructor(...e){super(...e),a(this,"showToast",({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.default)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})})}getChildContext(){let e;return super.getChildContext&&(e=super.getChildContext()),r(r({},e),{},{showToast:this.showToast})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSectionDescriptionHeight=t.virtualScrollProjectSections=t.virtualScrollPersonalWorkspace=void 0;const i=n(1048),o=n(1106),r=n(1107);var a;!function(e){e.sectionHeader="SectionHeader",e.projectsRow="ProjectsRow"}(a||(a={}));const s={};function l(e,t){const n=!t,o=!!e.description,r=!o,a=e.projects.length>0,l=!a;if(t){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(s[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(r)return i.RAW_SECTION_HEADER_HEIGHT}else if(n){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(s[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(r){if(a)return i.RAW_SECTION_HEADER_HEIGHT;if(l)return i.RAW_SECTION_HEADER_HEIGHT+(s[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT)}}return i.RAW_SECTION_HEADER_HEIGHT}t.virtualScrollPersonalWorkspace=function({section:e,projectToScroll:t,scrollPosition:n}){const{rows:s,projectsLookup:l,startIndex:c}=function(e,t){const n=[],r={};let s=-1;const l=o.howManyProjectsFitInARow();n.push({ids:[],indexes:[],sectionId:e._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow});for(let o=0;o<e.projects.length;o++){const c=e.projects[o];r[c._id]=c;const d=n[n.length-1];d.ids.length===l?n.push({ids:[c._id],indexes:[o],sectionId:e._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow}):(d.ids.push(c._id),d.indexes.push(o)),t&&c._id===t&&(s=n.length-1)}return{rows:n,projectsLookup:r,startIndex:s}}(e,t),d=c>-1?r.windowAroundIndex({items:s,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:c}):r.virtualScroll({items:s,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:n});return{surplusProjects:[],sections:[{indexInWorkspace:0,rawSection:Object.assign(Object.assign({},e),{projects:d.items.flatMap(e=>e.ids.map(e=>l[e]))})}],placeholders:d.placeholders}},t.virtualScrollProjectSections=function({sections:e,collapsedSections:t,highlightedSection:n,projectToScroll:s,scrollPosition:c}){const{rows:d,projectsLookup:u,startIndex:p}=function(e,t,n,r){const s=[],c={};let d=-1;const u=o.howManyProjectsFitInARow();for(let o=0;o<e.length;o++){const p=e[o];if(n&&n===p._id&&(d=s.length),t[p._id])s.push({id:p._id,height:l(p,!0),type:a.sectionHeader,index:o});else if(0===p.projects.length)s.push({id:p._id,height:l(p,!1),type:a.sectionHeader,index:o});else{s.push({id:p._id,height:l(p,!1),type:a.sectionHeader,index:o}),s.push({ids:[],indexes:[],sectionId:p._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow});for(let e=0;e<p.projects.length;e++){const t=p.projects[e];c[t._id]=t;const o=s[s.length-1];o.ids.length===u?s.push({ids:[t._id],indexes:[e],sectionId:p._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:a.projectsRow}):(o.ids.push(t._id),o.indexes.push(e)),!n&&r&&t._id===r&&(d=s.length-1)}}}return{rows:s,projectsLookup:c,startIndex:d}}(e,t,n,s),h=p>-1?r.windowAroundIndex({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:p}):r.virtualScroll({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:c}),f=[];let g=0;for(;g<h.items.length&&h.items[g].type!==a.sectionHeader;){const e=h.items[g];e.ids.forEach((t,n)=>{f.push({project:u[t],indexInSection:e.indexes[n],sectionId:e.sectionId})}),g++}const m=[];for(;g<h.items.length;){const t=h.items[g],n=e.find(e=>e._id===t.id);if(!n){g++;break}let i=[];g++;let o=h.items[g];for(;o&&o.type!==a.sectionHeader;){const e=o.ids.map(e=>u[e]);i=i.concat(e),g++,o=h.items[g]}m.push({indexInWorkspace:t.index,rawSection:Object.assign(Object.assign({},n),{projects:i})})}return{surplusProjects:f,sections:m,placeholders:h.placeholders}},t.setSectionDescriptionHeight=function(e,t){s[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScrollTopToIgnore=t.howManyProjectsFitInARow=void 0;const i=n(1048);function o(){let e=1;for(;e*(i.PROJECT_WIDTH+i.PROJECT_HORIZONTAL_MARGIN)+2*i.PROJECTS_HORIZONTAL_PADDING<window.innerWidth;)e++;return e=1===e?1:e-1,e}t.howManyProjectsFitInARow=o,t.calculateScrollTopToIgnore=function(e){return i.ORG_SUMMARY_HEIGHT+i.TABS_HEIGHT+function(e){return 0===e?0:Math.ceil(e/o())*(i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING)+i.PROJECTS_ROW_TOP_PADDING+i.FOCUS_AREA_TOTAL_PADDING}(e)}},function(e,t,n){"use strict";function i(e,t){return e.top>=t.top&&e.top<t.bottom||t.bottom>e.top&&t.bottom<e.bottom}function o(e,t,n){const i=[];let o=0,r=t;for(;r>0&&o<n;){const t=e[r];o+=t.height,i.unshift(t),r--}return{renderedItems:i,height:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScroll=t.windowAroundIndex=void 0,t.windowAroundIndex=function(e){const{items:t,tolerance:n,windowHeight:i,startIndex:r}=e;let a=[],s=0,l=0,c=0;for(let d=0;d<t.length;d++){const e=t[d];if(c+=e.height,d<r)s+=e.height;else if(d===r){const{renderedItems:i,height:r}=o(t,d-1,n);s-=r,a=[...i,e]}else d>r&&c<s+n+i+n?a.push(e):l+=e.height}return{items:a,placeholders:{top:s,bottom:l}}},t.virtualScroll=function(e){const{items:t,tolerance:n,windowHeight:o,scrollPosition:r}=e,a={top:Math.max(r-n,0),bottom:r+o+n};let s=!1,l=0;const c=[];let d=0,u=0;for(const p of t){const e=p.height;l+=e,i({top:l-e,bottom:l},a)?(s=!0,c.push(p)):s?u+=e:d+=e}return{placeholders:{top:d,bottom:u},items:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({projects:e,archivedProjectsVisible:t}){return e.reduce((e,n)=>t||"archived"!==n.status?(e[n.workflowStatus._id]?e[n.workflowStatus._id]++:e[n.workflowStatus._id]=1,e):e,{})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1111);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1112),r=n(1114),a=n(1150),s=n(1185),l=n(1189),c=n(1191),d=n(1081),u=n.n(d),p=n(1084),h=n.n(p),f=n(1194),g=n(384),m=n.n(g),b=n(363),S=n.n(b),y=n(365),v=n(379),C=n(271),O=n.n(C),E=n(263),T=n.n(E),_=n(513),P=n.n(_),j=n(779),D=n(232),k=n(257),I=n(380),R=n(233),A=n(236),w=n(248);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),N(this,"state",{differentTypeDialogVisible:!1,styleguidesInfoVisible:!1}),N(this,"openDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!0})}),N(this,"closeDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!1})}),N(this,"createStyleguide",()=>{f.default.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),N(this,"createStyleguideWithParentType",()=>{f.default.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),N(this,"handleCreateStyleguide",(e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find(e=>e._id===t).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==D.PLATFORM.BASE)?this.openDifferentTypeDialog():this.createStyleguide()}),N(this,"handleStyleguideClick",(e,t)=>{const{filteredStyleguides:n}=this.state,i=n.find(e=>e._id===t);if("active"!==i.status)return;i.users.some(e=>e.user._id===Zeplin.user._id)?A.userPrefs.set("styleguidesUsed",!0):(e.preventDefault(),e.stopPropagation(),m.a.openDialog(D.DialogTypes.PREVIEW_STYLEGUIDE,{previewBarrelId:t}))}),N(this,"handleStyleguidePreviewJoin",()=>{v.default.join({barrelType:T.a.STYLEGUIDE,bid:this.state.previewStyleguide._id,source:"Preview"})}),N(this,"handleDeleteStyleguide",({stid:e})=>{v.default.remove({barrelType:T.a.STYLEGUIDE,bid:e,syncWithApi:!0})}),N(this,"handleOpenCopyStyleguideDialog",({barrelId:e,barrelName:t})=>{m.a.openDialog(D.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})}),N(this,"handleCopyStyleguide",({bid:e,barrelName:t,options:n})=>{v.default.copy({bid:e,barrelName:t,barrelType:T.a.STYLEGUIDE,options:n,syncWithApi:!0})}),N(this,"handleLeaveStyleguide",({bid:e,mid:t})=>{v.default.removeMember({barrelType:T.a.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})}),N(this,"handleArchiveStyleguide",({stid:e})=>{v.default.archive({bid:e,barrelType:T.a.STYLEGUIDE,syncWithApi:!0})}),N(this,"handleActivateStyleguide",({stid:e})=>{v.default.activate({bid:e,barrelType:T.a.STYLEGUIDE,syncWithApi:!0})}),N(this,"handleJoinStyleguide",({stid:e,shouldLoadBarrel:t})=>{v.default.join({barrelType:T.a.STYLEGUIDE,bid:e,shouldLoadBarrel:t})}),N(this,"handleSelectParent",({stid:e,parent:t,oldParent:n})=>{f.default.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})}),N(this,"handleRemoveParent",({stid:e,oldParent:t})=>{f.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),N(this,"handleCopyLink",e=>{const{onCopyLink:t}=this.props;t(`${R.ZPL_PROTOCOL}//styleguide?stid=${e}`)}),N(this,"handleCopyStyleguideWebLink",e=>{const{onCopyLink:t}=this.props;t(e)}),N(this,"handleOpenCreateStyleguideDialog",()=>{const{currentPlan:e,currentUserId:t,selectedOrganization:n,currentStyleguides:i}=this.state,o=n&&n.styleguideLimit?n.styleguideLimit:e.styleguideLimit,r=(n?i:i.filter(({users:e})=>e.some(({user:{_id:e},role:n})=>e===t&&"owner"===n))).filter(e=>"archived"!==e.status);o>0&&r.length>=o?m.a.openDialog(D.DialogTypes.PLAN_CHOOSER,{barrelType:T.a.STYLEGUIDE,planUpgradeTrigger:D.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):m.a.openDialog(D.DialogTypes.CREATE_STYLEGUIDE)}),N(this,"handleShowPlanChooserOverlay",()=>{const{selectedOrganizationId:e}=this.state;Object(j.showPlanChooserOverlay)({source:"Styleguides, Deprecated plan warning",oid:e})}),N(this,"handleTransferOwnership",({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const r=i?y.default.getOrganizationProfile(n):"owner",a=w.permissions.canChangePlan(r);f.default.initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:a})})}static calculateState(){const{organizations:e,organizationProfiles:t}=O.a.OrganizationStore.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:o,highlightedBarrels:r,visibleDialogType:a,visibleDialogParams:s}=O.a.SpaceStore.getState(),{loadingStyleguide:l}=O.a.StyleguidesDataStore.getState(),{userId:c,paymentPlan:d}=O.a.UserStore.getState(),{config:{plans:u}}=O.a.AppStore.getState(),p=y.default.getOrganizationStyleguides(n),h=p&&0===p.length,f=p||[],g=f.find(({_id:e})=>e===s.previewBarrelId),m=e.find(e=>e._id===n),b=t[n],v=c,C=m?u.find(e=>e.id===m.paymentPlan):d;let E=function(e,t=""){return t.length?e.map(e=>({styleguide:e,score:Object(k.calculateMatchingScore)(t,e.name,e.type)})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({styleguide:e})=>e):e}(f,i);b&&b.restricted&&(E=E.filter(e=>e.users.some(e=>e.user._id===v)));const T=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(E,r),_=Object(I.generateTrees)(E),P=Object(I.generateNodes)(E),j=S.a.canCreateStyleguide();return{currentStyleguides:f,filteredStyleguides:E,trees:_,nodes:P,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:m,currentOrganizationProfile:b,filterValue:i,canCreateStyleguide:j,showWelcome:h,loadingStyleguide:l,currentPlan:C,styleguidesTabVisited:o,highlightedBarrels:r,firstHighlightedStyleguide:T,currentUserId:v,visibleDialogType:a,visibleDialogParams:s,previewStyleguide:g}}static getStores(){return[O.a.StyleguidesDataStore,O.a.SpaceStore,O.a.OrganizationStore,O.a.UserStore,O.a.AppStore]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,canCreateStyleguide:r,currentStyleguides:a,currentUserId:s}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,currentUserId:s,canCreateStyleguide:r,currentStyleguides:a}}renderDialogs(){const{currentStyleguides:e,visibleDialogType:t,visibleDialogParams:n,loadingStyleguide:o,selectedOrganizationId:r,currentUserId:l,previewStyleguide:c}=this.state;if(t===D.DialogTypes.CREATE_STYLEGUIDE){let t=Object(I.generateTrees)(e).filter(e=>!e.isArchived());return"user"===r&&(t=t.filter(e=>{const t=e.root.data.users.find(e=>"owner"===e.role);return t&&t.user._id===l})),i.h(s.default,{trees:t,onCreate:this.handleCreateStyleguide,onClose:m.a.closeDialog})}return t===D.DialogTypes.PREVIEW_STYLEGUIDE?i.h(a.default,{styleguide:c,loading:o,onJoin:this.handleStyleguidePreviewJoin,onClose:m.a.closeDialog}):t===D.DialogTypes.COPY_BARREL?i.h(u.a,{barrelType:T.a.STYLEGUIDE,barrelName:n.barrelName,barrelId:n.barrelId,onCopy:this.handleCopyStyleguide,onClose:m.a.closeDialog}):t===D.DialogTypes.ASYNC_COPY_BARREL?i.h(h.a,{barrelType:T.a.STYLEGUIDE,barrelName:n.barrelName,onClose:m.a.closeDialog}):void 0}renderDifferentTypeDialog(){const{differentTypeDialogVisible:e}=this.state;return e?i.h(l.default,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):null}renderEmptyStyleguides(){const{currentPlan:e,organizations:t}=this.state,n="company_annual"===e.id||"company_monthly"===e.id,o=e.group===D.PlanGroup.FREE,r=t.find(({status:e})=>"deleted"!==e);return i.h(c.default,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:r,onOpenPlanChooserOverlay:this.handleShowPlanChooserOverlay,onCreate:this.handleOpenCreateStyleguideDialog,onCheckoutOrganization:m.a.changeSelectedOrganization})}render(){const{onCopyLink:e}=this.props,{trees:t,nodes:n,filterValue:a,selectedOrganizationId:s,selectedOrganization:l={},showWelcome:c,styleguidesTabVisited:d,highlightedBarrels:u,firstHighlightedStyleguide:p}=this.state;return i.h("div",null,c?this.renderEmptyStyleguides():i.h(i.Fragment,null,i.h(o.default,{filterValue:a,onFilter:m.a.changeFilterValue,onCreateStyleguide:this.handleOpenCreateStyleguideDialog}),i.h(r.default,{key:"styleguides",nodes:n,trees:t,highlightedStyleguides:u,firstHighlightedStyleguide:p,organizationId:s,organizationStatus:l.status,organizationSubscriptionStatus:l.subscriptionStatus,isVisited:d,onVisited:m.a.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:m.a.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onOpenCopyStyleguideDialog:this.handleOpenCopyStyleguideDialog,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:this.handleTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:f.default.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyLink:e})),this.renderDialogs(),this.renderDifferentTypeDialog())}}t.default=P()(L,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1113);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(884),r=n(404);t.default=function({onFilter:e,onCreateStyleguide:t,filterValue:n},{canCreateStyleguide:a}){return i.h(o.default,{onFilter:e,filterValue:n,searchPlaceholder:"Search for a styleguide",searchPlaceholderWidth:155,rightContent:a&&i.h(r.default,{class:"noSelect",onClick:t,primary:!0},"Create Styleguide"),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1115);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1116),r=n(1122),a=n(1143),s=n(1146),l=n(1093),c=n(558),d=n(420),u=n(248),p=n(399);n(1149);class h extends c.default{constructor(e){super(e),this.handleResize=Object(u.debounce)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onOpenCopyStyleguideDialog:n,onStyleguideArchive:r,onStyleguideActivate:a,onStyleguideTransferOwnership:s,onStyleguideLeave:l,onStyleguideJoin:c,onStyleguideInvite:d,onStyleguideClick:u,onStyleguideHover:p,onStyleguideParentSelect:h,onStyleguideParentRemove:f,onCopyLink:g,highlightedStyleguides:m,firstHighlightedStyleguide:b}=this.props;return i.h(o.default,{key:e.root.id,tree:e,highlightedStyleguides:m,firstHighlightedStyleguide:b,onNodeDelete:t,onOpenCopyStyleguideDialog:n,onNodeArchive:r,onNodeActivate:a,onNodeTransferOwnership:s,onNodeLeave:l,onNodeJoin:c,onNodeInvite:d,onNodeClick:u,onNodeHover:p,onNodeParentSelect:h,onNodeParentRemove:f,onCopyLink:g})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=Object(p.default)("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.default)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.default,{organizationId:e,subscriptionStatus:n}):i.h(a.default,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],o=[];for(const i of e)i.isArchived()?o.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.default)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),o.length>0&&this.renderArchivedTrees(o))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:o,onStyleguideHover:a,onStyleguideDelete:s,onOpenCopyStyleguideDialog:l,onStyleguideArchive:c,onStyleguideActivate:d,onStyleguideTransferOwnership:u,onStyleguideLeave:p,onStyleguideJoin:h,onStyleguideInvite:f,onStyleguideParentSelect:g,onStyleguideParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(r.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onDelete:s,onOpenCopyStyleguideDialog:l,onArchive:c,onActivate:d,onTransferOwnership:u,onLeave:p,onJoin:h,onInvite:f,onClick:o,onHover:a,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],o=[];for(const i of t)i.isArchived()?o.push(i):n.push(i);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),o.length>0&&i.h("div",{class:"styleguideNodes"},i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):i.h(i.Fragment,null,i.h("h3",null,"Archived Styleguides"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu."))),o.map(this.renderNode)))}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.default)(this,"scrollContainer"),class:"styleguides"},t&&i.h(s.default,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1117);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1118),r=n(1122),a=n(558),s=n(248),l=n(420),c=n(514),d=n(1120);n(1142);function u(e){return[e.id].concat(...e.children.map(u))}class p extends a.default{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.default)(u(e.tree.root),u(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout(()=>{this.forceUpdate()}))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:o,onOpenCopyStyleguideDialog:a,onNodeArchive:s,onNodeActivate:l,onNodeTransferOwnership:c,onNodeLeave:d,onNodeJoin:u,onNodeInvite:p,onNodeClick:h,onNodeHover:f,onNodeParentSelect:g,onNodeParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(r.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onMount:this.handleNodeRef,onDelete:o,onOpenCopyStyleguideDialog:a,onArchive:s,onActivate:l,onLeave:d,onJoin:u,onInvite:p,onClick:h,onHover:f,onTransferOwnership:c,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.TOTAL_LEVEL_GAP};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map((r,a)=>{const c=function(e){const t=Object(s.groupBy)(e,"parentId"),n=Object.values(t).sort((e,t)=>t.length-e.length);let i=-1;return n.reduce((n,o,r,a)=>{const s=o[0].parentId;if(-1===i&&a[r+1]&&o.length===a[r+1].length){const t=a[a.length-1],n=t[t.length-1];e.map(e=>e.id).indexOf(n.id)<e.length/2&&(i=r)}let l;return l=-1!==i?r-i+1:a.length-r,n[s]={weight:l,nodes:t[s]},n},{})}(r.nodes),d=Object.keys(c);let u=d;if(a>0){const e=t.getNodesAtLevel(a-1);u=d.sort((t,n)=>{const i=e.find(e=>e.id===t),o=e.find(e=>e.id===n);return i.index-o.index})}const p=Object.keys(c).length,h=a!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.default)(this,"level"+a),style:h,class:"level",key:a},u.map(n=>{const{nodes:r,weight:s}=c[n],l=r.map(e=>this.nodeRefs[e.id]),d=this.nodeRefs[n],u=this.nodeRefs["level"+a];return i.h(i.Fragment,{key:"branches"+n},this.treeMounted&&u&&d&&l.length>0&&i.h(o.default,{key:n,parentId:n,totalWeight:p,weight:s,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:"nodes"+n,class:"nodes"},r.map(this.renderNode)))}))})]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1119);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1120),r=n(399);n(1121);t.default=function(e){const{parentId:t,levelRef:n,parentNodeRef:a,nodeRefs:s,totalWeight:l,weight:c,highlight:d}=e,u=s[0].getBoundingClientRect(),p=s[s.length-1].getBoundingClientRect(),h=n.getBoundingClientRect(),f=a.getBoundingClientRect().left+136,g=Math.min(u.left+136,f),m=Math.max(p.right-136,f)-g,b=u.left+136-f>0,S=o.TOTAL_LEVEL_GAP/(l+1)*c,y=o.TOTAL_LEVEL_GAP-S,v=`M2,${S} l${m},00 `,C=2+(b?u.left-g+136:0),O=Array(s.length).fill().reduce((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${C+296*n},${S} l00,${y}`})),[]),E=`M${2+(b?0:f-g)},00 l00,${S}`,T=g-h.left-2,_=Object(r.default)("branches",{highlight:d});return i.h("svg",{class:_,"data-parentId":t,style:{left:T,top:-o.TOTAL_LEVEL_GAP},width:m+4,height:o.TOTAL_LEVEL_GAP},O,i.h("path",{d:v}),i.h("path",{d:E}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"TOTAL_LEVEL_GAP",(function(){return i}));const i=48},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1123);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(930),r=n(1124),a=n(766),s=n(967),l=n(545),c=n(955),d=n(1127),u=n(248),p=n(245),h=n(420),f=n(247),g=n(971),m=n(263),b=n.n(m),S=n(380),y=n(232),v=n(869),C=n(233),O=n(976);n(1141);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="transferOwnership",_="selectParent";class P extends i.Component{constructor(...e){super(...e),E(this,"transferOwnershipPayload",{}),E(this,"state",{contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null}),E(this,"getCurrentUser",()=>{const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let o;return o="user"===e?i.find(e=>e.user._id===n):t,o}),E(this,"openTransferOwnershipPopup",()=>{this.setState({visiblePopoverType:T})}),E(this,"openSelectParentPopup",()=>{this.setState({visiblePopoverType:_})}),E(this,"closePopovers",()=>{this.setState({visiblePopoverType:null})}),E(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.ARCHIVE})}),E(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:y.DialogTypes.TRANSFER})}),E(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.LEAVE})}),E(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.DELETE})}),E(this,"openSelectParentDialog",e=>{const{currentStyleguides:t}=this.context,n=t.find(t=>t._id===e._id);this.setState({visibleDialogType:y.DialogTypes.SELECT_PARENT,selectedParentStyleguide:n})}),E(this,"openRemoveParentDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.REMOVE_PARENT})}),E(this,"closeDialogs",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})}),E(this,"selectParent",()=>{const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})}),E(this,"generateShortlink",()=>{Object(O.fetchShortlink)(this.webURL)}),E(this,"handleContextMenu",e=>{Object(v.disableScroll)(),this.setState({contextMenu:{origin:e}})}),E(this,"handleContextMenuClose",()=>{Object(v.enableScroll)(),this.setState({contextMenu:null})}),E(this,"handleMouseEnter",()=>{const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)}),E(this,"handleMouseLeave",()=>{const{onMouseLeave:e}=this.props;e&&e()}),E(this,"handleDelete",()=>{const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})}),E(this,"handleOpenCopyBarrelDialog",()=>{const{node:{data:{_id:e,name:t}},onOpenCopyStyleguideDialog:n}=this.props;n({barrelId:e,barrelName:t})}),E(this,"handleArchive",()=>{const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})}),E(this,"handleActivate",()=>{const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})}),E(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:o,toOrganization:r}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:o,toOrganization:r,oid:e})}),E(this,"handleLeave",()=>{const{node:{data:{_id:e}},onLeave:t}=this.props,n=this.getCurrentUser();this.closeDialogs(),t({bid:e,mid:n.user._id})}),E(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()}),E(this,"handleCopyWebLink",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(Object(O.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),E(this,"handleCopyAppUri",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),E(this,"handleJoinFromContextMenu",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!1})}),E(this,"handleJoinFromCard",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!0})}),E(this,"handleParentRemove",()=>{const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})})}get webURL(){return Object(p.urlResolve)("styleguide",{url:{bid:this.props.node.id}})}get appURI(){return`${C.ZPL_PROTOCOL}//styleguide?stid=${this.props.node.id}`}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{workspaceRef:i}=this.context,{base:o}=this.nodeRefs;t&&o&&!Object(f.isElementVisible)(o,i)&&o.scrollIntoView(),n&&n(e,o)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:r}=this.context,a=Object(g.getTransferableUsers)(e,r,n),s=Object(g.getTransferableOrganizations)(t,o,n);return i.h(c.default,{barrelType:b.a.STYLEGUIDE,users:a,organizations:s,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:o,type:r,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===y.DialogTypes.DELETE)return i.h(s.default,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,p,h,f;switch(e){case y.DialogTypes.TRANSFER:{let e;e=d?t.find(e=>e._id===c).name:o.find(e=>e.user._id===c).user.username,u="TRANSFER",p=`Transfer ownership of “${n}” to ${e}?`,h=this.handleTransferOwnership;break}case y.DialogTypes.LEAVE:u="LEAVE",p=`Leave “${n}”?`,h=this.handleLeave;break;case y.DialogTypes.ARCHIVE:u="ARCHIVE",p=`Archive “${n}”?`,h=this.handleArchive;break;case y.DialogTypes.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,o=r===i||i===y.PLATFORM.BASE;u=`${l?"CHANGE":"SELECT"}${o?"":" ANYWAY"}`;const a=l?"to":"as";f=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(o?"":` (${y.PlatformString[r]})`)} ${a} ${`“${t}”`+(o?"":` (${y.PlatformString[i]})`)}?`,p="Styleguide parent can be changed later.",h=this.selectParent;break}case y.DialogTypes.REMOVE_PARENT:u="REMOVE PARENT",p=`Remove parent styleguide of “${n}”?`,h=this.handleParentRemove}return i.h(a.BasicOverlayDialog,{positiveButtonText:u,onPositiveButtonClick:h,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:p,title:f})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(r.default,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onCopyStyleguide:this.handleOpenCopyBarrelDialog,onInvite:this.handleInvite,onJoin:this.handleJoinFromContextMenu,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,selectableParentStyleguidesLength:e,autoPosition:{preventOverflow:!0,offset:52,menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case T:n=this.renderTransferOwnershipPopup();break;case _:n=i.h(d.default,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(l.default,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:r,visibleDialogType:a}=this.state,{node:s,node:{id:l,parentId:c,data:{type:d,name:f,users:g,thumbnail:m,updated:b}},highlight:y,archived:v,onClick:C,onHover:O}=this.props,E=Object(p.urlResolve)("styleguide",{url:{bid:l}}),T=g.sort(u.sortBy.role),_=Object(S.getSelectableParentStyleguides)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:g});return i.h("div",{ref:Object(h.default)(this,"base"),class:"styleguideCard",onMouseLeave:v||s.isLeaf()?null:this.handleMouseLeave,onMouseEnter:v||s.isLeaf()?null:this.handleMouseEnter},i.h(o.default,{id:l,onClick:C,onHover:O,link:E,type:d,name:f,members:T,source:m,updated:b,onContextMenu:this.handleContextMenu,contextMenu:r&&this.renderContextMenu(_.length),filterValue:e,highlight:y,archived:v,onJoin:this.handleJoinFromCard,pinnable:!1,selectable:!1}),a&&this.renderDialog(a),this.renderPopovers(_))}}t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(1125);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880),r=n(248),a=n(1126);class s extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t,onCopyStyleguide:n}=this.props,a=r.permissions.canTransferOwnership(e),s=r.permissions.canCopyBarrel(e);return[i.h(o.default.ItemDivider,{key:"ownershipDivider"}),a&&i.h(o.default.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),s&&i.h(o.default.Item,{key:"copyStyleguide",onClick:n},"Make a copy…"),(a||s)&&i.h(o.default.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:s,styleguide:{parent:l,status:c}}=this.props;if(c===a.default.ARCHIVED)return null;const d=r.permissions.canUpdateStyleguide(e),u=d&&s>0;return[!l&&u&&i.h(o.default.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(o.default.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(o.default.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(o.default.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:s}}=this.props,l=r.permissions.canChangeStyleguideStatus(e),c=r.permissions.canChangeStyleguideStatus(e),d=s===a.default.ARCHIVED;return[!d&&l&&i.h(o.default.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(o.default.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,a=r.permissions.canDeleteStyleguide(e);return[r.permissions.canLeaveStyleguide(e)&&i.h(o.default.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),a&&i.h(o.default.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,r=e===a.default.ARCHIVED;return[!r&&i.h(o.default.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!r&&i.h(o.default.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:r}=this.props;return t.some(t=>t.user._id===e)?[i.h(o.default.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(o.default.Item,{key:"join",onClick:r},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(o.default.withAutoPosition,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}t.default=s},function(e,t,n){"use strict";n.r(t),t.default={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.r(t);var i=n(1128);n.d(t,"default",(function(){return i.default})),n.d(t,"NoStyleguides",(function(){return i.NoStyleguides})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return i.NoStyleguidesForNonOwnerUser})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return i.NoStyleguideToMoveInOrganization})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return i.NoStyleguideToMoveNonOwner})),n.d(t,"NoStyleguideToMove",(function(){return i.NoStyleguideToMove}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NoStyleguides",(function(){return d})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return c})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return u})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return p})),n.d(t,"NoStyleguideToMove",(function(){return h}));var i=n(4),o=n(1129),r=n(245),a=n(420),s=n(380);n(1140);const l=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),c=({projectOwnerName:e})=>i.h(l,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),d=({hasOrganization:e})=>i.h(l,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no workspace styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(r.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),u=({oid:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no workspace styleguide yet, ",i.h("a",{href:Object(r.urlResolve)("workspace-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),p=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),h=({resourceType:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(r.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class f extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(s.generateTrees)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=this.nodeRefs.base.clientHeight+"px"),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(s.generateTrees)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:r}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},r),i.h(o.default,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}f.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1130);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1131),r=n(442),a=n(399),s=n(232);n(1139);function l({name:e,type:t,selected:n,loading:o}){const s=Object(a.default)("nodeItem",{selected:n});return i.h("div",{class:s},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),o&&n&&i.h("div",{class:"nodeSpinner"},i.h(r.IconSpinner,{color:"#fff"})))}t.default=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:r,hoverable:c,loading:d,class:u}=e,p=function(e,t,n){return function e(o){return o.map(({id:o,data:{name:r,type:a},children:c})=>({id:o,title:r,children:e(c),content:i.h(l,{name:r,loading:n,type:s.PlatformString[a],selected:t===o})}))}(e.map(e=>e.root))}(t,n,d),h=Object(a.default)("styleguidesTreeView",u);return i.h(o.default,{class:h,tree:p,selectedNodeId:n,onNodeSelect:r,hoverable:!d&&c,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";n.r(t);var i=n(1132);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(229),l=n(399),c=n(420),d=n(1133),u=n(1136);n(1138);function p(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(p(e.children,t,e.id)))))}function h(e,t){for(const n of e){if(n.id===t)return n;const e=h(n.children,t);if(e)return e}return null}class f extends i.Component{constructor(e){super(e),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=p(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}findNextSelectableNode(e,t,n){if(this.nodeList[t]){if(this.nodeList[t].nonSelectable){let i;return i=n?"mac"===Object(s.getOS)()&&e.metaKey?this.nodeList.length-1:t+1:"mac"===Object(s.getOS)()&&e.metaKey?0:t-1,this.findNextSelectableNode(e,i,n)}return this.nodeList[t]}}toggleExpand(e){this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{const{collapsedNodes:n}=t;return n.includes(e)?Object(a.arrayRemove)(n,t=>t===e):n.push(e),{collapsedNodes:n}})}handleStartDrag(e){const{collapsedNodes:t}=this.state;t.includes(e)||this.setState({collapsedNodes:[...t,e]})}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.toggleExpand(e);const i=h(t,e);var o;o=n,h(i.children,o)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:o}=this.props,{nonSelectable:r,expandOnClick:a}=this.nodeList.find(({id:t})=>t===e);if(a&&this.toggleExpand(e),o||r)return;this.setState({selectedNodeId:e});const s=t?300:4;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,s,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(s.getOS)()&&e.metaKey?this.nodeList.length-1:n+1,o=this.findNextSelectableNode(e,i,!0);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(s.getOS)()&&e.metaKey?0:n-1,o=this.findNextSelectableNode(e,i,!1);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const{id:e}=this.nodeList[0];this.handleNodeSelect(e,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){if(Object(s.cmdKey)(e)||e.altKey||e.shiftKey)return;let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:o}=e,{collapsedNodes:r}=t;n.length!==r&&(this.nodeList=p(i,r,null)),o!==this.props.selectedNodeId&&this.setState({selectedNodeId:o})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t,n){const{nodeClass:o,nodePadding:r,dragDropEnabled:a,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:l}=this.props,{collapsedNodes:c,selectedNodeId:p}=this.state;return e.map(({id:h,idPath:f,styleguideId:g,title:m,content:b,class:S,children:y},v)=>{const C=c.includes(h),O=p===h,E=a?u.default:d.default;return i.h("div",{key:"tree-"+h,class:"tree"},i.h(E,{key:"node-"+h,class:[o,S],extraPadding:r,id:h,index:v+1,parentIndex:n,idPath:f,styleguideId:g,title:m,level:t,numberOfChildren:y.length,lastNode:e.length===v+1,collapsed:C,selected:O,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onStartDrag:this.handleStartDrag,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:l},b),0!==y.length&&!C&&this.renderTree(y,t+1,v+1))})}render(){const{class:e,tree:t,startingLevel:n=1}=this.props,o=Object(l.default)("treeView",e);return i.h("div",{class:o,tabIndex:"0",ref:Object(c.default)(this,"base"),onClick:a.stopPropagation,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,n,null))}}const g={id:r.a.string.isRequired,title:r.a.string.isRequired,content:r.a.node.isRequired},m=r.a.shape(g);m.children=r.a.arrayOf(m).isRequired,f.propTypes={class:r.a.oneOfType([r.a.string,r.a.arrayOf(r.a.string)]),nodeClass:r.a.string,nodePadding:r.a.number,dragDropEnabled:r.a.bool,tree:r.a.arrayOf(m).isRequired,selectedNodeId:r.a.string,onNodeSelect:r.a.func.isRequired,hoverable:r.a.bool,focusOnMount:r.a.bool,frozen:r.a.bool},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1134);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NodeMirror",(function(){return h}));var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(247),l=n(399),c=n(420),d=n(1135);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class p extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleBaseRef(e){const{baseRef:t,mirror:n}=this.props;Object(c.default)(this,"base")(e),!n&&t&&t(e)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,o=i.toChildArray(t),r=i.toChildArray(n);if(o.length!==r.length)return!0;for(const[i,a]of Object(d.default)(o,r))if(i!==a)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.numberOfChildren!==e.numberOfChildren||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class||this.props.dragging!==e.dragging||this.props.targetPosition!==e.targetPosition}componentDidUpdate(){const{selected:e}=this.props;e&&Object(s.scrollIfNecessary)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:o,level:r,numberOfChildren:s,collapsed:c,selected:d,dragging:u,targetPosition:p,mirror:h}=this.props,f=Object(l.default)("node",t,p,{selected:d,mirror:h,dragging:u}),g=Object(l.default)("chevron",{collapsed:c}),m=n+12*r+(s?8:24);return i.h(i.Fragment,null,"top"===p&&i.h("span",{class:"dragDropNode placeholder"}),i.h("div",{class:f,style:{paddingLeft:m},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:this.handleBaseRef},!!s&&i.h("button",{class:g,onClick:this.handleChevronClick},i.h(a.IconChevron,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:o},e)),"bottom"===p&&i.h("span",{class:"dragDropNode placeholder"}))}}const h=e=>{let t=Object.assign({},e);return i.h(p,u({},t,{mirror:!0,collapsed:!0}))};p.propTypes={class:r.a.oneOfType([r.a.string,r.a.arrayOf(r.a.string)]),extraPadding:r.a.number,id:r.a.string.isRequired,level:r.a.number.isRequired,children:r.a.oneOfType([r.a.node,r.a.element]).isRequired,title:r.a.string.isRequired,numberOfChildren:r.a.number.isRequired,collapsed:r.a.bool.isRequired,selected:r.a.bool.isRequired,dragging:r.a.bool.isRequired,mirror:r.a.bool,targetPosition:r.a.oneOf(["","into","top","bottom"]),onNodeSelect:r.a.func.isRequired,onChevronClick:r.a.func.isRequired},p.defaultProps={extraPadding:0},t.default=p},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t,n){"use strict";n.r(t);var i=n(1137);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1134),r=n(892),a=n(399),s=n(420);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="StyleguideSectionNode",p="StyleguideComponent",h=0,f=1,g=2,m=Object(r.DropTarget)({acceptsItemType:[u,p],onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop(e,t){const{idPath:n,index:i}=t.dragData;e.onDrop({idPath:n,index:i},t)}})(o.default),b=Object(r.DragSource)({itemType:u,mirrorComponent:o.NodeMirror,provideDragData:e=>e,onStartDrag:e=>{const{id:t,onStartDrag:n}=e;n(t)}})(m);class S extends i.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1,targetPosition:""}),d(this,"setTargetPosition",(e,t)=>{const{level:n,numberOfChildren:i,lastNode:o,collapsed:r}=this.props,{targetPosition:a}=this.state;if(t===g&&n===h)return;if(n===h)return void this.setState({targetPosition:"bottom"});if(n===f&&t===n&&i&&!r)return void this.setState({targetPosition:"top"});if(t===f&&n===g)return void(o&&this.setState({targetPosition:"bottom"}));if(t===g&&n===f)return void this.setState({targetPosition:"into"});const s=this.nodeRefs.base.getBoundingClientRect(),l=s.top+s.height/2,c=e.top>=l?"bottom":"top";a!==c&&this.setState({targetPosition:c})}),d(this,"calculateMoveIndex",(e,t,n)=>{let i=t;return e>i&&n?i++:e<i&&!n&&i--,i}),d(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),d(this,"setSectionHeaderHover",e=>{const{barrelId:t}=this.context,{styleguideId:n}=this.props;t===n&&t===e&&this.setState({hovered:!0})}),d(this,"unsetSectionHeaderHover",()=>{this.state.hovered&&this.setState({hovered:!1})}),d(this,"handleComponentDrop",(e,t)=>{if(!this.state.hovered)return;const{idPath:n,onComponentToSectionNodeDrop:i}=this.props;i(e,n,t)}),d(this,"handleNodeDrop",(e,t,n)=>{const{id:i,idPath:o,index:r,parentIndex:a,level:s,numberOfChildren:l,onReorderComponentSectionOrGroup:c}=this.props,{targetPosition:d}=this.state;if(!d)return;const u="bottom"===d,p={csid:e,sourceIndex:t};if(n===f&&s===h){if(1===t)return;p.to=1}else if(n===f&&s===f){const e=this.calculateMoveIndex(t,r,u);if(e===t)return;p.to=e}else if(n===f&&s===g){const e=this.calculateMoveIndex(t,a,u);if(e===t)return;p.to=e}else if(n===g&&s===f){if(i===e[0])return;p.tcsid=o,p.to=l}else if(n===g&&s===g){const[n]=e,[i]=o,a=n===i?this.calculateMoveIndex(t,r,u)-1:r-Number(!u);if(n===i&&a===t-1)return;p.to=a,p.tcsid=[i]}c(p)}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n,dragData:i}=t;n===u?this.setTargetPosition(e,i.level):n===p&&this.setSectionHeaderHover(i.styleguideId)}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===p&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({idPath:e,index:t},n)=>{const{draggingItemType:i,dragData:{level:o}}=n;i===u?this.handleNodeDrop(e,t,o):i===p&&this.handleComponentDrop(e,t)})}render(){const{barrelId:e}=this.context,{hovered:t,targetPosition:n}=this.state,r=this.props,{class:d,level:u}=r,p=c(r,["class","level"]),f=u===h?m:b;return e===this.props.styleguideId?i.h(f,l({},p,{level:u,class:Object(a.default)("dragDropNode",d,{dropHover:t||"into"===n}),baseRef:Object(s.default)(this,"base"),targetPosition:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop})):i.h(o.default,this.props)}}t.default=S},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1144);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1145);t.default=function(e,t){const{selectedOrganizationId:n,filterValue:o,canCreateStyleguide:r}=t,a="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",a?"joined":"active"," styleguides ",o?"with this name/type. 🤷":"currently."),!o&&a&&i.h("p",null,r?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1147);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);n(1148);const a=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.default=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(r.a,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},a)))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1151);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1152),r=n(1042);n(1184);t.default=function(e){const{styleguide:t,loading:n,onClose:a,onJoin:s}=e,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h(r.default,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:s,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:a,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(o.StyleguidePreviewLoading,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(o.default,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1153);n.d(t,"StyleguidePreviewLoading",(function(){return i.default}));var o=n(1165);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1154);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(248),a=n(1155),s=n(1158),l=(n(1164),n(399));class c extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(r.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(l.default)("styleguidePreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/72);return Array.from({length:2*t},()=>i.h(a.ColorPreviewPlaceholder,null))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:6},()=>i.h(s.Placeholder,null)))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/108);return Array.from({length:2*t},()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1156);n.d(t,"default",(function(){return i.default})),n.d(t,"ColorPreviewPlaceholder",(function(){return i.ColorPreviewPlaceholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorPreviewPlaceholder",(function(){return o}));var i=n(4);n(1157);function o(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.default=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1159);n.d(t,"default",(function(){return i.default})),n.d(t,"Placeholder",(function(){return i.Placeholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Placeholder",(function(){return a}));var i=n(4),o=n(1160);n(1163);class r extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:o}}=this.props,r={fontSize:e,fontWeight:n,fontStyle:o};return i.h("span",{style:r},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:r}=Object(o.getMainInfo)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(r))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(o.getExtraInfo)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?"#"+t.name:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}function a(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"REGISTERED_AXES",(function(){return s})),n.d(t,"enumerateFontVariationSettings",(function(){return c})),n.d(t,"getMainInfo",(function(){return d})),n.d(t,"getExtraInfo",(function(){return u}));var i=n(4),o=n(249),r=n(1161),a=n(1162);const s=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in s&&t in s?l[e]-l[t]:e in s&&!(t in s)?-1:!(e in s)&&t in s?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:r,weightText:a,fontVariationSettings:s}=e,l=s||"normal"===r?"":" "+Object(o.uppercaseFirst)(r),c=s||"normal"===n?"":" "+Object(o.uppercaseFirst)(n),d=s?"":Object(o.uppercaseFirst)(a);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let p=[];if(n&&"left"!==n&&p.push(Object(o.uppercaseFirst)(n)),u){const t=c(u).map(([t,n])=>i.h("span",{key:t},s[t]||i.h("code",null,t),": ",e.fontVariationAxis(n)));p.push(...t)}return l&&p.push("Line height: "+e.textLength(l)),"number"==typeof d&&p.push("Letter spacing: "+e.letterSpacing(d)),p=[...Object(r.default)(p,Object(a.default)(", "))],p.pop(),p}},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,o=t[0].next();for(;;)if(n=o,i=(i+1)%t.length,o=t[i].next(),yield n.value,o.done)return}}},function(e,t,n){"use strict";n.r(t),t.default=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(248),r=n(399),a=n(252),s=n(232),l=n(1166),c=n(1172),d=n(1176),u=n(1180),p=n(938),h=n(404);n(1183);function f(e){const{loading:t,name:n,type:f,users:g,densityScale:m,colors:b,textStyles:S,components:y,showJoinButton:v,loadingJoin:C,onJoin:O,headerSticky:E}=e;if(t)return null;const T=b&&!!b.length,_=S&&!!S.length,P=y&&!!y.length,j=!T&&!_&&!P,D=Object(o.getDensityScaleRepresentation)(f,m);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:Object(r.default)("styleguidePreviewHeader",{sticky:E})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},s.PlatformString[f]),m&&i.h("span",{class:"styleguidePreviewDensity"},", ",D))),v&&i.h(h.default,{class:"styleguidePreviewJoinButton",onClick:O},C?i.h("img",{src:Object(a.imageUrl)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(p.default,{members:g,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(l.default,{colors:b}),_&&i.h(c.default,{textStyles:S}),P&&i.h(d.default,{components:y}),j&&i.h(u.default,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1167);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1155),r=n(1168),a=n(420);n(1171);class s extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,10),s=n.length,l=t.length>=10,c=Math.floor(e/72),d=c-s%c;let u;return u=d===c?c:c+d,i.h(r.default,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(a.default)(this,"contentWrapper")},n.map(e=>i.h(o.default,{color:e,key:e.id})),l&&Array.from({length:u},()=>i.h(o.ColorPreviewPlaceholder,null))))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1169);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1170);t.default=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1173);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1168),r=n(1158),a=n(1174);n(1175);t.default=function(e){const{textStyles:t}=e,n=new a.default({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),s=t.slice(0,6);return i.h(o.default,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},s.map(e=>i.h(r.default,{formatter:n,textStyle:e})),t.length>=6&&[i.h(r.Placeholder,null),i.h(r.Placeholder,null)]))}},function(e,t,n){"use strict";n.r(t);var i=n(303);const o=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.default=class{constructor(e){this.project=e}percentage(e,t=0){return Object(i.round)(100*e,t)+"%"}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.round)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.round)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return o.format(e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1177);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1168),r=n(1178),a=n(248),s=n(420);n(1179);const l=()=>{};class c extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(a.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-6,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,a=n.slice(0,10),c=n.length>=10,d=Math.max(Math.floor(t/108),0),u=Math.floor(e/108)+d;return i.h(o.default,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(s.default)(this,"contentWrapper")},a.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:o,url:c}}}=e,d=t===a.length-1?Object(s.default)(this,"lastComponentEl"):l;return i.h(r.default,{key:t,width:n,height:o,url:c,baseRef:d})}),c&&Array.from({length:u},()=>i.h(r.ComponentPlaceholder,null))))}}t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentPlaceholder",(function(){return a}));var i=n(4),o=n(399),r=n(252);class Component extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(r.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:r,baseRef:a}=this.props,s={width:(l=t,12*Math.ceil(l/12)+48)};var l;const c=Object(o.default)("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:s,ref:a},i.h("div",{class:c,style:{paddingBottom:100*n/t+"%"}},i.h("img",{class:"noSelect",width:t,height:n,src:r})))}}function a(){return i.h("div",{class:"styleguidePreviewComponent"})}t.default=Component},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1181);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1182);t.default=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1186);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(766),r=n(1129),a=n(400),s=n.n(a),l=n(1187),c=n(399);n(1188);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"handleChange",()=>{const{onChange:e,value:t}=this.props;e(t)})}render(){const{selected:e,value:t,label:n,image:o,description:r,horizontal:a,tall:s}=this.props,l=Object(c.default)("styleguideType",{selected:e,horizontal:a,tall:s});return i.h("label",{class:l},i.h("h5",null,n),!a&&i.h("div",{class:"imageWrapper"},o),i.h("p",null,r),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}class p extends i.Component{constructor(...e){super(...e),d(this,"values",Object.keys(l.default).map(e=>l.default[e].value)),d(this,"state",{selected:this.values[0],selectedParentStyleguide:this.props.trees[0]?this.props.trees[0].root.id:null,chooseParentChecked:!1}),d(this,"handleChange",e=>{this.setState({selected:e})}),d(this,"handleCheckboxChange",e=>{const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})}),d(this,"handleParentStyleguideChange",e=>{this.setState({selectedParentStyleguide:e})}),d(this,"handlePositiveButtonClick",()=>{const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)}),d(this,"handleKeyDown",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(r.default,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:r}=this.props;return i.h(o.default,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:r,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(u,{onChange:this.handleChange,value:l.default.BASE.value,label:l.default.BASE.label,image:i.h(l.default.BASE.Image,{selected:e===l.default.BASE.value}),description:l.default.BASE.description,selected:l.default.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(u,{onChange:this.handleChange,value:l.default.WEB.value,label:l.default.WEB.label,image:i.h(l.default.WEB.Image,{selected:e===l.default.WEB.value}),description:l.default.WEB.description,selected:l.default.WEB.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.IOS.value,label:l.default.IOS.label,image:i.h(l.default.IOS.Image,{selected:e===l.default.IOS.value}),description:l.default.IOS.description,selected:l.default.IOS.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.ANDROID.value,label:l.default.ANDROID.label,image:i.h(l.default.ANDROID.Image,{selected:e===l.default.ANDROID.value}),description:l.default.ANDROID.description,selected:l.default.ANDROID.value===e}),i.h(u,{onChange:this.handleChange,value:l.default.OSX.value,label:l.default.OSX.label,image:i.h(l.default.OSX.Image,{selected:e===l.default.OSX.value}),description:l.default.OSX.description,selected:l.default.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(s.a,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1190);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(766),r=n(232);t.default=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:a,onCreateWithParentType:s,onClose:l}=e,c=r.PlatformString[n],d=r.PlatformString[t];return i.h(o.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:s,onFallbackButtonClick:a,onClose:l,positiveButtonText:"CREATE AS "+d.toUpperCase(),negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";n.r(t);var i=n(1192);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(230);n(1193);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd",transform:"translate(74)"},i.h("rect",{width:"80",height:"40",x:"114",fill:"#EDECED",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"56",y:"64",fill:"#EDECED",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#EDECED","stroke-width":"2",d:"M96 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#EDECED","fill-rule":"nonzero",d:"M153 40h2v12h-2z"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"136.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"126.314",y:"31"},"Styleguide")),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"82.494",y:"81"},"Child")," ",i.h("tspan",{x:"68.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"172",y:"64",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"198.494",y:"81"},"Child")," ",i.h("tspan",{x:"184.314",y:"95"},"Styleguide")),i.h("path",{fill:"#C1BEC1",d:"M209.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M266.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M351.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M104.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M23.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045a39.26 39.26 0 0 0 1.494-1.457c.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"12.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"172",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"184.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")))),d={title:"This is where you manage your design system. 🎨",description:"Styleguides allow you organize your colors, text styles and components. If you have a common styleguide feeding multiple projects, you can create a shared styleguide and link it to your projects to reference them.",primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of a workspace:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},u={title:"Curate your design system 🍡",description:i.h("span",null,"Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides.")},p={COMMON_PLAN:s(s({},u),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create a styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:s(s({},d),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),secondaryButtonText:"Create a styleguide"}),COMPANY_PLAN:s(s({},u),{},{primaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",primaryButtonText:"See plans"}),COMPANY_PLAN_ORGANIZATION_MEMBER:s(s({},d),{},{secondaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",secondaryButtonText:"See plans"}),ORGANIZATION_NO_CREATE_PERMISSION:s(s({},u),{},{primaryButtonLabel:i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class h extends i.Component{getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateStyleguide:t}=this.context,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:a,onOpenPlanChooserOverlay:l,onCreate:c,onCheckoutOrganization:d}=this.props;if("user"===e){let e;return n?e={labels:p["COMPANY_PLAN"+(a?"_ORGANIZATION_MEMBER":"")],[a?"onSecondaryButtonClick":"onPrimaryButtonClick"]:l}:(e={labels:p["COMMON_PLAN"+(a?"_ORGANIZATION_MEMBER":"")],[a?"onSecondaryButtonClick":"onPrimaryButtonClick"]:c},o&&!r.isWindowsApp&&(e={labels:s(s({},e.labels),{},{[a?"secondaryButtonLabel":"primaryButtonLabel"]:i.h("span",null,"Download ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to create a styleguide and export resources.")})})),a&&(e=s(s({},e),{},{labels:s(s({},e.labels),{},{primaryButtonText:e.labels.primaryButtonText.replace("{{organizationName}}",a.name)}),onPrimaryButtonClick:()=>d(a._id)})),e}return t?{labels:p.COMMON_PLAN,onPrimaryButtonClick:c}:{labels:p.ORGANIZATION_NO_CREATE_PERMISSION}}render(){const{labels:e,onPrimaryButtonClick:t,onSecondaryButtonClick:n}=this.getLabelsAndHandlers();return i.h("div",{class:"noStyleguidesScrollContainer"},i.h("div",{class:"noStyleguides"},i.h("h1",null,e.title),i.h("p",{class:"description"},e.description),c,i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},e.primaryButtonLabel),t&&i.h(o.default,{onClick:t,primary:!0},e.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},e.primaryButtonSubLabel)),n&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},e.secondaryButtonLabel),i.h(o.default,{onClick:n,secondary:!0},e.secondaryButtonText))))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(312),o=n(271),r=n.n(o),a=n(380);const s={getStyleguidesSuccess({styleguides:e,oid:t}){r.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){r.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){r.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){r.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){r.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){r.a.dispatcher.dispatch({type:i.default.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:l}){const{styleguides:c}=r.a.StyleguidesDataStore.getState(),d=Object(a.getStyleguideAndItsDescendants)(c,e);r.a.dispatcher.dispatch({type:i.default.TRANSFER_OWNERSHIP,bid:e,affectedIds:d,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:l})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:a,canChangePlanAtTarget:s}){r.a.dispatcher.dispatch({type:i.default.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:a,canChangePlanAtTarget:s,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){r.a.dispatcher.dispatch({type:i.default.UPDATE_STYLEGUIDE,stid:e,data:t})},inviteUser({container:e,stid:t,users:n,oid:o}){r.a.dispatcher.dispatch({type:i.default.INVITE_USER,container:e,stid:t,users:n,oid:o})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:o=!1}){r.a.dispatcher.dispatch({type:i.default.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:o})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){r.a.dispatcher.dispatch({type:i.default.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){r.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){r.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){r.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_FAILED})}};t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1196);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1197)),a=i(n(399));function s({class:e,imageSrc:t,title:n,subInfo:i,dashboardLink:r,rightContent:s}){const l=o.h("div",{class:a.default("logo",{placeholder:!t})},t&&o.h("img",{src:t,width:"64",height:"64"}));return o.h("div",{class:a.default("organizationSummary",e)},o.h("div",{class:"summary"},r?o.h("a",{href:r,target:"_blank"},l):l,o.h("div",null,r?o.h("a",{href:r,target:"_blank",class:"organizationTitle"},n):o.h("div",{class:"organizationTitle"},n),o.h("div",{class:"organizationSubInfo"},i))),s)}n(1200),s.Loading=r.default,t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1198);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1199);t.default=function(){return i.h("div",{class:"organizationSummaryLoading"},i.h("div",{class:"logo breathe"}),i.h("div",null,i.h("div",{class:"title breathe"}),i.h("div",{class:"counts breathe"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getPlans",(function(){return u})),n.d(t,"getPlanById",(function(){return p})),n.d(t,"showFailedPaymentBanner",(function(){return g})),n.d(t,"hideFailedPaymentBanner",(function(){return m})),n.d(t,"showCancelledSubscriptionBannerIfNecessary",(function(){return b})),n.d(t,"hideCancelledSubscriptionBanner",(function(){return S})),n.d(t,"showOrganizationFrozenBanner",(function(){return v})),n.d(t,"hideOrganizationFrozenBanner",(function(){return C})),n.d(t,"updateEmotar",(function(){return y}));var i,o=n(234),r=n(589),a=n(260),s=n(245),l=n(249),c=n(233),d=n(432);function u(){return i?Promise.resolve(i):a.getPlans().then(e=>i=Object.freeze(e))}function p(e){return u().then(t=>t.find(t=>t.id===e))}window.addEventListener("storage",(function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}})),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+c.INTERCOM_APP_ID;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,o=function(){o.c(arguments)};o.q=[],o.c=function(e){o.q.push(e)},e.Intercom=o,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),o.default.get("userToken")&&Intercom("boot",{app_id:c.INTERCOM_APP_ID,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const h=document.querySelector("#billingTab");function f(e,t){if(r.closeBanner("payment"),h){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",h.checked=!0}}function g(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(s.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> workspace payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){f(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(s.urlResolve)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){f(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&r.show({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function m(){r.closeBanner("payment")}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,o=Object(d.getDateDifference)("h",new Date,i);if(o>168)return;let a,c=Math.floor(o/24);c>0&&o%24>=3&&c++;let u=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${c<1?"less than a day":""+Object(l.pluralize)(c,"day")}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(u+=` <a href="${Object(s.urlResolve)("profile-billing")}">Resubscribe</a>`,a={a(e){f(e,"user")}}):(u+=` <a href="${Object(s.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,a={a(e){f(e,"organization")}}),r.show({contentType:"html",group:"cancelledSubscription",content:u,bodyCallbacks:a})}function S(){r.closeBanner("cancelledSubscription")}function y(e){return a.updateUserEmotar(e)}function v(e){let t,n;["king","queen"].includes(e.currentRole)?(n=`Due to a failed payment, your workspace has been suspended. Please <a href="${Object(s.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> the payment information to re-activate the workspace.`,t={a(e){f(e,"organization")}}):n="Due to a failed payment, your workspace has been suspended. Contact an Admin to update the payment information and activate the workspace.",r.show({content:n,contentType:"html",group:"organizationFrozen",bodyCallbacks:t})}function C(){r.closeBanner("organizationFrozen")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1205);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(263),r=n.n(o),a=n(1206),s=n(1215),l=n(1380),c=n(1679),d=n(1854),u=n(1875),p=n.n(u),h=n(1889),f=n.n(h),g=n(379),m=n(271),b=n.n(m),S=n(364),y=n(1304),v=n(365),C=n(513),O=n.n(C),E=n(247),T=n(245),_=n(420),P=n(367),j=n.n(P),D=n(232);n(1897);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.Component{constructor(...e){super(...e),R(this,"getScreenContainerRef",()=>this.nodeRefs&&this.nodeRefs.screenContainer),R(this,"getStyleguideContainerRef",()=>this.nodeRefs&&this.nodeRefs.styleguideContainer),R(this,"openScreen",e=>{const{barrel:t}=this.state,{id:n}=t;j.a.history.push(Object(T.urlResolve)("project-screen",{url:{pid:n,sid:e}}))}),R(this,"handleKeyDown",e=>{if(Object(E.isEditableElement)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:t===r.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),g.default.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===r.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),g.default.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),y.default.openSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),g.default.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),y.default.reload())}})}static calculateState(){const e=b.a.BarrelStore.getState(),{loading:t,selectedView:n}=e,i=I(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:o}=i,{name:r}=v.default.getOrganization()||{},a=S.default.getBarrel(),{tagManagerScreenId:s}=b.a.ScreenStore.getState(),{dialogOpen:l}=b.a.ExtensionsStore.getState();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!1,organizationName:r,organizationId:o,barrel:a,selectedView:n,tagManagerScreenId:s,extensionDialogOpen:l},i)}static getStores(){return[b.a.BarrelStore,b.a.OrganizationStore,b.a.ScreenStore,b.a.ProjectsDataStore,b.a.StyleguidesDataStore,b.a.ExtensionsStore]}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),g.default.reset()}getChildContext(){return{screenContainerRef:this.getScreenContainerRef,styleguideContainerRef:this.getStyleguideContainerRef}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e===r.a.STYLEGUIDE||t===D.ProjectViewTypes.STYLEGUIDE?i.h(c.default,{baseRef:Object(_.default)(this,"styleguideContainer")}):t===D.ProjectViewTypes.SCREEN?i.h(l.default,{baseRef:Object(_.default)(this,"screenContainer")}):t===D.ProjectViewTypes.DASHBOARD?i.h(s.default,null):null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:o={}}={}}=e;return i.h(a.default,{screenList:e.screens,sectionList:e.sections,jiraAttachmentList:o.attachments,onJumpToScreen:this.openScreen,onClose:g.default.closeJumpToPopup})}renderExtensionDialog(){const{extensionDialogOpen:e}=this.state;return e?i.h(d.default,null):null}renderTagManager(){const{tagManagerScreenId:e}=this.state;return e?i.h(p.a,null):null}render(){return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),this.renderExtensionDialog(),this.renderTagManager(),i.h(f.a,null))}}t.default=O()(A,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1207);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(249),l=n(420),c=n(1208),d=n(371);n(1214);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(d.createItemSectionMap)(t,"screens");return e.map(e=>{const t=n.filter(t=>"screen"===t.type&&t.itemId===e._id),o=n.filter(t=>"section"===t.type&&t.itemId===i[e._id]);return p(p({},e),{},{jiraAttachments:[...t,...o]})})}class g extends i.Component{constructor(...e){super(...e),h(this,"state",{filter:""}),h(this,"screenListWithJira",f(this.props)),h(this,"getSuggestionList",()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(a.sortBy.name);let t=[],n=[],i=[],o=[],r=[];return this.screenListWithJira.forEach(a=>{let l=a.name.toLowerCase();const c=a.tags&&a.tags.find(t=>t.toLowerCase().includes(e)),d=a.jiraAttachments&&a.jiraAttachments.find(t=>t.issueKey&&t.issueKey.toLowerCase().includes(e));l.startsWith(e)?t.push(a):Object(s.anyWordStartsWith)(l,e)?n.push(a):c?i.push(Object.assign({tag:c},a)):d?o.push(Object.assign({attachedJira:d.issueKey},a)):l.includes(e)&&r.push(a)}),t.sort(a.sortBy.name).concat(n.sort(a.sortBy.name)).concat(i.sort(a.sortBy.name)).concat(o.sort(a.sortBy.name)).concat(r.sort(a.sortBy.name))}),h(this,"handleInputChange",e=>{this.setState({filter:e.target.value})}),h(this,"handleKeyDown",e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=f(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{onJumpToScreen:t,onClose:n}=this.props,o=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:n},i.h("div",{class:"jumpToScreen",onClick:a.stopPropagation},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(l.default)(this,"input")}),o.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(c.default,{screenList:o,onJumpToScreen:t})))}}g.propTypes={screenList:r.a.array.isRequired,sectionList:r.a.array.isRequired,jiraAttachmentList:r.a.array.isRequired,onJumpToScreen:r.a.func.isRequired,onClose:r.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1209);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1210),r=n(248),a=n(247),s=n(420);n(1213);class l extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(r.arrayEqual)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(a.scrollIfNecessary)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,onJumpToScreen:t}=this.props,{selectedScreenIndex:n}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,r)=>{let a;return n===r&&(a=Object(s.default)(this,"selectedScreen")),i.h(o.default,{key:e._id,screenId:e._id,screenName:e.name,filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:r,selected:n===r,ref:a,onClick:t,onMouseEnter:this.handleSuggestionMouseEnter})}))}}l.defaultProps={screenList:[]},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1211);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(399);n(1212);class a extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:o}=this.props;return i.h("button",{class:Object(r.default)("screenSuggestion",{selected:o}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis"},e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1216);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(371),r=n(245),a=n(247),s=n(420),l=n(229),c=n(367),d=n.n(c),u=n(233),p=n(976),h=n(1217),f=n(1295),g=n(1057),m=n(364),b=n(379),S=n(389),y=n(373),v=n.n(y),C=n(370),O=n(385),E=n(271),T=n.n(E),_=n(513),P=n.n(_),j=n(1104),D=n(903);n(1379);function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),A(this,"handleFilter",e=>{const{barrel:{id:t}}=this.state;d.a.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:t},query:{q:e}}))}),A(this,"handleJiraIssueSelectionChange",e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];mixpanel.master.track("Filtered by Jira issue"),d.a.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:t},query:{ja:i}}))}),A(this,"handleResetJiraIssuesClick",()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:e}}))}),A(this,"handleTagClick",(e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:o}=this.state,a=i.tags.includes(e);let s,l;if(!e?(s=[],l=!i.untagged):(s=[e],l=!1,a&&(s=i.tags.filter(t=>t!==e),l=!1),t&&!a&&(s=i.tags.concat(e),l=!1)),s.length>0||l){let e;l?e={Type:"Untagged"}:s.length>1&&(e={Type:"Multiple"}),mixpanel.master.track("Filtered by tags",e)}const c=R(R({},{ja:o}),l?{untagged:!0}:{tag:s});d.a.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:n},query:c}))}),A(this,"handleResetTagsClick",()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:e}}))}),A(this,"handleExpandSection",e=>{S.default.expandSections([e])}),A(this,"handleCollapseSection",e=>{S.default.collapseSections([e])}),A(this,"handleConvertTagToSection",e=>{S.default.convertTagToSection({tag:e})}),A(this,"handleGenerateTagShortlink",e=>{const{barrel:{id:t}}=this.state,n=Object(r.urlResolve)("project-dashboard",{url:{pid:t},query:{tag:e}});Object(p.fetchShortlink)(n)}),A(this,"handleCopyTagWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(r.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t})}),A(this,"handleCopyTagAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&tag=${e}`;Object(a.copyContent)({content:i,toastContainer:t})}),A(this,"handleDeleteTag",e=>{O.default.removeTag({tag:e,syncWithApi:!0})}),A(this,"handleCopySectionWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(r.urlResolve)("project",{url:{bid:n},query:{seid:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t})}),A(this,"handleCopySectionAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&seid=${e}`;Object(a.copyContent)({content:i,toastContainer:t})}),A(this,"handleCopyScreenWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(r.urlResolve)("project-screen",{url:{pid:n,sid:e}});Object(a.copyContent)({content:Object(p.getShortlink)(i),toastContainer:t}),mixpanel.master.track("Copied web link",{Target:"Screen",Source:"Project dashboard"})}),A(this,"handleCopyScreenAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//screen?pid=${n}&sid=${e}`;Object(a.copyContent)({content:i,toastContainer:t}),mixpanel.master.track("Copied app URI",{Target:"Screen",Source:"Project dashboard"})}),A(this,"handleCollapseAllSections",()=>{const e=v.a.getExpandedSectionIds();e.length>0&&S.default.collapseSections(e)}),A(this,"handleExpandAllSections",()=>{const e=v.a.getCollapsedSectionIds();e.length>0&&S.default.expandSections(e)}),A(this,"handleKeyDown",e=>{Object(a.isEditableElement)(e.target)||(e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),S.default.toggleFixedThumbnailSize()),Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections()))}),A(this,"handleChangeSortType",e=>{const{sortType:t}=this.state;t!==e&&S.default.changeSortType(e)})}static calculateState(){const{loading:e,loadingJoin:t}=T.a.BarrelStore.getState();if(e)return{loading:e};const n=m.default.getBarrel(),i=m.default.findUser(),{userId:o}=T.a.UserStore.getState(),r=n.users.some(({user:e})=>e._id===o);if(n.partial||!r)return{loading:e,loadingJoin:t,barrel:n,isUserJoined:r};const a=T.a.DashboardStore.getState(),{highlightedScreens:s}=a,l=k(a,["highlightedScreens"]),{open:c}=T.a.MoveResourcesStore.getState();let d=1/0,u=null;const p=C.default.getVisibleScreens();return s.forEach(e=>{const t=p.findIndex(t=>t._id===e);-1!==t&&t<d&&(d=t,u=e)}),R({loading:e,loadingJoin:t,firstHighlightedScreen:u,highlightedScreens:s,moveResourcesPopupOpen:c,barrel:n,barrelUser:i,isUserJoined:r},l)}static getStores(){return[T.a.BarrelStore,T.a.DashboardStore,T.a.MoveResourcesStore,T.a.ProjectsDataStore,T.a.UserStore]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:{id:t,type:n}}=this.state;return R(R({},this.context),{},{barrelId:t,projectId:t,projectType:n})}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:r,barrelUser:a,sortType:l,filterValue:c,fixedThumbnailSize:d,sidebarWidth:u,tagFilter:p,jiraIssueFilter:m,collapsedSections:y,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:O,moveResourcesPopupOpen:E}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(h.default.Loading,null),i.h(f.default,null));if(r.partial||!n)return i.h(g.default,{projectData:r,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:b.default.join});const{sortedSections:T,visibleTags:_}=Object(o.filterSortScreens)(r,l,{filterValue:c,tagFilter:p,jiraIssueFilter:m}),P=r&&r.integration?r.integration.jira:null,j=P&&P.attachments?Array.from(P.attachments.reduce((e,t)=>("project"!==t.type&&e.add(t.issueKey),e),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(s.default)(this,"dashboardContainer")},i.h(h.default,{componentRef:Object(s.default)(this,"projectOverview","componentRefs"),project:r,containerSelector:".projectOverview",userRole:a.role,fixedThumbnailSize:d,collapsedSections:y,sortedSections:T,visibleTags:_,filterValue:c,sortType:l,jiraIssueList:j,selectedJiraIssues:m,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:O,tagFilter:p,moveResourcesPopupOpen:E,onSort:this.handleChangeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:S.default.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:this.handleExpandSection,onCollapseSection:this.handleCollapseSection,onSectionClickFromElevator:S.default.highlightSection}),i.h(f.default,{width:u,onRelease:S.default.changeSidebarWidth}))}}const N=P()(Object(j.default)(w),{pure:!1});t.default=function(e){return i.h(D.SectionObserverProvider,null,i.h(N,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1218);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1219),r=n(1220),a=n(232),s=n(248),l=n(420),c=n(1221),d=n(892),u=n(1245),p=n(1251),h=n(1254),f=n(1257),g=n(1260),m=n(1268),b=n(1291),S=n(389);n(1294);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(s.getUserRoleString)("rook"),"s or higher can organize screens using tags."))}function C(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}class O extends i.Component{constructor(...e){super(...e),y(this,"state",{dragging:!1}),y(this,"handleStartDrag",()=>{this.setState({dragging:!0})}),y(this,"handleEndDrag",()=>{this.setState({dragging:!1})}),y(this,"handleSectionReorder",({sourceId:e,moveIndex:t})=>{S.default.updateSectionOrder({seid:e,index:t-1,syncWithApi:!0})})}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return this.props.sortType!==a.SortTypes.SECTIONS}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive()}}componentDidUpdate(e){this.props.project.id!==e.project.id&&r.default.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:o,onTagClick:r,onOpenTagContextMenu:a,onConvertTagToSection:s,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:p}=this.context,h=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},o.map(n=>i.h(b.default,{key:n,tag:n,disabled:h,contextMenuDisabled:!p,selected:t.tags.includes(n),canCreateSectionFromTag:C(e,n),onClick:r,onOpenContextMenu:a,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:s,onDelete:u})),i.h(b.default,{untagged:!0,disabled:h,selected:t.untagged,onClick:r})):i.h(v,{canManageScreens:p})}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,userRole:o,containerSelector:r,fixedThumbnailSize:a,filterValue:s,sortType:f,jiraIssueList:b,selectedJiraIssues:S,tagFilter:y,collapsedSections:v,firstHighlightedScreen:C,highlightedScreens:O,highlightedSection:E,moveResourcesPopupOpen:T,onFilter:_,onSort:P,onJiraIssueSelectionChange:j,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:I,onCopySectionAppURI:R,onCopyScreenWebURL:A,onCopyScreenAppURI:w,onResetJiraIssuesClick:N,onResetTagsClick:L,onSectionClickFromElevator:x}=this.props,{dragging:M}=this.state;if(!t.screens||!t.screens.length)return i.h(m.default,null);const U=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),B=!e||U;return i.h("div",{class:"projectOverview"},i.h(p.default,{filterValue:s,selectedSortType:f,onSort:P,onJiraIssueSelectionChange:j,jiraIssueList:b,selectedJiraIssues:S,onFilter:_,searchDisabled:M,sections:n,onSectionClick:x,sectionReorderEnabled:!B,onSectionReorder:this.handleSectionReorder}),i.h(d.default,{class:"projectOverviewDragDropContainer",noScroll:T,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:B},this.renderTags(),n.length?i.h(i.Fragment,null,i.h(c.default,{ref:Object(l.default)(this,"dashboardSections","componentRefs"),collapsedSections:v,firstHighlightedScreen:C,highlightedScreens:O,highlightedSection:E,filterValue:s,fixedThumbnailSize:a,onExpandSection:D,onCollapseSection:k,onCopySectionWebURL:I,onCopySectionAppURI:R,onCopyScreenWebURL:A,onCopyScreenAppURI:w,sections:n,userRole:o,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:r}),T&&i.h(g.default,{key:"moveResourcesContainer"})):i.h(u.default,{tags:y.tags,selectedJiraIssues:S,untagged:y.untagged,onResetJiraIssuesClick:N,onResetTagsClick:L})),i.h(h.default,null))}}const E=Object(o.default)(O);E.Loading=f.default,t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248);t.default=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:o.permissions.canUpdateProject(t),canManageScreens:o.permissions.canManageScreens(t),canMoveScreens:o.permissions.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";n.r(t),t.default=new Map},function(e,t,n){"use strict";n.r(t);var i=n(1222);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1223),r=n(558),a=n(420);class s extends r.default{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}render(){const{sections:e,projectThumbnail:t,fixedThumbnailSize:n,projectId:r,containerSelector:s,filterValue:l,collapsedSections:c,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:p,onExpandSection:h,onCollapseSection:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:S}=this.props;return i.h("div",{class:"projectOverviewSections"},e.map((e,y)=>i.h(o.default,{index:y,ref:Object(a.default)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&c[e._id],fixedThumbnailSize:n,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:p,onExpand:h,onCollapse:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:S,filterValue:l,actionsDisabled:e.actionsDisabled,screens:e.screens,description:e.description,containerSelector:s,projectThumbnail:t,projectId:r,defaultSection:"default"===e.type})))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1224);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(245),a=n(420),s=n(249),l=n(976),c=n(1021),d=n(389),u=n(1225),p=n(990),h=n(1226),f=n(987),g=n(903);n(1244);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{addingDescription:!1}),b(this,"subscribedToObserver",!1),b(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),b(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),b(this,"generateShortlink",()=>{const{projectId:e,id:t}=this.props,n=Object(r.urlResolve)("project",{url:{bid:e},query:{seid:t}});Object(l.fetchShortlink)(n)}),b(this,"getScreenThumbnailRef",e=>this.nodeRefs&&this.nodeRefs["screenThumbnail-"+e]),b(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),b(this,"handleEditDescriptionClick",e=>{e.stopPropagation(),this.highlightDescription()}),b(this,"handleAddDescriptionClick",e=>{e.stopPropagation(),this.setState({addingDescription:!0})}),b(this,"handleRenameSectionClick",e=>{e.stopPropagation(),this.highlightName()}),b(this,"handleCopyWebURL",e=>{e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Screen section"})}),b(this,"handleCopyAppURI",e=>{e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Screen section"})}),b(this,"handleDownloadScreenImagesClick",e=>{e.stopPropagation(),d.default.downloadScreensOfSection(this.props.id)}),b(this,"handleDeleteClick",e=>{e.stopPropagation();const{id:t}=this.props;d.default.removeSection({seid:t,syncWithApi:!0})}),b(this,"handleMoveScreenClick",(e,t)=>{u.default.open({targetNode:t,resourceId:e,resourceType:"screen"})}),b(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{id:t}=this.props;u.default.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})}),b(this,"handleNameBlur",({discard:e,value:t})=>{const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?d.default.removeSection({seid:n}):d.default.renameSection({seid:n,name:i}));const o=t.trim();if(n.startsWith("newSectionFromSplit"))d.default.createSection({seid:n,name:o});else if(i!==o){if(o===i)return;d.default.renameSection({seid:n,name:o,syncWithApi:!0,onError:this.highlightName})}}),b(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void d.default.updateSectionDescription({seid:n,description:i});const o=t.trim();o!==i&&d.default.updateSectionDescription({seid:n,description:o,syncWithApi:!0,onError:this.highlightDescription})}),b(this,"handleSectionHeaderDrop",(e,t,n)=>{t!==n&&d.default.updateSectionOrder({seid:e,index:n,syncWithApi:!0})}),b(this,"handleScreenThumbnailDrop",(e,t)=>{d.default.updateScreenOrder({screens:[e],targetSectionId:t,syncWithApi:!0})}),b(this,"handleScreenThumbnailRef",(e,t)=>{Object(a.default)(this,"screenThumbnail-"+e)(t)}),b(this,"renderOptionsMenu",()=>{const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:r}=this.context,a=e?i.h(f.default.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(f.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(f.default,{onOpen:this.generateShortlink,onMouseDown:o.stopPropagation},n&&[a,i.h(f.default.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(f.default.ItemDivider,{key:"renameDivider"})],i.h(f.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(f.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(f.default.ItemDivider,{key:"downloadDivider"}),i.h(f.default.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||r)&&i.h(f.default.ItemDivider,null),r&&!!t.length&&i.h(f.default.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(f.default.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))})}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName(),this.registerToObserverIfReady()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription(),this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}render(){const{id:e,name:t,index:n,description:o,defaultSection:r,projectLastUpdated:l,projectThumbnail:u,fixedThumbnailSize:f,projectId:g,screens:m,containerSelector:b,actionsDisabled:S,filterValue:y,collapsed:v,firstHighlightedScreen:C,highlightedScreens:O,highlightedSection:E,onExpand:T,onCollapse:_,onCopyScreenWebURL:P,onCopyScreenAppURI:j}=this.props;if(r&&!m.length)return null;const{addingDescription:D}=this.state,{canManageScreens:k}=this.context,I=Object(s.pluralize)(m.length,"screen")+" collapsed",R=this.renderOptionsMenu(),A=D?c.DEFAULT_DESCRIPTION:o;return i.h(p.DragDropScreenThumbnailSection,{type:c.SCREEN_THUMBNAIL_SECTION,optionsButtonRef:Object(a.default)(this,"optionsButton"),componentRef:Object(a.default)(this,"section","componentRefs"),index:n,onExpand:T,onCollapse:_,collapsed:v,baseRef:Object(a.default)(this,"base"),emptyText:"No screens",empty:!m.length,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:A,defaultSection:r,countInfoText:I,highlight:e===E,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:d.default.unhighlightSection,actionsDisabled:S,readOnly:!k,optionsMenu:R,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onSectionHeaderDrop:this.handleSectionHeaderDrop},i.h("div",{class:"dashboardScreenGrid"},m.map((t,n)=>{const{snapshot:o}=t.versions[0],a=t.updated||l,s=u===o.url,c=t.tags&&0!==t.tags.length,d=C===t._id,p=O.includes(t._id),S=m[n-1],v=m[n+1];return i.h(h.default,{id:t._id,projectId:g,leftScreenId:S&&S._id,rightScreenId:v&&v._id,key:f?"fixed-"+t._id:t._id,screenThumbnailRef:this.handleScreenThumbnailRef,index:n,sectionId:e,scroll:d,highlight:p,hideLeftSectionDivider:0===n&&!r,hideRightSectionDivider:n===m.length-1,filterValue:y,class:"dashboardScreen",hasTag:c,updated:a,isProjectThumbnail:s,fixedSize:f,containerSelector:b,name:t.name,snapshotWidth:o.width,snapshotHeight:o.height,screenImageUrl:o.url,onCopyWebURL:P,onCopyAppURI:j,onMoveClick:this.handleMoveScreenClick,getScreenThumbnailRef:this.getScreenThumbnailRef})})))}}S.defaultProps={highlightedScreens:[]};t.default=e=>i.h(g.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(S,m({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(307),o=n(271),r=n.n(o);const a={open({targetNode:e,resourceId:t,resourceType:n}){r.a.dispatcher.dispatch({type:i.default.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){r.a.dispatcher.dispatch({type:i.default.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:o,densityScale:a,platform:s}){r.a.dispatcher.dispatch({type:i.default.MOVE,barrelId:e,resource:t,resourceType:n,target:o,densityScale:a,platform:s,syncWithApi:!0})},moveScreen(e){const{spid:t,tpid:n,screen:o}=e;r.a.dispatcher.dispatch({type:i.default.MOVE_SCREEN,spid:t,tpid:n,screen:o})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1227);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(1228),a=n(880),s=n(1220),l=n(970),c=n(420),d=n(248),u=n(245),p=n(976),h=n(379),f=n(389),g=n(385);class m extends o.default{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.screenThumbnailObserver=Object(l.getThumbnailObserver)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(d.debounce)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-60)));return{height:o,top:Math.max(0,Math.round((i-26-o)/2))}}generateShortlink(){Object(p.fetchShortlink)(this.link)}getContextMenuItems(){const{hasTag:e,isProjectThumbnail:t}=this.props,{canUpdateProject:n,canManageScreens:o,canMoveScreens:r}=this.context,s=e?i.h(a.default.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(a.default.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[o&&s,n&&!t&&i.h(a.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(a.default.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen image"),i.h(a.default.ItemDivider,{key:"copyDivider"}),i.h(a.default.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(a.default.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(r||o)&&i.h(a.default.ItemDivider,{key:"warningDivider"}),r&&i.h(a.default.Item,{key:"move",onClick:this.handleMoveClick},"Move screen to project…"),o&&i.h(a.default.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:o}=this.context;i?o({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?o({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?o({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&o({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(c.default)(this,"base")(e),n(t,e)}handleScreenImageLoad(){s.default.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,300),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i}=this.props;t!==i&&g.default.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){e.stopPropagation(),g.default.openTagManager(this.props.id)}handleSetAsThumbnailClick(){h.default.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){f.default.downloadScreen(this.props.id)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n}=this.props;n(t,this.nodeRefs.base)}handleDeleteDialogPositiveClick(){const{id:e}=this.props;g.default.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:o,tagFilterActive:r}=this.context;if(n||i||o||r)return;const a=this.nodeRefs.base.getBoundingClientRect(),s=this.calculateCubukPosition(a,e);this.setState(Object(d.getStateUpdateFunction)({sectionDividerPosition:t,sectionDividerHeight:s.height,sectionDividerTop:s.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(f.default.splitSection(i),this.handleHideSectionDivider())}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&f.default.unhighlightScreen(t)}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftScreenId;n&&(i=this.props.rightScreenId);const o=this.calculateCubukPosition(t,i);this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:n?"right":"left",moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleDrop({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:r}){const a=this.nodeRefs.base.getBoundingClientRect(),s=e.left>a.left+a.width/2?"right":"left";let l=o;i===r?(n>o&&"right"===s&&(l=o+1),n<o&&"left"===s&&(l=o-1)):"right"===s&&(l=o+1),i===r&&n===l||f.default.updateScreenOrder({screens:[t],targetSectionId:r,targetIndex:l,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{scroll:t}=this.props,{scroll:n}=e;!n&&t&&this.scroll()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:o,fixedSize:a,snapshotWidth:l,snapshotHeight:d,screenImageUrl:u,containerSelector:p,filterValue:h,index:f,sectionId:g,highlight:m,hideLeftSectionDivider:b,hideRightSectionDivider:S}=this.props,{loading:y,source:v,sectionDividerPosition:C,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukTop:_,moveCubukHeight:P,deleteDialogVisible:j}=this.state,{canManageScreens:D}=this.context,k=s.default.has(u),I=this.getContextMenuItems(),R=v||(k?u:"");return i.h(r.default,{id:e,filterValue:h,index:f,sectionId:g,link:this.link,class:o,updated:t,name:n,highlight:m,baseRef:this.handleBaseRef,componentRef:Object(c.default)(this,"screenThumbnail","componentRefs"),readOnly:!D,fixedSize:a,hideLeftSectionDivider:!D||b,hideRightSectionDivider:!D||S,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:C,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukHeight:P,moveCubukTop:_,snapshotWidth:l,snapshotHeight:d,source:R,loading:y,contextMenuItems:I,onContextMenu:this.generateShortlink,containerSelector:p,deleteDialogVisible:j,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1229);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(612),r=n(1230),a=n(1233),s=n(880),l=n(934),c=n.n(l),d=n(420),u=n(399),p=n(248),h=n(1240),f=n(972),g=n(766),m=n(892);n(1243);class b extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(d.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,name:t,onDeleteDialogPositiveClick:n,onDeleteDialogNegativeClick:o,onDeleteDialogClose:r}=this.props;if(e)return i.h(g.BasicOverlayDialog,{title:`Delete "${t}"?`,message:"Deleted screens cannot be restored.",onPositiveButtonClick:n,onNegativeButtonClick:o,onClose:r,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderContextMenu(){const{contextMenuItems:e=[],onContextMenu:t}=this.props,{contextMenu:n}=this.state;return i.h(s.default.withAutoPosition,{class:"screenThumbnailContextMenu",onMouseDown:p.stopPropagation,autoPosition:{limitingElement:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},e)}render(){const{id:e,link:t,updated:n,name:s,readOnly:l,fixedSize:g,snapshotWidth:m,snapshotHeight:b,source:S,class:y,onNameBlur:v,onScreenImageLoad:C,loading:O,filterValue:E,dragging:T,highlight:_,hideLeftSectionDivider:P,hideRightSectionDivider:j,sectionDividerPosition:D,sectionDividerTop:k,sectionDividerHeight:I,onShowLeftSectionDivider:R,onShowRightSectionDivider:A,onHideSectionDivider:w,onSectionDividerClick:N,onScreenLinkMouseOver:L,onMouseDown:x,moveCubukPosition:M,moveCubukHeight:U,moveCubukTop:B}=this.props,{contextMenu:z}=this.state,V=g?200:Math.min(Math.round(240/m*b),520);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:p.stopPropagation,onMouseEnter:R,onMouseLeave:w,style:{height:V}},!P&&"left"===D&&i.h(h.default,{top:k,height:I,onClick:N}),"left"===M&&i.h(f.default,{top:B,height:U})),i.h("div",{class:Object(u.default)("screenThumbnail",{dragging:T},y),ref:this.handleBaseRef,onMouseDown:x,key:e},z&&this.renderContextMenu(),i.h(r.default,{loading:O,dragging:T,highlight:_,href:t,onContextMenu:this.handleContextMenu,onMouseOver:L},i.h(c.a,{source:S,width:240,height:V,onLoad:C,class:"screenImage"})),i.h("div",{class:"screenInfo"},i.h(a.default,{class:"screenName",ref:Object(d.default)(this,"screenName","componentRefs"),matchValue:E,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:s,onBlur:v,readOnly:l,minLength:"1",maxLength:"100",required:!0}),i.h(o.default,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:p.stopPropagation,onMouseEnter:A,onMouseLeave:w,style:{height:V}},!j&&"right"===D&&i.h(h.default,{top:k,height:I,onClick:N}),"right"===M&&i.h(f.default,{top:B,height:U})),this.renderDialogs())}}var Component;t.default=Object(p.pipe)(Object(m.DragSource)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(c.a,{source:e,width:240,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:o,snapshotWidth:r,snapshotHeight:a,fixedSize:s}=e;return{id:t,index:n,sectionId:i,source:o,imgHeight:s?200:Math.min(Math.round(240/r*a),520)}}}),Object(m.DropTarget)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut()}))((Component=b,e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)}))},function(e,t,n){"use strict";n.r(t);var i=n(1231);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1232);t.default=function({loading:e,dragging:t,highlight:n,href:r,onContextMenu:a,onMouseOver:s,children:l}){return i.h("a",{class:Object(o.default)("screenThumbnailLink",{loading:e,dragging:t,highlight:n}),onContextMenu:a,onMouseOver:s,href:r,"data-link-type":"inApp"},l)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1234);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1235),r=n(247),a=n(399),s=n(420);n(1239);class l extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(r.highlightInput)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:l}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(s.default)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=l&&e&&!t&&!n;return i.h("div",{class:Object(a.default)("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(r.highlightMatchedParts)(e,l,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(o.default,c))}}l.defaultProps={value:""},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1236);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(399),a=n(420),s=n(1237),l=n(247),c=n(229),d=n(5),u=n.n(d);n(1238);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class h extends o.default{constructor(e){super(e),this.numberOfCharactersRemoved=0,this.handleInputRef=this.handleInputRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMirrorMouseUp=this.handleMirrorMouseUp.bind(this),this.state={mirrorText:e.value,focusWithin:!1,caretPosition:0}}generateMirrorText(){const{value:e}=this.props,t=this.nodeRefs&&this.nodeRefs.mirrorText;let n=e,i=!1,o=0;if(t){for(;Object(l.getTextWidth)(n,"15px Roboto")>t.offsetWidth;)if(i){const e=Math.floor((n.length-"…".length)/2-1);n=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`,o+=2}else{const e=Math.floor(n.length/2)-1,t=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`;o+=n.length-(t.length-"…".length),n=t,i=!0}n!==this.state.mirrorText&&(this.numberOfCharactersRemoved=o,this.setState({mirrorText:n}))}}handleInputRef(e){const{inputRef:t}=this.props;Object(a.default)(this,"input")(e),t&&t(e)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}handleBlur(e){const{onBlur:t}=this.props;t&&t(e),this.state.focusWithin&&this.setState({focusWithin:!1})}handleMirrorMouseUp(e){const{disabled:t,value:n}=this.props,{mirrorText:i}=this.state;let o=Object(s.default)({element:e.target,maxLength:i.length});n!==i&&o>Math.ceil(i.length/2)&&(o+=this.numberOfCharactersRemoved-"…".length),this.setState({caretPosition:o,focusWithin:!t})}componentDidMount(){const{withMirror:e}=this.props,{focusWithin:t}=this.state;e&&this.nodeRefs&&this.nodeRefs.base&&!t&&this.generateMirrorText()}componentDidUpdate(e,t){const{withMirror:n}=this.props,{focusWithin:i,caretPosition:o,mirrorText:r}=this.state;if(n&&this.nodeRefs&&this.nodeRefs.base&&!i&&this.generateMirrorText(),n&&!t.focusWithin&&i&&this.nodeRefs&&this.nodeRefs.input){const e=o<=Math.ceil(r.length/2)||"…".includes(r[o]);this.nodeRefs.input.focus({preventScroll:e}),e&&Object(c.getBrowser)()===c.BROWSER.SAFARI&&(this.nodeRefs.input.scrollLeft=0),this.nodeRefs.input.setSelectionRange(o,o)}}renderInput(e){const{withMirror:t,type:n,disabled:o}=this.props,{focusWithin:s,mirrorText:l}=this.state;return t&&!s?i.h("div",{class:Object(r.default)("mirror",{disabled:o})},i.h("span",{ref:Object(a.default)(this,"mirrorText"),contentEditable:!0,onMouseUp:this.handleMirrorMouseUp},l)):i.h("input",p({},e,{ref:this.handleInputRef,type:n,onBlur:this.handleBlur,onMouseUp:this.handleInputMouseUp}))}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:o,class:s,ellipsized:l}=this.props,c=Object.assign({},this.props);return delete c.class,delete c.inputRef,delete c.ellipsized,delete c.blurOnEnter,delete c.discardOnESC,delete c.prefix,delete c.suffix,(n||o)&&(c.onKeyDown=this.handleKeyDown),l&&(c.class="ellipsis"),i.h("div",{ref:Object(a.default)(this,"base"),class:Object(r.default)("textInput",s,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},this.renderInput(c))}}h.propTypes={suffix:u.a.string,prefix:u.a.string,inputRef:u.a.func,ellipsized:u.a.bool,blurOnEnter:u.a.bool,discardOnESC:u.a.bool},h.defaultProps={type:"text"},t.default=h},function(e,t,n){"use strict";n.r(t),t.default=function({element:e,maxLength:t}){let n,i=0;if(void 0!==document.getSelection&&(n=document.getSelection(),n.rangeCount>0)){const t=document.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i=n.toString().length}return Math.min(i,t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1241);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442);n(1242);t.default=function(e){const{onClick:t,height:n,top:r,left:a}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:r,left:a}},i.h("div",null),i.h(o.IconDivider,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1246);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1247);n(1250);function r(e){const{mainContent:t,subContent:n,actionButtonText:o,onActionButtonClick:r}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:r},o))}t.default=function(e){const{tags:t,untagged:n,selectedJiraIssues:a,onResetJiraIssuesClick:s,onResetTagsClick:l}=e;return a.length?i.h(r,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:s}):t.length?i.h(r,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(r,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(o.default,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";n.r(t);var i=n(1248);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1249);t.default=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1252);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(884),r=n(517),a=n(890),s=n(232);n(1253);const l=[{label:"Sort by Sections",dropdownLabel:"Sections",value:s.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:s.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:s.SortTypes.NAME}];function c({onSort:e,onJiraIssueSelectionChange:t,selectedSortType:n,selectedJiraIssues:o,jiraIssueList:s,sections:c,sectionReorderEnabled:d,onSectionClick:u,onSectionReorder:p}){const h=c.length>=3;return i.h(i.Fragment,null,h&&i.h(a.default,{sections:c,onSectionClick:function(e){u(e)},onSectionReorder:p,selectedSortType:n,reorderEnabled:d}),i.h(r.default,{class:"screensSortDropdown",onChange:e,optionsClass:"screensSortOptions"},l.map(({label:e,dropdownLabel:t,value:o,class:a})=>i.h(r.default.Item,{class:a,key:o,value:o,label:e,dropdownLabel:t,selected:o===n}))),s&&s.length>0&&i.h(r.default,{class:"screensSortDropdown",optionsClass:"jiraIssueFilterOptions",defaultLabel:"Jira Issue",multiSelect:!0,onChange:t},s.map(e=>i.h(r.default.Item,{key:e,label:e,value:e,selected:o.includes(e)}))))}t.default=function({onFilter:e,onSort:t,onJiraIssueSelectionChange:n,selectedJiraIssues:r,selectedSortType:a,jiraIssueList:s,filterValue:l,searchDisabled:d,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f}){return i.h(o.default,{class:"screensFilterSortView",onFilter:e,filterValue:l,searchPlaceholder:"Search for a screen",searchPlaceholderWidth:128,searchDisabled:d,leftContent:i.h(c,{onSort:t,onJiraIssueSelectionChange:n,selectedSortType:a,selectedJiraIssues:r,jiraIssueList:s,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1255);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442),r=n(404),a=n(229),s=n(379);n(1256);t.default=function(){const e=Object(a.getOS)()===a.OS.MAC?"⌥J":"Alt+J";return i.h(r.default,{secondary:!0,class:"jumpToButton",onClick:s.default.openJumpToPopup},i.h(o.IconMagnifier,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1258);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1259);function o(){return i.h("div",{class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading"},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1261);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(244),a=n(513),s=n.n(a),l=n(364),c=n(1225),d=n(271),u=n.n(d),p=n(1262);function h(e,t,n){const{_id:i,type:r,densityScale:a}=t;return e.filter(e=>{const t=e._id!==i&&e.type===r&&(!e.densityScale||e.densityScale===a),s="active"===e.status;let l=!0;if(Object(o.isOrganizationProject)(e)){const t=e.users.find(({user:e})=>e._id===n);l=t&&o.permissions.canManageScreens(t)}return t&&s&&l}).sort(o.sortBy.name)}class f extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[u.a.OrganizationStore,u.a.ProjectsDataStore,u.a.BarrelStore,u.a.MoveResourcesStore,u.a.UserStore]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=u.a.MoveResourcesStore.getState();if(!e)return{open:!1};const{barrelId:r,loading:a,organizationId:s}=u.a.BarrelStore.getState();if(a)return{loading:!0};const{userId:c}=u.a.UserStore.getState(),{loading:d,loadingProfiles:p,organizations:f,organizationProfiles:g,organizationProjects:m}=u.a.OrganizationStore.getState();if(d||p)return{loading:!0};const{projects:b}=u.a.ProjectsDataStore.getState(),S=l.default.getBarrel(),y="screen"===i?S.findScreen(n):S.findSection(n),v=[];if("user"===s){v.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=h(m.user.map(e=>b[e]),S,c);v.push(...e.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))}const C=("user"===s?Object.entries(m).filter(([e])=>"user"!==e).map(([e,t])=>({organization:f.find(({_id:t})=>t===e),profile:g[e],projects:t.map(e=>b[e])})):[{organization:f.find(({_id:e})=>e===s),profile:g[s],projects:m[s].map(e=>b[e])}]).filter(({organization:{status:e},profile:t})=>"active"===e&&o.permissions.canMoveScreens(t)).map(({organization:e,projects:t})=>({organization:e,projects:h(t,S,c)})).sort(({organization:e},{organization:t})=>o.sortBy.name(e,t));v.push(...C.flatMap(({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:e+"’s Projects"},{type:"create",oid:t},...n.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))]));const{type:O,name:E,densityScale:T}=S;return{loading:!1,barrelId:r,barrelName:E,platform:O,densityScale:T,open:e,targetNode:t,resourceType:i,resource:y,listItems:v}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter(({type:e})=>"header"!==e)[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||c.default.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:o,densityScale:a,resource:s}=this.state,l=this.getInteractiveItemAtIndex(e),d="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),r.create({message:`Move selected ${t} from "${i}" to ${d}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),c.default.move({barrelId:n,resource:s,resourceType:t,target:l,densityScale:a,platform:o})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),c.default.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:r,open:a,targetNode:s,resourceType:l}=this.state;return a?i.h(p.default,{resourceType:l,targetNode:s,loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:r,onMove:this.handleMove,onClose:this.handleClose}):null}}t.default=s()(f)},function(e,t,n){"use strict";n.r(t);var i=n(1263);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(1264),r=n(545),a=n(248);n(1267);class s extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter(({type:e})=>"header"!==e)[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:78,left:172}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:r,listItems:s}=this.props,l=Object(a.getPlatformString)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(o.default,{key:"projectList",projectType:l,densityScale:t,items:s,spinnerIndex:r,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(a.getPlatformString)(t),o=Object(a.getDensityScaleRepresentation)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,o)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,o="section"===e,a="section"===e,s="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(r.default,{targetNode:t,content:this.renderContent,showAnchor:a,anchorTop:-4,centerY:o,top:d,left:u,openToLeft:s,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";n.r(t);var i=n(1265);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(442),r=n(248),a=n(399),s=n(420),l=n(247);n(1266);class c extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=c.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(({type:e})=>"header"!==e).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=c.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(l.scrollIfNecessary)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,o=r.getDensityScaleRepresentation(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",o,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:r}=this.state,s=t===r,l=Object(a.default)("newProjectButton",{selected:s});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(o.IconPlus,{class:"iconPlus",circleColor:s?"#fff":"var(--cornflower-blue)",color:s?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(o.IconSpinner,{color:s?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,r){const{spinnerIndex:s}=this.props,{selectedIndex:l}=this.state,c=r===l,d=Object(a.default)("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":r},i.h("span",null,t),r===s&&i.h(o.IconSpinner,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map(e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}})}render(){return i.h("div",{ref:Object(s.default)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1269);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(230),r=n(1270),a=n(1287);n(1290);function s(){const e=o.isWindowsApp?r.default:a.default;return i.h("div",{class:"noScreens"},i.h(e,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1271);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(231),r=n(236),a=n(1272),s=n(1275),l=n(1278),c=n(1281);function d(e){e.preventDefault(),o.default.shell.openExternal(e.target.href)}class u extends i.Component{constructor(e){super(e),this.state={designTool:"figma"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),r.userPrefs.set("noScreensDesignToolSelection",t)}componentDidMount(){r.userPrefs.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}render(){const{designTool:e}=this.state;return i.h(a.default,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(a.default.Tab,{value:"figma",description:"Figma"},i.h(s.default,null)),i.h(a.default.Divider,null),i.h(a.default.Tab,{value:"xd",description:"Adobe XD"},i.h(l.default,null)),i.h(a.default.Divider,null),i.h(a.default.Tab,{value:"photoshop",description:"Photoshop"},i.h(c.default,{onExternalLinkClicked:d})))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1273);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1274);class r extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map(n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null)}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find(t=>!!t&&t.props&&t.props.value===e);return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:Object(o.default)("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}r.Tab=function({onChange:e,designTool:t,value:n,description:o}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:"designToolName"},o))},r.Divider=()=>i.h("div",{class:"designToolDivider"}),t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1276);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(551);n(1277);const r=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the Zeplin plugin in Figma."),i.h("a",{class:"installPluginButton noSelect",href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank"},"Install plugin")),i.h("li",null,i.h("div",null,"In your Figma file, right-click anywhere in the canvas and "),i.h("div",null,"select ",i.h("strong",null,"“Plugins > Zeplin”:")),i.h(o.default,{asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Select frames and hit the ",i.h("strong",null,"“Export”")," button:"),i.h(o.default,{asset:"img/imgFigmaPluginMenuExport.png"})));t.default=function(){return i.h("div",{class:"figmaContainer"},i.h(o.default,{class:"figmaToZeplinImage",asset:"img/imgFigmaToZeplin.png"}),r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1279);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(551),r=n(252);n(1280);const a=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,"Select and artboard/layer in your XD file.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,"“Zeplin”")," under ",i.h("strong",null,"“File > Export”"),":"),i.h(o.default,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png"}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:r.imageUrl("img/emjPointUp@17w.png"),srcset:`${r.imageUrl("img/emjPointUp@34w.png")} 2x, ${r.imageUrl("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+E"),", on your next export.")),i.h(o.default,{class:"xdShortcut",asset:"img/icXDShortcut.png"}))));t.default=function(){return i.h("div",{class:"xdContainer"},i.h(o.default,{class:"xdToZeplinImage",asset:"img/imgXdToZeplin.png"}),a)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1282);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1283),r=n(252);n(1286);const a=[i.h("img",{class:"psLogo",src:r.imageUrl("img/icLogoPSNew.png"),srcset:r.srcset(r.imageUrl("img/icLogoPSNew.png"))}),i.h("img",{class:"psToZeplinLogo",src:r.imageUrl("img/icDashboardPSToZeplin.svg")})];function s({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Open your Photoshop file"))),i.h("li",null,i.h("div",null,"Select artboards (or layers in artboards) and click:"),i.h("img",{class:"ssDashboardEmpty",src:r.imageUrl("img/ss/ssDashboardEmpty.png"),srcset:r.srcset(r.imageUrl("img/ss/ssDashboardEmpty.png"))}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.default=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.h("div",{class:"photoshopContainer"},i.h(o.default,{images:a,withMargin:n}),i.h(s,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1284);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(252),r=n(399);n(1285);t.default=function({images:e,withMargin:t}){return i.h("div",{class:Object(r.default)("toolToZeplin",{withMargin:t})},e,i.h("img",{class:"zeplinLogo",src:Object(o.imageUrl)("img/icZeplin.svg")}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1288);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1289);function o(){return i.h("div",{class:"noScreensWebApp"},i.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.h("div",{class:"screenSilhouettes"},i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"})),i.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.h("span",{class:"downloadApp"},", if you are a designer you can ",i.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.h("br",null),i.h("br",null),"To learn more about how to export from ",i.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1292);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(229),a=n(420),s=n(880),l=n(399);n(1293);class c extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(r.cmdKey)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag),mixpanel.master.track("Copied web link",{Target:"Tag"})}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag),mixpanel.master.track("Copied app URI",{Target:"Tag"})}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(s.default.withAutoPosition,{class:"tagContextMenu",onMouseDown:o.stopPropagation,autoPosition:{limitingElement:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(s.default.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(s.default.ItemDivider,{key:"copyDivider"}),i.h(s.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(s.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(s.default.ItemDivider,{key:"downloadDivider"}),i.h(s.default.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(s.default.ItemDivider,{key:"warningDivider"}),i.h(s.default.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:o}=this.props,r=Object(l.default)("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:o});return i.h("button",{ref:Object(a.default)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:r},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),this.state.contextMenu&&this.renderTagContextMenu())}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1296);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(1297),a=n(364),s=n(365),l=n(271),c=n.n(l),d=n(513),u=n.n(d),p=n(245),h=n(263),f=n.n(h),g=n(233),m=n(248);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class C extends o.default{static getExtensionState(){const{loading:e,extensions:t,enabledExtensions:n}=c.a.ExtensionsStore.getState();if(e)return{loadingExtensions:!0};const i=t.filter(({id:e})=>n.includes(e)).map(({name:e})=>e);return{loadingExtensions:!1,extensionTitles:i.length?Object(m.formatList)(i):"No extensions yet."}}static calculateState(){const e=c.a.BarrelStore.getState(),{loading:t,barrelType:n,barrelId:i}=e,o=v(e,["loading","barrelType","barrelId"]);if(t)return{loading:t};const r=a.default.findUser(),l=a.default.getBarrel(),{loadingSelectParent:d}=c.a.StyleguidesDataStore.getState(),{organizationId:u}=o,h=s.default.getOrganizationStyleguides(u)||[],m=Object(p.urlResolve)(n,{url:{bid:i}}),b=n===f.a.PROJECT?"pid":"stid",y=`${g.ZPL_PROTOCOL}//${n}?${b}=${i}`;let O;return l.public&&(O=Object(p.urlResolve)(n,{origin:g.SCENE_URL,url:{bid:i}})),S(S(S({loading:t,barrelType:n,barrelUser:r,webURL:m,sceneURL:O,appURI:y},o),C.getExtensionState()),{},{loadingSelectParent:d,currentOrganizationStyleguides:h,barrel:l})}static getStores(){return[c.a.BarrelStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore,c.a.ExtensionsStore,c.a.OrganizationStore,c.a.UserStore]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:o,barrel:a,barrelType:s,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g}=this.state;return n?i.h(r.default.Loading,null):i.h(r.default,{width:e,onRelease:t,organizationId:o,barrel:a,barrelType:s,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g})}}const O=u()(C,{withProps:!0,pure:!1});t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(1298);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(947),a=n.n(r),s=n(1299),l=n(248),c=n(399),d=n(923),u=n(420),p=n(1301),h=n(263),f=n.n(h),g=n(779),m=n(379),b=n(1194),S=n(1304),y=n(1305),v=n(1308),C=n(1311),O=n.n(C),E=n(619),T=n(1317),_=n(1333),P=n(1321),j=n(1324),D=n(1336),k=n(404),I=n(1345),R=n(1348),A=n(1356),w=n.n(A),N=n(519),L=n(1365),x=n(1368),M=n(1375),U=n(380),B=n(232),z=n(766),V=n(442);n(1378);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.default{constructor(...e){super(...e),F(this,"state",{shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}),F(this,"openMembersDialog",()=>{this.setState({membersDialogOpen:!0})}),F(this,"closeMembersDialog",()=>{this.setState({membersDialogOpen:!1})}),F(this,"openDensityDialog",()=>{this.setState({densityDialogOpen:!0})}),F(this,"closeDensityDialog",()=>{this.setState({densityDialogOpen:!1})}),F(this,"setInvitePopupAnchorPosition",()=>{const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;s.anchor.classList.toggle("hidden",t.bottom<n.bottom)||(s.anchor.style.top=i+"px")}),F(this,"setInvitePopupPosition",Object(l.debounce)(()=>{s.element.style.transform="";const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,o=n.top-i,r=n.bottom+n.height+i;let a;a=o>108&&r<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-a,12)-60;s.element.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()})),F(this,"openSelectParentDialog",e=>{const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}),F(this,"closeSelectParentDialog",()=>{this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}),F(this,"openRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!0})}),F(this,"closeRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!1})}),F(this,"toggleInvitePopup",e=>{e.stopPropagation(),s.isHidden()?this.openInvitePopup():this.closeInvitePopup()}),F(this,"handleRename",e=>{if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})}),F(this,"handleDensityScaleChange",e=>{if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})}),F(this,"handleRemoveIntegration",(e,t)=>{m.default.removeIntegration({intype:e,inid:t,syncWithApi:!0})}),F(this,"handleShareContentOpen",()=>{this.setState({shareContentOpen:!0})}),F(this,"handleShareContentClose",()=>{this.setState({shareContentOpen:!1})}),F(this,"handleDescriptionSubmit",e=>{if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;m.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),F(this,"handleMemberClick",e=>{this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}),F(this,"handleAddMembers",e=>{m.default.addMembers({members:e.detail.users,syncWithApi:!0})}),F(this,"handleRemoveMember",({user:{_id:e}})=>{m.default.removeMember({mid:e,syncWithApi:!0})}),F(this,"handleAssignAdmin",({user:{_id:e}})=>{m.default.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}),F(this,"handleUnassignAdmin",({user:{_id:e}})=>{m.default.updateUserRole({uid:e,role:"user",syncWithApi:!0})}),F(this,"handleTransferOwnership",({user:{_id:e}})=>{m.default.transferOwnership({uid:e,syncWithApi:!0})}),F(this,"handleSelectParent",()=>{const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;this.closeSelectParentDialog(),b.default.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})}),F(this,"handleRemoveParent",()=>{const{barrel:{id:e,parent:t}}=this.props;this.closeRemoveParentDialog(),b.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),F(this,"handleShowPlanChooserOverlay",()=>{Object(g.showPlanChooserOverlay)({source:"Members dialog"})})}get isOrganizationProject(){const{barrel:e}=this.props;return Object(l.isOrganizationProject)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return l.permissions.canUpdateProject(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,organizationId:n}=this.props,{id:i,users:o}=e,{sidebar:r}=this.nodeRefs;s.show({bt:t,popupContainer:r,bid:i,members:o,oid:n,onDismiss:e=>{this.setInvitePopupState(!1)}}),this.setInvitePopupPosition(),r.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),r.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Sidebar"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),s.dismiss(),this.setInvitePopupState(!1)}componentWillUnmount(){this.closeInvitePopup()}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:o,parent:r}=e,{name:a,type:s}=t,l=o===s||s===B.PLATFORM.BASE,c=r?"Change":"Select",d=r?"to":"as",u=`“${n}”`+(l?"":` (${B.PlatformString[o]})`),p=`“${a}”`+(l?"":` (${B.PlatformString[s]})`);return i.h(z.BasicOverlayDialog,{title:`${c} parent styleguide of ${u} ${d} ${p}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${r?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(z.BasicOverlayDialog,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(d.default)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(E.default,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(V.IconEdit,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:o}=e,r=i.h(v.default,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:o});return this.canUpdateBarrel?r:i.h(E.default,{content:Object(d.default)(t.role,`rename ${n}s`)},r)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(l.getPlatformString)(t),", ",Object(l.getDensityScaleRepresentation)(t,n)),this.renderDensityChangeAction())}renderShareButton(){const{shareContentOpen:e}=this.state,{barrelUser:t,barrelType:n,webURL:o,sceneURL:r,appURI:a}=this.props,s=l.permissions.canChangeProjectAccesibility(t);return i.h(w.a,{popoverOpen:e,onPopoverOpen:this.handleShareContentOpen,onPopoverClose:this.handleShareContentClose,barrelType:n,webURL:o,sceneURL:r,appURI:a,onEnableScene:m.default.enableScene,onUnshare:m.default.unshareScene,canUserChangeBarrelAccesibility:s})}renderDescription(){const{barrel:e,barrelType:t}=this.props,{description:n}=e;return t===f.a.STYLEGUIDE?null:[i.h(P.default,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(D.default,{class:"descriptionTextArea",value:n,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:p.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(_.default,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:o}=this.props,{membersDialogOpen:r}=this.state,{id:a,name:s,users:l}=e;let c=null;if(r){const e=this.highlightedMemberId;this.highlightedMemberId=null,c=i.h(N.default,null,i.h(R.default,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:a,barrelName:s,isOrganizationProject:this.isOrganizationProject,organizationId:o,highlight:e,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:this.handleShowPlanChooserOverlay}))}return i.h(i.Fragment,null,i.h(P.default,{title:"Members",button:i.h(j.default,{onClick:this.openMembersDialog})}),i.h("div",{class:"inviteButtonContainer"},i.h(k.default,{secondary:!0,class:"inviteButton",baseRef:Object(u.default)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.h(I.default,{members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),c)}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:o}=e;return t?"base"===n?i.h(x.default,{selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(L.default,{type:n,selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:o,currentOrganizationStyleguides:r}=this.props,{id:a,users:s,ancestors:l,parent:c}=e;if(t===f.a.PROJECT)return null;const d=Object(U.getSelectableParentStyleguides)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:r,currentUser:n,id:a,parentId:c,users:s}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(l,r);return i.h(M.default,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:o,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,barrel:o,loadingExtensions:r,extensionTitles:a}=this.props,{shareContentOpen:s,invitePopupOpen:l,selectParentDialogOpen:d,removeParentDialogOpen:p}=this.state,{id:h}=o;return i.h(y.default,{class:Object(c.default)("barrelSidebar",{shareContentOpen:s,invitePopupOpen:l}),minWidth:260,initialWidth:e,baseRef:Object(u.default)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),i.h(O.a,null),this.renderDensityAndType(),this.renderShareButton(),i.h(_.default,null),this.renderDescription(),this.renderParentStyleguides(),i.h(T.default,{barrelId:h,showConfigurationButtons:t}),i.h(_.default,null),i.h(P.default,{title:"Extensions",button:i.h(j.default,{onClick:S.default.openSettings,disabled:r})}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:a},a)),i.h(_.default,null),this.renderMembers(),this.renderDensityDialog(),d&&this.renderSelectParentDialog(),p&&this.renderRemoveParentDialog())}}H.defaultProps={loadingExtensions:!0,extensionTitles:"…"};const G=a()(H),$=e=>i.h(G,W({},e,{ignoreOverlays:!1}));$.Loading=y.default.Loading,t.default=$},function(e,t,n){"use strict";n.r(t),n.d(t,"element",(function(){return f})),n.d(t,"anchor",(function(){return g})),n.d(t,"show",(function(){return ye})),n.d(t,"dismiss",(function(){return Oe})),n.d(t,"isHidden",(function(){return Ee})),n.d(t,"removeUser",(function(){return me})),n.d(t,"handleInviteUserSocketForInvitePopup",(function(){return ge})),n.d(t,"handleInvitedSocketForInvitePopup",(function(){return fe})),n.d(t,"handleCreateUserSocketForInvitePopup",(function(){return be})),n.d(t,"handleDeleteUserSocketForInvitePopup",(function(){return Se}));n(1300);var i=n(244),o=n(248),r=n(247),a=n(260),s=n(264),l=n(365),c=n(238),d=n(393),u=n(615),p=n(249);const h=new Set,f=document.getElementById("inviteUserPopup"),g=document.getElementById("inviteUserPopupAnchor"),m=document.getElementById("inviteeHandle"),b=f.querySelector(".userList"),S=document.getElementById("inviteeTemplate"),y=document.getElementById("inviteNewUserTemplate"),v=document.getElementById("typedUserAlreadyAddedTemplate"),C=document.getElementById("inviteByTagTemplate"),O=document.querySelector(".organizationInviteeList"),E=document.querySelector(".tagList"),T=document.querySelector(".showRemainingTags"),_=document.querySelector(".memberList"),P=document.querySelector(".membersWithTagHeader"),j=document.querySelector(".membersWithTagList"),D=new d.default(u.default,f);let k,I,R,A,w,N,L,x,M={},U=[],B=[],z=new Set,V={},W=new Set,F=new Set,H=new Set,G=!0;function $(e){if(e.classList.contains("newUser")){if(!m.checkValidity()&&!/^\w{3,30}$/.test(m.value))return Object(r.wiggle)(m.parentElement),void(G=!0);f.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))de(m.value,e);else if(e.classList.contains("user")){var t=B.find((function(t){return t._id===e.dataset.uid}));de(t.username||t.email,e)}else if(e.classList.contains("member")){var n=V.members.find((function(t){return t.user._id===e.dataset.mid}));de(n.user.username||n.user.email,e)}else e.classList.contains("inviteByTag")&&(o=e.dataset.tag,s=e,a[I].inviteUsersByTag(V._id,R,o).then((function(e){ue(e,s)})).catch((function(){s.classList.remove("inviteSpinner"),s.classList.add("inviteRetry"),i.create({done:{cb(){Object(r.highlightInput)(m),G=!0}}})})));var o,s}function q(){f.classList.contains("organizationBarrel")?Q():ee()}function Z(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function Y(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach((function(t){t.classList.remove("hidden","selected"),e.appendChild(t)}))}function K(e){return E.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function J(e){return _.querySelector("[data-mid='"+e.user._id+"']")}function X(e,t,n,i){t.forEach((function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)}));for(var o=0;o<e.childElementCount-t.length;o++){var r=e.children[o];r.classList.add("hidden"),r.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function Q(){ne(".memberList .newUser"),ne(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=m.value.toLowerCase();if(f.classList.remove("noNewInvitees","noInvitees"),O.classList.remove("noTags","noMembers","hasMembersWithTag","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),j.innerHTML="",m.placeholder="Invite with email/username",n){e=!!(t=F.has(n))||W.has(n);var i=Object.keys(M);i.sort();var o={},r=i.filter((function(e){var t=Z(e.toLowerCase(),n);return!!t&&(o[e]=t,!0)})).sort((function(e,t){return o[t]-o[e]}));X(E,r,K,"noTags");var a=function(e,t,n){var i={};if(!e)return[];var o=e.filter((function(e){if(H.has(e.user._id)){var o=n(e);if(!o)return!1;if(!o.classList.contains("inviteDone"))return!1}var r=0;return e.user.username&&(r+=Z(e.user.username,t)),e.user.fullName&&(r+=Z(e.user.fullName,t)),!!(r+=Z(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=r,!0)}));return o.sort((function(e,t){return i[t.user._id]-i[e.user._id]})),o}(V.members,n,J);X(_,a,J,"noMembers");var s=K(r[0]);if(O.classList.toggle("hasMembersWithTag",1===r.length&&(M[r[0]]>0||s&&s.classList.contains("inviteDone")))&&(P.textContent=r[0],j.innerHTML="",V.members.forEach((function(e){var t=J(e);if((!H.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(r[0])){var n=oe(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),j.appendChild(n)}}))),e||n.includes("@")){if(!e){O.classList.add("showAddsToTheBarrelOnlyInfo");const e=document.importNode(y.content,!0);e.querySelector(".invitee").classList.add("member"),e.querySelector(".newUserHandle").textContent=m.value,_.appendChild(e)}}else O.classList.add("writeAnEmailToInvite");if(t&&!O.querySelector(".invitee.inviteDone")){var l=document.importNode(v.content,!0);l.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),l.querySelector("span").textContent=m.value,O.appendChild(l)}}else{if(Y(E,"noTags"),T.textContent){var c=Array.from(E.querySelectorAll(".inviteByTag")).map((function(e){return e.dataset.tag}));c.sort(),c.forEach((function(e){var t=K(e);E.appendChild(t)}));for(var d=E.firstElementChild,u=3;u<E.childElementCount;u++){var p=E.children[u];p.classList.add("hidden"),E.insertBefore(p,d)}E.childElementCount-3>0?(T.textContent=E.childElementCount-3,T.classList.toggle("multiple",E.childElementCount-3>1)):T.textContent=""}Y(_,"noMembers")}var h=O.querySelectorAll(".invitee:not(.hidden)");if(h.length)h[0].classList.add("selected");else if(!t&&!O.classList.contains("writeAnEmailToInvite")){0===(V.members||[]).filter(e=>!H.has(e.user._id)).length&&A.length>1?f.classList.add("noNewInvitees"):1===A.length&&(f.classList.add("noInvitees"),m.placeholder="Invite with email")}}function ee(){ne(".userList .user.newUser"),ne(".userList .userListTypedUserAlreadyAdded"),b.classList.remove("writeAnEmailToInvite"),m.placeholder="Invite with email/username";var e,t,n=m.value.toLowerCase(),i=document.importNode(v.content,!0);if(n){e=!!(t=F.has(n))||h.has(n);var o={},r=B.filter((function(e){var t=0;return e.username&&(t+=Z(e.username,n)),(t+=Z(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(o[e._id]=t,!0)})).sort((function(e,t){return o[t._id]-o[e._id]}));r.forEach((function(e){var t=te(e._id);t.classList.remove("hidden","selected"),b.appendChild(t)}));for(var a=0;a<B.length-r.length;a++){var s=b.children[a].classList;s.add("hidden"),s.remove("selected")}}else B.forEach((function(e){var t=te(e._id);t.classList.remove("hidden","selected"),b.appendChild(t)}));if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(y.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=m.value,b.appendChild(l)}}else b.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=m.value,b.appendChild(i))}f.classList.remove("noInvitees"),f.classList.remove("noNewInvitees");var c=b.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||b.classList.contains("writeAnEmailToInvite")||(U.length?f.classList.add("noNewInvitees"):(f.classList.add("noInvitees"),m.placeholder="Invite with email"))}function te(e){return b.querySelector(".invitee[data-uid='"+e+"']")}function ne(e){var t=document.querySelector(e);t&&t.remove()}function ie(e,t,n){var i=document.importNode(C.content,!0),o=i.querySelector(".inviteByTag"),r=i.querySelector(".tagName"),a=i.querySelector(".memberCount");return o.classList.toggle("hidden",!!n),o.dataset.tag=e,r.textContent=e,r.title=e,a.textContent=t+(t>1?" members":" member"),i}function oe(e){var t=document.importNode(S.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),o=t.querySelector(".username"),a=t.querySelector(".email"),s=t.querySelector(".organizationTags");if(n.classList.add("member"),n.dataset.mid=e.user._id,Object(r.setAvatar)(i,e.user),e.user.username){const t=Object(c.getUserDisplayName)(e.user);o.textContent=t,o.title=t,a.textContent=e.user.email,a.title=e.user.email}else o.textContent=e.user.email,o.title=e.user.email,a.textContent="Pending Invitation";var l=e.tags?e.tags.join(", "):"";return s.textContent=l,s.title=l,i.addEventListener("mouseenter",t=>ae(t,e.user._id)),i.addEventListener("mouseleave",se),o.addEventListener("mouseenter",t=>ae(t,e.user._id,!1)),o.addEventListener("mouseleave",se),t}function re(e,t){var n=document.importNode(S.content,!0),i=n.querySelector(".invitee"),o=n.querySelector(".userImage"),a=n.querySelector(".username"),s=n.querySelector(".inviteExtraInfo"),l=Object(c.getUserDisplayName)(e)||e.email;(i.classList.add("user"),Object(r.setAvatar)(o,e),i.dataset.uid=e._id,a.textContent=l,a.title=l,e.username)?n.querySelector(".email").textContent=e.email:s.textContent="Pending invitation";return t&&i.classList.add("hidden"),o.addEventListener("mouseenter",t=>ae(t,e._id)),o.addEventListener("mouseleave",se),a.addEventListener("mouseenter",t=>ae(t,e._id,!1)),a.addEventListener("mouseleave",se),n}function ae(e,t,n=!0){se(),x=setTimeout(()=>{D.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"invitePopupUserProfileCardPopoverContainerContent"});const i=document.querySelector(".invitePopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",()=>clearTimeout(x)),i.addEventListener("mouseleave",se))},300)}function se(){clearTimeout(x),x=setTimeout(()=>{D.remove()},100)}function le(e){z.has(e._id)||(U.push(e),z.add(e._id),e.username&&h.add(e.username),h.add(e.email))}function ce(e){H.add(e._id),e.username&&F.add(e.username),F.add(e.email)}function de(e,t){a[I].inviteUser(R,e).then((function(e){ue(e,t)})).catch((function(e){f.querySelector(".inputArea img").classList.add("hidden"),Ee()||t.classList.contains("newUser")?(G=!1,s.handleError(e,{dialogCallback(){Object(r.highlightInput)(m),G=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)})).catch((function(){i.create({done:{cb(){Object(r.highlightInput)(m),G=!0}}})}))}function ue(e,t){Object(r.highlightInput)(m),f.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(N&&N(n),n.forEach(({user:e})=>{ce(e),t.classList.contains("user")&&le(e)}),k&&k.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),f.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach((function(e){if(V.members){var t=V.members.find((function(t){return t.user._id===e.user._id}));t&&t.tags.forEach((function(e){M[e]-=1}))}})),Object.keys(M).forEach((function(e){var t=M[e],n=K(e);n&&(0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=Object(p.pluralize)(t,"member"))})));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach((function(e){Array.from(O.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach((function(e){e.classList.add("inviteDone")}))})),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){B.push(e.user);var i=re(e.user);i.querySelector(".user").classList.add("inviteDone"),b.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),he(i)}else{W.add(e.user.email);var o=oe(e);o.querySelector(".member").classList.add("inviteDone"),o.querySelector(".member.selected")||o.querySelector(".member").classList.add("selected"),_.appendChild(o)}}function pe(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach((function(e){e.remove()}))}function he(e){b.lastElementChild&&b.lastElementChild.classList.contains("user")?b.appendChild(e):b.insertBefore(e,b.lastElementChild)}function fe(e){e.forEach((function(e){(le(e.user),k&&!H.has(e.user._id))&&(B.some((function(t){return t._id===e.user._id}))||(B.push(e.user),he(re(e.user))))})),Ee()||q()}function ge(e,t){if(le(t),k){if(R===e)ce(t),o.arrayRemove(B,(function(e){return e._id===t._id}));else B.some((function(e){return e._id===t._id}))||B.push(t);var n,i=m.value;if(n=f.classList.contains("organizationBarrel")?J(t):te(t.user._id),R===e&&n){if(n.classList.contains("selected")&&b.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!b.querySelector(".user:not(.hidden)")){var r=document.importNode(v.content,!0);r.querySelector(".userListTypedUserAlreadyAdded").classList.add(m.value===Zeplin.user.username||m.value===Zeplin.user.email?"selfUser":"someUser"),r.querySelector("span").textContent=m.value,b.appendChild(r)}}else R!==e&&(n?n.classList.contains("newUser")&&(b.appendChild(re(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):he(re(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))))}}function me(e,t){var n,i,o,r,a;if(R===e)if(f.classList.contains("organizationBarrel")){var s,l,c=V.members.find((function(e){return e.user._id===t}));c&&(s=c,l=J(c),c.tags.forEach((function(e){M[e]?M[e]+=1:M[e]=1;var t=K(e);if(t)t.querySelector(".memberCount").textContent=M[e]+(M[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ie(e,M[e]);n.querySelector(".invitee").classList.toggle("hidden",!!m.value&&!e.includes(m.value))?E.appendChild(n):E.insertBefore(ie(e,M[e]),E.querySelector(".invitee:not(.hidden)"))}}))),H.delete(t),F.delete(s.user.username),F.delete(s.user.email);var d=O.querySelector(".userListTypedUserAlreadyAdded");if(m.value===s.user.username&&d&&d.remove(),!k)return;l?l.classList.remove("inviteDone"):c&&(n=_,o="noMembers",r=oe(i=c),a=!(!m.value||i.user.username&&i.user.username.includes(m.value)||i.user.email.includes(m.value)),r.querySelector(".invitee").classList.toggle("hidden",a),a?n.append(r):(n.insertBefore(r,n.querySelector(".invitee:not(.hidden)")),n.parentElement.classList.remove(o)))}else{var u=U.find(e=>e._id===t);if(function(e){H.delete(e._id),e.username&&(F.delete(e.username),h.add(e.username)),F.delete(e.email),h.add(e.email),B.some((function(t){return t._id===e._id}))||B.push(e)}(u),!k)return;var p=m.value,g=te(u._id);g?g.classList.remove("inviteDone"):he(re(u,p&&!(u.username&&u.username.includes(p))&&!u.email.includes(p)))}}function be(e){var t=U.find(t=>t._id===e._id);if(t&&(Object.assign(t,e),k)){var n=te(e._id);n&&(n.querySelector(".username").textContent=Object(c.getUserDisplayName)(e),n.querySelector(".inviteExtraInfo").textContent="")}}function Se(e){var t=o.arrayRemove(U,(function(t){return t._id===e}));if(t&&(function(e){H.delete(e._id),z.delete(e._id),e.username&&(F.delete(e.username),h.delete(e.username)),F.delete(e.email),h.delete(e.email),o.arrayRemove(B,(function(t){return t._id===e._id}))}(t),k)){var n=te(t._id);n&&(b.removeChild(n),n.classList.contains("selected")&&b.querySelector(".user:not(.hidden)")&&b.querySelector(".user:not(.hidden)").classList.add("selected"))}}function ye({bt:e,popupContainer:t,bid:n,members:i,oid:r,onInvite:a,onDismiss:s}){const c=r&&"user"!==r;I=e,f.classList.toggle("organizationBarrel",c),L=s,N=a,c?(V=l.default.getOrganization(r),M=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}(V.members),function(e,t,n){if(t!==R){ve(),F=new Set,H=new Set,W=new Set,R=t,A=n,A.forEach((function(e){ce(e.user)})),V.members&&V.members.forEach((function(e){H.has(e.user._id)?e.tags.forEach((function(e){M[e]>0&&(M[e]-=1,0===M[e]&&delete M[e])})):(W.add(e.user.username).add(e.user.email),_.appendChild(oe(e)))})),O.classList.toggle("noMembers",!_.childElementCount);var i=Object.keys(M);i.sort(),i.forEach((function(e){E.appendChild(ie(e,M[e],!1))}));var o=i.length-3;o>0&&(T.textContent=o,T.classList.toggle("multiple",o>1)),O.classList.toggle("noTags",!i.length)}else Object.keys(M).forEach((function(e){0===M[e]&&delete M[e]})),w&&new Date-w>1e4&&(T.textContent=Object.keys(M).length-3,T.classList.toggle("multiple",Object.keys(M).length-3>1)),pe(E),pe(_);w=0,k=e,e.appendChild(f),e.getBoundingClientRect().right+80>window.innerWidth&&f.classList.add("left");Q(),f.classList.remove("hidden"),O.scrollTop=0,m.focus()}(t,n,i)):function(e,t,n){t!==R?(ve(),B=[],F=new Set,H=new Set,R=t,A=n,A.forEach((function(e){ce(e.user)})),U.forEach((function(e){H.has(e._id)||(B.push(e),e.username&&h.add(e.username),h.add(e.email))})),B.forEach((function(e){b.appendChild(re(e))}))):(pe(b),H.forEach((function(e){o.arrayRemove(B,(function(t){return t._id===e}))})));k=e,e.appendChild(f),e.getBoundingClientRect().right+80>window.innerWidth&&f.classList.add("left");ee(),f.classList.remove("hidden"),b.scrollTop=0,m.focus()}(t,n,i),document.addEventListener("click",e=>{if(!D.isRendered()&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&!Ee()){f.contains(e.target)||Oe()}},!0)}function ve(){b.innerHTML="",E.innerHTML="",T.textContent="",_.innerHTML=""}function Ce(){m.value="",m.dispatchEvent(new Event("input"))}function Oe(){document.removeEventListener("click",Oe),k=null,f.classList.add("hidden"),f.classList.remove("left"),f.querySelector(".inputArea img").classList.add("hidden"),Ce(),D.remove(),w||(w=new Date),L&&L(),document.body.append(f)}function Ee(){return f.classList.contains("hidden")}a.getUserAcquaintances().then(e=>{U=e.acquaintances,z=new Set(U.map(e=>e._id))}).catch(e=>{}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),$(t))}}let t,n;m.addEventListener("input",(function(){m.parentElement.classList.toggle("typed",!!m.value),G=!0,q(),k&&k.dispatchEvent(new CustomEvent("listRefreshed"))})),f.addEventListener("click",(function(e){e.stopPropagation()})),f.addEventListener("contextmenu",(function(e){e.stopPropagation()})),b.addEventListener("click",e),O.addEventListener("click",e),f.addEventListener("mouseenter",(function(e){t=e.clientX,n=e.clientY})),f.addEventListener("mousemove",(function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=f.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}})),document.addEventListener("keydown",(function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(Ee())break;if(e.stopImmediatePropagation(),D.isRendered()){D.remove();break}if(m.value){Ce();break}Oe();break;case Zeplin.KEY_CODE.ENTER:{if(Ee()||!G)break;const e=f.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;G=!1,$(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(Ee())break;G=!0,e.preventDefault(),function(e){f.classList.contains("organizationBarrel")?function(e){var t=O.querySelector(".invitee.selected");if(!t){var n=O.querySelector(".invitee:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(r.scrollIfNecessary)(n,{container:O})))}var i,o=Array.from(O.querySelectorAll(".invitee:not(.hidden)")),a=o.findIndex((function(e){return e.classList.contains("selected")}));i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?a-1:a+1;if(i>-1&&i<o.length){var s=o[i];t.classList.remove("selected"),s.classList.add("selected"),Object(r.scrollIfNecessary)(s,{container:O})}}(e):function(e){var t=b.querySelector(".selected");if(!t){var n=b.querySelector(".user:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(r.scrollIfNecessary)(n)))}var i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;i&&i.classList.contains("user")&&!i.classList.contains("hidden")&&(t.classList.remove("selected"),i.classList.add("selected"),Object(r.scrollIfNecessary)(i))}(e)}(e)}})),T.addEventListener("click",(function(e){e.stopPropagation(),T.textContent="",Array.from(E.querySelectorAll(".inviteByTag.hidden")).forEach((function(e){e.classList.remove("hidden"),E.appendChild(e)}))}))}()},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInput",(function(){return o}));var i=n(247);function o(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let o=t;e.addEventListener("input",(function(){if(e.value){if(Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n;)o-=.2;else if(Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t;)o+=.2}else o=t;e.style.fontSize=o+"px"}))}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(o)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextArea",(function(){return y})),n.d(t,"formatComment",(function(){return v}));var i=n(208),o=n.n(i),r=n(1302),a=n(248),s=n(399),l=n(245),c=n(233),d=n(364),u=n(271),p=n.n(u),h=n(232);function f(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===c.ZPL_PROTOCOL;if(!n&&!i)return;const o={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),r=Object(l.parseUrlParams)(e);if(!("pid"in r))return;return o.url={pid:r.pid[0]},"sid"in r?(o.url.sid=r.sid[0],"vid"in r&&(o.url.vid=r.vid[0])):n&&"styleguide"in r||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?o.subpage=h.ProjectViewTypes.STYLEGUIDE:o.subpage=h.ProjectViewTypes.DASHBOARD,o}const r=Object(l.parseUrlPath)(t.pathname);if(!r)return;Object.assign(o,{url:r});const a=t.pathname.match(/\/(dashboard|styleguide)$/);if(a&&(o.subpage=a[1]),t.search){const e=Object(l.parseUrlParams)(t.search.replace(/&amp;/g,"&"));Object.assign(o,{query:e})}return o}(e),n=d.default.getBarrel();if(!n||!t||!("pid"in t.url)||t.url.pid!==n.id)return;let i="project-dashboard",o="Dashboard",r=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find((function(e){return e._id===t.url.sid})),a=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)o="Notes on "+a;else{const n=e.dots&&e.dots.find((function(e){return e._id===t.query.did[0]})),i="Note"+(n?" #"+n.name:"");o="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${a}`:`${i}, ${a}`}else r.push("screenLink"),o=a}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",o="Styleguide",delete t.subpage),{anchorText:o,classList:r,url:Object(l.urlResolve)(i,t)}}function g(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=f(t.getUrl());if(n){const{anchorText:t,classList:i,url:o}=n;return e.push(`<a href="${o}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function m(e,t=[]){var n=[],i=new o.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:g(n)});return t.reduce((function(e,t){return t(e)}),i.link(Object(a.escapeHTML)(e))).replace(/{{link:(\d+)}}/g,(function(e,t){return n[parseInt(t,10)]}))}function b(e){const t=d.default.getBarrel();return t?e.replace(/#([\w-]+)/g,(function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})):e}function S(e){const t=d.default.getBarrel();if(!t)return e;const n=Object(a.userRegexFn)(t.users),{username:i}=p.a.UserStore.getState(),o=Object(a.mentionRegexFn)(i);return e.replace(n,e=>{const t=o.test(e);return`<span class="${Object(s.default)("user",{self:t})}">${e}</span>`})}function y(e){return m(e,[r.formatEmojiString,a.spanEmojis])}function v(e){return m(e,[b,S,r.formatEmojiString,a.spanEmojis])}},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedEmojis",(function(){return y})),n.d(t,"open",(function(){return C})),n.d(t,"close",(function(){return O})),n.d(t,"formatEmojiString",(function(){return v})),n.d(t,"replace",(function(){return S}));var i=n(248),o=n(628),r=n(1303);const a=document.getElementById("suggestedEmojisContainer"),s=document.getElementById("suggestedEmojiTemplate");let l,c,d,u,p=0,h=[];const f=/:(\S+?):/g;function g(e){return e?(u=e,h=o.default.getSuggestedEmojis(e),h.length?(h.forEach(m),l&&(t=l,h.some((function(e){return e.emoji===t.emoji})))?p=a.querySelector(`.suggestedItem[data-emoji="${l.emoji}"]`).dataset.index:(p=0,l=h[0]),a):void(l=null)):(l=null,p=0,void O());var t}function m(e,t){const n=a.querySelector(".suggestedListBox"),i=document.importNode(s.content,!0),o=i.querySelector(".suggestedItem"),r=e.alias.replace(/\s/gi,"_");o.dataset.index=t,o.dataset.emoji=e.emoji,e.customEmoji?(o.querySelector(".emojiImg").src=e.emoji,o.classList.add("customEmoji")):o.querySelector(".emojiChar").textContent=e.emoji,o.querySelector(".emojiAlias").textContent=r,o.querySelector(".emojiAlias").title=r,n.appendChild(i)}function b(e){const t=c.selectionStart,n=c.value.substring(0,t),o=n.length-n.split("").reverse().join("").search(/:/)-1,r=c.value.substring(o,t),a=e.alias.replace(/\s/g,"_");c.value=c.value.substring(0,o)+r.replace(u,a+": ")+c.value.substring(t),d.innerHTML=Object(i.escapeHTML)(c.value)+"&nbsp;";const s=t-u.length+a.length+2;c.focus(),c.setSelectionRange(s,s),O()}function S(e,t,n){return e.replace(f,(function(e,i){const r=o.default.searchEmoji(i);if(r){if(n)return"";if(!r.customEmoji)return r.emoji;if(!t)return'<img class="customEmoji" src="'+r.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`}))}function y(e,t){if(c=e,d=t,!a.classList.contains("hidden")){const e=a.querySelector(".suggestedItem.selected");e&&(l=h[e.dataset.index])}const n=e.value.substring(0,e.selectionStart),i=n.lastIndexOf(":"),r=e.value.substring(i,e.selectionStart).match(/^:(.+)/);if(r){const e=r[0].substring(1);if(u===e&&!a.classList.contains("hidden"))return;O();const t=n.substring(0,i).lastIndexOf(":"),s=n.substring(t,i+1).match(f);if(s&&o.default.searchEmoji(s[0].substring(1,s[0].length-1)))return;return g(e)}p=0,l=null,O()}function v(e,t){return S(e,t)}function C(){const e={elements:{textContainer:c,suggestedListContainer:a},cb:{autoComplete:b},index:p,list:h};r.open(e)}function O(){r.close()}},function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return h})),n.d(t,"close",(function(){return f}));var i=n(247);let o,r,a,s,l,c,d=0,u=[],p=!1;function h(e){a&&!a.classList.contains("hidden")&&f(),c=e.cb.autoComplete,a=e.elements.suggestedListContainer,s=a.querySelector(".suggestedListBox"),l=e.elements.textContainer,d=e.index,u=e.list,o=0,r=0,a.classList.remove("hidden");const t=s.querySelector(`.suggestedItem[data-index="${d}"]`);t.classList.add("selected"),Object(i.scrollIfNecessary)(t),p||(p=!0,s.addEventListener("mousemove",m),s.addEventListener("click",b),l.addEventListener("keydown",g))}function f(){if(p&&(l.removeEventListener("keydown",g),s.removeEventListener("mousemove",m),s.removeEventListener("click",g)),!a||a.classList.contains("hidden"))return;const e=s.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),a.classList.add("hidden"),s.innerHTML="",l=null,p=!1,u=[],d=0}function g(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),c(u[s.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),f();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&S(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&S(--d)}}function m(e){if(e.stopPropagation(),o===e.clientX&&r===e.clientY)return;const t=e.target.closest(".suggestedItem");t.classList.contains("selected")||S(t.dataset.index),o=e.clientX,r=e.clientY}function b(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".suggestedItem");c(u[t.dataset.index])}function S(e){d=e;const t=s.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");const n=s.querySelector(`.suggestedItem[data-index="${d}"]`);n&&(n.classList.add("selected"),Object(i.scrollIfNecessary)(n))}},function(e,t,n){"use strict";n.r(t);var i=n(290),o=n(271),r=n.n(o);function a(e={}){if(!e.bid){const{barrelId:t}=r.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=r.a.BarrelStore.getState();e.barrelType=t}return e}const s={init(e){const{barrelType:t,bid:n,enabledExtensions:o}=a(e);r.a.dispatcher.dispatch({type:i.default.INIT,barrelType:t,bid:n,enabledExtensions:o})},loadExtensions(e){const{bid:t,extensions:n,enabledExtensions:o}=a(e);r.a.dispatcher.dispatch({type:i.default.LOAD_EXTENSIONS,bid:t,extensions:n,enabledExtensions:o})},updateOption(e,t,n){r.a.dispatcher.dispatch({type:i.default.UPDATE_OPTION,eid:e,name:t,value:n})},load(e){const{barrelType:t,bid:n,eid:o,uid:s,local:l=!1}=a(e),{barrelId:c}=r.a.BarrelStore.getState();n===c&&r.a.dispatcher.dispatch({type:i.default.LOAD,barrelType:t,bid:n,eid:o,uid:s,local:l,syncWithApi:!0})},reload(){r.a.dispatcher.dispatch({type:i.default.RELOAD})},openSettings(e){r.a.dispatcher.dispatch({type:i.default.OPEN_SETTINGS,extensionId:e})},closeSettings(){r.a.dispatcher.dispatch({type:i.default.CLOSE_SETTINGS})},add(e){const{barrelType:t,bid:n,uid:o,extension:s,local:l=!1}=a(e),{userId:c}=r.a.UserStore.getState(),d=o===c;r.a.dispatcher.dispatch({type:i.default.ADD,barrelType:t,bid:n,extension:s,openSettings:d,local:l})},enable(e){const{bid:t,eid:n}=a(e);r.a.dispatcher.dispatch({type:i.default.ENABLE,bid:t,eid:n})},disable(e){const{bid:t,eid:n}=a(e);r.a.dispatcher.dispatch({type:i.default.DISABLE,bid:t,eid:n})},remove(e){const{bid:t,barrelType:n,eid:o,local:s=!1,syncWithApi:l=!1}=a(e),{barrelId:c}=r.a.BarrelStore.getState();if(t!==c)return;const{extensions:d}=r.a.ExtensionsStore.getState(),u=d.find(e=>e.id===o);r.a.dispatcher.dispatch({type:i.default.REMOVE,bid:t,barrelType:n,eid:o,removedExtension:u,local:s,syncWithApi:l})}};t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1306);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(399),l=n(420),c=n(229);n(1307);const d={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function u(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return d[t][e]}class p extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContentRef=this.handleContentRef.bind(this);const{initialWidth:t,minWidth:n,collapsible:i,collapsed:o}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i&&o,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:o,collapsible:r}=this.props,{clientWidth:a}=this.nodeRefs.base;let s;s=e||!r&&a===i?"left"===o?"west":"east":Math.floor(t)>a?"right"===o?"west":"east":a!==i&&Math.floor(t)===a&&"resize"!==n?n:"resize",s!==n&&(document.body.dataset.resizeCursor=s,this.setState({cursorType:s}))}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleContentRef(e){this.props.contentRef&&this.props.contentRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,collapsible:o,onCollapse:r,onExpand:a}=this.props,{collapsed:s}=this.state,{left:l,right:c}=t.getBoundingClientRect(),d=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;if(!d)return;const u="right"===i?d-l:c-d,p=o&&u<n/2,h=Math.max(u,n);this.setState({collapsed:p,width:h}),!s&&p&&r?r():s&&!p&&a&&a()})}handleMouseUp(e){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(u("move"),this.handleMouseMove),document.addEventListener(u("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(u("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(u("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:o}=this.state,{children:r,class:c,resizingSide:d="left",compact:u,minWidth:p,paddingBottom:h,noScroll:f,onClick:g}=this.props,m={},b=Object(s.default)("sidebar",c,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(m,{minWidth:p?p+"px":"",width:n?n+"px":"",paddingBottom:h?h+"px":""}),i.h("div",{class:b,style:m,onClick:g,ref:this.handleBaseRef},i.h("div",{class:Object(s.default)("content",{noScroll:f}),ref:this.handleContentRef},i.toChildArray(r)),i.h("div",{class:Object(s.default)("resizer","cursor"+o),ref:Object(l.default)(this,"resizer")},i.h(a.IconMoveHandle,{color:"var(--gandalf)"})))}}p.Loading=()=>i.h("div",{class:"sidebar loading"}),p.propTypes={children:r.a.node,class:r.a.string,compact:r.a.bool,collapsible:r.a.bool,collapsed:r.a.bool,initialWidth:r.a.number,minWidth:r.a.number,resizingSide:r.a.oneOf(["left","right"]),noScroll:r.a.bool,onRelease:r.a.func,onResize:r.a.func,onCollapse:r.a.func,onExpand:r.a.func},p.defaultProps={collapsible:!0,collapsed:Object(c.isMobileViewport)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1309);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(399);n(1310);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),a(this,"state",{value:this.props.value,editing:!1,originalValue:this.props.value}),a(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}),a(this,"handleMouseDown",()=>{this.setState({editing:!0})}),a(this,"handleInput",e=>{this.setState({editing:!0,value:e.target.value})}),a(this,"handleBlur",()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)})}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:Object(r.default)("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(o.default)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(o.default)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1312);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(365)),a=i(n(271)),s=i(n(263)),l=i(n(1313)),c=i(n(513)),d=n(245);var u;n(1316),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready"}(u||(u={}));class p extends o.Component{static calculateState(){const{barrelType:e,barrelId:t}=a.default.BarrelStore.getState(),n=r.default.getOrganization();if(e!==s.default.PROJECT||!t||!n)return{status:u.None};const i=t,o=n.sections.find(({projects:e})=>e.includes(i));if(!o)return{status:u.Loading};if(n.sections[0]===o)return{status:u.None};const{projects:l}=a.default.ProjectsDataStore.getState(),{_id:c,name:p,projects:h,links:f}=o,g=h.map(e=>l[e]).filter(e=>e&&"archived"!==e.status).map(e=>Object.assign(Object.assign({},e),{url:d.urlResolve("project",{url:{bid:e.id}})})),{_id:m}=n,b=d.urlResolve("workspace-projects",{url:{oid:m},query:{seid:c}});return{status:u.Ready,name:p,pid:i,projects:g,organizationUrl:b,links:f}}static getStores(){return[a.default.OrganizationStore,a.default.BarrelStore,a.default.ProjectsDataStore]}render(){if(this.state.status===u.None)return null;if(this.state.status===u.Loading)return o.h("div",{class:"sectionNavigationLoading"},"Loading Section Name…");const{name:e,pid:t,projects:n,organizationUrl:i,links:r}=this.state;return o.h(l.default,{sectionName:e,pid:t,projects:n,organizationUrl:i,links:r})}}t.default=c.default(p)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1314);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=n(442),s=i(n(519)),l=i(n(1028)),c=i(n(399)),d=n(252),u=n(1046),p=n(232);n(1315);t.default=function({sectionName:e,pid:t,projects:n,organizationUrl:i,links:h}){const[f,g]=r.useState(!1),m=r.useRef(),b=r.useRef();function S(){g(!1)}return o.h("div",{class:"sectionNavigation"},o.h("div",{class:"info ellipsis",title:e},e),o.h("div",null,o.h("button",{type:"button",class:c.default("menuButton",{active:f}),ref:m,onClick:function(){g(!0)}},o.h(a.IconArrowDown,{width:10})),f&&o.h(s.default,{didRender:function(e){const t=m.current.getBoundingClientRect(),n=b.current,i=n.getBoundingClientRect(),o=e.getBoundingClientRect(),r=t.bottom+5,a=t.right-o.width;let s;s=r+o.height+8>window.innerHeight?window.innerHeight-o.height-8:r,s<8&&(n.style.maxHeight=i.height+s-8+"px",s=8),e.style.transform=`translate3d(${a}px, ${s}px, 0)`}},o.h(l.default,{class:"sectionNavigationMenu",onClose:S,edgeOffset:8},o.h("div",{class:"projectContainer",ref:b},n.map(({id:e,name:n,type:i,url:r})=>o.h("a",{key:e,href:r,"data-link-type":"inApp",onClick:n=>function(e,n){n!==t&&mixpanel.master.track("Navigated to project",{Source:"Project dashboard"}),e.stopPropagation()}(n,e)},o.h("span",{class:"projectNameAndType ellipsis",title:n},o.h("span",{class:"projectName ellipsis"},n),", ",o.h("span",{class:"projectType"},p.PlatformString[i])),o.h("img",{style:{visibility:e===t?"visible":"hidden"},class:"sectionNavigationActiveProject",src:d.imageUrl("img/icMenuCheck.svg"),alt:"&check;"})))),o.h("div",{class:"optionsSeparator"}),o.h("a",{href:i,"data-link-type":"inApp"},"Go to Section"),h.length&&o.h(l.default.Submenu,{submenuClass:"linksMenu",name:"Links"},h.map(({_id:e,title:t,url:n})=>o.h("a",{class:"sectionLink",key:e,href:n,target:"_blank",rel:"noopener",onClick:e=>function(e,t){mixpanel.master.track("Clicked project section link",{Source:"Project dashboard",Type:u.getLinkType(t)}),S(),e.stopPropagation()}(e,n)},o.cloneElement(u.getLinkIcon(n),{width:16,height:16}),o.h("span",null,t))))))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1318);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(1319),l=n(379),c=n(364),d=n(271),u=n.n(d),p=n(1331),h=n.n(p),f=n(513),g=n.n(f);n(1332);class m extends a.default{static calculateState(e,t){const{barrelId:n}=t,{loading:i,barrelType:o}=u.a.BarrelStore.getState();if(i)return{loading:i};const r=c.default.getBarrel({bid:n}),a=c.default.findUser(),{channels:s,loading:l}=u.a.TeamsIntegrationStore.getState();return{barrelType:o,barrel:r,barrelUser:a,teamsChannels:s,teamsChannelsLoading:l}}static getStores(){return[u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore,u.a.UserStore,u.a.TeamsIntegrationStore]}render(){const{showConfigurationButtons:e}=this.props,{barrel:t,barrelUser:n,loading:o,teamsChannels:r,teamsChannelsLoading:a}=this.state;return o?null:i.h(s.default,{barrel:t,barrelUser:n,teamsChannels:r,teamsChannelsLoading:a,showConfigurationButtons:e,onAddToSlack:l.default.addToSlack,onRemoveIntegration:l.default.removeIntegration,onOpenSlackPreferences:h.a.open})}}m.propTypes={barrelId:r.a.string.isRequired,showConfigurationButtons:r.a.bool},t.default=g()(m,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1320);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(1321),l=n(1324),c=n(519),d=n(1028),u=n(619),p=n(404),h=n(1327),f=n(997),g=n(999),m=n(442),b=n(248),S=n(247),y=n(923),v=n(420),C=n(399),O=n(233);n(1330);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T="SLACK",_="JIRA",P="TEAMS",j="TRELLO";class D extends a.default{constructor(...e){super(...e),E(this,"state",{isMenuOpen:!1}),E(this,"handlePortalDidRender",e=>{const t=this.nodeRefs.settingsButton.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top-12,o=t.left-n.width+12;let r=o,a=i;o+n.width+12>window.innerWidth&&(r=window.innerWidth-n.width-12),i<12?a=12:i+n.height+12>window.innerHeight&&(a=window.innerHeight-n.height-12),e.style.transform=`translate3d(${r}px, ${a}px, 0)`}),E(this,"handleMenuOpen",()=>{this.setState({isMenuOpen:!0})}),E(this,"handleMenuClose",()=>{this.setState({isMenuOpen:!1})}),E(this,"handleIntegrateWithJira",()=>{Object(S.openLink)(O.INTEGRATION_JIRA_URL)}),E(this,"handleIntegrateWithTeams",()=>{Object(S.openLink)(O.INTEGRATION_TEAMS_URL)}),E(this,"handleIntegrateWithTrello",()=>{Object(S.openLink)(O.INTEGRATION_TRELLO_URL)}),E(this,"handleRemoveIntegration",(e,t)=>{this.props.onRemoveIntegration({intype:e,inid:t,syncWithApi:!0})}),E(this,"handleMenuChange",(e,t)=>{const{onAddToSlack:n}=this.props;switch(t){case T:n();break;case _:this.handleIntegrateWithJira();break;case P:this.handleIntegrateWithTeams();break;case j:this.handleIntegrateWithTrello()}})}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get hasAnyJiraAttachment(){return(this.jiraIntegration&&this.jiraIntegration.attachments||[]).some(({type:e})=>"project"===e)}get hasAnyIntegration(){const{teamsChannels:e}=this.props;return Boolean(this.slackChannels)||this.hasAnyJiraAttachment||Boolean(e.length)}get canUpdateBarrel(){return b.permissions.canUpdateProject(this.props.barrelUser)}renderLoadingOrEmptyState(){return this.props.teamsChannelsLoading?i.h("div",{class:"integrationsLoadingState"},"…"):this.renderEmptyState()}renderEmptyState(){const{barrelUser:e,onAddToSlack:t}=this.props;return i.h("div",{class:"integrationsEmptyState"},i.h("p",{class:"integrationsEmptyStateText"},"Connect to tools you use everyday; like ",i.h("strong",null,"Slack"),", ",i.h("strong",null,"Jira"),", ",i.h("strong",null,"Microsoft Teams")," and ",i.h("strong",null,"Trello"),"."),i.h("div",{class:"integrationsEmptyStateIcons"},i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Slack":Object(y.default)(e.role,"add projects to Slack")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:t,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconSlack,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Jira":Object(y.default)(e.role,"connect projects to Jira")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithJira,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconJira,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Microsoft Teams":Object(y.default)(e.role,"add projects to Microsoft Teams")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTeams,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTeams,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Trello":Object(y.default)(e.role,"connect projects to Trello")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTrello,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTrello,null)))))}renderIntegrationsList(){const{barrel:e,barrelUser:t,teamsChannels:n,showConfigurationButtons:o,onAddToSlack:r,onOpenSlackPreferences:a}=this.props;return i.h("div",{class:"integrationsList"},this.slackChannels&&this.slackChannels.map(e=>i.h(h.default,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:o,onAddAnother:r,onOpenPreferences:a,onRemove:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel})),i.h(f.default,{items:[{itemType:"project",itemId:e._id,label:"Attached to "}]}),n.map(e=>i.h(g.default,{key:e.id,class:"teamsChannelIntegrationInfo",logo:i.h(m.IconTeams,null),description:"Connected to ",text:e.name,href:e.url})))}renderMenu(){return i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"integrationsMenu",onClose:this.handleMenuClose,onChange:this.handleMenuChange},i.h(d.default.Button,{name:T},i.h(m.IconSlack,{color:"var(--teflon)"}),i.h("span",null,this.slackChannels?"Add another…":"Add to Slack")),!this.hasAnyJiraAttachment&&i.h(d.default.Button,{name:_},i.h(m.IconJira,{color:"var(--teflon)"}),i.h("span",null,"Connect to Jira")),i.h(d.default.Button,{name:P},i.h(m.IconTeams,{color:"var(--teflon)"}),i.h("span",null,"Add to Microsoft Teams")),i.h(d.default.Button,{name:j},i.h(m.IconTrello,{color:"var(--teflon)"}),i.h("span",null,"Connect to Trello"))))}render(){const{barrelUser:e}=this.props,{isMenuOpen:t}=this.state;let n=i.h(l.default,{baseRef:Object(v.default)(this,"settingsButton"),class:Object(C.default)({active:t}),icon:m.IconPlusWithCircle,disabled:!this.canUpdateBarrel,onClick:this.handleMenuOpen});return this.canUpdateBarrel||(n=i.h(u.default,{content:Object(y.default)(e.role,"add integrations to project.")},n)),i.h("div",{class:"integrationsContainer"},i.h(s.default,{title:"Integrations",button:n}),this.hasAnyIntegration?this.renderIntegrationsList():this.renderLoadingOrEmptyState(),t&&this.renderMenu())}}D.propTypes={barrel:r.a.object.isRequired,barrelUser:r.a.object.isRequired,teamsChannels:r.a.array.isRequired,teamsChannelsLoading:r.a.bool,showConfigurationButtons:r.a.bool,onAddToSlack:r.a.func.isRequired,onRemoveIntegration:r.a.func.isRequired,onOpenSlackPreferences:r.a.func.isRequired},t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1322);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1323);t.default=function({class:e,title:t,button:n}){return i.h("div",{class:Object(o.default)("barrelSidebarSubtitle",e)},i.h("div",{class:"title noSelect"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1325);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(399);n(1326);function l(e){const{class:t,icon:n,disabled:o,onClick:r,baseRef:a,children:l}=e;return i.h("button",{type:"button",class:Object(s.default)("sidebarSettingsButton",t),disabled:o,onClick:r,ref:a},i.h(n,{color:o?"#C1BEC1":"#554D56"}),l)}l.propTypes={class:r.a.string,icon:r.a.node,disabled:r.a.bool,onClick:r.a.func,baseRef:r.a.object,children:r.a.node},l.defaultProps={icon:a.IconSettings},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1328);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(923),r=n(247),a=n(558),s=n(1324),l=n(880),c=n(399),d=n(619),u=n(442),p=n(999);n(1329);class h extends a.default{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(r.openLink)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(l.default,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(l.default.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(l.default.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(l.default.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(l.default.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(s.default,{class:Object(c.default)({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(d.default,{content:Object(o.default)(e.role,"update Slack integration.")},i.h(s.default,{disabled:!0}))}render(){const{showConfigurationButton:e,channel:{incomingWebHook:{configurationURL:t,channelId:n,channel:o}}}=this.props,r=new URL(t);return r.pathname="/messages/"+(n||o.replace("#","")),i.h("div",{class:"slackChannelContainer"},i.h(p.default,{class:"slackChannel",logo:i.h(u.IconSlack,null),description:"Connected to ",text:o,href:r.toString()}),e&&this.renderSlackChannelConfigurationButton())}}t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(342)),r=i(n(271)),a={init(){r.default.dispatcher.dispatch({type:o.default.INIT})},load(e,t){r.default.dispatcher.dispatch({type:o.default.LOAD,inid:e,events:t,barrelType:r.default.BarrelStore.getState().barrelType})},open(e,t){r.default.dispatcher.dispatch({type:o.default.OPEN,inid:e,channelName:t})},close(){r.default.dispatcher.dispatch({type:o.default.CLOSE})},updateEventGroup(e,t){r.default.dispatcher.dispatch({type:o.default.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){r.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){r.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:a}=r.default.BarrelStore.getState();"slacks"===t&&e===a&&r.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:a}=r.default.BarrelStore.getState();"slacks"===t&&e===a&&r.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!1})}};t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1334);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1335);t.default=function(e){const{class:t}=e;return i.h("div",{class:Object(o.default)("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1337);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(399),l=n(420),c=n(248),d=n(229),u=n(1010),p=n(628),h=n(1338),f=n.n(h),g=n(1341),m=n.n(g),b=n(364),S=n(365),y=(n(1344),n(247));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=/:(\S+?):/g;class T extends a.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenEmojiListOpen=this.handleKeyDownWhenEmojiListOpen.bind(this),this.handleKeyDownWhenUserListOpen=this.handleKeyDownWhenUserListOpen.bind(this),this.handleKeyDownEmojiListActions=Object(c.debounce)(this.handleKeyDownEmojiListActions).bind(this),this.handleKeyDownUserListActions=Object(c.debounce)(this.handleKeyDownUserListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleSelectUser=this.handleSelectUser.bind(this),this.handleEmojiMouseOver=this.handleEmojiMouseOver.bind(this),this.handleUserMouseOver=this.handleUserMouseOver.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleUserClick=this.handleUserClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.changeSuggestedUsers=this.changeSuggestedUsers.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],suggestionListTop:0,suggestionListAbsoluteTop:0,suggestionListFallbackBottom:0,autoCompletedEmoji:!1,selectedUserIndex:0,suggestedUsers:[],autoCompletedUser:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;t&&t(),this.setState({editing:!1,value:e},()=>{this.nodeRefs.textArea.blur()})}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,o=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),r=n.substring(t,i+1).match(E);return r&&p.default.searchEmoji(r[0].substring(1,r[0].length-1))?[]:p.default.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(o!==t){const e=Math.max(0,Math.min(n,o.length-1));this.setState(C({suggestedEmojis:o,selectedEmojiIndex:e},this.getSuggestionPositions()))}}changeSuggestedUsers(){const{value:e,suggestedUsers:t,selectedUserIndex:n}=this.state,{textArea:i}=this.nodeRefs,{pid:o}=this.props,r=function(e,t,n){const i=e.lastIndexOf("@",n);if(-1===i)return[];const o=e.substring(i+1,n).toLowerCase(),r=b.default.getBarrel({bid:t}),a=S.default.getOrganization(null,{pid:t});if(!r)return[];const{users:s}=r,l=[{_id:"everyone",name:"everyone",self:!1,description:"Notify all project members",groupDataType:r.icon.type,group:!0}];return a&&l.push({_id:"organization",name:"organization",icon:a.logo,self:!1,description:"Notify all workspace members",groupDataType:a.logo?null:"organizationPlaceholder",group:!0}),o&&l.push({_id:"project",name:"project",self:!1,description:"Notify all project members",groupDataType:r.icon.type,group:!0}),[...l.filter(({name:e})=>e.toLowerCase().startsWith(o)),...s.filter(({user:{status:e,username:t,fullName:n,_id:i}})=>"invited"!==e&&("me"===o&&Zeplin.user._id===i||t.toLowerCase().startsWith(o)||n&&n.toLowerCase().startsWith(o))).map(({user:e,user:{username:t,email:n,_id:i}})=>({_id:i,name:t||n,icon:Object(y.getUserAvatar)(e).src,self:Zeplin.user._id===i}))]}(e,o,i.selectionStart),a=Math.max(0,Math.min(t.length?n:r.findIndex(({group:e})=>!e),r.length-1));this.setState(C({suggestedUsers:r,selectedUserIndex:a},this.getSuggestionPositions()))}getSuggestionPositions(){const{textAreaMirror:e,textArea:t,base:n}=this.nodeRefs,i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),r=n.getBoundingClientRect(),a=Math.min(i.bottom,o.bottom);return{suggestionListTop:a-r.top,suggestionListAbsoluteTop:a,suggestionListFallbackBottom:i.top}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&Object(d.getBrowser)()===d.BROWSER.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{onSubmit:e,resetOnSubmit:t}=this.props,{value:n,originalValue:i}=this.state;if(n===i)this.cancelEdit();else{const o={editing:!1,originalValue:n};t&&(o.value=i),this.setState(o),e(n)}}handleSubmit(){const{submitOnBlur:e,onSubmit:t}=this.props;!e&&t&&this.submit(),this.nodeRefs.textArea.blur()}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props;e&&t&&this.submit()}handleButtonClick(){const{readOnly:e}=this.props;e||this.handleSubmit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1,autoCompletedUser:!1})}handleKeyDown(e){const{readOnly:t}=this.props;if(t)return;if(this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length)return void this.handleKeyDownWhenEmojiListOpen(e);this.props.showUserAutoComplete&&this.state.editing&&0!==this.state.suggestedUsers.length?this.handleKeyDownWhenUserListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.handleSubmit())}handleKeyDownEmojiListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownUserListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedUsers:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectUser();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedUserIndex>=e.suggestedUsers.length-1?{selectedUserIndex:e.suggestedUsers.length-1}:{selectedUserIndex:e.selectedUserIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedUserIndex<=0?{selectedUserIndex:0}:{selectedUserIndex:e.selectedUserIndex-1})}}handleKeyDownWhenEmojiListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownEmojiListActions(e)}handleKeyDownWhenUserListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownUserListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||(this.props.showEmojiAutoComplete&&this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis),this.props.showUserAutoComplete&&this.setState({autoCompletedUser:!1},this.changeSuggestedUsers))}handleEmojiClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleUserClick(e,t){this.setState({selectedUserIndex:e},this.handleSelectUser)}handleEmojiMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleUserMouseOver(e,t){this.setState({selectedUserIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],o=this.nodeRefs.textArea.selectionStart,r=n.substring(0,o).lastIndexOf(":"),a=i.formattedAlias,s=`${n.substring(0,r)}:${a}: ${n.substring(o)}`,l=r+a.length+3;this.setState({value:s,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleSelectUser(){const{suggestedUsers:e,selectedUserIndex:t,value:n}=this.state,{name:i}=e[t],o=this.nodeRefs.textArea.selectionStart,r=n.lastIndexOf("@",o),a=`${n.substring(0,r+1)}${i} ${n.substring(o)}`,s=r+i.length+2;this.setState({value:a,autoCompletedUser:!0,suggestedUsers:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(s,s)})}handleTextAreaClick(){this.state.editing&&(this.changeSuggestedEmojis(),this.changeSuggestedUsers())}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:o,autoCompletedUser:r}=this.state,{showEmojiAutoComplete:a,showUserAutoComplete:s}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),a&&!o&&i!==t.value&&this.changeSuggestedEmojis(),s&&!r&&i!==t.value&&this.changeSuggestedUsers()}render(){const{autoEdit:e,containerClass:t,class:n,color:o,formatter:r,placeholder:a="",showEmojiAutoComplete:c,showUserAutoComplete:p}=this.props,{editing:h,value:g,suggestionListTop:b,suggestionListAbsoluteTop:S,suggestionListFallbackBottom:y,suggestedEmojis:v,selectedEmojiIndex:C,suggestedUsers:O,selectedUserIndex:E}=this.state,T=r?r(g):g,{maxLength:_}=this,P=Object(d.getOS)()===d.OS.MAC?"⌘⏎":"Ctrl+⏎",j=Object(s.default)("shortcut",{[Object(d.getOS)()]:!0});return i.h("div",{ref:Object(l.default)(this,"base"),class:Object(s.default)("textAreaContainer",t)},i.h("div",{class:Object(s.default)("textArea",n,{editing:h},o)},i.h("div",{class:Object(s.default)("formattedContent",{placeholder:a&&!g}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:T||a}}),i.h("div",{class:"editor"},i.h("div",{ref:Object(l.default)(this,"textAreaMirror"),class:"mirror"},g," "),i.h("textarea",{ref:Object(l.default)(this,"textArea"),value:g,spellcheck:"false",placeholder:a,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.h("div",{class:"controls",tabIndex:"-1"},i.h("div",{class:"counter"},_>-1&&_-g.length),i.h("button",{type:"button",class:"submit",ref:Object(l.default)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"label"},"Done"),i.h("span",{class:j},P)))),i.h(m.a,{tabIndex:"-1",offsetTop:b,preferredAbsoluteTop:S,fallbackAbsoluteBottom:y},c&&h&&0!==v.length&&i.h(u.default,{class:"emojiAutoCompleteListContainer",onItemClick:this.handleEmojiClick,onItemMouseOver:this.handleEmojiMouseOver,suggestedEmojis:v,selectedIndex:C}),p&&h&&0!==O.length&&i.h(f.a,{class:"userAutoCompleteListContainer",onItemClick:this.handleUserClick,onItemMouseOver:this.handleUserMouseOver,suggestedUsers:O,selectedIndex:E})))}}T.propTypes={autoEdit:r.a.bool,value:r.a.string,containerClass:r.a.string,class:r.a.string,color:r.a.oneOf(["yellow","orange","peach","green","turquoise","lightOrange"]),editing:r.a.bool,maxLength:r.a.number,placeholder:r.a.string,readOnly:r.a.bool,submitOnBlur:r.a.bool,onSubmit:r.a.func,resetOnSubmit:r.a.func,onCancelEdit:r.a.func,formatter:r.a.func,showEmojiAutoComplete:r.a.bool,showUserAutoComplete:r.a.bool,pid:r.a.string},T.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onSubmit:null,resetOnSubmit:!1,onCancelEdit:null,showEmojiAutoComplete:!1,showUserAutoComplete:!1,pid:null},t.default=T},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1339));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399)),a=i(n(1012));function s(e){const{name:t,self:n,description:i,icon:a,groupDataType:s,selected:l,onClick:c,onMouseOver:d,listRef:u}=e;return o.h("div",{class:r.default({selected:l},"userItem"),onMouseOver:d,onClick:c,ref:u},a&&o.h("img",{class:"userImg",src:a}),!a&&o.h("img",{class:"userImg","data-type":s}),o.h("div",{class:"userInfo"},o.h("span",{class:r.default({self:n},"userName","ellipsis")},t),i&&o.h("span",{class:"userDescription ellipsis"},i)))}n(1340),t.default=function({suggestedUsers:e,selectedIndex:t,onItemClick:n,onItemMouseOver:i,class:l}){return o.h(a.default,{class:r.default("userAutoCompleteList",l),options:e,keyProp:"_id",selectedIndex:t,onItemMouseOver:i,onItemClick:n,RowComponent:s})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1342);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(522);n(1343),t.default=function({tabIndex:e,offsetTop:t=0,preferredAbsoluteTop:n,fallbackAbsoluteBottom:r,children:a}){const s=o.useRef(),[l,c]=o.useState(t);return o.useLayoutEffect(()=>{const e=s.current.clientHeight,i=window.innerHeight-n>=e;c(t+(i?0:r-n-e))}),i.h("div",{ref:s,class:"absolutePositionedItemHolder",tabIndex:e,style:{top:l}},a)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1346);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o),a=n(247),s=n(420);n(1347);function l(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending… ("+e.user.email+")"}class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(a.getUserAvatar)(e.user,{ignoreRandomEmotar:!1,size:30});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(r.a,{src:n,srcset:o,title:t,size:30}))}}class d extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-24)/38);if(0===i)return;let o;o=e.length>i?i-1:e.length,o!==t&&this.setState({nrOfAvatarsDisplayed:o})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:o}=this.props;if(0===t)return null;const r=n.length-t;if(r){const a=n.slice(t).map(t=>l(t,e)).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:o,title:a},"+",r)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:o}=this.props,r=t.find(e=>e.user._id===n.user._id).role;return i.h("div",{class:"membersPreview",ref:Object(s.default)(this,"base")},t.slice(0,e).map(e=>i.h(c,{key:e.user._id,onClick:o,member:e,title:l(e,r)})),this.renderRemainingMembers(r))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1349);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1299),r=n(248),a=n(245),s=n(420),l=n(404),c=n(1321),d=n(1350),u=n(1353),p=n(766);n(1355);function h(e){const t=Object(r.getUserRoleString)(e);return"king"===e||"owner"===e?t:t+"s"}const f={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};class g extends i.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},f),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(r.debounce)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(f)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},f,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},f,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},f,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,r=t.top>=n.top,a=i||r;if(!o.anchor.classList.toggle("hidden",a)){const e=n.top-t.top;o.anchor.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;o.element.style.transform="";const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let r;if(i>0?r=Math.max(t.top-i,60):t.top<60&&(r=60),r){const e=r-n.top- -52;o.element.style.transform=`translate3d(0, ${e}px, 0)`}const a=n.right+t.width+24>window.innerWidth;o.element.classList.toggle("left",a),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:r}=this.props,{membersDialog:a}=this.nodeRefs;o.show({bt:e,popupContainer:a,bid:t,members:n,oid:"pawn"===i.role?"user":r}),this.setInvitePopupPosition(),a.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),a.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Members dialog"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),o.dismiss()}toggleInvitePopup(e){e.stopPropagation(),o.isHidden()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:o}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||o?this.setState(f):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!o.isHidden())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),o.isHidden()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.closeInvitePopup()}renderHeader(){return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),i.h(l.default,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:o}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(a.urlResolve)("workspace-members",{url:{oid:o}})},"visit the workspace dashboard"),".");const r=t.find(e=>"owner"===e.role);return r&&"free"===r.user.paymentPlan?r.user._id===e.user._id?i.h("div",{class:"upgradeNow"},i.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.h(l.default,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade")):i.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",r.user.username," to upgrade their plan and allow members to upload designs!"):void 0}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:o}=this.state,a=t.reduce((t,a)=>{const s=i.h(d.default,{key:a.user._id,member:a,showOptionsButton:"owner"!==a.role&&r.permissions.isSuperior(e,a,!0),memberOptionsOpen:!!o&&o.user._id===a.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===a.user._id});return t.has(a.role)?t.get(a.role).push(s):t.set(a.role,[s]),t},new Map),s=[];for(let[r,l]of a)s.push(i.h("div",{key:r+"Rows",class:"roleGroup"},i.h(c.default,{class:"roleTitle",key:r,title:h(r)}),l));return i.h("div",{class:"members"},s)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:o,onUnassignAdmin:a}=this.props,{memberOptionsMenuOpenFor:s,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.h(u.default,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:s,canAssignAdmin:!n&&"user"!==e.role&&"user"===s.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===s.role,canTransferOwnership:!n&&r.permissions.canTransferOwnership(e),canRemoveFromProject:s.user._id!==e.user._id&&r.permissions.isSuperior(e,s,!0),canLeaveProject:s.user._id===e.user._id,onAssignAdmin:o,onUnassignAdmin:a,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(p.BasicOverlayDialog,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(p.BasicOverlayDialog,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(p.BasicOverlayDialog,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:o}=this.state;return i.h("div",{class:"membersDialog",ref:Object(s.default)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),o&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1351);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(247),r=n(527),a=n.n(r),s=n(615),l=n(442),c=n(399),d=n(420);n(1352);class u extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(o.scrollIfNecessary)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:r,srcset:u}=Object(o.getUserAvatar)(e,{ignoreRandomEmotar:!1,size:30}),{_id:p,username:h,fullName:f}=e,g=f?`${f} (${h})`:h;return i.h("div",{class:"memberRow",ref:Object(d.default)(this,"memberRow")},i.h(s.default,{userId:p},i.h(a.a,{class:"memberRowAvatar",src:r,srcset:u,size:30})),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"memberRowMainInfo ellipsis",title:e.email},e.email),i.h("div",{class:"memberRowSubInfo"},"pending invitation")):i.h("div",{class:"info"},i.h(s.default,{class:"memberRowNameUserProfileCardPopoverContainer",userId:p,openToLeft:!1},i.h("div",{class:"memberRowMainInfo ellipsis",title:g},g)),i.h("div",{class:"memberRowSubInfo ellipsis",title:e.email},e.email)),n&&i.h("button",{class:Object(c.default)("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(l.IconMenu,null)))}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1354);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880);class r extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,menuContainer:t,clickOrigin:n,canAssignAdmin:r,canUnassignAdmin:a,canTransferOwnership:s,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(o.default.withAutoPosition,{class:u,onClose:d,autoPosition:{menuContainer:t,clickOrigin:n}},r&&i.h(o.default.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),a&&i.h(o.default.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),s&&i.h(o.default.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(o.default.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(o.default.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1357);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1358)),s=i(n(545)),l=i(n(404));n(1364);const c=n(976);t.default=function({popoverOpen:e,onPopoverOpen:t,onPopoverClose:n,barrelType:i,webURL:d,sceneURL:u,appURI:p,onEnableScene:h,onUnshare:f,canUserChangeBarrelAccesibility:g}){r.useEffect(()=>{c.fetchShortlink(d),u&&c.fetchShortlink(u)},[]);const m=o.h(a.default,{barrelType:i,webURL:d,sceneURL:u,appURI:p,canChangeProjectAccesibility:g,onEnableScene:h,onUnshare:f});return o.h("div",{class:"shareButtonContainer"},o.h(s.default,{open:e,onOpen:t,onClose:n,content:m,left:12,centerY:!0,faceTop:!0,showAnchor:!0},o.h(l.default,{class:"shareButton",primary:!0},"Share")))}},function(e,t,n){"use strict";n.r(t);var i=n(1359);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(247),s=n(263),l=n.n(s),c=n(976),d=n(249),u=n(404),p=n(1333),h=n(1360);n(1363);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=Object.freeze({WEB:"Web",APP:"App"});function m(e){const{type:t,link:n,onCopy:o}=e;let r;if(t===g.WEB){const e=new URL(n);r=e.host+e.pathname}else r=n;return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},r),t===g.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(u.default,{class:"copyButton",onClick:o,primary:!0,disabled:!n},"Copy"))}function b(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}class S extends i.Component{constructor(...e){super(...e),f(this,"state",{sceneOptionsOpen:!1}),f(this,"openSceneOptions",()=>{this.setState({sceneOptionsOpen:!0})}),f(this,"closeSceneOptions",()=>{this.setState({sceneOptionsOpen:!1})}),f(this,"handleCopyWebURL",()=>{const{webURL:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(a.copyContent)({content:Object(c.getShortlink)(e),toastContainer:n}),mixpanel.master.track("Copied web link",{Target:Object(d.uppercaseFirst)(t),Source:"Inspector"})}),f(this,"handleCopyAppURI",()=>{const{appURI:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(a.copyContent)({content:e,toastContainer:n}),mixpanel.master.track("Copied app URI",{Target:Object(d.uppercaseFirst)(t),Source:"Inspector"})}),f(this,"handleCopySceneURL",e=>{e.stopPropagation();const{sceneURL:t}=this.props,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(a.copyContent)({content:Object(c.getShortlink)(t),toastContainer:n}),mixpanel.master.track("Copied scene link")}),f(this,"handleUnshare",e=>{e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()})}renderSceneSection(){const{barrelType:e,sceneURL:t,canChangeProjectAccesibility:n,onEnableScene:o}=this.props;if(e===l.a.STYLEGUIDE)return null;const{sceneOptionsOpen:r}=this.state;return i.h(i.Fragment,null,i.h(p.default,{class:"shareBarrelSeparator"}),i.h(b,{title:"Scene",explanation:"Everyone with the link"}),i.h(h.default,{optionsOpen:r,canChangeProjectAccesibility:n,sceneURL:t,onEnable:o,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions}))}render(){const{webURL:e,appURI:t}=this.props,{sceneOptionsOpen:n}=this.state,a=Object(c.getShortlink)(e);return i.h("div",{class:"shareBarrel"},i.h("div",{class:Object(o.default)("content",{sceneOptionsOpen:n}),ref:Object(r.default)(this,"content")},i.h(b,{title:"Share link",explanation:"Invited members only"}),i.h(m,{type:g.WEB,link:a,onCopy:this.handleCopyWebURL}),i.h(m,{type:g.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1361);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(880),a=n(442);n(1362);t.default=function(e){const{onEnable:t,sceneURL:n,canChangeProjectAccesibility:s,optionsOpen:l,onOptionsOpen:c,onOptionsClose:d,onCopySceneURL:u,onUnshare:p}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),n?i.h(i.Fragment,null,i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:n,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(a.IconMenu,null)),l?i.h(r.default,{class:"sceneOptions",onClose:d},i.h(r.default.Item,{onClick:u},"Copy link"),s&&i.h(r.default.Item,{onClick:p},"Unshare")):null):i.h(o.default,{class:"enableScene",onClick:t,disabled:!s,secondary:!0},"Enable"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1366);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(766),s=n(807),l=n.n(s),c=n(252),d=n(420),u=n(248),p=n(232);n(1367);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||p.DENSITY.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t,onClose:n}=this.props;t(e),n()}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(d.default)(this,"tooltip"),onClick:u.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:!e||e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXHDPI,onClick:this.handleChange,value:p.DENSITY.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXXHDPI,onClick:this.handleChange,value:p.DENSITY.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._3x,onClick:this.handleChange,value:p.DENSITY._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg")}),"What I need to choose?"))},i.h("div",{ref:Object(d.default)(this,"base"),class:"densityDialogBody"},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(c.imageUrl)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}h.propTypes={type:r.a.oneOf(["android","web","ios"]),selectedValue:r.a.number.isRequired,onChange:r.a.func.isRequired,onClose:r.a.func.isRequired},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1369);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1042),s=n(252),l=n(420),c=n(248),d=n(1370),u=n(232);n(1374);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.default)(this,"tooltip"),onClick:c.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._1x),value:u.DENSITY._1x,checked:e===u.DENSITY._1x,divisor:u.DENSITY._1x,onChange:this.handleChange}),i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._2x),value:u.DENSITY._2x,checked:e===u.DENSITY._2x,divisor:u.DENSITY._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(a.default,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(s.imageUrl)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}p.propTypes={selectedValue:r.a.string.isRequired,onChange:r.a.func.isRequired,onClose:r.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1371);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(807),r=n.n(o),a=n(1372);n(1373);t.default=function(e){const{text:t,description:n,value:o,divisor:s,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(r.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(a.default,{divisor:s,targetUnit:l})))}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1376);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880),r=n(1333),a=n(1321),s=n(1324),l=n(545),c=n(420),d=n(1127),u=n(248);n(1377);class p extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(l.default,{targetNode:this.nodeRefs.settingsButton,content:i.h(d.default,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,r=e?[t&&i.h(o.default.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(o.default.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(o.default.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(o.default,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},r)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:o,menuOpen:l}=this.state,d=u.permissions.canUpdateStyleguide(e),p=!!t.length,h=!!n.length;return i.h("div",null,i.h(a.default,{title:"Parent Styleguide",button:p&&i.h(s.default,{baseRef:Object(c.default)(this,"settingsButton"),disabled:!d,onClick:this.openParentStyleguidesMenu})}),i.h("div",{class:"parentStyleguidesContainer"},l&&this.renderContextMenu(h,p),i.h("p",{ref:Object(c.default)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(r.default,null),o&&this.renderSelectParentPopup(t))}}t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1381);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1382),r=n.n(o),a=n(1424),s=n(1506),l=n(271),c=n.n(l),d=n(379),u=n(364),p=n(513),h=n.n(p),f=n(229),g=n(420),m=n(259);n(1678);class b extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[c.a.BarrelStore,c.a.ScreenStore,c.a.UserStore]}static calculateState(){const{versionsVisible:e}=c.a.ScreenStore.getState(),{connectedComponentsDevModeEnabled:t}=c.a.BarrelStore.getState();return{userRestricted:u.default.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(g.default)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(f.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(m.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?d.default.disableDevMode():d.default.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(r.a,null),i.h(a.default,null),i.h(s.default,null))}}t.default=h()(b,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1383);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),l=n(248),c=n(245),d=n(247),u=r(n(244)),p=a(n(367)),h=n(233),f=a(n(399)),g=n(232),m=n(779),b=a(n(1305)),S=a(n(1384)),y=a(n(1417)),v=a(n(1420)),C=a(n(1101)),O=a(n(513)),E=a(n(364)),T=a(n(385)),_=a(n(370)),P=a(n(271)),j=n(976);n(1423);class D extends s.Component{constructor(){super(...arguments),this.sidebarRef=s.createRef(),this.handleCollapse=()=>{const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||T.default.enableVersionsCompactMode()},this.handleCollapserClick=()=>{var e,t;const{compactMode:n,latestVersionSelected:i}=this.state;n?null===(e=this.sidebarRef.current)||void 0===e||e.expand():i?T.default.hideVersions():null===(t=this.sidebarRef.current)||void 0===t||t.collapse()},this.handleRelease=(e,{collapsed:t})=>{const{latestVersionSelected:n}=this.state;T.default.changeVersionsSidebarWidth(e),t&&n&&T.default.hideVersions()},this.handleOpenMenu=e=>{const{barrelId:t,screenId:n}=this.state,i=c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}});j.fetchShortlink(i)},this.handleCopyWebUrl=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=c.urlResolve("project-screen-version",{url:{pid:n,sid:i,vid:e}});d.copyContent({content:j.getShortlink(o),toastContainer:t})},this.handleCopyAppUri=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=`${h.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&vid=${e}`;d.copyContent({content:o,toastContainer:t})},this.handleDelete=e=>{const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?u.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){T.default.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):u.create({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){T.default.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleSelectedVersionChange=e=>{const{barrelId:t,screenId:n,versions:i}=this.state,o=i.findIndex(t=>t._id===e)>0?"project-screen-version":"project-screen";p.default.history.replace(c.urlResolve(o,{url:{pid:t,sid:n,vid:e}}))},this.handleCommitColorChange=({vid:e,color:t,syncWithApi:n})=>{const{barrelUser:i}=this.state;l.permissions.canManageScreens(i)&&T.default.updateCommitColor({vid:e,color:t,syncWithApi:n})},this.handleKeyDown=e=>{const{barrelId:t,screenId:n,versions:i,selectedVersionId:o}=this.state,r=i.findIndex(e=>e._id===o);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const o=r-1;if(o>=0){const e=0===o?"project-screen":"project-screen-version",r=i[o]._id;p.default.history.replace(c.urlResolve(e,{url:{pid:t,sid:n,vid:r}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const o=r+1;if(o<i.length){const e=i[o]._id;p.default.history.replace(c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}},this.handleShowPlanChooserOverlay=()=>{m.showPlanChooserOverlay({source:"Version history",upgradeTrigger:g.PlanUpgradeTrigger.VERSION_LIMIT})}}static getStores(){return[P.default.BarrelStore,P.default.ScreenStore,P.default.ProjectsDataStore,P.default.UserStore]}static calculateState(){const{loading:e,barrelId:t}=P.default.BarrelStore.getState(),n=E.default.findUser(),i=P.default.UserStore.getState().paymentPlan;if(e||!t)return{loading:!0};const{screenId:o,loadingVersions:r,versionId:a,latestVersionSelected:s,versionsCompactMode:c,versionsSidebarWidth:d}=P.default.ScreenStore.getState(),{versions:u,totalVersionCount:p,allowedVersionCount:h,name:f}=_.default.getScreen()||{},g=p-h,m=g>0;return{barrelId:t,barrelUser:n,screenId:o,screenName:f,versions:u,loading:r,totalVersionCount:p,remainingVersionCount:g,selectedVersionId:a,latestVersionSelected:s,compactMode:c,collapsed:c,sidebarWidth:d,paymentPlan:i,canDelete:l.permissions.canManageScreens(n),versionLimitExceededHintboxVisible:["owner","king"].includes(n.role)&&m}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelUser:t,versions:n,selectedVersionId:i,latestVersionSelected:o,remainingVersionCount:r,compactMode:a,collapsed:l,sidebarWidth:c,paymentPlan:d,canDelete:u,versionLimitExceededHintboxVisible:p}=this.state;let h;return"free"===d.id?h="On the free plan, you can access 30 days of version history. If you want to access more, you need to upgrade.":d.versionLimit<99&&(h=`On the ${d.name} plan, you can access ${d.versionLimit} screen versions. If you want to access more, you need to upgrade.`),s.h(b.default,{ref:this.sidebarRef,class:f.default("versionsSidebar",{versionLimitExceededHintboxVisible:p}),resizingSide:"right",minWidth:245,initialWidth:c,compact:a||!o,collapsed:l,onCollapse:this.handleCollapse,onExpand:T.default.disableVersionsCompactMode,onRelease:this.handleRelease},!a&&s.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?s.h(y.default,null):s.h(S.default,{versions:n,remainingVersionCount:r,selectedVersionId:i,barrelUser:t,compact:a,onCommitColorChange:this.handleCommitColorChange,onCommitMessageChange:T.default.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onOpenMenu:this.handleOpenMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:u?this.handleDelete:null}),s.h(v.default,{latestVersionSelected:o,compact:a,onClick:this.handleCollapserClick}),p&&s.h("div",{class:"upgradeNowHintboxContainer"},s.h(C.default,{class:"upgradeNowHintbox",actionContent:"Upgrade",onActionClick:this.handleShowPlanChooserOverlay},h)))}}t.default=O.default(D)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1385);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1386)),s=i(n(1399)),l=i(n(1410)),c=i(n(1413)),d=n(248),u=n(432),p=i(n(399));n(1416),t.default=function({versions:e,remainingVersionCount:t,selectedVersionId:n,barrelUser:i,compact:h,onCommitColorChange:f,onCommitMessageChange:g,onSelectedVersionChange:m,onOpenMenu:b,onCopyWebUrl:S,onCopyAppUri:y,onDelete:v}){const[C,O]=r.useState(!1),E=r.useRef();function T(e){O(!0),b(e)}function _(){O(!1)}function P(e){v&&v(e)}function j(e){S(e,E.current)}function D(e){y(e,E.current)}function k(e){m(e)}return o.h("div",{ref:E,class:p.default("versions",{contextMenuOpen:C})},e.reduce((function(t,r){const{_id:l,creator:c,created:p,commit:{color:m,message:b}={}}=r,{version:S,renderedVersions:y}=t,v=!S||c._id!==S.creator._id,C=new Date(p),O=S&&new Date(S.created),E=O&&u.inSameDay(O,C),I=o.h(o.Fragment,null,!E&&o.h(a.default,{date:C,hideNode:!S}),o.h(s.default,{id:l,selected:l===n,commitColor:m,hideTopConnector:!S,creator:c,created:p,messagePlaceholder:(R=r,R.creator&&R.creator._id===i.user._id?1===e.length?"Got any notes?":"What has changed in this version?":"No commit message yet."),message:b,showDelete:d.permissions.canRemoveVersions(i),versionOwner:c&&c._id===i.user._id,shouldDisplayAvatar:v||!E,compact:h,onColorChange:f,onCommitMessageChange:g,onSelect:k,onOpenMenu:T,onCloseMenu:_,onCopyWebUrl:j,onCopyAppUri:D,onDelete:P}));var R;return y.push(I),{version:r,renderedVersions:y}}),{version:null,renderedVersions:[]}).renderedVersions,t>0?o.h(c.default,{remainingVersionCount:t}):o.h(l.default,null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1387);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(432),a=i(n(1388));n(1398),t.default=function({date:e,hideNode:t}){return o.h("h3",{class:"versionHeader"},o.h(a.default.forHeader,{hideConnector:t}),o.h("span",{class:"versionHeaderText"},r.getDateString(e)))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1389);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1390)),a=i(n(399));function s(e){return o.h("div",{class:"versionNode noSelect"},e.children)}n(1397),s.forHeader=function({hideConnector:e}){return o.h("div",{class:"versionNode headerNode noSelect"},o.h("div",{class:a.default("versionConnector",{transparent:e})}))},s.forInitialCommit=function(){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),o.h("img",{src:"/img/icHeart.svg",alt:"<3",key:"icHeart"}))},s.forCommit=function({selected:e,color:t,hideTopConnector:n,compact:i,onColorChange:s}){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:a.default("versionConnector top",{transparent:n}),key:"commitTopConnector"}),o.h(r.default,{selected:e,color:t,compact:i,onColorChange:s}),o.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))},t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1391);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1392)),s=i(n(399));n(1396),t.default=function({selected:e,color:t,compact:n,onColorChange:i}){const[l,c]=r.useState(!1);return o.h("div",{class:s.default("versionNodeDot",t,{selected:e}),onMouseEnter:()=>{c(!0)}},!n&&l&&o.h(a.default,{selected:e,color:t,onChange:i,onClose:()=>{c(!1)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1393);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=n(1394),s=i(n(399)),l=n(248);n(1395),t.default=function({selected:e,color:t,onChange:n,onClose:i}){const c=r.useRef();return o.h("div",{ref:c,class:s.default("nodeColorChooser",t),onClick:l.stopPropagation,onMouseLeave:function(){var e;null===(e=c.current)||void 0===e||e.addEventListener("transitionend",i,{once:!0})}},o.h("div",{class:s.default("nodeColor",{selected:e})},o.h("div",null)),a.versionNodeColorOptions.map(e=>{const i=e===t;let r;return i||(r=()=>n(e)),o.h("div",{key:e,class:s.default("nodeColorOption",e,{selectedColor:i}),onClick:r})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionNodeColorOptions=void 0;t.versionNodeColorOptions=["yellow","orange","peach","green","turquoise"]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1400);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1388)),a=i(n(1401)),s=i(n(1407)),l=i(n(519)),c=n(247),d=n(328),u=i(n(947));n(1409);class Version extends o.Component{constructor(){super(...arguments),this.baseRef=o.createRef(),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}},this.handleColorChange=e=>{const{id:t,onColorChange:n}=this.props;n({vid:t,color:d.getColorValueByName(e),syncWithApi:!0})},this.handleCommitMessageChange=e=>{const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})},this.handleSelect=()=>{const{id:e,onSelect:t}=this.props;t(e)},this.handleOpenMenu=e=>{e.stopPropagation();const{id:t,onOpenMenu:n}=this.props;this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),n(t)},this.handleCloseMenu=()=>{this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()},this.handleCopyWebUrl=()=>{const{id:e,onCopyWebUrl:t}=this.props;t(e),mixpanel.master.track("Copied web link",{Target:"Version",Source:"Versions panel"})},this.handleCopyAppUri=()=>{const{id:e,onCopyAppUri:t}=this.props;t(e),mixpanel.master.track("Copied app URI",{Target:"Version",Source:"Versions panel"})},this.handleDelete=()=>{const{id:e,onDelete:t}=this.props;t(e)}}componentDidMount(){this.props.selected&&c.scrollIfNecessary(this.baseRef.current)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&c.scrollIfNecessary(this.baseRef.current)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:i}=this.state;return n?o.h(l.default,null,o.h(s.default,{autoPosition:{zIndex:1e3,menuContainer:"body",clickOrigin:i},canDelete:null!=e?e:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete,onClose:this.handleCloseMenu})):null}render(){const{selected:e,commitColor:t,hideTopConnector:n,compact:i,creator:s,created:l,messagePlaceholder:c,message:u,versionOwner:p,shouldDisplayAvatar:h,hover:f}=this.props,{contextMenuOpen:g}=this.state,m=d.getColorName(t);return o.h("div",{ref:this.baseRef,class:"version",onClick:this.handleSelect},o.h(r.default.forCommit,{selected:e,color:m,hideTopConnector:n,onColorChange:this.handleColorChange,compact:i}),o.h(a.default,{creator:s,createdAt:l,messagePlaceholder:c,message:u,color:m,selected:e,versionOwner:p,shouldDisplayAvatar:h,shouldDisplayButtons:g||f,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:d.getColorValueByName("yellow")},t.default=u.default(Version)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1402);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1403)),s=i(n(1336)),l=i(n(399)),c=n(1301);n(1406);class d extends o.Component{constructor(){super(...arguments),this.textAreaRef=r.useRef(),this.handleMessageSubmit=e=>{const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)},this.handleEdit=()=>{this.setState({editing:!0})},this.handleCancelEdit=()=>{this.setState({editing:!1})}}componentDidUpdate(e){var t;e.selected&&!this.props.selected&&this.state.editing&&(null===(t=this.textAreaRef.current)||void 0===t||t.cancelEdit())}render(){const{creator:e,createdAt:t,versionOwner:n,shouldDisplayButtons:i,shouldDisplayAvatar:r,onOpenMenu:d,message:u,messagePlaceholder:p,selected:h,color:f}=this.props,{editing:g}=this.state;return o.h("div",{class:l.default("versionCommit",f,{selected:h,editing:g,empty:!u})},o.h(a.default,{creator:e,createdAt:t,shouldDisplayButtons:i&&!g,shouldDisplayAvatar:r,shouldDisplayTime:!g||!i,shouldDisplayEditButton:i&&n&&!!u,onEdit:this.handleEdit,onOpenMenu:d}),o.h(s.default,{ref:this.textAreaRef,class:"message",value:u||"",maxLength:1024,editing:g,color:f,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:c.formatComment,showEmojiAutoComplete:!0}),n&&!g&&!u&&o.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}t.default=d},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1404);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(527)),s=i(n(615)),l=n(442),c=n(248),d=n(247),u=n(238);n(1405);t.default=function({creator:e,createdAt:t,shouldDisplayButtons:n,shouldDisplayAvatar:i,shouldDisplayTime:p,shouldDisplayEditButton:h,onEdit:f,onOpenMenu:g}){const[m,b]=r.useState(!1),{src:S,srcset:y}=d.getUserAvatar(e,{ignoreRandomEmotar:!1,size:24}),v=c.formatTime(t,{hour:"numeric",minute:"numeric"}),C=o.h(o.Fragment,null,o.h(a.default,{class:"versionAuthorImageFrame",src:S,srcset:y,size:24}),o.h("div",{class:"versionAuthorName ellipsis"},e?u.getUserDisplayName(e):"Anonymous"));return o.h("div",{class:"versionMetadata"},i?o.h(o.Fragment,null,e?o.h(s.default,{class:"versionAuthor",userId:e._id,openToLeft:!1,onVisibilityChange:b},C):o.h("div",{class:"versionAuthor"},C)):o.h("time",null,v),!m&&n?o.h("div",{class:"commitButtons"},h&&o.h("button",{type:"button",onClick:f},o.h(l.IconEdit,null)),o.h("button",{type:"button",onClick:g},o.h(l.IconMenu,null))):i&&p&&o.h("time",null,v))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1408);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(880));t.default=function({autoPosition:e,canDelete:t,onClose:n,onDelete:i,onCopyWebUrl:a,onCopyAppUri:s}){return o.h(r.default.withAutoPosition,{autoPosition:e,onClose:n},o.h(r.default.Item,{onClick:a},"Copy version web link"),o.h(r.default.Item,{onClick:s},"Copy version App URI"),t&&o.h(o.Fragment,null,o.h(r.default.ItemDivider,null),o.h(r.default.Item,{onClick:i,warning:!0},"Delete version")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1411);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1388));n(1412),t.default=function(){return o.h("div",{class:"initialCommit"},o.h(r.default.forInitialCommit,null),o.h("div",{class:"commit"},o.h("h4",null,"The story begins here!"),o.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1414);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(249);n(1415),t.default=function({remainingVersionCount:e}){return i.h("div",{class:"versionLimitExceeded noSelect"},o.pluralize(e,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank",onClick:function(){mixpanel.master.track("Clicked version limits learn more button")}},"learn more")," about version limits in different plans")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1418);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1419),t.default=function(){return i.h("div",{class:"versionsLoading"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1421);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(442);n(1422),t.default=function({latestVersionSelected:e,compact:t,onClick:n}){return i.h("button",{class:"versionsCollapser",onClick:n},t||!e?i.h(o.IconCollapseLeft,null):i.h(o.IconClose,null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1425);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1426),r=n(1468),a=n(951),s=n(612),l=n(1483),c=n(364),d=n(385),u=n(370),p=n(1480),h=n.n(p),f=n(271),g=n.n(f),m=n(1481),b=n.n(m),S=n(1503),y=n.n(S),v=n(513),C=n.n(v),O=n(248),E=n(399),T=n(386),_=n(1428),P=n(432),j=n(420),D=n(252),k=n(247),I=n(249),R=n(229),A=n(328),w=n(233),N=n(232),L=n(1504),x=n.n(L);n(1505);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends i.Component{constructor(...e){super(...e),U(this,"state",{holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0}),U(this,"setZoomOrigin",e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:o}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:r,clientY:a}=e;this.zoomOrigin={x:r,y:a,xRatio:(r-n)/i,yRatio:(a-t)/o}}),U(this,"setZoomOriginAsCenter",()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:o}=e.getBoundingClientRect(),{top:r,left:a,width:s,height:l}=t.getBoundingClientRect(),c=i/2,d=o/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-a)/s,yRatio:(d-r)/l}}),U(this,"scrollToZoomOrigin",()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:o,dotgrid:r,snapshotDetail:a}=this.nodeRefs,s=o.getBoundingClientRect(),l=r.getBoundingClientRect(),c=a.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+s.top-t+i*c.height;o.scrollTo(d,u)}),U(this,"animateScroll",()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)}),U(this,"deselectLayer",()=>{d.default.deselectLayer()}),U(this,"handleMouseLeave",()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}),U(this,"handleMouseMove",e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:o}=this.state;t||(i&&o&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))}),U(this,"handleMouseDown",e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}),U(this,"handleMouseUp",()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(d.default.disableNoteMode(),this.scrolledScreenView=!1)}),U(this,"handleGestureStart",e=>{e.preventDefault(),d.default.startGesture()}),U(this,"handleGestureChange",e=>{e.preventDefault(),this.setZoomOrigin(e),d.default.zoomWithGesture(e.scale)}),U(this,"handleWheel",e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),d.default.zoomWithWheel(e.deltaY))}),U(this,"handleKeyPress",e=>{Object(k.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()}),U(this,"handleKeyDown",e=>{if(Object(k.isEditableElement)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:o,parentLayers:{length:r},parentIndex:a,holdingSpace:s,edgesToMeasure:l,componentLayer:c,variantViewState:{componentVariantViewVisible:p,stateVariants:f},variantViewSourceLayerId:g}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||s){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&r)e.preventDefault(),this.setState({parentIndex:(a+1)%r});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&r)e.preventDefault(),this.setState({parentIndex:(a-1+r)%r});else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){e.preventDefault();const n=u.default.getPreviousScreen(t);n&&u.default.navigateToScreen(n._id)}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){e.preventDefault();const n=u.default.getNextScreen(t);n&&u.default.navigateToScreen(n._id)}else if(e.altKey){switch(e.code){case N.Keyboard.Code.Minus:e.preventDefault(),e.stopPropagation(),d.default.zoomOut();break;case N.Keyboard.Code.Equal:e.preventDefault(),e.stopPropagation(),d.default.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),d.default.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),d.default.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),d.default.openTagManager(t);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),d.default.toggleVersions()}}}else e.preventDefault(),this.setState({holdingSpace:!0});if(!Object(R.cmdKey)(e)||!Object(R.isCmdPressed)(e)||Object(R.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.default.disableNoteMode():d.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!o&&!l?d.default.disablePercentageMode():d.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.default.hideFlowLinks():d.default.showFlowLinks(),e.key===N.Keyboard.Key.v){if(i&&c&&c.variant&&i._id!==g)return void h.a.open(c._id,y.a.SHORTCUT);if(p&&f){const e=f.findIndex(e=>e.selected);if(-1===e)return;let t,n=(e+1)%f.length;for(;n!==e;){if(({coid:t}=f[n]),t)return h.a.changeVariant({coid:t,variantChangeValueSource:b.a.SHORTCUT,isState:!0});n=(n+1)%f.length}}}}),U(this,"handleKeyUp",e=>{if(Object(k.isEditableElement)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:o}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(R.cmdKey)(e)||Object(R.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.default.disableNoteMode():d.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!o?d.default.disablePercentageMode():d.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.default.hideFlowLinks():d.default.showFlowLinks()}),U(this,"handleCopy",e=>{const{selectedLayer:t}=this.state;if(!t||"text"!==t.type)return;"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))}),U(this,"handleCopyDotWebUrl",e=>{const{screenView:t}=this.nodeRefs;Object(k.copyContent)({content:e,toastContainer:t})}),U(this,"handleCopyDotAppUri",e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,o=`${w.ZPL_PROTOCOL}//dot?pid=${n}&sid=${i}&did=${e}`;Object(k.copyContent)({content:o,toastContainer:t})}),U(this,"handleLayerSelect",(e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),d.default.selectLayer(t))}),U(this,"handleComponentLayerTagClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})}),U(this,"handleZoomIn",()=>{this.setZoomOriginAsCenter(),d.default.zoomIn()}),U(this,"handleZoomOut",()=>{this.setZoomOriginAsCenter(),d.default.zoomOut()}),U(this,"handleZoomChange",e=>{this.setZoomOriginAsCenter(),d.default.changeZoomLevel(e,!0)}),U(this,"handleComponentVariantsButtonClick",e=>{h.a.open(e,y.a.LAYER_DETAIL)})}static getStores(){return[g.a.BarrelStore,g.a.ScreenStore,g.a.ProjectsDataStore,g.a.StyleguidesDataStore,g.a.UserStore,g.a.ComponentVariantStore,g.a.DotsStore]}static calculateState(e={}){const t=c.default.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{loading:n,barrelId:i,barrelType:o,screenVersionsLastSeen:r}=g.a.BarrelStore.getState();if(n)return{loading:!0};const a=c.default.findUser(),{screenId:s,loadingVersions:l,versionId:d,animateZooming:p,zoomLevel:h,percentageMode:f,selectedLayer:m,destinationLayer:b,flowLinksVisible:S,latestVersionSelected:y,layoutGridEnabled:v,notesVisible:C,noteMode:E,hasNewVersions:P,showVersionsAuntie:j,showVersionsTutorial:D,versionsVisible:k}=g.a.ScreenStore.getState(),{componentVariantViewVisible:I,selectedComponentVariantId:R,selectedLayer:A,destinationLayer:w,sourceLayerId:N}=g.a.ComponentVariantStore.getState();if(l&&!y)return{loading:!0};const{statusFilter:L,colorFilter:B}=g.a.DotsStore.getState(),z=sessionStorage.getItem("newVersionsAuntieStatus"),V=sessionStorage.getItem("versionsCommitAuntieStatus"),W=c.default.getBarrel(),F=u.default.getScreen(),H=u.default.getVersion({sid:s,vid:d}),{snapshot:G}=H,$=Object(T.getComponentLayerForVariant)(G,m,t),q=$?{_id:$.component._id,name:$.component.name,rect:$.layer.absoluteRect,variant:!!$.component.variant}:null;let Z={};if(I){const{ancestors:e,component:n}=Object(T.findComponentById)(t,R);Z=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedComponentVariantId:R,componentVariantViewVisible:I,selectedLayer:A,destinationLayer:w},x()({ancestors:e,component:n},o,i))}const Y=t.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),K=f&&m&&b&&G?Object(_.findParents)(m,b,G):[],{parentLayers:J=[]}=e;let{parentIndex:X=0}=e;const Q=O.arrayEqual(J,K,(e,t)=>e._id===t._id);return f&&m&&b&&Q||(X=0),{loading:!1,barrelId:i,barrel:W,remPreferences:t[0].remPreferences,barrelUser:a,screenId:s,screen:F,version:H,componentLayer:q,spacingTokens:Y,animateZooming:p,zoomLevel:h,percentageMode:f,selectedLayer:m,destinationLayer:b,parentLayers:K,parentIndex:X,flowLinksVisible:S,layoutGridEnabled:v,notesVisible:C,noteMode:E,latestVersionSelected:y,hasNewVersions:P,showVersionsAuntie:j,showVersionsTutorial:D,screenVersionsLastSeen:r,newVersionsAuntieStatus:z,versionsCommitAuntieStatus:V,versionsVisible:k,variantViewState:Z,variantViewSourceLayerId:N,notesStatusFilter:L,notesColorFilter:B}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!O.arrayEqual(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}resetModeFlags(){d.default.hideFlowLinks(),d.default.disablePercentageMode(),d.default.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?d.default.showNotes():d.default.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),d.default.showVersionsAuntie()}getChildContext(){const{barrel:{densityScale:e,dimensionSuffix:t}={}}=this.state;return{densityScale:e,dimensionSuffix:t}}componentDidMount(){const{selectedLayer:e}=this.state;if(e&&document.addEventListener("click",this.deselectLayer),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),window.addEventListener("blur",this.resetModeFlags),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.addEventListener("gesturestart",this.handleGestureStart),e.addEventListener("gesturechange",this.handleGestureChange)}}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:o}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout(()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null},300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),o?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){if(document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange)}}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:r,spacingTokens:a,barrel:s,barrelUser:l,remPreferences:c,zoomLevel:u,percentageMode:p,selectedLayer:h,destinationLayer:f,parentLayers:g,parentIndex:m,edgesToMeasure:b,flowLinksVisible:S,layoutGridEnabled:y,latestVersionSelected:v,notesVisible:C}=this.state;if(e||!t||!n)return i.h(o.default.Loading,null);const{snapshot:O}=n,E=g[m];return i.h(o.default,{snapshotDetailRef:Object(j.default)(this,"snapshotDetail"),project:s,screen:t,snapshot:O,barrelUser:l,remPreferences:c,notesVisible:C&&v,layoutGridEnabled:y,zoomLevel:u,selectedLayer:h,destinationLayer:f,parentLayer:E,componentLayer:r,spacingTokens:a,percentageMode:p,flowLinksVisible:S,edgesToMeasure:b,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:d.default.enterLayer,onLayerLeave:d.default.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick,onComponentVariantsButtonClick:this.handleComponentVariantsButtonClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:o,holdingMouse:r,noteMode:a}=this.state;let s,l;e?({snapshot:{width:s,height:l}}=e):(s=320,l=480);const c=20*t,u=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,p=window.innerWidth/2-151-t*s/2+"px "+(-3*c+58)+"px",h=c+"px "+c+"px";return i.h("div",{class:Object(E.default)("dotgrid","noSelect",{noteMode:a,zooming:n,grab:o&&!r,grabbing:o&&r}),style:{width:s*t+240,height:l*t+120,backgroundImage:u,backgroundPosition:p,backgroundSize:h},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:d.default.zoomApplied,ref:Object(j.default)(this,"dotgrid")},this.renderScreen())}renderComponentVariants(){const{loading:e,barrel:t,screen:n,remPreferences:o,spacingTokens:a,variantViewState:s}=this.state;if(e||!s.componentVariantViewVisible)return null;const{componentName:l,componentURL:c,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g}=s;return i.h(r.default,{screenViewRef:this.nodeRefs.screenView,componentName:l,componentURL:c,screenName:n.name,platform:t.type,remPreferences:o,spacingTokens:a,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g})}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:o,versionsVisible:r,screen:a,barrelUser:s,notesStatusFilter:c,notesColorFilter:u}=this.state,p=!a||!a.dots,h=a&&a.dots&&0===a.dots.length,f=!n||p||h,g=p?[]:a.dots.filter(e=>Object(A.checkFilter)(e,c,u,s.user));return i.h(l.default,{latestVersionSelected:o,versionsVisible:r,hasNewVersions:t,onVersionsToggleClick:d.default.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:d.default.openPopout,onAddNoteWidgetClick:d.default.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange,fetchingNotes:p,noNotes:h,dotCount:g.length,notesStatusFilter:c,notesColorFilter:u,disableFilterNotesDropdown:f,onFilterNotesChange:d.default.changeDotFilter})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(P.getDateString)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screenId:n,screen:o,hasNewVersions:r,showVersionsTutorial:l,showVersionsAuntie:c,screenVersionsLastSeen:u,versionsCommitAuntieStatus:p,newVersionsAuntieStatus:h}=this.state;if(e)return null;const{versions:f}=o||{};if(l)return i.h("img",{class:"versionsTutorialCircle",src:Object(D.imageUrl)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(c)return i.h(a.default,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:d.default.hideVersionsAuntie});if(!r)return null;const g=u&&u[n]?u[n]:new Date(0),m=f.filter(({created:e})=>new Date(e)>g),b=m.filter(({creator:e})=>e&&e._id===t.user._id),S=b.find(({commit:e})=>!e||!e.message),y=m.length-b.length;if(S&&"dismissed"!==p){const e=new Date-new Date(S.created)>36e5?i.h("span",null,"Looks like you uploaded a version ",i.h(s.default,{type:"time-ago",datetime:S.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(a.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(y&&"dismissed"!==h){const e=`There ${y>1?"are":"is"} ${Object(I.pluralize)(y,"new version",{one:"a"})} since you last visited!`;return i.h(a.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(j.default)(this,"screenView"),onScroll:d.default.zoomApplied},this.renderDotGrid()),this.renderComponentVariants(),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}}t.default=C()(B)},function(e,t,n){"use strict";n.r(t);var i=n(1427);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(1428),s=n(1429),l=n(1439),c=n(1445),d=n(1448);n(1467);class Screen extends i.Component{constructor(e){super(e),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(a.getLayerClickHandler)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:o}=this.props,r=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:i,snapshotDetailRect:r}))}handleSnapshotDetailRef(e){Object(r.default)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:r}}=this.props;return i.h(d.default.Image,{key:"snapshotImage-"+t,class:Object(o.default)("snapshotImage",{pixelated:e>=2}),style:{width:n*e,height:r*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:o},componentLayer:r,zoomLevel:a,onComponentLayerTagClick:s,onComponentVariantsButtonClick:l}=this.props;return i.h(d.default.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:r,containerWidth:n,containerHeight:o,zoomLevel:a,onTagClick:s,onVariantsButtonClick:l})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:o,onLayerEnter:r,onLayerLeave:a,edgesToMeasure:s}=this.props;return e.layers?i.h(d.default.Layers,{key:"layers",layers:e.layers,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!s,parentLayer:o,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:r,onLayerLeave:a}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(l.default,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{notesVisible:e,onCopyDotWebUrl:t,onCopyDotAppUri:n}=this.props;return e?i.h(s.default,{key:"dotsContainer",onCopyWebUrl:t,onCopyAppUri:n}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(d.default.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:o,edgesToMeasure:r}=this.props;return e&&(t||r&&r.length)?t?i.h(d.default.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:o,parentRect:n?n.rect:null}):i.h(d.default.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:r,percentageMode:o}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(c.default,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:o},remPreferences:r,zoomLevel:a,spacingTokens:s}=this.props;return i.h(d.default,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:o,spacingTokens:s,remPreferences:r,style:{width:t*a,height:n*a},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=()=>i.h("div",{class:"screen loading"}),t.default=Screen},function(e,t,n){"use strict";n.r(t),n.d(t,"findParents",(function(){return f})),n.d(t,"addAssetStats",(function(){return g})),n.d(t,"createArtboardLayer",(function(){return m})),n.d(t,"preprocessLayers",(function(){return b})),n.d(t,"getLayerClickHandler",(function(){return S})),n.d(t,"findCoveringLink",(function(){return y}));var i=n(233),o=n(248),r=n(245),a=n(252),s=n(236),l=n(232);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){const{url:t,format:n,density:i,densityScale:r=Object(o.getDensityScale)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:r,format:n}))}function h(e,t,n){let i=[];for(let o=e.length-1;o>=0;o--){const r=e[o],{width:a,height:s}=r.rect,l=a<3?6:0,c=s<3?6:0,d=r.absoluteRect.y-c,u=r.absoluteRect.x+a+l,p=r.absoluteRect.y+s+c;r.absoluteRect.x-l<=t&&d<=n&&u>=t&&p>=n&&("group"===r.type?("top"===r.interactionLevel&&i.push(r),i=i.concat(h(r.layers,t,n)),"bottom"===r.interactionLevel&&i.push(r)):i.push(r))}return i}function f(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let o=function e(t,n){let i=[];for(let o=0;o<t.length;o++){let r=t[o],a=r.absoluteRect.x+r.rect.width,s=r.absoluteRect.y+r.rect.height;r.absoluteRect.x<=n.left&&r.absoluteRect.y<=n.top&&a>=n.right&&s>=n.bottom&&(("group"!==r.type||["bottom","top"].includes(r.interactionLevel))&&i.push(r),"group"===r.type&&(i=i.concat(e(r.layers,n))))}return i}(n.layers,i);return e===t&&(o=o.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e))),o.length?o.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height):[n.layers[0]]}function g(e,t,n,r){const c={},u=new Set;for(let i=0;i<r.contents.length;i++){const{format:e,density:t,densityScale:n=Object(o.getDensityScale)(t)}=r.contents[i];e in c?c[e]++:c[e]=1,u.add(n)}let h;var f;h=!("jpg"in c)||"svg"in c||"pdf"in c||c.jpg!==c.png?"svg"in c?"optimized"in(f=r.contents.find(({format:e})=>"svg"===e))?Promise.resolve():(f.optimized=d(d({},f),{},{url:`${i.IMG_URL}/svgo/${encodeURIComponent(f.url)}`}),Promise.all([f,f.optimized].map(p)).then(([{length:e},{length:t}])=>{f.optimized.percent=Math.round((e-t)/e*100)}).catch(e=>{f.optimized=null})):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,o=0;return Promise.all(e.contents.map(p)).then(r=>{t.forEach(e=>{const t=r.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),o+=Number(t.png)/Number(t.jpg)}),i=Math.round(100-i/t.size*100),o=Math.round(100-o/t.size*100),i>=10?n={type:"jpg",diff:i}:o>=10&&(n={type:"png",diff:o}),n&&(e.percent=n)}).catch(e=>{})}(r,u);const g=r.contents.find(({density:e,densityScale:t=Object(o.getDensityScale)(e),format:n})=>t===l.DENSITY.BASE&&"png"===n);const m=!g||"lightness"in r?Promise.resolve():Object(a.getImageProperties)(g.url).then(e=>Object.assign(r,e)).catch(e=>null),b="localName"in r?Promise.resolve():function(e,t,n,i){const o=n.assets.find(e=>e._id===i);return o?"localName"in o?Promise.resolve(o.localName):s.barrelPrefs.get(e,t,"assetNames").then(e=>e&&e[i]):Promise.resolve()}(e,t,n,r._id).then(e=>{e&&Object.assign(r,{localName:e})});return Promise.all([h,m,b])}function m(e,{_id:t,width:n,height:i,backgroundColor:o}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:o?[{fillType:"color",color:o}]:[],borders:[],shadows:[]}}function b(e,t={x:0,y:0}){for(const n of e)n.absoluteRect={x:n.rect.x+t.x,y:n.rect.y+t.y,width:n.rect.width,height:n.rect.height},"group"===n.type&&(Array.isArray(n.layers)?b(n.layers,n.absoluteRect):n.layers=[])}function S(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:r,width:a,height:s},selectedLayer:l,snapshotDetailRect:c}){let d=i;const u=(n.clientX-c.left)/c.width*a,p=(n.clientY-c.top)/c.height*s,f=h(r,u,p);if(e&&t&&l){const n=h(r,e,t);if(Math.hypot(e-u,t-p)>40||!Object(o.arrayEqual)(f,n,(e,t)=>e._id===t._id))d=f[0];else{const e=l._id,t=f.findIndex(t=>t._id===e);d=f[(t+1)%f.length]}}else d=f[0];return e=u,t=p,d}}}function y(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find(e=>Object(o.rectContains)(e.rect,n.absoluteRect));if(!i)return;let a,s,l;switch(i.destination.type){case"previous":s="previous screen";break;case"screen":s=i.destination.name,a=e.findScreenByName(i.destination.name),a&&(l=Object(r.urlResolve)("project-screen",{url:{pid:e.id,sid:a._id}}));break;default:return}return{name:s,url:l}}},function(e,t,n){"use strict";n.r(t);var i=n(1430);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(328),r=n(245),a=n(244),s=n(976),l=n(1431),c=n(364),d=n(385),u=n(271),p=n.n(u),h=n(370),f=n(513),g=n.n(f);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"handleDelete",e=>{const{barrelUser:t}=this.state,{creator:n}=h.default.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",a.create({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){d.default.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}),y(this,"handleMenuOpen",e=>{const{barrelId:t,screenId:n}=this.state,i=Object(r.urlResolve)("project-screen",{url:{pid:t,sid:n},query:{did:e}});Object(s.fetchShortlink)(i),d.default.openDotMenu()}),y(this,"handleCopyWebUrl",e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i}=this.state,o=Object(r.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:e}});t(Object(s.getShortlink)(o))})}static calculateState(){const{loading:e,barrelId:t}=p.a.BarrelStore.getState();if(e)return{loading:e};const n=c.default.findUser(),{statusFilter:i,colorFilter:r,flash:a,dotId:s,highlightedDots:l}=p.a.DotsStore.getState(),{noteMode:d,screenId:u}=p.a.ScreenStore.getState(),{dots:f=[]}=h.default.getScreen()||{},g=f.filter(e=>Object(o.checkFilter)(e,i,r,n.user)).map(e=>{const{_id:t,status:n="open",color:i,comments:r}=e,a=S(e,["_id","status","color","comments"]),s=Object(o.getColorName)(i);return b(b({},a),{},{id:t,colorName:s,status:n,highlight:l.includes(t)})});return{loading:e,barrelUser:n,dots:g,dotId:s,noteMode:d,flash:a,screenId:u,barrelId:t}}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.DotsStore,p.a.ProjectsDataStore,p.a.UserStore]}handleCreate(e,t){d.default.createNote({x:e,y:t})}handlePositionChange(e,t,n){d.default.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){d.default.updateDotStatus({did:e,status:t,syncWithApi:!0})}render(){const{onCopyAppUri:e}=this.props,{barrelUser:t,loading:n,dotId:o,dots:r,noteMode:a,flash:s}=this.state;return n?null:i.h(l.default,{dots:r,selectedDotId:o,noteMode:a,flash:s,barrelUser:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:e,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:d.default.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:d.default.closeDotPopup,onAnimationEnd:d.default.dotsFlashed,onDelete:this.handleDelete})}}t.default=g()(v)},function(e,t,n){"use strict";n.r(t);var i=n(1432);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(1433),r=n(1436),a=n(248),s=n(399),l=n(420);n(1438);class c extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isDraft(e){return e.includes("newDot")}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+13,e.top+13);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+13,n=e.top+13,i=this.nodeRefs.base.children;for(let o=0;o<i.length&&i[o].classList.contains("dot");o++){const e=i[o].getBoundingClientRect();if(i[o]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){this.isDraft(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:o}=this.state,r=Math.abs(e.clientX-this.clickedDotOriginX),a=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(r,a)>4){n();const{x:e,y:r}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},o,{x:e,y:r,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),o=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),r=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:o,overlap:r})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:o,y:r},movingDot:a,dotZIndex:s}=this.state;n?i?this.setState({movingDot:Object.assign({},a,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:s+1}),e(t,o,r)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(this.isDraft(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t({dotId:e,source:"Layer detail"})}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),o=i.find(e=>e.id===t);o&&o.x===e.x&&o.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:o},movingDot:r}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&o!==e.y);n&&this.setState({movingDot:Object.assign({},r,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dots:e,selectedDotId:t}=this.props,{movingDot:n,dotZIndex:r,dotMenu:a}=this.state;return e.map(e=>{const s=Object.assign({},e,{key:e.id,selected:t===e.id,zIndex:r,menuOpen:a.id===e.id,onClick:this.handleDotClick});return this.isMoving(e)?i.h(o.default,Object.assign({},s,{x:n.x,y:n.y,moving:!0,overlap:n.overlap,revert:n.revert,onTransitionEnd:n.revert?this.handleTransitionEnd:null,zIndex:r+5,draggingRef:Object(l.default)(this,"dragging")})):this.isDragging(e)?i.h(o.default,Object.assign({},s,{draggingRef:Object(l.default)(this,"dragging")})):i.h(o.default,Object.assign({},s,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))})}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:s,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:p}=this.state;if(!d)return null;const h=e.find(e=>e.id===d);if(!h)return null;const f=h.creator&&h.creator._id===t.user._id||a.permissions.canRemoveNotes(t);return i.h(r.default,{key:"dotmenu",id:d,status:h.status,canDelete:f,autoPosition:{limitingElement:".sidebar.screenSidebar",menuContainer:".dots",clickOrigin:u,zIndex:p},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:s,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,o=Object(s.default)("dots",{noteMode:e});return i.h("div",{class:o,ref:Object(l.default)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";n.r(t);var i=n(1434);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(558);n(1435);class l extends s.default{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{id:e,name:t,colorName:n,x:o,y:r,status:s="open",highlight:l,moving:c,overlap:d,revert:u,selected:p,menuOpen:h,zIndex:f,draggingRef:g}=this.props,m=`calc(${100*o}% - 13px)`,b=`calc(${100*r}% - 13px)`,S=Object(a.default)("dot",n,s,{highlight:l,moving:c,menuOpen:h,overlap:d,revert:u,selected:p});return i.h("div",{class:S,ref:g,"data-id":e,"data-color":n,"data-position":o<=.5?"left":"right",style:{left:m,top:b,zIndex:f},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}l.propTypes={id:r.a.string,name:r.a.string,colorName:r.a.string,x:r.a.number,y:r.a.number,status:r.a.oneOf(["open","resolved"]),moving:r.a.bool,menuOpen:r.a.bool,zIndex:r.a.number},l.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1437);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880);class r extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{const{onOpen:e,id:t}=this.props;e(t)},(n="handleMenuOpen")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Dot"})}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Dot"})}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:r}=this.props;return i.h(o.default.withAutoPosition,{onClose:r,onOpen:this.handleMenuOpen,autoPosition:n},i.h(o.default.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(o.default.ItemDivider,null),t&&i.h(o.default.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1440);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(303),a=n(1441);n(1444);t.default=function(e){const{project:t,snapshot:{_id:n,links:s,width:l,height:c}}=e,d=s.map((e,s)=>{const{rect:{x:d,y:u,width:p,height:h},destination:{type:f,name:g}}=e;let m;if("screen"===f){const e=t.screens.find(e=>e.name===g);if(!e)return null;m=Object(o.urlResolve)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(r.toPercentage)(p,l),S=Object(r.toPercentage)(h,c),y=Object(r.toPercentage)(d,l),v=Object(r.toPercentage)(u,c);return i.h(a.default,{key:`${t.id}-${n}-link-${s}`,style:{width:b,height:S,top:v,left:y},type:f,to:m})}).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";n.r(t);var i=n(1442);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1443);function o({style:e,type:t,to:n}){const o="previous"===t?"pop":"replace",r="previous"===t?"#":n;return i.h("a",{href:r,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":o,"data-flow-nav":!0})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1446);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(420);n(1447);class l extends a.default{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let r="rgba(238, 103, 35, 0.3)";if(n.vertical){let e,t=n.vertical,a=this.toDeviceDimen(t.columnWidth+t.gutterWidth),s=t.numberOfCols,l=this.toDeviceDimen(n.horizontalOffset+(t.guttersOnOutside?t.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(r="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.columnWidth),s=1===e?s+1:s,o.fillStyle=r;let c=l;for(let n=0;n<s;n++)o.fillRect(c,0,e,i.height),c+=a}if(n.horizontal){let e,t=n.horizontal,a=this.toDeviceDimen(t.rowHeight+t.gutterHeight),s=Math.round(i.height/a),l=0|this.toDeviceDimen(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(r="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.rowHeight),s=i.height-s*a>a-e?s+1:s,o.fillStyle=r;let c=1===e?a:0;for(let n=0;n<s;n++)o.fillRect(l,c,i.width-2*l,e),c+=a}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(s.default)(this,"canvas"),width:"100%",height:"100%"}))}}l.propTypes={height:r.a.number.isRequired,width:r.a.number.isRequired,grid:r.a.shape({horizontalOffset:r.a.number,vertical:r.a.shape({gutterWidth:r.a.number,columnWidth:r.a.number,numberOfCols:r.a.number,guttersOnOutside:r.a.bool}),horizontal:r.a.shape({gutterHeight:r.a.number,rowHeight:r.a.number})})},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1449);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(1450),a=n(1453),s=n(1456),l=n(1462),c=n(1464);class d extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:r,onClick:a}=this.props;return i.h("div",{ref:e,class:Object(o.default)("snapshotDetail",t),style:n,onClick:a},r)}}d.Layers=s.default,d.Rulers=a.default,d.Distances=r,d.Image=l.default,d.ComponentLayer=c.default,t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1451);n.d(t,"BetweenEdges",(function(){return i.BetweenEdges})),n.d(t,"BetweenLayers",(function(){return i.BetweenLayers}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BetweenEdges",(function(){return m})),n.d(t,"BetweenLayers",(function(){return g}));var i=n(4),o=n(303),r=n(249),a=n(331),s=n(399),l=n(253);n(1452);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){const{style:t,side:n}=e,o=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:d(d({},t),{},{[o]:0})})}function h(e){const{style:t,side:n,value:o,matchedSpacingTokens:r,showVerticalLabelOnLeft:a,showHorizontalLabelOnBottom:l}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=Object(s.default)("distance",c,{onLeft:"vertical"===c&&a,onBottom:"horizontal"===c&&l});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(r.length)&&[i.h("div",{key:"spacingTokenNames"},r.map(({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,o)))}function f(e){const{measurements:t}=e,{platform:n,spacingTokens:s,remPreferences:c,densityScale:u,dimensionSuffix:f}=this.context,g="web"===n&&"enabled"===c.status&&c.useForMeasurements,{topDistanceAmount:m,rightDistanceAmount:b,bottomDistanceAmount:S,leftDistanceAmount:y}=t,v=null===b&&null!==m&&null!==S&&null!==y,C=null===m&&null!==b&&null!==S&&null!==y,O=["top","right","bottom","left"].map(e=>{if(null===t[e+"DistanceAmount"])return null;const{[e+"DistanceTop"]:n,[e+"DistanceLeft"]:m,[e+"DistanceAmount"]:b,[e+"DistanceValue"]:S,[e+"DistanceValuePercentage"]:y}=t,O=Object(o.round)(S/u,1),E={top:n,left:m,[["left","right"].includes(e)?"width":"height"]:b};let T=[],_=y;if(!y){const e=1===s.length&&O<=144&&O%s[0].value==0&&O!==s[0].value;T=Object(a.removeDuplicatesFromArrayOfObjects)(s.filter(e=>e.value===O),"token"),e&&T.push(d(d({},s[0]),{},{_id:Object(r.getRandomString)(24),value:O,token:`${O/s[0].value} ${s[0].token}`})),_=g?Object(o.toRemSize)(S/u,c.remRootFontSize):O+f}return[Boolean(T.length)&&i.h(p,{style:d(d({},E),{},{backgroundColor:new l.default(T[0].color).toRGBAString()}),side:e}),i.h(h,{key:e+"-distance",style:E,side:e,value:_,matchedSpacingTokens:T,showVerticalLabelOnLeft:v,showHorizontalLabelOnBottom:C})]},this);return O.filter(Boolean).length?i.h("div",{class:"distances"},O):null}class g extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:r}}=this.context,a=e.x,s=a+e.width,l=t.x,c=l+t.width;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null;return c<a?(C=a-c,b=Object(o.toPercentage)(c,r)):l<a&&c>s?(C=a-l,b=Object(o.toPercentage)(l,r),O=c-s,p=Object(o.toPercentage)(s,r),u=Object(o.toPercentage)((a+s)/2,r),m=Object(o.toPercentage)((a+s)/2,r),d=!0):l>a&&c<s?(C=l-a,b=Object(o.toPercentage)(a,r),O=s-c,p=Object(o.toPercentage)(c,r)):c>a&&c<s?(C=a-l,b=Object(o.toPercentage)(l,r),c-a>7&&(u=Object(o.toPercentage)((c+a)/2,r),m=Object(o.toPercentage)((c+a)/2,r),d=!0)):l>a&&l<s?(C=l-a,b=Object(o.toPercentage)(a,r),s-l>7&&(u=Object(o.toPercentage)((l+s)/2,r),m=Object(o.toPercentage)((l+s)/2,r),d=!0)):l>s&&(O=l-s,p=Object(o.toPercentage)(s,r)),C&&(S=Object(o.toPercentage)(C,r),y=C,n&&(v=Object(o.percentageLength)(C,i.width))),O&&(h=Object(o.toPercentage)(O,r),f=O,n&&(g=Object(o.percentageLength)(O,i.width))),d||(u=Object(o.toPercentage)((l+c)/2,r),m=Object(o.toPercentage)((l+c)/2,r)),{topDistanceLeft:u,rightDistanceLeft:p,rightDistanceAmount:h,rightDistanceValue:f,rightDistanceValuePercentage:g,bottomDistanceLeft:m,leftDistanceLeft:b,leftDistanceAmount:S,leftDistanceValue:y,leftDistanceValuePercentage:v}}_measureVertical(e,t,n,i){const{snapshot:{height:r}}=this.context,a=e.y,s=a+e.height,l=t.y,c=l+t.height;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null;return c<a?(C=a-c,u=Object(o.toPercentage)(c,r)):l<a&&c>s?(C=a-l,u=Object(o.toPercentage)(l,r),O=c-s,y=Object(o.toPercentage)(s,r),v=Object(o.toPercentage)((a+s)/2,r),g=Object(o.toPercentage)((a+s)/2,r),d=!0):l>a&&c<s?(C=l-a,u=Object(o.toPercentage)(a,r),O=s-c,y=Object(o.toPercentage)(c,r)):c>a&&c<s?(C=a-l,u=Object(o.toPercentage)(l,r),c-a>7&&(v=Object(o.toPercentage)((c+a)/2,r),g=Object(o.toPercentage)((c+a)/2,r),d=!0)):l>a&&l<s?(C=l-a,u=Object(o.toPercentage)(a,r),s-l>7&&(v=Object(o.toPercentage)((l+s)/2,r),g=Object(o.toPercentage)((l+s)/2,r),d=!0)):l>s&&(O=l-s,y=Object(o.toPercentage)(s,r)),C&&(p=Object(o.toPercentage)(C,r),h=C,n&&(f=Object(o.percentageLength)(C,i.height))),O&&(m=Object(o.toPercentage)(O,r),b=O,n&&(S=Object(o.percentageLength)(O,i.height))),d||(v=Object(o.toPercentage)((l+c)/2,r),g=Object(o.toPercentage)((l+c)/2,r)),{topDistanceTop:u,topDistanceAmount:p,topDistanceValue:h,topDistanceValuePercentage:f,rightDistanceTop:g,bottomDistanceAmount:m,bottomDistanceValue:b,bottomDistanceValuePercentage:S,bottomDistanceTop:y,leftDistanceTop:v}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(f,{measurements:this.measure()})}}class m extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:r}=this.props,a=e.x,s=a+e.width,l=e.y,c=l+e.height;let d=null,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null,E=null,T=null,_=null,P=null,j=null,D=null,k=null;return r.includes("left")&&(d=0,p=Object(o.toPercentage)(a,n),u=Object(o.toPercentage)((l+c)/2,i),h=a,t&&(f=Object(o.percentageLength)(a,n))),r.includes("top")&&(m=0,b=Object(o.toPercentage)(l,i),g=Object(o.toPercentage)((a+s)/2,n),S=l,t&&(y=Object(o.percentageLength)(l,i))),r.includes("right")&&(v=Object(o.toPercentage)(s,n),O=Object(o.toPercentage)(n-s,n),C=Object(o.toPercentage)((l+c)/2,i),E=n-s,t&&(T=Object(o.percentageLength)(E,n))),r.includes("bottom")&&(D=Object(o.toPercentage)(c,i),_=Object(o.toPercentage)(i-c,i),k=Object(o.toPercentage)((a+s)/2,n),P=i-c,t&&(j=Object(o.percentageLength)(P,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:p,leftDistanceValue:h,leftDistanceValuePercentage:f,topDistanceLeft:g,topDistanceTop:m,topDistanceAmount:b,topDistanceValue:S,topDistanceValuePercentage:y,rightDistanceLeft:v,rightDistanceTop:C,rightDistanceAmount:O,rightDistanceValue:E,rightDistanceValuePercentage:T,bottomDistanceLeft:k,bottomDistanceTop:D,bottomDistanceAmount:_,bottomDistanceValue:P,bottomDistanceValuePercentage:j}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(f,{measurements:this.measure()})}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1454);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(303);n(1455);t.default=function(e){const{x:t,y:n,width:r,height:a}=e,{snapshot:{width:s,height:l}}=this.context,c=Object(o.toPercentage)(n,l),d=Object(o.toPercentage)(t+r,s),u=Object(o.toPercentage)(n+a,l),p=Object(o.toPercentage)(t,s);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:p},class:"ruler vertical"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1457);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1458),r=n(420),a=n(248);n(1461);const s=()=>{};class l extends i.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this),this.positionLayerWidth=this.positionLayerWidth.bind(this),this.state={layerWidthOnBottom:!1}}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:a,edgeDistanceMode:l,selectedLayerId:c,hoveredId:d,parentLayer:u}=this.props,{snapshot:p,densityScale:h,dimensionSuffix:f}=this.context,{layerWidthOnBottom:g}=this.state,m=!!c&&c===e._id,b=m&&!l&&(!d||d===e._id),S=i.h(o.default,{key:e._id,selectedLayerRef:b?Object(r.default)(this,"selectedLayer"):s,layerWidthRef:b?Object(r.default)(this,"layerWidth"):s,showWidthLabelOnBottom:g,selected:m,shouldRenderDimensions:b,parentLayer:u,container:p,data:e,densityScale:h,dimensionSuffix:f,onSelect:t,onEnter:n,onLeave:a});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(S),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(S),t}return[S]}positionLayerWidth(){const{selectedLayerId:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayer:i}=this.nodeRefs;if(!e||!t||!i)return;const o=t.getBoundingClientRect(),r=i.getBoundingClientRect(),s=e.getBoundingClientRect();if(n){const e=new DOMRect(o.x,r.y-24,o.width,o.height);Object(a.rectanglesIntersect)(e,s)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(a.rectanglesIntersect)(o,s);e&&this.setState({layerWidthOnBottom:e})}}}componentDidUpdate(){this.positionLayerWidth()}render(){const{layers:e,componentLayer:t}=this.props;return i.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),t&&i.cloneElement(t,{componentLayerTagRef:Object(r.default)(this,"componentLayerTag")}))}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1459);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(303),r=n(399),a=n(558);n(1460);class Layer extends a.default{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<3||n<3)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>120&&n.push(i.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>120&&n.push(i.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<3,o=t<3,a=Object(r.default)("hitRegion",{tooNarrow:n,tooShort:o});return i.h("div",{key:"hitRegion",class:a})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:a,dimensionSuffix:s,showWidthLabelOnBottom:l,layerWidthRef:c}=this.props,{platform:d,remPreferences:u}=this.context,p=Object(r.default)("layerWidth",{showOnBottom:l}),h="web"===d&&"enabled"===u.status&&u.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:c,class:p},Object(o.percentageLength)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(o.percentageLength)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:c,class:p},h?Object(o.toRemSize)(t/a,u.remRootFontSize):Object(o.round)(t/a,1)+s),i.h("div",{key:"layerHeight",class:"layerHeight"},h?Object(o.toRemSize)(n/a,u.remRootFontSize):Object(o.round)(n/a,1)+s)]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:a,height:s},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:p,selectedLayerRef:h}=this.props,f={width:Object(o.toPercentage)(a,d.width),height:Object(o.toPercentage)(s,d.height),left:Object(o.toPercentage)(l,d.width),top:Object(o.toPercentage)(c,d.height)};return i.h("div",{class:Object(r.default)("zplLayer",{selected:e}),style:f,ref:h,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},p&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}t.default=Layer},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1463);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={src:null}}getProps(e,t){return t.snapshot?t.snapshot:e.snapshot?e.snapshot:e}componentDidMount(){this.setState({src:this.getProps(this.props,this.context).url})}componentWillReceiveProps(e,t){const{src:n}=this.state,{url:i}=this.getProps(e,t);n!==i&&this.setState({src:i})}render(){const{class:e,style:t,onError:n}=this.props,{src:o}=this.state,{width:r,height:a}=this.getProps(this.props,this.context);return i.h("img",{class:e,style:t,width:r,height:a,src:o,crossOrigin:"anonymous",onError:n})}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1465);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442),r=n(263),a=n.n(r),s=n(245),l=n(303);n(1466);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleTagClick",()=>{const{onTagClick:e}=this.props;e&&e()}),c(this,"handleVariantsButtonClick",e=>{const{onVariantsButtonClick:t,componentLayer:{_id:n}}=this.props;e.stopPropagation(),t(n)})}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:r,containerWidth:c,containerHeight:d,zoomLevel:u,componentLayerTagRef:p}=this.props;if(!r)return null;const{_id:h,name:f,rect:{width:g,height:m,x:b,y:S},variant:y}=r,v=t===a.a.PROJECT?"project-styleguide-components":"styleguide-components",C=Object(s.urlResolve)(v,{url:{bid:e},query:{coid:h}}),O={width:Object(l.toPercentage)(g,c),height:Object(l.toPercentage)(m,d),left:Object(l.toPercentage)(b,c),top:Object(l.toPercentage)(S,d)},E=Math.min(g*u,240),T=y?36:null;return i.h("div",{class:"componentLayer",style:O},i.h("div",{class:"componentLayerControls",style:{maxWidth:E,minWidth:T}},i.h("a",{ref:p,href:C,title:f,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},E>62&&i.h("span",{class:"componentLayerName ellipsis"},f),i.h(o.IconGoTo,{width:"12",height:"12",color:"#fff"})),y&&i.h(i.Fragment,null,i.h("div",{class:"variantsSeperator"}),i.h("button",{type:"button",onClick:this.handleVariantsButtonClick},i.h(o.IconVariants,{width:"14",height:"14",color:"#fff"})))))}}d.defaultProps={zoomLevel:1},t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1469),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1470)),s=i(n(1474)),l=i(n(1477)),c=i(n(517)),d=n(442),u=i(n(399)),p=n(247),h=n(1472),f=i(n(1480)),g=i(n(1481));n(1482),t.default=function(e){const{screenViewRef:t,componentName:n,componentURL:i,screenName:m,snapshot:b,platform:S,spacingTokens:y,remPreferences:v,stateVariants:C,otherVariants:O,selectedLayer:E,destinationLayer:T,largestOfVariants:_}=e,P=r.useRef(),[j,D]=r.useState(null);function k(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!0})}function I(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!1})}r.useEffect(()=>(E?document.addEventListener("click",f.default.deselectLayer):document.removeEventListener("click",f.default.deselectLayer),()=>document.removeEventListener("click",f.default.deselectLayer)),[!!E]),r.useEffect(()=>{const e=document.querySelector(".screenViewContainer");if(!e)return;const t=document.querySelector(".componentLayer"),{width:n,height:i}=b,o=Math.min(720,i+36+46),r=(null==t?void 0:t.getBoundingClientRect())||{height:0,top:0},a=e.getBoundingClientRect(),s=r.top-a.top+(r.height-o)/2,l=a.right-n;D({x:l,y:s})},[]);const R=_.width+h.MIN_HORIZONTAL_PADDING_BOTH_SIDES,A=R>h.MAX_IMAGE_WIDTH?h.MAX_IMAGE_WIDTH:R,w={minWidth:Math.max(h.MIN_IMAGE_WIDTH,A),maxWidth:Math.min(h.MAX_IMAGE_WIDTH,_.width+h.MAX_HORIZONTAL_PADDING_BOTH_SIDES)};if(!j)return null;const{x:N,y:L}=j;return o.h(l.default,{offset:{top:12,right:12,bottom:52,left:12},x:N,y:L},o.h("div",{ref:P,class:"componentVariantView",onClick:function(e){e.stopPropagation(),f.default.deselectLayer()},style:w},o.h("div",{class:"componentInspect",style:{minHeight:_.height+h.MAX_VERTICAL_PADDING_BOTH_SIDES}},o.h(a.default,{platform:S,snapshot:b,spacingTokens:y,remPreferences:v,selectedLayer:E,destinationLayer:T,onLayerSelect:function(e,t){e.stopPropagation(),f.default.selectLayer(t)},onLayerEnter:f.default.enterLayer,onLayerLeave:f.default.leaveLayer})),o.h("div",{class:"variantInfo"},C?C.filter(({coid:e})=>!e).length===C.length?null:o.h(c.default,{onChange:k,class:"stateVariantsDropdown",optionsClass:"stateVariantsDropdownOptions"},C.map(({name:e,coid:t,selected:n})=>o.h(c.default.Item,{class:u.default("stateVariantDropdownItem",{disabled:!t}),key:e,value:t,label:e,selected:n}))):null,0===O.length?null:o.h(s.default,{variants:O,onChangeVariant:I})),o.h("button",{class:"closeButton",onClick:f.default.close},o.h(d.IconHintClose,{width:14,height:14})),o.h("button",{class:"copyButton",onClick:function(){p.copyContent({content:i,toastContainer:t}),mixpanel.master.track("Copied component variant link"),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Variant pop-up"})}},o.h(d.IconCustomLink,{width:16,height:16,class:"copyButtonIcon",color:"var(--teflon)"})),o.h("a",{onClick:function(){mixpanel.master.track("Navigated to component from screen",{Source:"Variant pop-up"})},href:i,title:n,"data-link-type":"inApp","data-back":m},o.h("span",{class:"ellipsis"},n),o.h(d.IconGoTo,{width:12,height:12,color:"#fff"}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1471);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1448)),s=n(1472),l=i(n(399)),c=n(252);n(1473),t.default=function({platform:e,snapshot:t,selectedLayer:n,destinationLayer:i,remPreferences:d,spacingTokens:u,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}){const[g,m]=r.useState("dark");r.useEffect(()=>{c.getImageProperties(t.url).then(({lightness:e})=>m(e)).catch(()=>{m("dark")})},[t.url]);let b=t.width,S=t.height;if(t.width>s.MAX_IMAGE_WIDTH){const e=s.MAX_IMAGE_WIDTH/b;b*=e,S*=e}if(t.height>s.MAX_IMAGE_HEIGHT){const e=s.MAX_IMAGE_HEIGHT/S;b*=e,S*=e}const y={width:b,height:S};return o.h(a.default,{class:l.default("componentVariantInspect",{dark:"dark"===g}),platform:e,snapshot:t,remPreferences:d,spacingTokens:u,style:y},o.h(a.default.Image,{style:y,key:"componentVariantSnapshotImage-"+t.url}),function(){if(!n)return null;const{absoluteRect:{x:e,y:t,width:i,height:r}}=n;return o.h(a.default.Rulers,{key:"rulers",x:e,y:t,width:i,height:r})}(),t.layers&&0!==t.layers.length?o.h(a.default.Layers,{key:"layers",layers:t.layers,selectedLayerId:n?n._id:null,hoveredId:i?i._id:null,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}):null,n&&i?o.h(a.default.Distances.BetweenLayers,{key:"distances",sourceRect:n.absoluteRect,destRect:i.absoluteRect}):null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_VERTICAL_PADDING_BOTH_SIDES=t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_IMAGE_HEIGHT=t.MIN_IMAGE_WIDTH=t.MAX_IMAGE_WIDTH=void 0,t.MAX_IMAGE_WIDTH=1080,t.MIN_IMAGE_WIDTH=180,t.MAX_IMAGE_HEIGHT=720,t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=216,t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=36,t.MAX_VERTICAL_PADDING_BOTH_SIDES=36},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1475);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(399)),s=n(442),l=i(n(1028)),c=i(n(519));n(1476),t.default=function({variants:e,onChangeVariant:t}){const[n,i]=r.useState(!1),d=r.useRef();function u(){i(!1)}function p(e){t(e),u()}const h=e.reduce((e,t)=>t.values.reduce((e,{name:t,selected:n})=>n?[...e,t]:e,e),[]).join(", ");return o.h(o.Fragment,null,o.h("button",{type:"button",ref:d,class:a.default("otherVariants",{open:n}),onClick:function(){i(!n)}},o.h("span",{class:"ellipsis"},h),o.h(s.IconArrowDown,{width:9,color:"var(--gandalf)"})),n&&o.h(c.default,{didRender:function(e){if(!d.current)return;const t=d.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.left;let r,a;a=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,r=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${r}px, ${a}px, 0)`}},o.h(l.default,{onChange:t,onClose:u,class:"otherVariantsMenu"},e.map((function(e){const{name:t,values:n}=e;return o.h(l.default.Submenu,{content:t},n.map(({name:e,coid:t,selected:n})=>o.h(l.default.Switch,{key:e,content:e,name:t,disabled:!t,value:n,onClick:p})))})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1478);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(522),r=n(303);n(1479),t.default=function({children:e,x:t=0,y:n=0,offset:a=0}){var s,l,c,d,u;const p=o.useRef(),[h,f]=o.useState(!1),[g,m]=o.useState({x:0,y:0}),[b,S]=o.useState({x:0,y:0}),[y,v]=o.useState({x:t,y:n}),[C,O]=o.useState("hidden");function E(e){e.preventDefault(),e.stopPropagation(),S({x:e.clientX-g.x,y:e.clientY-g.y})}function T(e){e.preventDefault(),e.stopPropagation(),f(!1)}o.useEffect(()=>(h?(document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)):(document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)),()=>{document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)}),[h]),o.useEffect(()=>{O("visible")},[]);const{width:_=0,height:P=0}=null!==(c=null===(l=null===(s=p.current)||void 0===s?void 0:s.parentElement)||void 0===l?void 0:l.getBoundingClientRect())&&void 0!==c?c:{},{width:j=0,height:D=0}=null!==(u=null===(d=p.current)||void 0===d?void 0:d.getBoundingClientRect())&&void 0!==u?u:{};let k,I,R,A;"number"==typeof a?(k=a,I=a,R=a,A=a):({top:k,right:I,bottom:R,left:A}=a);const w={transform:`translate(${r.clamp(y.x+b.x,A,_-j-I)}px, ${r.clamp(y.y+b.y,k,P-D-R)}px)`,visibility:C};return i.h("div",{ref:p,style:w,class:"draggablePanel",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),v({x:y.x+b.x,y:y.y+b.y}),m({x:e.clientX,y:e.clientY}),S({x:0,y:0}),f(!0)}},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(336)),r=i(n(271)),a={open(e,t){const{selectedLayer:n}=r.default.ScreenStore.getState();r.default.dispatcher.dispatch({type:o.default.OPEN,coid:e,sourceLayerId:n&&n._id,variantPopupSource:t})},close(){r.default.dispatcher.dispatch({type:o.default.CLOSE})},selectLayer(e){r.default.dispatcher.dispatch({type:o.default.SELECT_LAYER,layer:e})},enterLayer(e){r.default.dispatcher.dispatch({type:o.default.ENTER_LAYER,layer:e})},leaveLayer(){r.default.dispatcher.dispatch({type:o.default.LEAVE_LAYER})},deselectLayer(){r.default.dispatcher.dispatch({type:o.default.DESELECT_LAYER})},changeVariant({coid:e,variantChangeValueSource:t,isState:n}){r.default.dispatcher.dispatch({type:o.default.CHANGE_VARIANT,coid:e,variantChangeValueSource:t,isState:n})}};t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="Button",e.SHORTCUT="Shortcut"}(i||(i={})),t.default=i},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1484);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1485),s=n(1488),l=n(1491),c=n(1494),d=n(1497),u=n(1499),p=n.n(u),h=n(230);n(1502);const f=Object(h.featureValue)("popout");function g(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:o}=e;return t?null:i.h(a.default,{onClick:o,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:o,onZoomChange:r}=e;return i.h(s.default,{value:t,onZoomIn:n,onZoomOut:o,onChange:r})}(e),function(e){const{onPopoutWidgetClick:t}=e;return h.isWindowsApp?i.h(l.default,{disabled:!f,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:o,onNotesVisibilityChange:r,fetchingNotes:a,noNotes:s,notesStatusFilter:l,notesColorFilter:u,disableFilterNotesDropdown:h,dotCount:f,onFilterNotesChange:g}=e;return t?i.h(i.Fragment,null,i.h(c.default,{onClick:o}),i.h(d.default,{notesVisible:n,onChange:r}),i.h(p.a,{class:"widget",top:-146,fetchingNotes:a,noNotes:s,statusFilter:l,colorFilter:u,dotCount:f,disabled:h,onFilterChange:g})):null}(e)))}g.propTypes={latestVersionSelected:r.a.bool.isRequired,versionsVisible:r.a.bool.isRequired,hasNewVersions:r.a.bool.isRequired,onVersionsToggleClick:r.a.func.isRequired,zoomLevel:r.a.number.isRequired,onZoomIn:r.a.func.isRequired,onZoomOut:r.a.func.isRequired,onZoomChange:r.a.func.isRequired,onPopoutWidgetClick:r.a.func.isRequired,onAddNoteWidgetClick:r.a.func.isRequired,notesVisible:r.a.bool.isRequired,onNotesVisibilityChange:r.a.func.isRequired,noNotes:r.a.bool.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1486);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(442);n(1487);function l(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:Object(a.default)("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h(s.IconHourGlass,null))}l.propTypes={hasNewVersions:r.a.bool.isRequired,onClick:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1489);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(404),s=n(340);n(1490);class l extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(a.default,{disabled:e<=s.ZOOM_LEVEL_MIN,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},s.default.map(t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(a.default,{disabled:e>=s.ZOOM_LEVEL_MAX,onClick:t},i.h("div",{class:"plus"})))}}l.propTypes={value:r.a.number.isRequired,onZoomIn:r.a.func.isRequired,onZoomOut:r.a.func.isRequired,onChange:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1492);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(619),l=n(399);n(1493);function c(e){const{disabled:t,onClick:n}=e;return i.h(s.default,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:Object(l.default)("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(a.IconPopout,null)))}c.propTypes={disabled:r.a.bool.isRequired,onClick:r.a.func.isRequired},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1495);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(442),s=n(229);n(1496);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){const e=Object(s.getOS)()===s.OS.MAC?"⌘":"Ctrl";return i.h("button",{class:"widget addNoteWidget",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},i.h("span",{class:"shortcut"},e,i.h(a.IconCursorPointer,{class:"cursorPointer"})),i.h(a.IconAddNote,{class:"addNoteIcon"}))}}l.propTypes={onClick:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(558),s=n(551);n(1498);class l extends a.default{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(s.default,{asset:e?"img/maymusOpen.png":"img/maymusClose.png"}))}}l.propTypes={notesVisible:r.a.bool.isRequired,onChange:r.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1500);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(517)),a=i(n(914)),s=i(n(399)),l=n(249),c=n(328),d=i(n(865));n(1501);const u={[d.default.Open]:"Open Notes",[d.default.Mentioned]:"Mentioned Notes",[d.default.Resolved]:"Resolved Notes"};function p({color:e,count:t,status:n,fetchingNotes:i,noNotes:r}){let s;return s=i?"Fetching…":r?"No notes yet":l.pluralize(t>0?t:"No",u[n].slice(0,-1)),o.h("div",{class:"statusFilterLabel"},e&&o.h(a.default,{class:"statusFilterLabelColor",color:e,selected:!1}),s)}t.default=function({class:e,statusFilter:t,colorFilter:n,dotCount:i,top:l,disabled:d,fetchingNotes:h,noNotes:f,onFilterChange:g}){function m(e,i){g(t,n===i?null:i)}return o.h(r.default,{disabled:d,alignRight:!0,class:s.default("filterNotesDropdown",e),top:l,onChange:function(e){t!==e&&g(e,n)}},Object.keys(u).map(e=>o.h(r.default.Item,{key:e,label:o.h(p,{color:n,count:i,status:e,fetchingNotes:h,noNotes:f}),value:e,selected:t===e},o.h("span",{class:"noteStatusFilterItem"},u[e]))),o.h("div",{class:"noteFilterSeparator"}),o.h("div",{class:"noteColorFilter"},c.colorNames.map(e=>o.h(a.default,{key:e,class:"noteColorFilterItem",color:e,selected:e===n,onClick:m}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HEADER="Header",e.LAYER_DETAIL="Layer detail",e.SHORTCUT="Shortcut",e.NOTE="Note"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(263)),r=n(245);function a(e,t,n){var i;for(const o of n.components)if(o._id!==e._id&&o.variant&&o.variant.values.length===(null===(i=e.variant)||void 0===i?void 0:i.values.length)){if(!o.variant.values.find(n=>{var i;if(n.propertyId===t.propertyId)return n.value!==t.value;const o=null===(i=e.variant)||void 0===i?void 0:i.values.find(e=>e.propertyId===n.propertyId);return!o||o.value!==n.value}))return o}for(const o of n.componentSections){const n=a(e,t,o);if(n)return n}return null}t.default=function(e,t,n){var i;const{ancestors:s,component:l}=e,c=s.find(e=>!!e.variant),d=c?function(e,t){if(!e.variant||!t.variant)return null;const n=t.variant.properties.find(e=>"state"===e.name.toLowerCase()),i=t.variant.properties.filter(e=>"state"!==e.name.toLowerCase()),o=e.variant.values.find(({propertyId:e})=>(null==n?void 0:n._id)===e);let r,s={width:e.latestVersion.snapshot.width,height:e.latestVersion.snapshot.height};if(n){r=[];for(const i of n.values){const l=a(e,{propertyId:n._id,value:i},t),c=l?l._id:null;r.push({name:i,selected:(null==o?void 0:o.value)===i,coid:(null==o?void 0:o.value)===i?e._id:c}),s=l?{width:Math.max(s.width,l.latestVersion.snapshot.width),height:Math.max(s.height,l.latestVersion.snapshot.height)}:s}}const l=[];for(const{_id:c,name:d,values:u}of i)if(u.length>0){const n=e.variant.values.find(({propertyId:e})=>c===e),i=[];for(const o of u){const r=a(e,{propertyId:c,value:o},t),s=r?r._id:null;i.push({name:o,selected:(null==n?void 0:n.value)===o,coid:(null==n?void 0:n.value)===o?e._id:s})}l.push({name:d,values:i})}return{stateVariants:r,otherVariants:l,largestOfVariants:s}}(l,c):{},u=t===o.default.PROJECT?"project-styleguide-components":"styleguide-components",p=r.urlResolve(u,{url:{bid:n},query:{coid:l._id}});return Object.assign({snapshot:l.latestVersion.snapshot,componentURL:p,componentName:null!==(i=null==c?void 0:c.name)&&void 0!==i?i:l.name},d)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1507);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(379),s=n(364),l=n(385),c=n(370),d=n(846),u=n(271),p=n.n(u),h=n(1480),f=n.n(h),g=n(1508),m=n(1642),b=n(1305),S=n(244),y=n(248),v=n(399),C=n(420),O=n(247),E=n(259),T=n(1428),_=n(1174),P=n(386);n(1677);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"state",{scrollDisabled:!1}),D(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),D(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),D(this,"handleAddColorClick",e=>{a.default.addColor({color:e,syncWithApi:!0}),Object(E.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}),D(this,"handleColorNameChange",(e,t)=>{a.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),D(this,"handleRemoveColorClick",e=>{a.default.removeColor({cid:e,syncWithApi:!0})}),D(this,"handleAddTextStyleClick",e=>{a.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(E.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}),D(this,"handleTextStyleNameChange",(e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return S.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();a.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),D(this,"handleRemoveTextStyleClick",e=>{a.default.removeTextStyle({tsid:e,syncWithApi:!0})}),D(this,"handleRequestOrgInviteClick",()=>{const{organizationId:e}=this.state;d.default.requestInvite(e,this.nodeRefs.sidebar)}),D(this,"handleCopyCode",(e,t)=>{const{platform:n}=this.state;a.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Screen"})}),D(this,"handleCopy",e=>{Object(O.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})})}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick}}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.UserStore,p.a.ComponentVariantStore]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=p.a.BarrelStore.getState();if(e)return{loading:!0};const o=s.default.getBarrel(),r=s.default.findUser(),{screenId:a,loadingVersions:l,versionId:d,latestVersionSelected:u,selectedLayer:h,screenSidebarWidth:f}=p.a.ScreenStore.getState();if(l&&!u)return{loading:!0};const g=c.default.getScreen(),m=c.default.getVersion({sid:a,vid:d}),b=Object(T.findCoveringLink)(o,m,h),S=new _.default(o),y=s.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),{componentVariantViewVisible:v,selectedLayer:C,selectedComponentVariantId:O}=p.a.ComponentVariantStore.getState();let E;v&&({component:E}=Object(P.findComponentById)(y,O));const j=y.some(({connectedComponents:e})=>e&&e.length>0);return{loading:!1,barrelType:t,barrelId:n,barrelUser:r,organizationId:i,platform:o.type,flowLink:b,formatter:S,screenId:a,screen:g,version:m,selectedLayer:h,sidebarWidth:f,styleguidesData:y,componentVariantViewVisible:v,variantViewSelectedLayer:C,variantComponent:E,hasConnectedComponent:j}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i,hasConnectedComponent:o}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,hasConnectedComponent:o,permissions:{canManageColors:y.permissions.canManageColors(n),canManageScreens:y.permissions.canManageColors(n),canManageTextStyles:y.permissions.canManageTextStyles(n)},enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:o,formatter:r,componentVariantViewVisible:a,variantViewSelectedLayer:s,variantComponent:c}=this.state;return a&&s?i.h(g.default,j({layer:s,layerContainer:c,version:c.latestVersion,formatter:r},this.getHandlers(),{onCloseClick:f.a.deselectLayer})):i.h(g.default,j({layer:n,layerContainer:e,version:t,flowLink:o,formatter:r},this.getHandlers(),{onCloseClick:l.default.deselectLayer}))}renderResourceView(){const{formatter:e}=this.state;return i.h(m.default,j({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,variantViewSelectedLayer:n,sidebarWidth:o,scrollDisabled:r}=this.state;if(e)return i.h(b.default.Loading,null);const a=!t&&!n;return i.h(b.default,{baseRef:Object(C.default)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:o,minWidth:260,onRelease:l.default.changeScreenSidebarWidth,noScroll:r},i.h("div",{class:"sidebarViews",onClick:y.stopPropagation},i.h("div",{class:Object(v.default)("sidebarView",{scrollable:a})},t||n?this.renderLayerDetail():this.renderResourceView())))}}t.default=r()(k)},function(e,t,n){"use strict";n.r(t);var i=n(1509);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(248),a=n(1510),s=n(386),l=n(1511),c=n(295),d=n(1512),u=n(1621),p=n(379),h=n(364),f=n(271),g=n.n(f),m=n(1304),b=n(513),S=n.n(b),y=n(232),v=n(1640),C=n.n(v);n(1641);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.default{constructor(...e){super(...e),T(this,"handleDownloadAssetClick",(e,t)=>{const{layerContainer:{name:n},version:i}=this.props,{selectedView:o}=this.state,{screenContainerRef:r,styleguideContainerRef:a}=this.context,s=o===y.ProjectViewTypes.SCREEN?r():a();p.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:s,source:"Layer detail"})}),T(this,"handleAssetNameChange",(e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;p.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Layer detail"})})}static getStores(){return[g.a.BarrelStore,g.a.StyleguidesDataStore,g.a.ProjectsDataStore,g.a.ScreenStore,g.a.ComponentVariantStore]}static calculateState(e,t){const{layer:n,version:{snapshot:i,snapshot:{density:o,densityScale:l=Object(r.getDensityScale)(o)}}}=t,{loading:c,selectedView:d,assetDensityScalePrefs:u,assetExportTarget:p,assetNamingConvention:f,densityMismatchWarningHidden:m,flowLinkInfoDismissed:b,noVectorAssetInfoHidden:S,showOptimizedSVG:y,connectedComponentsDevModeEnabled:v,connectedComponentsLocalWorkspace:C,connectedComponentsEditorInfo:O,connectedComponentsOnboardingDialogSeen:E,numberOfHighlightedConnectToCodeButtonViews:T}=g.a.BarrelStore.getState();if(c)return{loading:!0};const{type:_,densityScale:P}=h.default.getBarrel(),{componentVariantsOnboardingHintboxSeen:j,componentVariantViewSeen:D,numberOfLayerComponentViews:k}=g.a.ScreenStore.getState(),I=l!==P&&!m,R=h.default.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{componentVariantViewVisible:A,selectedLayer:w,selectedComponentVariantId:N}=g.a.ComponentVariantStore.getState();let L;A&&w&&({component:L}=Object(s.findComponentById)(R,N));let x=Object(a.findAsset)(i,n);const M=L&&L.latestVersion.snapshot.assets||[];!x&&M&&(x=M.find(e=>"snapshot"===e.layerId));return{loading:!1,selectedView:d,platform:_,asset:x,assetDensityScalePrefs:u,assetExportTarget:p,assetNamingConvention:f,showDensityMismatchWarning:I,flowLinkInfoDismissed:b,noVectorAssetInfoHidden:S,showOptimizedSVG:y,connectedComponentsDevModeEnabled:v,connectedComponentsLocalWorkspace:C,connectedComponentsEditorInfo:O,styleguidesData:R,shouldDisplayComponentVariantsOnboardingHintbox:!D&&!j&&k<s.LAYER_COMPONENT_VIEW_LIMIT,shouldHighlightConnnectToCodeButton:!E&&T<s.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:o,version:r,onCopy:a,onCopyCode:h,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onCloseClick:O}=this.props,{loading:T,platform:_,asset:P,assetDensityScalePrefs:j,assetExportTarget:D,assetNamingConvention:k,showDensityMismatchWarning:I,flowLinkInfoDismissed:R,noVectorAssetInfoHidden:A,showOptimizedSVG:w,connectedComponentsDevModeEnabled:N,connectedComponentsLocalWorkspace:L,connectedComponentsEditorInfo:x,styleguidesData:M,shouldDisplayComponentVariantsOnboardingHintbox:U,shouldHighlightConnnectToCodeButton:B}=this.state;if(T)return null;const z=Object(s.getComponentLayerForVariant)(r.snapshot,n,M);let V=null,W=null;z&&(W=C()(z),V=Object(s.findConnectedComponentByIdOrName)(z.component._id,z.component.name,M,N));const F=new c.default(E(E({},n),{},{asset:P})),H=Object(l.transformLayer)(F,t,_,M,W);return i.h("div",{class:"layerDetail"},i.h(d.default,{layer:H,connectedComponent:V,shouldDisplayComponentVariantsOnboardingHintbox:U,shouldHighlightConnnectToCodeButton:B,connectedComponentsDevModeEnabled:N,connectedComponentsLocalWorkspace:L,connectedComponentsEditorInfo:x,containerName:e,projectType:_,showDensityMismatchWarning:I,noVectorAssetInfoHidden:A,assetDensityScalePrefs:j,namingConvention:k,showOptimizedSVG:w,flowLink:o,flowLinkInfoDismissed:R,assetExportTarget:D,onOpenExportTargetClick:p.default.openExportTarget,onChangeExportTargetClick:p.default.changeExportTarget,onCloseClick:O,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onContentCopyClick:a,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:p.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:p.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:p.default.changeAssetDensityScalePref,onNamingConventionChange:p.default.changeAssetNamingConvention,onShowOptimizedSVGChange:p.default.toggleSVGOptimization,onHideFlowInfoClick:p.default.dismissFlowLinkInfo}),i.h(u.default,{class:"codeSection",version:r,layer:F,onCopyClick:h,onSettingsClick:m.default.openSettings}))}}t.default=S()(_,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"getSupportedDensityScales",(function(){return c})),n.d(t,"initAssetDensityScalePrefsIfNecessary",(function(){return d})),n.d(t,"isAssetDensityScaleSelected",(function(){return u})),n.d(t,"sortFormats",(function(){return p})),n.d(t,"formatName",(function(){return h})),n.d(t,"getExportName",(function(){return f})),n.d(t,"isSupportedAssetContent",(function(){return g})),n.d(t,"findAsset",(function(){return m}));var i=n(254),o=n(232),r=n(248);const a={png:0,jpg:1,pdf:2,svg:3},s=Object.freeze({[o.PLATFORM.BASE]:["svg"],[o.PLATFORM.ANDROID]:["png","jpg","svg"],[o.PLATFORM.IOS]:["png","jpg","pdf","svg"],[o.PLATFORM.OSX]:["png","jpg","pdf","svg"],[o.PLATFORM.WEB]:["png","jpg","svg"]}),l=Object.freeze({[o.PLATFORM.BASE]:[o.DENSITY._1x],[o.PLATFORM.ANDROID]:[o.DENSITY.MDPI,o.DENSITY.HDPI,o.DENSITY.XHDPI,o.DENSITY.XXHDPI,o.DENSITY.XXXHDPI],[o.PLATFORM.IOS]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x],[o.PLATFORM.OSX]:[o.DENSITY._1x,o.DENSITY._2x],[o.PLATFORM.WEB]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x]});function c(e){return l[e]}function d(e,t){return t&&t.png?t:{png:c(e)}}function u(e,t,n){return!e[t]||e[t].includes(n)}function p(e,t){return a[e]-a[t]}function h(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.default)(e.layerName,t)}function f(e,t){return e.localName?e.localName:h(e,t)}function g(e,t){const{format:n,density:i,densityScale:o=Object(r.getDensityScale)(i)}=t;return s[e].includes(n)&&l[e].includes(o)}function m(e,t){return t.exportable&&Array.isArray(e.assets)?e.assets.find(e=>e.layerId?e.layerId===t.sourceId:e.layerName===t.name):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"transformAsset",(function(){return c})),n.d(t,"transformAuthors",(function(){return d})),n.d(t,"transformColor",(function(){return u})),n.d(t,"transformLayer",(function(){return m}));var i=n(248),o=n(303),r=n(1510),a=n(247);function s(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`}(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:o,range:r})=>{const a=n.find(e=>e.font.equals(o));let s,l;var c;t.equals(o)?l="default":a?l=a.group:(c=i,l=["turquoise","cornflower-blue","green","yellow","peach"][parseInt(c,10)]||"group-"+c,s=e.content.substring(r.start,r.end),i+=1),s=e.content.substring(r.start,r.end),n.push({font:o,range:r,group:l,content:s})}),n}function c(e,t,n){const{localName:o,displayName:a,layerName:s,contents:l,percent:c,size:d,lightness:u,_id:p}=e,h={},f={},g={previewImages:h,displayName:a,layerName:s,localName:o,formats:f,percent:c,size:d,light:"light"===u,id:p},m=l.filter(e=>Object(r.isSupportedAssetContent)(n,e));for(const r of m){const{density:e,densityScale:t=Object(i.getDensityScale)(e),format:n,optimized:o,url:a}=r,s={densityScale:t,optimized:o,url:a};n in f?f[n].variants.push(s):f[n]={variants:[s]},"diff"in f[n]||(c&&c.type===n?f[n].diff={type:"jpg"===c.type?"png":"jpg",percent:c.diff}:o&&o.percent&&(f[n].diff={type:"svg",percent:o.percent}))}return g.size&&(g.size={width:t.withUnit(g.size.width),height:t.withUnit(g.size.height)}),"png"in f||"svg"in f?("svg"in f&&(h.svg=f.svg.variants[0].url),"png"in f&&f.png.variants.forEach(e=>{h[e.densityScale]=e.url}),g):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0],o=i.creator||{username:"Anonymous"},{_id:r,fullName:s,username:l}=o;return{id:r,fullName:s,username:l,avatar:Object(a.getUserAvatar)(o),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={sourceId:e.sourceId,name:e.name,r:e.r,g:e.g,b:e.b,a:e.a};let o;const r=e.toCSS(),a=t.colorString(e);for(const{id:s,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.filter(t=>t.equals(e));for(const i of n){const n={styleguideId:s,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!0,id:i.id,value:{sourceId:e.sourceId,name:i.name,r:e.r,g:e.g,b:e.b,a:e.a},colorStyle:e.toCSS(),colorString:t.colorString(e),name:i.name};if(i.sourceId||!e.sourceId)return n;o||(o=n)}if(o)return o}for(const{id:s,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.find(t=>t.hexBase()===e.hexBase());if(n&&1===n.a&&(!e.sourceId||!n.sourceId)){const{id:o,name:c}=n;return{styleguideId:s,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!1,id:o,value:i,colorStyle:r,colorString:a,name:c,opacity:t.alpha(e.a)}}}return{added:!1,value:i,colorStyle:r,colorString:a}}function p(e,t,n){return{gradientStyle:s(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(o.round)(i,2),color:u(e,t,n)}))}}function h(e,t,n,r){const a=Object(i.getMostConformingTextStyle)(r,e),{color:s,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}=e,{densityScale:g,remPreferences:m}=r[0],b="web"===n&&"enabled"===m.status&&m.useForFontSizes,S=s&&u(s,t,r),{id:y,styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E}=a||{};return{styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E,id:y,added:!!a,color:S,name:a&&a.name,fontFace:l,fontSize:b?Object(o.toRemSize)(c/g,m.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:p&&(b?Object(o.toRemSize)(p/g,m.remRootFontSize):t.textLength(p)),textAlign:h,fontVariationSettings:f,value:{color:S&&S.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}}}function f(e,t,n,i){return"text"!==e.type?[]:l(e).map(({font:e,group:o,content:r,range:a})=>({textStyle:h(e,t,n,i),group:o,content:r,range:a}))}function g(e,t,n,i){const{densityScale:r,remPreferences:a}=i,{status:s,useForMeasurements:l,remRootFontSize:c}=a;return"web"===n&&"enabled"===s&&l?{x:Object(o.toRemSize)(e.x/r,c),y:Object(o.toRemSize)(e.y/r,c),width:Object(o.toRemSize)(e.width/r,c),height:Object(o.toRemSize)(e.height/r,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}function m(e,t,n,i,o){const{_id:r,id:a=r,absoluteRect:s,assetData:l,blendMode:d,blur:h,borders:m,borderRadius:b,content:S,fills:y,name:v,opacity:C,rotation:O,shadows:E,type:T,styleName:_}=e,P={id:a,borders:m.map(e=>function(e,t,n){const{fill:{color:i,gradient:o},position:r,thickness:a}=e;return{color:i&&u(i,t,n),gradient:o&&p(o,t,n),position:r,thickness:t.length(a)}}(e,t,i)),component:o,content:S,fills:y.map(e=>function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=p(e.gradient,t,n)),i}(e,t,i)),name:v,rect:g(s,t,n,i[0]),shadows:E.map(e=>function(e,t,n){const{blurRadius:i,color:o,offsetX:r,offsetY:a,spread:s,type:l}=e;return{blurRadius:t.length(i),color:u(o,t,n),offsetX:t.length(r),offsetY:t.length(a),spread:t.length(s),type:l}}(e,t,i)),type:T,typefaces:f(e,t,n,i),styleName:_};return l&&(P.asset=c(l,t,n)),h&&(P.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(h,t)),C<1&&(P.opacity=t.percentage(C)),b>0&&(P.borderRadius=t.length(b)),0!==O&&(P.rotation=O),"normal"!==d&&(P.blendMode=d),P}},function(e,t,n){"use strict";n.r(t);var i=n(1513);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1514),r=n(1520),a=n(1535),s=n(1559),l=n(1562),c=n(420),d=n(1592),u=n(1595),p=n(1598),h=n(1602),f=n(1605),g=n(1608),m=n(1611),b=n(1614),S=n(1617);n(1620);class y extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderLayerStyle(e){const{layer:{styleName:t}}=this.props;return t?{layerStyle:i.h(b.default,{styleName:t,showSeparator:e}),showSeparator:!0}:{layerStyle:null,showSeparator:e}}renderAssets(e){const{layer:{asset:t},projectType:n,assetDensityScalePrefs:o,assetExportTarget:r,namingConvention:s,showDensityMismatchWarning:l,showOptimizedSVG:c,noVectorAssetInfoHidden:d,onChangeExportTargetClick:u,onOpenExportTargetClick:p,onDownloadAssetClick:h,onAssetNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:S,onShowOptimizedSVGChange:y}=this.props;return t?{assets:i.h(a.default,{showSeparator:!!e,asset:t,projectType:n,showDensityMismatchWarning:l,noVectorAssetInfoHidden:d,assetDensityScalePrefs:o,namingConvention:s,showOptimizedSVG:c,assetExportTarget:r,onChangeExportTargetClick:u,onOpenExportTargetClick:p,onDownloadClick:h,onNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:S,onShowOptimizedSVGChange:y}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(o.default,{title:"Blur",showSeparator:!!e},i.h(m.default,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:r,onColorNameChange:a}=this.props;return t.length?{borders:i.h(o.default,{title:"Borders",showSeparator:!!e},t.map((e,t)=>i.h(f.default,{key:t,border:e,onColorNameChange:a,onColorAddClick:n,onColorRemoveClick:r}))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:r,connectedComponentsLocalWorkspace:a,connectedComponentsEditorInfo:s,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(o.default,{title:"Component",showSeparator:!0},i.h(S.default,null))),showSeparator:!0};const{componentId:u,componentName:p,properties:h}=t;return{componentSection:i.h(l.default,{containerName:e,connectedComponentsDevModeEnabled:r,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d,connectedComponentsLocalWorkspace:a,connectedComponentsEditorInfo:s,componentId:u,componentName:p,properties:h,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:o},onContentCopyClick:r}=this.props,{hoveredTypeface:a}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(d.default,{showSeparator:!!e,textStyles:o.filter(e=>"default"!==e.group),onCopyClick:r,content:t,hovered:a}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},onAddColorClick:n,onRemoveColorClick:a,onColorNameChange:s}=this.props;return t.length?{fills:i.h(o.default,{title:"Colors",showSeparator:!!e},t.map(e=>"color"===e.type?i.h(r.default,{color:e.color,onNameChange:s,onAddClick:n,onRemoveClick:a}):"gradient"===e.type?i.h(h.default,{gradient:e.gradient,onColorNameChange:s,onColorAddClick:n,onColorRemoveClick:a}):null)),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:r,onColorNameChange:a}=this.props;return t.length?{shadows:i.h(o.default,{title:"Shadows",showSeparator:!!e},t.map((e,t)=>i.h(g.default,{key:t,shadow:e,onColorNameChange:a,onColorAddClick:n,onColorRemoveClick:r}))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:r,onRemoveTextStyleClick:a,onTextStyleNameChange:s,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(o.default,{showSeparator:!!e},i.h(p.default,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:r,onRemoveTextStyleClick:a,onTextStyleNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,onCloseClick:o,onHideFlowInfoClick:r}=this.props,{componentSection:a,showSeparator:l}=this.renderComponentSection(),{layerStyle:d,showSeparator:p}=this.renderLayerStyle(l),{typefaces:h,showSeparator:f}=this.renderTypefaces(p),{assets:g,showSeparator:m}=this.renderAssets(f),{fills:b,showSeparator:S}=this.renderFills(m),{borders:y,showSeparator:v}=this.renderBorders(S),{shadows:C,showSeparator:O}=this.renderShadows(v),{blur:E,showSeparator:T}=this.renderBlur(O),{content:_}=this.renderContent(T);return i.h("div",{class:"detailSections",ref:Object(c.default)(this,"base")},i.h("div",{class:"withPadding"},i.h(s.default,{onCloseClick:o},t.name)),i.h("div",{class:"withPadding"},i.h(u.default,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:r})),a,i.h("div",{class:"withPadding"},d,h,g,b,y,C,E,_))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1515);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1516),r=n.n(o),a=n(399);n(1519);t.default=function(e){const{class:t,children:n,title:o,showSeparator:s}=e;return i.h("div",{class:Object(a.default)("sidebarSection",t)},s&&i.h(r.a,null),o&&i.h("h2",{class:"title"},o),n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1517);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1518),t.default=function(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1521);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1522),r=n(947),a=n.n(r);n(1534);class s extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:r,colorString:a,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:p}=this.props,{permissions:{canManageColors:h}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:r}}),i.h(o.default,{class:"layerColorInfo",added:n,hover:p,id:e,name:t,colorString:a,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}}const l=a()(s);t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1523);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1524),r=n.n(o),a=n(263),s=n.n(a),l=n(442),c=n(1526),d=n(399),u=n(245);n(1533);t.default=function(e,t){const{added:n,isMember:o,isOrganizationBarrel:a,styleguideId:p,styleguideName:h,id:f,name:g,canManageColors:m,class:b,colorString:S,hover:y,opacity:v,onAddClick:C,onRemoveClick:O,onNameChange:E}=e,{barrelType:T,barrelId:_}=t;let P;!!g&&(P=n&&m&&p===_?i.h(r.a,{initialValue:g,hasHover:y,textInputProps:{prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}):i.h(r.a,{initialValue:v?`${g}, ${v}`:g,hasHover:y,textInputProps:{readonly:!0,prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}));const j=!m||n&&p!==_,D=T===s.a.STYLEGUIDE?"styleguide":"project-styleguide",k=Object(u.urlResolve)(D+"-colors",{url:{bid:_},query:{cid:f}});return i.h("div",{class:Object(d.default)("colorInfo",b,{hover:y})},i.h("div",{class:"infoContent"},P,i.h("div",{class:"value"},S)),i.h(c.default,{onAddClick:C,onRemoveClick:O,resourceAdded:n,isMember:o,isOrganizationBarrel:a,styleguideId:p,styleguideName:h,canManageResource:m,class:"resourceButton",type:c.default.TYPE.COLOR,disabled:j}),f&&i.h("a",{href:k,class:"goToResource","data-link-type":"inApp"},i.h(l.IconGoTo,{width:"18",height:"18"})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1525);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1235)),a=n(232);class s extends o.Component{constructor(){super(...arguments),this.state={oldValue:this.props.initialValue,value:this.props.initialValue},this.inputRef=void 0,this.handleInputRef=e=>{this.inputRef=e},this.handleKeyDown=e=>{e.key===a.Keyboard.Key.Escape&&(e.stopPropagation(),this.setState({value:this.state.oldValue},()=>{var e;null===(e=this.inputRef)||void 0===e||e.blur()}))},this.handleBlur=e=>{if(!e.target)return;const{initialValue:t,onBlur:n}=this.props,{value:i,oldValue:o}=this.state,r=e.target.value.trim();o!==i&&(r?(this.setState({oldValue:i,value:r}),t!==r&&n(r)):this.setState({value:o}))},this.handleFocus=()=>{this.setState({oldValue:this.state.value})},this.handleInput=e=>{const{onAttemptToChange:t}=this.props;if(t)return void t();if(!e.target)return;const n=e.target,{value:i}=n;this.setState({value:i})}}componentDidUpdate(e){this.props.initialValue!==e.initialValue&&this.props.initialValue!==this.state.value&&this.setState({value:this.props.initialValue,oldValue:this.props.initialValue})}render(){const{textInputProps:e,hasHover:t}=this.props,{value:n}=this.state;return o.h(r.default,Object.assign({},e,{inputRef:this.handleInputRef,value:n,hasHover:t,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1527);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1528),r=n(1530);n(1532);class a extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:s,styleguideName:l,canManageResource:c,type:d=a.TYPE.DEFAULT,resourceAdded:u,disabled:p},{hasClickHover:h}){return u?i.h(r.default,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:s,styleguideName:l,disabled:p,hideHoverState:h,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(o.default,{type:d,class:e,disabled:p,onClick:this.handleAddClick})}}a.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1529);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(619),a=n(923),s=n(442);const l={color:i.h(s.IconColor,{type:"add"}),textStyle:i.h(s.IconTextStyle,{type:"add"})};t.default=function(e,t){const{class:n,disabled:s,type:c,onClick:d}=e,{userRole:u}=t,p=c.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),h=s?Object(a.default)(u,`add ${p}s`):`Add ${p} to Styleguide`;return i.h(r.default,{targetClass:n,content:h},i.h(o.default,{class:"addResourceButton resourceButtonButton",disabled:s,onClick:d},l[c]))}},function(e,t,n){"use strict";n.r(t);var i=n(1531);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(404),a=n(619),s=n(442),l=n(923),c=n(399);const d={color:i.h(s.IconColor,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(s.IconTextStyle,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},u={color:[i.h(s.IconColor,{color:"#fff",key:"tick",type:"tick"}),i.h(s.IconColor,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(s.IconTextStyle,{color:"#fff",key:"tick",type:"tick"}),i.h(s.IconTextStyle,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function p({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:r,styleguideName:a,resourceName:s,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:r,styleguideId:a,styleguideName:s}){if(!n)return Object(l.default)(r,`delete ${e}s`);const c=Object(o.urlResolve)("styleguide",{url:{bid:a}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",s)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,s)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",s),".")]}({resourceName:s,isMember:e,canManageResource:n,userRole:c,styleguideId:r,styleguideName:a}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:r}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(o.urlResolve)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",r)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",r,". Contact the owner to request access.")}({resourceName:s,isMember:e,styleguideId:r,styleguideName:a})}t.default=function(e,t){const{class:n,disabled:o,type:s,onClick:l,hideHoverState:h,onMouseLeave:f,isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y}=e,{userRole:v}=t,C=s.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),O=o?p({isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y,resourceName:C,userRole:v}):`Delete ${C} from Styleguide`,E=i.h(r.default,{class:Object(c.default)("removeResourceButton","resourceButtonButton",{hideHoverState:h}),disabled:o,onClick:l,onMouseLeave:f},o?d[s]:u[s]);return h?E:function(e,{targetClass:t,content:n}){return i.h(a.default,{targetClass:t,content:n},e)}(E,{targetClass:n,content:O})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1536);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(1510),a=n(247),s=n(248),l=n(232),c=n(1537),d=n(1540),u=n(1542),p=n(1544),h=n(1547),f=n(1552),g=n(404),m=n(1235),b=n(1514),S=n(573),y=n.n(S),v=n(1555),C=n(442);n(1558);const O=Object(a.canDownload)();class E extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(r.formatName)(e,t)}hideSettingsMenu(){this.context.enableScroll(),this.setState({settingsOpen:!1})}showSettingsMenu(){this.context.disableScroll(),this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:o}=e.target,r=n||this.getAssetName();o?r!==o&&i(t,o):e.target.value=r}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{formats:e},assetDensityScalePrefs:t,showOptimizedSVG:n,projectType:o}=this.props;return o===l.PLATFORM.BASE?i.h(y.a,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(e).sort(r.sortFormats).map(o=>{const{variants:r,diff:a}=e[o];return i.h(p.default,{key:o,format:o,variants:r,diff:a,assetDensityScalePrefs:t,hideOptimization:!("svg"!==o||n&&a),onDownloadClick:this.createDownloadClickHandler(o)})}))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(y.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{localName:n,size:r,formats:a,light:p,previewImages:S},noVectorAssetInfoHidden:y,showDensityMismatchWarning:E,assetDensityScalePrefs:T,namingConvention:_,showOptimizedSVG:P,projectType:j,assetExportTarget:D,onChangeExportTargetClick:k,onOpenExportTargetClick:I,onHideDensityMismatchWarningClick:R,onAssetDensityOptionChange:A,onNamingConventionChange:w,onShowOptimizedSVGChange:N}=this.props,{settingsOpen:L}=this.state,x=i.h("div",{class:"assetsTitle"},"Assets",i.h(f.default,{open:L,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:A,onNamingConventionChange:w,onShowOptimizedSVGChange:N,projectType:j,settings:{assetDensityScalePrefs:T,namingConvention:_,showOptimizedSVG:P},target:i.h(g.default,{class:Object(o.default)("assetSettingsButton",{active:L}),onClick:this.showSettingsMenu},i.h(C.IconSettings,null))})),M=Object.keys(a).some(e=>"jpg"===e)&&Object.keys(a).every(e=>"svg"!==e&&"pdf"!==e),U=this.getAssetName(),{pattern:B,text:z}=function(e){switch(e){case l.PLATFORM.BASE:case l.PLATFORM.WEB:default:return{pattern:"[\\w-]+",text:"letters, numbers, underscores, and hyphens"};case l.PLATFORM.IOS:case l.PLATFORM.MACOS:return{pattern:"[a-zA-Z\\d]+",text:"letters, and numbers"};case l.PLATFORM.ANDROID:return{pattern:"[a-z\\d_]+",text:"lower cased letters, numbers, and underscores"}}}(j),V=`${Object(s.getPlatformString)(j)} platform assets can only contain ${z}`;return i.h(b.default,{class:Object(o.default)("assetSection",e),title:x,showSeparator:t},E&&i.h(d.default,{class:"warningBox",onHideClick:R}),!O&&i.h(u.default,{class:"warningBox"}),i.h(h.default,{class:"preview",light:p,images:S}),i.h(v.default,{name:"Name",capitalize:!1},i.h(m.default,{class:"assetName",blurOnEnter:!0,title:V,value:n||this.getAssetName(),pattern:B,onBlur:this.handleNameChange,onInput:this.handleNameInput})),n&&i.h("div",{class:"renameInfo"},"Renamed locally from “",U,"”"),i.h(v.default,{name:"Size"},r&&`${r.width} × ${r.height}`),this.renderExports(),D&&i.h(c.default,{name:D.name,type:D.type,path:D.path,pathParts:D.pathParts,onChangeClick:k,onOpenClick:I}),M&&!y&&this.renderBitmapInfo())}}t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(1538);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(442),a=n(399),s=n(252);n(1539);t.default=function(e){const{name:t,type:n,path:l,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:l,onClick:u},c.join(" ▸ "))),i.h(o.default,{class:Object(a.default)(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(s.imageUrl)("img/icAndroidStudio.png"),srcset:Object(s.srcset)(Object(s.imageUrl)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(s.imageUrl)("img/icAndroidStudioPressed.png"),srcset:Object(s.srcset)(Object(s.imageUrl)("img/icAndroidStudioPressed.png"))})]:i.h(r.IconFolder,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1541);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);function a(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.default=function(e){const{class:t,onHideClick:n}=e;return i.h(r.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:a},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";n.r(t);var i=n(1543);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);t.default=function(e){const{class:t}=e;return i.h(r.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";n.r(t);var i=n(1545);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(248),r=n(404),a=n(442),s=(n(1546),n(1510));function l(e){return"svg"===e||"pdf"===e}t.default=function(e,t){const{format:n,variants:c,assetDensityScalePrefs:d,diff:u,hideOptimization:p,onDownloadClick:h}=e,{projectType:f}=t,g=c.filter(e=>Object(s.isAssetDensityScaleSelected)(d,n,e.densityScale)).length;let m,b;if(l(n)||u)!l(n)&&u?(m=`~${u.percent}% smaller than ${u.type.toUpperCase()}`,b=m):"svg"!==n||p||(m=u?`~${u.percent}% smaller, optimized with SVGO`:"Optimized with SVGO",b=m);else{const e=[...new Set(c.map(e=>e.densityScale))].sort((e,t)=>e-t);m=e.reduce((e,t,r,a)=>{const l=Object(o.getDensityScaleRepresentation)(f,t);return e.push(Object(s.isAssetDensityScaleSelected)(d,n,t)?l:i.h("s",null,l)),r!==a.length-1&&e.push(", "),e},[]),b=e.filter(e=>Object(s.isAssetDensityScaleSelected)(d,n,e)).map(e=>Object(o.getDensityScaleRepresentation)(f,e)).join(", ")}return i.h("div",{class:"assetExport"},i.h("div",{class:"exportType"},n),i.h("div",{class:"exportInfo"},i.h("div",null,g," ",function(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":default:return"bitmap"}}(n)," image",g>1?"s":""),i.h("div",{class:"extraInfo ellipsis",title:b},m)),i.h(r.default,{class:"downloadButton",onClick:h},i.h(a.IconDownload,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1548);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(252),s=n(1549);n(1551);class l extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}async setImageSource(){const{images:e}=this.props;try{if(e.svg){const n=await fetch(e.svg,{mode:"cors"}),i=await n.text(),o=new DOMParser;let r,a=!1,l=!1;try{r=o.parseFromString(i,s.MIME_TYPE.svg)}catch(t){a=!0}if(a||(l=Boolean(r.querySelector("text")),a=Boolean(r.querySelector("parsererror"))),!l&&!a)return void this.setState({source:e.svg,svg:!0})}const[n]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),i=n*window.devicePixelRatio,o=Object.keys(e).filter(e=>"svg"!==e).map(Number).sort((e,t)=>e-t),r=e[o[0]],l=(await Object(a.getImageProperties)(r)).size.height,c=o.find(e=>l*e>=i)||o[o.length-1];this.setState({source:e[c],svg:!1})}catch(t){}}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:a}=this.props;return i.h("div",{class:Object(o.default)("assetPreview","noSelect",n,{light:a,svg:t})},i.h("img",{ref:Object(r.default)(this,"image"),src:e,crossorigin:"anonymous"}))}}t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"MIME_TYPE",(function(){return b})),n.d(t,"downloadAsset",(function(){return k})),n.d(t,"downloadMultipleAsset",(function(){return R})),n.d(t,"exportCode",(function(){return A})),n.d(t,"triggerDownload",(function(){return P})),n.d(t,"downloadScreens",(function(){return N}));var i=n(105),o=n.n(i),r=n(248),a=n(1510),s=n(247),l=n(432),c=n(236),d=n(232),u=n(233),p=n(230),h=n(1550);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"});function S(e,t){const n=Object(a.getExportName)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:o=Object(r.getDensityScale)(i)}=e;return n+(o===d.DENSITY.BASE?"":`@${o}x`)}function y(e,t,n){const{localName:i,layerName:o,displayName:r,contents:s}=e;return s.filter(e=>e.format===t&&Object(a.isSupportedAssetContent)(n,e)).map(e=>g({localName:i,layerName:o,displayName:r},e))}function v(e,t){return"svg"===e.format&&t&&Object.assign(e,e.optimized),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>g({data:t},e))}function C({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:o}){Object.keys(n).forEach((r,a)=>{setTimeout(a=>{h.downloadAssets({projectId:e,projectType:t,format:r,assets:n[r],namingConvention:i,toastContainer:o})},a>0?300:0)})}function O(e){const{projectId:t,platform:n}=e;"android"===n?c.barrelPrefs.get(t,"androidResFolderReminderSeen").then(n=>{if(n)return void C(e);c.barrelPrefs.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",(function(t){t.stopPropagation(),C(e)}));const o=document.getElementById("androidResFolderReminderDialog");o&&o.showModal()}):C(e)}function E(e,t=(e=>e.displayName)){const n={},i=new o.a;return e.forEach(e=>{let o=e;const r=t(o)+o.format;r in n||(n[r]=0);const a=++n[r];a>1&&(o=Object.assign({},e),o.displayName+="_"+a,o.layerName+="_"+a),i.file(t(o)+"."+o.format,o.data)}),i}function T(e,t,n=!1){const i=n?"assets_"+e:Object(a.getExportName)(t[0],"snakeCase");return E(t,e=>{const t=Object(a.getExportName)(e,"snakeCase"),{density:n,densityScale:i=Object(r.getDensityScale)(n)}=e,o=Object(r.getDensityScaleRepresentation)("android",i);return"svg"===e.format?t:`drawable-${o}/${t}`}).generateAsync({type:"blob"}).then((function(e){return{data:URL.createObjectURL(e),name:`${i}_${Object(l.getCalendarDateOfISOString)()}.zip`}}))}function _(e,t,n,i=!1){let o;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:b[e.format]});return o=`${S(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:o})}const r=E(t,e=>S(e,n));return o=`${i?"assets_"+e:Object(a.getExportName)(t[0],n)}_${Object(l.getCalendarDateOfISOString)()}.zip`,r.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:o}))}function P(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function j(e,t,n,i){return g(g({},e),{},{contents:e.contents.filter(e=>Object(a.isSupportedAssetContent)(t,e)).map(e=>{const o="svg"===e.format&&"svg"===n&&i&&e.optimized?e.optimized.url:e.url,{densityScale:a,density:s=Object(r.getDensityScaleRepresentation)(t,a)}=e;return g(g({},e),{},{url:o,density:s})})})}function D(e,t,n,i){return e.map(e=>j(e,t,n,i))}function k({barrelId:e,platform:t,containerName:n,version:i,assetId:o,format:r,assetDensityScalePrefs:a,assetNamingConvention:l,showOptimizedSVG:c,toastContainer:d}){if(!Object(s.canDownload)())return;const u=I(i.snapshot.assets,a);if(p.isWindowsApp){let n;if(n="all"===o?u:[u.find(e=>e._id===o)],0===n.length)return;O({projectId:e,platform:t,formatGroups:{[r]:D(n,t,r,c)},namingConvention:l,toastContainer:d})}else(function(e,t,n,i,o){let r;if("all"===n)r=[].concat.apply([],e.map(e=>y(e,i,t)));else{const o=e.find(e=>e._id===n);if(!o)return Promise.reject(`Asset with id ${n} not found.`);r=y(o,i,t)}return Promise.all(r.map(e=>v(e,o)))})(u,t,o,r,c).then(e=>("android"===t&&"svg"!==r?T:_)(n,e,l,"all"===o)).then(P)}function I(e,t){return e.map(e=>g(g({},e),{},{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:o=Object(r.getDensityScale)(i)}=e;return Object(a.isAssetDensityScaleSelected)(t,n,o)})}))}function R({barrelId:e,platform:t,containerName:n,version:i,assetList:o,assetDensityScalePrefs:r,assetNamingConvention:a,showOptimizedSVG:l,toastContainer:c}){if(!Object(s.canDownload)())return;const d=I(i.snapshot.assets,r);if(p.isWindowsApp){const n={};return o.forEach(({assetId:e,format:i})=>{const o=d.find(t=>t._id===e);if(!o)return;let r;i in n?r=n[i]:(r=[],n[i]=r),r.push(j(o,t,i,l))}),void O({projectId:e,platform:t,formatGroups:n,namingConvention:a,toastContainer:c})}(function(e,t,n,i){const o=t.map(({assetId:t,format:o})=>{const r=e.find(e=>e._id===t);return r?y(r,o,i).map(e=>v(e,n)):null}).filter(Boolean);return o.length?Promise.all(o.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(d,o,l,t).then(e=>("android"===t?T:_)(n,e,!0)).then(P)}function A({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new o.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{P({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else P({data:URL.createObjectURL(new Blob([n.code],{type:b[n.language]})),name:n.filename})}async function w(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),o=await i.arrayBuffer();return{name:t+".png",blob:new Blob([o],{type:b.png})}}async function N(e,t){if(!Object(s.canDownload)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=u.CDN_URL+e}return void Object(s.openLink)(t)}if(1===e.length){const{name:t,blob:n}=await w(e[0]);return void P({data:URL.createObjectURL(n),name:t})}const n=new o.a,i=await Promise.all(e.map(w)),r={};i.forEach(({name:e,blob:t})=>{let i;r[e]>0?i=e.replace(/(.*)\.(.*$)/,`$1 (${r[e]++}).$2`):(r[e]=1,i=e),n.file(i,t)});const a=await n.generateAsync({type:"blob"});P({data:URL.createObjectURL(a),name:t})}},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAssetDownloadTarget",(function(){return p})),n.d(t,"downloadAssets",(function(){return h})),n.d(t,"changeExportTarget",(function(){return f})),n.d(t,"openExportTarget",(function(){return g}));var i=n(231),o=n(259);function r(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let a,s,l,c,d;function u(e){l=e;const t=l+":asset-download-target";i.default.ipcRenderer.removeAllListeners(t),i.default.ipcRenderer.once(t,(e,t)=>{s=t.projectFolder,a(t)})}function p(e,t,n){a=n,c=t,u(e),i.default.ipcRenderer.send("query-asset-download-target",e)}function h(e){const{toastContainer:t}=e,n=r(e,["toastContainer"]);u(e.projectId),i.default.ipcRenderer.removeAllListeners("assets-downloaded"),i.default.ipcRenderer.once("assets-downloaded",(e,n)=>function(e,t){clearTimeout(d),d=setTimeout(n=>{Object(o.default)({text:"Exported to "+e.projectName,container:t,source:"assetExportTargetProject"})},200),"android"===c&&mixpanel.master.track("Exported assets",{"Folder Type":e.projectFolderType,"Project Type":c})}(n,t)),i.default.ipcRenderer.send("download-assets",n)}function f(){l&&c&&(u(l),i.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c}))}function g(){s&&i.default.ipcRenderer.send("open-item",s)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1553);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),r=n(1028),a=n(420),s=(n(1554),n(248)),l=n(1510);const c=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class d extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"base"!==e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let r,a;a=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,r=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${r}px, ${a}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e?this.props.onShowOptimizedSVGChange(t):"pngScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n},projectType:u,open:p,target:h,onClose:f}=this.props,g=[];return d.densityScaleOptionVisible(u)&&g.push(i.h(r.default.SwitchMenu,{name:"pngScales",content:"PNG Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:1,options:Object(l.getSupportedDensityScales)(u).map(e=>({name:e,content:Object(s.getDensityScaleRepresentation)(u,e)}))})),d.namingOptionVisible(u)&&g.push(i.h(r.default.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:c})),d.svgOptionVisible(u)&&g.push(i.h(r.default.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(a.default)(this,"target")},h),p&&i.h(o.default,{didRender:this.handlePortalDidRender},i.h(r.default,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:f},g)))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1556);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399);n(1557);function s(e){const{capitalize:t,name:n,abbr:o,children:r,theme:s}=e,l=n?""+n:null,c=o?i.h("abbr",null,o):null,d=l&&c?", ":"";return i.h("div",{class:Object(a.default)("layerProperty",s,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.h("span",{class:"propertyValue ellipsis"},r))}s.Group=function({children:e}){return i.h("div",{class:"layerPropertyGroup"},e)},s.propTypes={capitalize:r.a.bool,name:r.a.string,abbr:r.a.string,children:r.a.element.isRequired,theme:r.a.oneOf(["light","dark"])},s.defaultProps={capitalize:!0,theme:"light"},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1560);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(404),s=n(442);n(1561);function l(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(a.default,{class:"closeButton",onClick:n},i.h(s.IconClose,{color:"#979197"})))}l.propTypes={onCloseClick:r.a.func,children:r.a.oneOfType([r.a.node,r.a.element])},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1563);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(404),s=n(622),l=n(1564),c=n(442),d=n(230),u=n(379),p=n(385),h=n(1480),f=n.n(h),g=n(1503),m=n.n(g),b=n(245),S=n(247),y=n(249),v=n(399),C=n(1567),O=n(1574),E=n(1576),T=n(1555),_=n(1516),P=n.n(_),j=n(1579),D=n.n(j),k=n(1582),I=n.n(k),R=n(1588),A=n.n(R);n(1591);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(e){super(e),w(this,"handleLayerComponentClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})}),w(this,"handleOpenComponentVariantViewClick",()=>{f.a.open(this.props.componentId,m.a.HEADER)}),w(this,"handleVariantsHintboxActionClick",()=>{Object(S.openLink)("#")}),this.state={showCoCoOnboardingDialog:!1},this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleCloseOnboarding=this.handleCloseOnboarding.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const{shouldHighlightConnnectToCodeButton:e}=this.props;e&&u.default.markConnectedComponentsOnboardingDialogAsSeen(),this.setState({showCoCoOnboardingDialog:!0});const t=this.props.showLayerComponent;mixpanel.master.track("Opened connected component onboarding",{Source:t?"Screen":"Component"})}handleCloseOnboarding(){this.setState({showCoCoOnboardingDialog:!1})}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{Source:e?"Screen":"Component"}),Object(S.openLink)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;u.default.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:o}=this.context,r=Object(b.urlResolve)("project-styleguide-components",{url:{bid:o},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:r,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.IconGoTo,{width:"18",height:"18",color:"#C1BEC1"})))]}renderComponentProperties(){const{showLayerComponent:e,properties:t,shouldDisplayComponentVariantsOnboardingHintbox:n}=this.props;return e&&t?i.h(i.Fragment,null,i.h(P.a,null),i.h("h2",{class:"componentTitle"},"Properties",i.h("button",{onClick:this.handleOpenComponentVariantViewClick},i.h(c.IconVariants,null))),t.map(({name:e,value:t})=>i.h(T.default,{key:t,name:e,theme:"dark"},t)),n&&i.h(D.a,{onActionClick:this.handleVariantsHintboxActionClick,onHideClick:p.default.hideComponentVariantsOnboardingHintbox})):null}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(E.default,{onReload:u.default.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n,shouldHighlightConnnectToCodeButton:o,showLayerComponent:r,properties:c,shouldDisplayComponentVariantsOnboardingHintbox:d,componentId:u}=this.props,p=!(r&&c&&d)&&o;if(!e)return t?i.h(i.Fragment,null,i.h("span",{class:"notFoundDescription"},n+" not found in local configuration file. Reload to try again."),i.h(a.default,{class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")):i.h(i.Fragment,null,i.h("span",{class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(a.default,{class:Object(v.default)("connectToCode",{highlight:o}),onClick:this.handleConnectToCodeClick},"Connect to Code"),p&&i.h(A.a,{key:u}));let{name:h,path:f,data:g}=e;h||(h=Object(y.getFilenameWithoutExtensionFromPath)(f));const{description:m,snippet:b,lang:S}=(C=g).find(e=>!!e.snippet)||C.find(e=>!!e.description)||{};var C;return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},h),i.h("span",{class:"componentPath ellipsis"},f)),m||b?[m&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(s.default,null,m)),b&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.default,{lineIndicator:!0,lang:S,content:b,asyncHighlight:!1}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(s.default,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:o}=this.props;if(d.isWindowsApp){const{editorList:t,defaultEditorPreferences:r,workspacePath:a}=n,s=Object(y.getFileExtensionFromPath)(e),l=r&&r[s];return i.h(O.default,{filePath:e,fileExtension:s,editorList:t,selectedEditor:l,workspacePath:a,disabled:o,onOpenFileInEditor:u.default.openComponentFileInEditor,onEditorChange:u.default.setConnectedComponentsEditorPreference,onSelectWorkspace:u.default.selectConnectedComponentsWorkspaceFolder})}return i.h(C.OpenInVSCode,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:o})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:o}=e,r=[],a=[];return n&&n.forEach(e=>{const{name:n,type:o,url:s}=e;"github"===o?a.push(i.h(C.OpenInGitHub,{key:"github",name:n,uri:s,disabled:t})):"gitlab"===o?a.push(i.h(C.OpenInGitLab,{key:"gitlab",name:n,uri:s,disabled:t})):"bitbucket"===o?a.push(i.h(C.OpenInBitbucket,{key:"bitbucket",name:n,uri:s,disabled:t})):"styleguidist"===o?a.push(i.h(C.OpenInStyleguidist,{key:"styleguidist",name:n,uri:s,disabled:t})):"storybook"===o?r.push(s):"custom"===o&&a.push(i.h(C.OpenInCustomLink,{key:"custom-"+n,name:n,uri:s,disabled:t}))}),i.h("div",{class:"openInButtons"},a.length>0&&a,r.length>0&&i.h(C.OpenInStorybook,{uriList:r,disabled:t}),this.renderOpenInEditor(o))}render(){const{componentId:e}=this.props,{showCoCoOnboardingDialog:t}=this.state;return i.h(i.Fragment,null,i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderComponentProperties(),this.renderDevModeHintBox(),this.renderCodeComponent())),this.renderOpenInButtons()),t&&i.h(I.a,{componentId:e,onClose:this.handleCloseOnboarding}))}}N.propTypes={containerName:r.a.string,componentId:r.a.string,componentName:r.a.string,showLayerComponent:r.a.bool,shouldDisplayComponentVariantsOnboardingHintbox:r.a.bool,connectedComponent:r.a.object},t.default=N},function(e,t,n){"use strict";n.r(t);var i=n(1565);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(626),r=n.n(o),a=n(399);n(1566);function s(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}class l extends i.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;var o;(o=n)&&r.a.languages[o]?function(e,t,n){return n?new Promise((n,i)=>{try{r.a.tokenizeFlat(e,r.a.languages[t],!0,e=>{n(e)})}catch(o){i(o)}}):Promise.resolve(r.a.tokenizeFlat(e,r.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:s(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})}):this.setState({lines:e.content.split("\n")})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:o,lineIndicator:r,style:s}=e,{lines:l=[]}=t,c=Object(a.default)("code",n,{lineIndicator:r});return i.h("pre",{class:c},i.h("code",{class:"language-"+o,style:s},l.map((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.h("span",{class:"token "+e.type},e.content)):e)))))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1568);n.d(t,"default",(function(){return i.default})),n.d(t,"OpenInVSCode",(function(){return i.OpenInVSCode})),n.d(t,"OpenInStyleguidist",(function(){return i.OpenInStyleguidist})),n.d(t,"OpenInGitHub",(function(){return i.OpenInGitHub})),n.d(t,"OpenInGitLab",(function(){return i.OpenInGitLab})),n.d(t,"OpenInBitbucket",(function(){return i.OpenInBitbucket})),n.d(t,"OpenInStorybook",(function(){return i.OpenInStorybook})),n.d(t,"OpenInCustomLink",(function(){return i.OpenInCustomLink}))},function(e,t,n){"use strict";n.r(t),n.d(t,"OpenInVSCode",(function(){return y})),n.d(t,"OpenInGitHub",(function(){return C})),n.d(t,"OpenInGitLab",(function(){return O})),n.d(t,"OpenInBitbucket",(function(){return E})),n.d(t,"OpenInStorybook",(function(){return T})),n.d(t,"OpenInStyleguidist",(function(){return v})),n.d(t,"OpenInCustomLink",(function(){return _}));var i=n(4),o=n(1569),r=n(420),a=n(399),s=n(229),l=n(248),c=n(519),d=n(1028),u=n(1570);n(1573);function p(e){const{name:t,icon:n,uri:r,target:s,showOptionsButton:c,onOptionsClick:d,onClickOpenInButton:u,disabled:p}=e;return i.h("div",{class:Object(a.default)("openInButtonWrapper",{disabled:p})},i.h("a",{class:"openInButton noSelect",href:p?"":r,target:s,onClick:p?l.preventDefault:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),c&&i.h("button",{onClick:d},o.optionsIcon))}function h(){S("Styleguidist")}function f(){S("GitHub")}function g(){S("GitLab")}function m(){S("Bitbucket")}function b(){S("Storybook")}function S(e){mixpanel.master.track("Clicked open in button",{Type:e})}class y extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(s.toURI)(t)}/${Object(s.toURI)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(s.toURI)(e)}/${Object(s.toURI)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:s}=this.props,{showDialog:c}=this.state;return i.h("div",{class:Object(a.default)("openInButtonWrapper",{disabled:s}),ref:Object(r.default)(this,"base")},c&&i.h(u.default,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:s?l.preventDefault:this.handleOpen},o.vsCodeIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:s?l.preventDefault:this.handleOptionsClick},o.optionsIcon))}}function v(e){const{name:t,uri:n,showOptionsButton:r,onOptionsClick:a,disabled:s}=e;return i.h(p,{name:t||"Styleguidist",icon:o.styleguidistIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:r,onOptionsClick:a,onClickOpenInButton:h})}function C(e){const{name:t,uri:n,showOptionsButton:r,onOptionsClick:a,disabled:s}=e;return i.h(p,{name:t||"GitHub",icon:o.gitHubIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:r,onOptionsClick:a,onClickOpenInButton:f})}function O(e){const{name:t,uri:n,showOptionsButton:r,onOptionsClick:a,disabled:s}=e;return i.h(p,{name:t||"GitLab",icon:o.gitLabIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:r,onOptionsClick:a,onClickOpenInButton:g})}function E(e){const{name:t,uri:n,showOptionsButton:r,onOptionsClick:a,disabled:s}=e;return i.h(p,{name:t||"Bitbucket",icon:o.bitbucketIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:r,onOptionsClick:a,onClickOpenInButton:m})}class T extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),n=t.searchParams.get("selectedStory"),i=t.searchParams.get("path");if(n)return n;if(i){const e=/^\/(docs|story)\/(.*)--(.*)$/g.exec(i);if(e)return e[3]}return null}hideOptions(){this.context.enableScroll(),this.setState({showOptions:!1})}handleOptionsClick(){this.context.disableScroll(),this.setState({showOptions:!0})}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let r,a;a=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,r=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${r}px, ${a}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,s=[];return e.forEach(e=>{const t=this.getStoryName(e);t&&s.push({name:t,uri:e})}),i.h("div",null,i.h("div",{class:Object(a.default)("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?l.preventDefault:b},o.storybookIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),s.length>1&&i.h("button",{class:Object(a.default)("storybookSettings",{active:n}),onClick:t?l.preventDefault:this.handleOptionsClick,ref:Object(r.default)(this,"target")},o.optionsIcon)),n&&i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"storybooksMenu",onClose:this.hideOptions},i.h(d.default.Submenu,{name:"Stories"},s.map(e=>i.h(d.default.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name))))))}}function _(e){const{name:t,uri:n,showOptionsButton:r,onOptionsClick:a,disabled:s}=e;return i.h(p,{name:t||"Custom Link",icon:o.customLinkIcon,uri:n,target:"_blank",disabled:s,showOptionsButton:r,onOptionsClick:a})}t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"optionsIcon",(function(){return o})),n.d(t,"vsCodeIcon",(function(){return r})),n.d(t,"vsCodeInsidersIcon",(function(){return a})),n.d(t,"androidStudioIcon",(function(){return s})),n.d(t,"sublimeIcon",(function(){return l})),n.d(t,"atomIcon",(function(){return c})),n.d(t,"ideaIcon",(function(){return d})),n.d(t,"webStormIcon",(function(){return u})),n.d(t,"defaultEditorIcon",(function(){return p})),n.d(t,"styleguidistIcon",(function(){return h})),n.d(t,"gitHubIcon",(function(){return f})),n.d(t,"storybookIcon",(function(){return g})),n.d(t,"gitLabIcon",(function(){return m})),n.d(t,"bitbucketIcon",(function(){return b})),n.d(t,"customLinkIcon",(function(){return S}));var i=n(4);const o=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),r=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"})),a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"})),s=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"})),l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"})),c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"})),d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"}))),u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"}))),p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"}))),h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"})),f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"})),g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"})),m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"})),b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"})),S=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))},function(e,t,n){"use strict";n.r(t);var i=n(1571);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(420),r=n(787),a=n(404),s=n(1235),l=n(519);n(1572);class c extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map(e=>e.replace(/[^\x20-\x7E]/g,"").trim()).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.default,null,i.h(r.default,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,(t?"Change":"Enter")+" local path for repository"),i.h(s.default,{inputRef:Object(o.default)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(a.default,{class:"negative",onClick:e},"CANCEL"),i.h(a.default,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1575);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1569),r=n(248),a=n(420),s=n(399),l=n(519),c=n(1028);n(1573);const d={"Visual Studio Code":o.vsCodeIcon,"Visual Studio Code - Insiders":o.vsCodeInsidersIcon,Atom:o.atomIcon,"Sublime Text":o.sublimeIcon,"Android Studio":o.androidStudioIcon,"IntelliJ IDEA":o.ideaIcon,WebStorm:o.webStormIcon},u={name:"Default Editor",value:"defaultEditor"};class p extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex(t=>t.exePath===e.exePath)>-1}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let r,a;a=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,r=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${r}px, ${a}px, 0)`}handleOptionsClick(){this.context.disableScroll(),this.setState({showMenu:!0})}handleCloseMenu(){this.context.enableScroll(),this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:o}=this.props,r=e.find(e=>e.exePath===t);return void(n&&!r?i(o,null):(!n&&r||n&&r.name!==n.name)&&i(o,r))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:p}=this.props,{showMenu:h}=this.state,f=[u];e&&e.forEach(e=>{f.push({name:e.name,value:e.exePath})});const g=[i.h(c.default.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&g.push(i.h(c.default.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||u.value,options:f})),i.h("div",null,i.h("div",{class:Object(s.default)("openInButtonWrapper",{disabled:p})},i.h("button",{class:"openInButton noSelect",onClick:p?r.preventDefault:this.handleOpen},t?d[t.name]:o.defaultEditorIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in "+(t?t.name:"default editor"))),i.h("button",{onClick:p?r.preventDefault:this.handleOptionsClick,ref:Object(a.default)(this,"target")},o.optionsIcon)),h&&i.h(l.default,{didRender:this.handlePortalDidRender},i.h(c.default,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu},g)))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1577);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(229);n(1578);t.default=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(r.getDevModeShortcut)()} to disable it.`),i.h(o.default,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1580);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1101)),s=i(n(551));var l;n(1581),function(e){e.DEFAULT="default",e.HOVER="hover",e.PRESSED="pressed",e.DISABLED="disabled"}(l||(l={}));const c=[l.DEFAULT,l.HOVER,l.PRESSED,l.DISABLED];t.default=function({onHideClick:e,onActionClick:t}){const[n,i]=r.useState(0);r.useEffect(()=>{const e=setTimeout(()=>{i((n+1)%c.length)},1e3);return()=>clearTimeout(e)},[n]);const d=c[n];return o.h(a.default,{class:"variantsHintBox",onActionClick:t,actionContent:"Learn more",onHideClick:e,hideButtonText:"OK, hide it!"},"You can now see different variants of the components by clicking on V.",o.h("div",{class:"variantsHintBoxBody"},o.h("div",{class:"variantsImageWrapper"},o.h(s.default,{style:{visibility:d===l.DEFAULT?"visible":"hidden"},asset:"/img/variants-onboarding/default.png"}),o.h(s.default,{style:{visibility:d===l.HOVER?"visible":"hidden"},asset:"/img/variants-onboarding/hover.png"}),o.h(s.default,{style:{visibility:d===l.PRESSED?"visible":"hidden"},asset:"/img/variants-onboarding/pressed.png"}),o.h(s.default,{style:{visibility:d===l.DISABLED?"visible":"hidden"},asset:"/img/variants-onboarding/disabled.png"}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1583);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(766)),a=i(n(551)),s=i(n(1584)),l=i(n(263));n(1587),t.default=function({componentId:e,onClose:t},{barrelType:n,barrelId:i,hasConnectedComponent:c}){return o.h(r.default,{positiveButtonText:"DONE",onClose:t,width:720},o.h("div",{class:"connectedComponentsOnboardingDialog"},o.h("h4",{class:"dialogHeader"},"Connected components"),o.h("p",{class:"introText"},"By connecting your components, you can access components in your codebase right on the designs, with links to Storybook, GitHub and any other source of documentation."),o.h("div",{class:"dialogBody"},o.h("div",{class:"description"},o.h("p",null,"Make your components visible within designs, promoting reusability. Access a summary of your component with:"),o.h("br",null),o.h("ul",null,o.h("li",null,"• Documentation"),o.h("li",null,"• Bite-sized code snippet describing how to initiate it"),o.h("li",null,"• Links to Storybook, GitHub and so on")),o.h("br",null),o.h("p",null,"Explore the"," ",o.h("a",{href:"https://zpl.io/connected-components",target:"_blank"},"documentation")," ","to learn more.")),o.h(a.default,{asset:"img/coco-onboarding.png",alt:"CoCo onboarding",title:"CoCo onboarding"})),!c&&o.h("p",null,"Get started within minutes by connecting this component!"),c?o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository to connect this component:"):o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository:"),o.h(s.default,{copyActionText:"Click to copy the command.",copyDoneText:"Command copied to clipboard.",lines:[`npx @zeplin/cli connect ${c?"add-components":"initialize"} \\`,`    --${n===l.default.PROJECT?"project-id":"styleguide-id"} ${i} \\`,"    --component-id "+e]})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1585);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(399)),s=n(247);n(1586),t.default=function({copyActionText:e,copyDoneText:t,lines:n}){const[i,l]=r.useState(!1);return r.useEffect(()=>{l(!1)},[JSON.stringify(n)]),o.h("button",{onClick:function(){s.copyContent({content:n.join("\n")}),l(!0)},class:a.default("copyContents",{copied:i})},o.h("p",null,i?t:e),o.h("strong",null,n.map((e,t)=>o.h("span",{key:t},e))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1589);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(379)),s=i(n(551));n(1590),t.default=function(){return r.useEffect(()=>{a.default.highlightedConnectToCodeButtonViewed()},[]),o.h("div",{class:"highlightedConnectToCodeButtonDescription"},o.h(s.default,{class:"connectToCodeArrow",asset:"img/icConnectToCodeHighlightArrow.png"}),o.h("div",{class:"connectToCodeDescriptionText"},"👀 We simplified the Connected Components experience, you can now get it running within minutes."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1593);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(1514),a=n(442),s=n(399),l=n(247),c=n(248);n(1594);const d=/\u2028/g,u=Object(l.canCopy)();function p(e){return e.replace(d,"\n")}class h extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",p(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(p(n)),setTimeout(l.selectContent,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(p(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,o=p(e);if(!t.length)return o;const r=[];let a=0;return t.forEach(({range:e,group:t})=>{const l=Object(c.escapeHTML)(o.substring(e.start,e.end));if(e.start>a)r.push(Object(c.escapeHTML)(o.substring(a,e.start)));else if(e.start<a)return;r.push(i.h("span",{class:Object(s.default)({hovered:n===t}),"data-color-group":t},l)),a=e.end}),r.push(Object(c.escapeHTML)(o.substring(a,o.length))),r}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",u&&i.h(o.default,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(a.IconCopy,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(r.default,{class:Object(s.default)("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1596);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1514),r=n(573),a=n.n(r),s=n(1555),l=n(442),c=n(399);n(1597);function d({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(l.IconScreenLink,null)))}t.default=function(e){const{class:t,showSeparator:n,flowLink:r,layer:{rect:l,opacity:u,borderRadius:p,rotation:h,blendMode:f},flowLinkInfoDismissed:g,onHideFlowInfoClick:m}=e;return i.h(o.default,{class:Object(c.default)("infoSection",t),showSeparator:n},i.h(s.default.Group,null,i.h(s.default,{name:"X"},l.x),i.h(s.default,{name:"Y"},l.y)),i.h(s.default.Group,null,i.h(s.default,{name:"Width"},l.width),i.h(s.default,{name:"Height"},l.height)),p&&i.h(s.default,{name:"Radius"},p),u&&i.h(s.default,{name:"Opacity"},u),h&&i.h(s.default,{name:"Rotation"},h+"°"),f&&i.h(s.default,{name:"Blend Mode"},f),r&&r.url&&i.h(i.Fragment,null,i.h(s.default,{name:"Linked to"},i.h(d,{name:r.name,url:r.url})),!g&&i.h(a.a,{class:"flowInfo",onHideClick:m},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),".")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1599);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1600),r=n(1514);n(1601);class a extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:a,onTextStyleNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:t,group:u,content:p})=>{const h="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(r.default,{class:"typefaceSection",showSeparator:e,key:u},i.h(o.default,{textStyle:t,colorGroup:!h&&u,snippet:p,onHoverChange:h?null:this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:a,onNameChange:s,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(303),a=n(399),s=n(1160),l=n(1555),c=n(1526),d=n(1235),u=n(1520),p=n(947),h=n.n(p),f=n(442),g=n(263),m=n.n(g);n(1601);class b extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:o}=e.target;o?n!==o&&i(t,o):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(s.enumerateFontVariationSettings)(e).map(([e,t])=>i.h(l.default,{key:e,name:s.REGISTERED_AXES[e],abbr:e},Object(r.round)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:r,styleguideName:s,isMember:p,isOrganizationBarrel:h,id:g,added:b,name:S,color:y,fontFace:v,fontSize:C,letterSpacing:O,lineHeight:E,textAlign:T},hover:_,onColorAddClick:P,onColorRemoveClick:j,onColorNameChange:D}=this.props,{barrelType:k,barrelId:I,permissions:{canManageTextStyles:R}}=this.context,A=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),w=!R||b&&r!==I,N=i.h(c.default,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:b,isMember:p,isOrganizationBarrel:h,styleguideId:r,styleguideName:s,canManageResource:R,type:c.default.TYPE.TEXT_STYLE,disabled:w}),L=k===m.a.STYLEGUIDE?"styleguide":"project-styleguide",x=Object(o.urlResolve)(L+"-textstyles",{url:{bid:I},query:{tsid:g}});return i.h("div",{class:Object(a.default)("typeface",e,{hover:_})},A,b?[i.h("div",{key:"textStyleName-"+g,class:"textStyleName"},i.h(d.default,{class:"textStyleNameInput",value:S,blurOnEnter:!0,disabled:w,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},N),i.h("a",{href:x,class:"goToResource","data-link-type":"inApp"},i.h(f.IconGoTo,{width:"18",height:"18"}))),i.h("div",{key:"layerFontFace-"+g,class:"layerFontFace"},i.h("span",{class:"ellipsis"},v))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},v),i.h("div",{class:"buttonSpacer"},N)),i.h(l.default.Group,null,i.h(l.default,{name:"Size"},C),void 0!==T&&i.h(l.default,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==E&&i.h(l.default,{name:"Line Height"},E),void 0!==O&&i.h(l.default,{name:"Letter Spacing"},O),y&&i.h(u.default,{color:y,initialHover:_,onNameChange:D,onAddClick:P,onRemoveClick:j}))}}const S=h()(b);t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1603);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(519),r=n(1522),a=n(947),s=n.n(a);n(1604);const l=s()((function(e){const{color:{id:t,name:n,added:o,colorString:a,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:p,onNameChange:h,onAddClick:f,onRemoveClick:g,hover:m}=e;return i.h("div",{class:"gradientColor"},i.h(r.default,{class:"gradientColorInfo",added:o,hover:m,id:t,name:n,colorString:a,opacity:s,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,editable:o&&p,onAddClick:f,onRemoveClick:g,onNameChange:h}))}));class c extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:Math.trunc(n-5)+"px"}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:r,onColorNameChange:a}=this.props,{activeColorStop:s}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const o=t>0&&t<1,r={top:Math.trunc(100*t)+"%",color:e};return i.h("div",{class:"colorStop",key:n,style:r,"data-pos":t,onMouseEnter:o?this.handleColorStopMouseEnter:null,onMouseLeave:o?this.handleColorStopMouseLeave:null})})),i.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:o,value:s}=e;return i.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){a(o,e)},onAddClick:function(){n(s)},onRemoveClick:function(){r(o)}})})),s&&i.h(o.default,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${s.x}, ${s.y}, 0`}},s.value)))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1606);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1520),r=n(1602);n(1607);t.default=function(e){const{border:{color:t,gradient:n,position:a,thickness:s},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},a,", ",s),t?i.h(o.default,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(r.default,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1609);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1520),r=n(1555);n(1610);t.default=function(e){const{shadow:{blurRadius:t,color:n,offsetX:a,offsetY:s,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:p,onColorNameChange:h}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(r.default.Group,null,i.h(r.default,{name:"X"},a),i.h(r.default,{name:"Y"},s)),i.h(r.default.Group,null,i.h(r.default,{name:"Blur"},t),i.h(r.default,{name:"Spread"},l)),i.h(o.default,{color:n,disabled:d,onAddClick:p,onRemoveClick:u,onNameChange:h}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1612);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1613);t.default=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1615);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1514),r=n(442);n(1616);t.default=function({styleName:e,showSeparator:t}){return i.h(o.default,{title:"Style",showSeparator:t},i.h("div",{class:"layerStyle"},i.h("div",{className:"layerStyleIconWrapper"},i.h(r.IconLayerStyle,{width:23,height:25})),i.h("span",null,e)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1618);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442);n(1619);t.default=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(o.IconInfo,{width:"21",height:"21"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1622),r=n(1639);class a extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then(e=>r.CodeSnippet.fromUnknown(e,"layer"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(o.default,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1623);n.d(t,"default",(function(){return i.default}));var o=n(1625);n.d(t,"ExtensionCode",(function(){return o.default}));var r=n(1633);n.d(t,"ResizableExtensionCode",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(514),l=n(294),c=n(364),d=n(271),u=n.n(d),p=n(513),h=n.n(p);n(1624);class f extends i.Component{constructor(...e){var t,n,i;super(...e),i={snippets:{}},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{extensions:e,enabledExtensions:t}=u.a.ExtensionsStore.getState(),{loading:n,barrelType:i,barrelId:o}=u.a.BarrelStore.getState();if(n)return{loading:n};const r=c.default.getBarrel({bid:o}),a=c.default.getStyleguidesData({barrelStore:u.a.BarrelStore,styleguidesDataStore:u.a.StyleguidesDataStore,projectsDataStore:u.a.ProjectsDataStore}),{styleguides:s}=u.a.StyleguidesDataStore.getState();return{loading:n,barrel:r,styleguidesData:a,styleguides:s,barrelType:i,extensions:e,enabledExtensions:t}}static getStores(){return[u.a.ExtensionsStore,u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore]}async generateCode(e,t){const{generateCode:n}=this.props;try{const i=await n(e,t);return{[e.id]:{snippets:i?[i]:[],title:e.name}}}catch(i){return null}}async generateCodeSnippets(){const{onGenerateCode:e}=this.props,{barrel:t,styleguidesData:n,styleguides:i,barrelType:o,extensions:r,enabledExtensions:a}=this.state,s=Object(l.transformBarrelToObject)(t,o,n,i),c=r.filter(e=>e.loaded&&a.includes(e.id));try{const t=(await Promise.all(c.map(e=>this.generateCode(e,s)))).filter(Boolean);if(e){e(t.some(e=>Object.keys(e).some(t=>e[t].snippets.length)))}this.setState({snippets:Object.assign({},...t)})}catch(d){}}componentDidMount(){this.generateCodeSnippets()}componentDidUpdate(e,t){const{extensions:n,enabledExtensions:i}=this.state;!Object(s.default)(e,this.props)&&Object(a.arrayEqual)(t.extensions,n,(e,t)=>e===t)&&Object(a.arrayEqual)(t.enabledExtensions,i,(e,t)=>e===t)||this.generateCodeSnippets()}render(){const{render:e}=this.props,{loading:t,snippets:n}=this.state;return t?null:e(n)}}f.propTypes={generateCode:r.a.func.isRequired,onGenerateCode:r.a.func,id:r.a.string,render:r.a.func.isRequired},t.default=h()(f,{pure:!1})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1626);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(247),a=n(1627);const s=Object(r.canCopy)();class l extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:r}=this.props,l=Object.keys(e).map(o=>{const{snippets:r,title:l}=e[o];return r.length?i.h(a.default,{class:"extensionCode",key:o,extensionId:o,copyEnabled:s,onCopyClick:t,onSettingsClick:n,snippets:r,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.h("div",{class:Object(o.default)("extensionCodePanel",r)},l)}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1628);n.d(t,"Gutter",(function(){return i.Gutter})),t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(399),a=n(1629);n.d(t,"Gutter",(function(){return a.default}));var s=n(404),l=n(1564),c=n(442);n(1632);class d extends o.default{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t(n)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=()=>this.props.onExportClick(e.name),this.exportHandlers.set(e,t),t)}render(){const{asyncHighlight:e,class:t,copyEnabled:n,exportEnabled:o,snippets:d,title:u}=this.props,p=d.map(t=>i.h("div",{key:t.name,class:"snippet"},o&&t.exportable&&i.h(s.default,{class:"exportButton",onClick:this.bindExportHandler(t)},i.h(c.IconDownload,{color:"#C1BEC1"})),i.h(l.default,{lineIndicator:!0,lang:t.language,content:t.code,asyncHighlight:e})));return i.h("div",{class:Object(r.default)("codePanel",t)},i.h(a.default,null),i.h("div",{class:"title"},i.h("h3",null,u),n&&i.h(s.default,{class:"copyButton",onClick:this.handleCopyClick},i.h(c.IconCopy,{color:"#C1BEC1"})),i.h(s.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,{color:"#C1BEC1"}))),p)}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1630);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1631);t.default=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1625),r=n(1635),a=n(1627),s=n(399),l=n(420);n(1638);class c extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:p,snippets:h}=this.props;return Object.keys(h).some(e=>h[e].snippets.length)?i.h("div",{class:Object(s.default)("resizableExtensionCodePanel",e),ref:Object(l.default)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.h(r.default,{onResize:this.handleResize}),i.h(o.default,{onCopyClick:d,onSettingsClick:u,snippets:h}),i.h("div",{class:"availableSpace",style:{height:p}},i.h(a.Gutter,null))):null}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1636);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1627);n(1637);class r extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(o.Gutter,null),i.h("div",{class:"resizerIcon"}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeSnippet=void 0;class i{constructor(e,t,n){this.name=e,this.code=t,this.language=n}static fromUnknown(e,t){const n=function(e){if("string"==typeof e)return e;if(!e)return;const{code:t}=e;return"string"==typeof t?t:void 0}(e);if("string"==typeof n)return new i(t,n,function(e){if(!e)return;const{language:t}=e;return"string"==typeof t?t:void 0}(e))}}t.CodeSnippet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({component:e,ancestors:t}){const n=t.find(e=>!!e.variant);return{componentId:e._id,componentName:e.name,properties:n?(i=e.variant,o=n.variant,i&&o?i.values.map(({propertyId:e,value:t})=>{const n=o.properties.find(({_id:t})=>t===e);return n?{name:n.name,value:t}:null}).filter(Boolean):null):null};var i,o}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1643);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(379),s=n(364),l=n(339),c=n(385),d=n(370),u=n(271),p=n.n(u),h=n(1644),f=n(1657),g=n(1663),m=n(1669),b=n(248),S=n(245),y=n(252),v=n(249),C=n(233),O=n(1675);n(1676);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"handleClick",e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)})}render(){const{id:e,selected:t,title:n}=this.props,o=`ic${Object(v.uppercaseFirst)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(y.imageUrl)(`img/${o}.png`),srcset:Object(y.srcset)(Object(y.imageUrl)(`img/${o}.png`))}))}}class P extends i.Component{constructor(...e){super(...e),T(this,"handleDescriptionChange",e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&c.default.updateDescription({sid:t,description:e,syncWithApi:!0})}),T(this,"handleManageTagsClick",()=>{const{screenId:e}=this.state;c.default.openTagManager(e)}),T(this,"handleDownloadAssetClick",(e,t)=>{const{screen:{name:n},version:i}=this.state,{screenContainerRef:o}=this.context;a.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:o(),source:"Assets tab"})}),T(this,"handleDownloadSelectedAssetClick",e=>{const{screen:{name:t},version:n}=this.state,{screenContainerRef:i}=this.context;a.default.downloadMultipleAsset({containerName:t,version:n,assetList:e,toastContainer:i(),source:"Assets tab"})}),T(this,"handleCopyScreenWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})}),T(this,"handleCopyScreenAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})})}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.DotsStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:o,sourceFileInfoHidden:r,showOptimizedSVG:a}=p.a.BarrelStore.getState();if(e)return{loading:!0};const{loadingSnapshot:l,screenId:c,loadingVersions:u,versionId:h,latestVersionSelected:f,selectedSidebarTab:g,layoutGridEnabled:m,sourceFiles:y}=p.a.ScreenStore.getState();if(u&&!f)return{loading:!0};const{statusFilter:v,colorFilter:O}=p.a.DotsStore.getState(),{type:E,densityScale:T}=s.default.getBarrel(),_=s.default.findUser(),P=s.default.isUserRestricted(),j=d.default.getScreen(),D=d.default.getSectionOfScreen(),k=d.default.getVersion({sid:c,vid:h}),{density:I,densityScale:R=Object(b.getDensityScale)(I)}=k.snapshot,A=R!==T&&!o,w=y[h],N=f?"":"&vid="+h;return{loading:!1,barrelUser:_,userRestricted:P,platform:E,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:A,sourceFileInfoHidden:r,showOptimizedSVG:a,styleguidesData:s.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),loadingSnapshot:l,screenId:c,screen:j,section:D,latestVersionSelected:f,version:k,selectedTab:g,layoutGridEnabled:m,appUri:`${C.ZPL_PROTOCOL}//screen?pid=${t}&sid=${c}${N}`,webUrl:f?Object(S.urlResolve)("project-screen",{url:{pid:t,sid:c}}):Object(S.urlResolve)("project-screen-version",{url:{pid:t,sid:c,vid:h}}),sourceFile:w,noteStatusFilter:v,noteColorFilter:O}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},l.default.map(({id:t,title:n})=>i.h(_,{id:t,key:t,title:n,selected:e===t,onChange:c.default.changeSidebarTab})))}renderInfoTab(){const{formatter:e,onCopyCode:t,onRequestOrgInviteClick:n}=this.props,{loading:o,screenId:r,screen:s,section:l,latestVersionSelected:d,version:u,layoutGridEnabled:p,sourceFileInfoHidden:f,appUri:g,webUrl:m,sourceFile:b}=this.state;if(o||!s||!u)return null;const S=Object(O.transformInfo)(s,u);return i.h(h.default,E({latestVersionSelected:d,appUri:g,webUrl:m,formatter:e,layoutGridEnabled:p,sourceFileInfoHidden:f,screenId:r,sectionId:l&&l._id,onCopyCode:t,onCopyScreenWebUrl:this.handleCopyScreenWebUrl,onCopyScreenAppUri:this.handleCopyScreenAppUri,sourceFile:b,onGridToggleChange:c.default.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:c.default.openSourceFile,onSourceFolderClick:c.default.openSourceFolder,onRequestOrgInviteClick:n,onHideSourceFileInfoClick:a.default.hideSourceFileInfo},S))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o,onRequestOrgInviteClick:r}=this.props,{loadingSnapshot:a,userRestricted:s,version:l,styleguidesData:c}=this.state,d=Object(O.transformColors)(l,e,c);return i.h(f.default,E({loading:a,restricted:s,onRequestOrgInviteClick:r,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o},d))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t}=this.props,{loadingSnapshot:n,userRestricted:o,platform:r,version:s,assetDensityScalePrefs:l,assetNamingConvention:c,showDensityMismatchWarning:d,showOptimizedSVG:u}=this.state,p=Object(O.transformAssets)(s,e,r);return i.h(g.default,E({restricted:o,formatter:e,showDensityMismatchWarning:d,assetDensityScalePrefs:l,namingConvention:c,showOptimizedSVG:u,loading:n,platform:r,onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:a.default.hideDensityMismatchWarning,onAssetDensityOptionChange:a.default.changeAssetDensityScalePref,onNamingConventionChange:a.default.changeAssetNamingConvention,onShowOptimizedSVGChange:a.default.toggleSVGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},p))}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:o}=this.state;return i.h(m.default,{dots:t.dots,statusFilter:n,colorFilter:o,barrelUser:e,onFilterChange:c.default.changeDotFilter,onNoteClick:c.default.selectDot,onAddNoteClick:c.default.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=l.default.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}}t.default=r()(P)},function(e,t,n){"use strict";n.r(t);var i=n(1645);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1646),r=n(404),a=n(1647),s=n(1336),l=n(752),c=n(619),d=n(573),u=n.n(d),p=n(1514),h=n(1650),f=n(1653),g=n(997),m=n(442),b=n(245),S=n(399),y=n(923),v=n(252),C=n(1301),O=n(229),E=n(1304);n(1656);class T extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:o,numberOfCols:r}=t,a=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(a),vizGutterWidth:Math.ceil(230-a),totalWidth:r*e+(r-!o)*i,numberOfCols:r})}if(e){const{rowHeight:t,gutterHeight:i}=e,o=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(o),vizGutterHeight:Math.ceil(48-o)})}return n}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:o,vizColumnWidth:r,vizGutterWidth:a,totalWidth:s,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:p,vizGutterHeight:h}=this.getGridData();return i.h("div",{class:Object(S.default)("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(o)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:r+"px"}}),i.h("td",{class:"verticalGutter",style:{width:a+"px"}}),i.h("td",{class:"gridRowHeight",style:{height:p+"px"}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:h+"px"}},e.length(u)))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"Total width:"),i.h("span",{class:"value"},e.length(s))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"# of columns:"),i.h("span",{class:"value"},l)))}}class _ extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:o},permissions:{canManageScreens:a}}=this.context,s=e.map(e=>{const t=Object(b.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)}),l=Object(O.getOS)()===O.OS.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},s,i.h(c.default,{content:a?"Manage tags":Object(y.default)(o,"organize screens using tags")},i.h(r.default,{class:"manageTagsButton",onClick:t,disabled:!a},i.h(m.IconGear,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:o}=this.props;if(!e)return null;const r=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.default,{checked:n,onChange:o}));return i.h(p.default,{title:r,showSeparator:!0},i.h(T,{grid:e,formatter:t}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const o=t?null:i.h(u.a,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(p.default,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(r.default,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),o)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(v.imageUrl)("img/icFilePhotoshopNew.png"),srcset:Object(v.srcset)(Object(v.imageUrl)("img/icFilePhotoshopNew.png"))}),i.h("img",{key:"psPressed",src:Object(v.imageUrl)("img/icFilePhotoshopNewPressed.png"),srcset:Object(v.srcset)(Object(v.imageUrl)("img/icFilePhotoshopNewPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(v.imageUrl)("img/icFileXD.png"),srcset:Object(v.srcset)(Object(v.imageUrl)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(v.imageUrl)("img/icFileXDPressed.png"),srcset:Object(v.srcset)(Object(v.imageUrl)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(p.default,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:r,appUri:l,webUrl:c,screen:d,screenId:u,sectionId:m,version:b,onCopyCode:S,onCopyScreenWebUrl:y,onCopyScreenAppUri:v,onDescriptionChange:O}=this.props,{permissions:{canManageScreens:T}}=this.context;return i.h(h.default,{class:"infoTab"},i.h(p.default,{showSeparator:r},e.map(({id:t,fullName:n,username:o,avatar:r={},versions:a,lastUpdated:s})=>i.h(f.default,{key:o,id:t,avatar:r,fullName:n,username:o,versionCount:a,authorCount:e.length,lastUpdated:s}))),i.h(g.default,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:u,label:"Attached to "},{itemType:"section",itemId:m,label:"Section attached to "}]}),i.h(p.default,{title:"Share "+(n?"screen":"version"),showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(a.default,{webUrl:c,appUri:l,onCopyWebUrl:y,onCopyAppUri:v}))),i.h(p.default,{title:"Description",showSeparator:!0},i.h(s.default,{class:"descriptionInput",value:t,placeholder:T?"Got any notes?":"No description yet",readOnly:!T,submitOnBlur:!0,onSubmit:O,autoEdit:!0,formatter:C.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(p.default,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(o.default,{class:"codeSection",screen:d,version:b,onCopyClick:S,onSettingsClick:E.default.openSettings}))}}_.defaultProps={authors:[]},t.default=_},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1622),r=n(1639);class a extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then(e=>r.CodeSnippet.fromUnknown(e,"screen"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(o.default,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1648);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(247),r=n(976),a=n(404),s=n(619),l=n(442);n(1649);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function u(e){const t=window.getSelection().toString().trim();return t&&t!==e}class p extends i.Component{constructor(...e){super(...e),c(this,"state",{shortWebUrl:null}),c(this,"handleCopyAppUriClick",()=>{const{appUri:e,onCopyAppUri:t}=this.props;t(e)}),c(this,"handleCopyWebUrlClick",()=>{const{webUrl:e,onCopyWebUrl:t}=this.props;t(Object(r.getShortlink)(e))}),c(this,"handleCopyAppUri",e=>{u(this.props.appUri)||(e.preventDefault(),this.handleCopyAppUriClick(),Object(o.selectContent)(e.target))}),c(this,"handleCopyWebUrl",e=>{u(d(this.props.webUrl))||(e.preventDefault(),this.handleCopyWebUrlClick(),Object(o.selectContent)(e.target))})}async componentDidMount(){const e=await Object(r.fetchShortlink)(this.props.webUrl);this.setState({shortWebUrl:e})}async componentDidUpdate({webUrl:e}){const{webUrl:t}=this.props;if(e!==t){Object(r.hasShortlink)(t)||this.setState({shortWebUrl:null});const e=await Object(r.fetchShortlink)(t);this.setState({shortWebUrl:e})}}render(){const{shortWebUrl:e}=this.state,{appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},d(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Copy web link"},i.h(a.default,{onClick:this.handleCopyWebUrlClick},i.h(l.IconCopy,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(l.IconShare,null))),i.h(s.default,{targetClass:"shareButton",content:"Copy app URI"},i.h(a.default,{onClick:this.handleCopyAppUriClick},i.h(l.IconCopy,null))))))}}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1651);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399);n(1652);t.default=function(e){const{class:t,children:n,afterContent:r,title:a,onClick:s}=e;return i.h("div",{class:Object(o.default)("resourceTab",t),onClick:s},a&&i.h("div",{class:"title"},i.h("h1",null,a)),i.h("div",{class:"tabContent"},n),r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1654);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o),a=n(612),s=n(615);n(1655);t.default=function(e){const{id:t,avatar:n,fullName:o,username:l,versionCount:c,authorCount:d,lastUpdated:u}=e,p=i.h(r.a,{class:"userImageFrame",src:n.src,srcset:n.srcset,size:28}),h=i.h("span",{class:"author ellipsis",title:o||l},o||l);return i.h("div",{class:"versionAuthor"},t?i.h(s.default,{userId:t},p):p,i.h("div",{class:"authorAndCount"},t?i.h(s.default,{class:"versionAuthorNameUserProfileCardPopoverContainer",userId:t,openToLeft:!1},h):h,(d>1||c>1)&&i.h("span",null,", ",c," version",c>1?"s":"")),i.h(a.default,{type:"time-ago",format:"micro",class:"date",datetime:u}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1658);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1514),r=n(1650),a=n(1520),s=n(1659),l=n(252);n(1662);class c extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:p}=this.props;let h;return n?h=i.h(o.default,null,i.h(s.default,null)):c?h=i.h(o.default,null,i.h("div",{class:"restricted"},i.h("h2",null,"Need Developer access?"),i.h("p",null,"Your organization role is Reviewer ",i.h("img",{src:Object(l.imageUrl)("img/icPawn.png"),srcSet:Object(l.srcset)(Object(l.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!"))):e||t.length?(h=[],e&&h.push(i.h(o.default,{title:"Background color"},i.h(a.default,{onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))),t.length>0&&h.push(i.h(o.default,{title:"Colors",showSeparator:h.length>0},t.map(e=>i.h(a.default,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))))):h=i.h(o.default,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.imageUrl)("img/emjPalette.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(r.default,{class:"colorsTab",title:"Colors"},h)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1660);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420);n(1661);class a extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(5*Math.random())+1,this.intervalId=setInterval(this.handleOnePeriod,1260))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(r.default)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:Object(o.default)("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","green",e[4]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:Object(o.default)("loadingShape","cornflowerBlue",e[6]||"circle")}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1664);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1665),r=n(1650),a=n(1659),s=n(404),l=n(1540),c=n(1542),d=n(1544),u=n(1547),p=n(1552),h=n(1514),f=n(442),g=n(420),m=n(399),b=n(1510),S=n(247),y=n(229),v=n(236),C=n(252);n(1668);const O=Object(S.canDownload)();class E extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:o,light:r,previewImages:a}=this.props;return i.h("div",{class:Object(m.default)("assetEntry","noSelect",{selected:!!o}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.default,{class:"preview",light:r,images:a}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),o&&i.h("div",null,Object.keys(n).sort(b.sortFormats).map(e=>i.h(s.default,{key:e,class:Object(m.default)("exportType",{selected:o===e}),onClick:this.createFormatSelectHandler(e)},e))))}}function T(e,t){return n=>t(e,n)}function _(e,t){return n=>t(e,n)}function P(e){return Object.keys(e).sort().join("&")}class j extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[P(e.formats)]||"png";return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:o}=this.props;if(t.shiftKey){const t=Math.min(n,e),r=Math.max(n,e),a=o.slice(t,r+1),s=function(e,t,n){const i=Object.assign({},e);for(let o=n-1;o>=0;o--){const e=t[o].id;if(!i[e])break;delete i[e]}for(let o=n;o<t.length;o++){const e=t[o].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=a.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),s);return void this.setState(e=>({assetSelections:l}))}const r=this.getPreferredFormatObjectForAsset(o[e]);if(Object(y.cmdKey)(t)){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,r),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:r,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:o}=this.props,r=o[e],a=Object.assign({},n,{[r.id]:t});this.setState({assetSelections:a,assetFormatPreference:Object.assign({},i,{[P(r.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){v.userPrefs.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:o}=this.state,r=Object.keys(t).length,a=Object.keys(i).length;n!==o&&function(e){v.userPrefs.set("assetFormatPreference",e)}(o),0===r&&a>0?document.body.classList.add("supportButtonHidden"):r>0&&0===a&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n}=this.props,o={};let r=!1;for(let i of e)Object.keys(i.formats).forEach(e=>{o[e]=(o[e]||[]).concat(i.formats[e].variants)}),i.formats.svg&&!i.formats.svg.diff&&(r=!0);return Object.keys(o).sort(b.sortFormats).map(e=>i.h(d.default,{key:e,format:e,variants:o[e],assetDensityScalePrefs:t,hideOptimization:"svg"===e&&(!n||r),onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,o)=>{const r=this.getPreferredFormatObjectForAsset(e);return i.h(E,{key:e.id,name:Object(b.getExportName)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,r[e.id]),onClick:T(o,this.handleAssetClick),onFormatChange:_(o,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,showDensityMismatchWarning:u,assetDensityScalePrefs:b,namingConvention:S,showOptimizedSVG:y,platform:v,onHideDensityMismatchWarningClick:E,onAssetDensityOptionChange:T,onNamingConventionChange:_,onShowOptimizedSVGChange:P}=this.props,{assetSelections:j,settingsOpen:D}=this.state,k=i.h("div",{class:"assetsTitle"},"Assets",i.h(p.default,{open:D,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:T,onNamingConventionChange:_,onShowOptimizedSVGChange:P,projectType:v,settings:{assetDensityScalePrefs:b,namingConvention:S,showOptimizedSVG:y},target:i.h(s.default,{class:Object(m.default)("assetSettingsButton",{active:D}),onClick:this.showSettingsMenu},i.h(f.IconSettings,null))}));let I;return I=n?i.h(a.default,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(h.default,{class:"restricted"},i.h("h1",null,"Need Developer access?"),i.h("p",null,"Your workspace role is Reviewer ",i.h("img",{src:Object(C.imageUrl)("img/icPawn.png"),srcSet:Object(C.srcset)(Object(C.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")):e.length?[i.h(h.default,{class:"allAssets",key:"allAssets"},!O&&i.h(c.default,{class:"warningBox"}),u&&i.h(l.default,{class:"warningBox",onHideClick:E}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(h.default,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(g.default)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(h.default,null,i.h(o.default,{source:t})),i.h(r.default,{onClick:this.handleDocumentClick,title:k,class:Object(m.default)("assetsTab",v),afterContent:Object.keys(j).length>0&&i.h(s.default,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},I)}}t.default=j},function(e,t,n){"use strict";n.r(t);var i=n(1666);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(252);n(1667);t.default=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:o.imageUrl("img/emjAssetVictory.png"),srcset:o.srcset(o.imageUrl("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:o.imageUrl("img/emjScissors.png"),srcset:o.srcset(o.imageUrl("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icSketchMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:o.imageUrl("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icPhotoshopMakeExportableNew.png"),srcset:o.srcset(o.imageUrl("img/icPhotoshopMakeExportableNew.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icFigmaMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icXDMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1670);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(1514),a=n(1499),s=n.n(a),l=n(1650),c=n(551),d=n(1671),u=n(328),p=n(252),h=n(229);n(1674);class f extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(h.getOS)()===h.OS.MAC?i.h("img",{class:"dotMacShortcut",src:Object(p.imageUrl)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(p.imageUrl)("img/icDotWinShortcut.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(h.getOS)()===h.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(p.imageUrl)("img/emjSweatTears.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(p.imageUrl)("img/icQuietMaymus.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(h.getOS)()===h.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(l.default,{class:"notesTab",title:e},i.h(r.default,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:o,onNoteClick:r,onFilterChange:a}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(c.default,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const l=e.filter(e=>Object(u.checkFilter)(e,t,n,o.user)),p=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(s.a,{top:36,dotCount:l.length,colorFilter:n,statusFilter:t,onFilterChange:a})):"Notes";let h;return l.length?(h=l.map(({_id:e,color:t,comments:n,name:o})=>i.h(d.default,{key:e,color:Object(u.getColorName)(t),id:e,comments:n,name:o,onNoteClick:r})),h.push(i.h("div",{class:"endingMark"},"~"))):h=this.renderEmptyState(),this.renderTab(p,h)}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1672);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(527),r=n.n(o),a=n(612),s=n(399),l=n(420),c=n(247),d=n(238),u=n(622),p=n(624);n(1673);function h(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function f(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?n[0]+" also replied":`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const g=document.createElement("canvas").getContext("2d");function m(e){return g.measureText(e)}function b({content:e=""}){const t=[p.CustomRules.SPOTIFY,p.CustomRules.YOUTUBE,p.MarkdownRules.IMAGE,p.MarkdownRules.CHECKBOX,p.MarkdownRules.TABLE,p.MarkdownRules.HEADING];return i.h("div",{class:"content"},i.h(u.default,{disabledFeatures:t},e))}g.font="italic 12px Roboto";class S extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let o=f(this.otherAuthorNames,this.hiddenAuthorCount);for(;m(o).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,o=f(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=o}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i({dotId:t,commentId:n.length>1?n[n.length-1]._id:null,source:"Notes tab"})}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),[n]=t,o=t[e.length-1],a=new Set([n.username,o.username]),s=[];t.forEach(e=>{a.has(e.username)||(a.add(e.username),s.push(e))});const d=e.length-2,u=s.filter(e=>!!e._id).length;let p;return s.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=s.map(e=>e.username),this.hiddenAuthorCount=s.length-u,p=u&&this.otherAuthorNames.length?f(this.otherAuthorNames,this.hiddenAuthorCount):d>1?d+" more replies":"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},s.map(e=>i.h(r.a,{class:"authorAvatar",src:Object(c.getUserAvatar)(e).src,size:16}))),i.h("div",{class:"summary",ref:Object(l.default)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n}=this.props,[o]=t;if(!o)return null;const l=t.length>1?t[t.length-1]:null,{author:u={username:"Anonymous"},note:p}=o,{author:f={username:"Anonymous"},note:g}=l||{};return i.h("div",{class:Object(s.default)("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(r.a,{src:Object(c.getUserAvatar)(u).src,size:24}),i.h("div",{class:"author ellipsis"},Object(d.getUserDisplayName)(u)),i.h(a.default,{type:"time-ago",format:"micro",class:"time",datetime:h(o)})),i.h("div",{class:"number"},n)),i.h(b,{content:p})),t.length>2&&this.renderOtherReplies(),l&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(r.a,{src:Object(c.getUserAvatar)(f).src,size:24}),i.h("div",{class:"author ellipsis"},f.username),i.h(a.default,{type:"time-ago",format:"micro",class:"time",datetime:h(l)})),i.h(b,{content:g})))}}t.default=S},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"transformInfo",(function(){return r})),n.d(t,"transformColors",(function(){return a})),n.d(t,"transformAssets",(function(){return s}));var i=n(253),o=n(1511);function r(e,t={}){const{description:n,tags:i=[],versions:r}=e,{snapshot:{grid:a,source:s}={}}=t;return{authors:Object(o.transformAuthors)(r),description:n,grid:a,source:s,tags:i,version:t,screen:e}}function a(e,t,n){const r=new Set,a={screenColors:[]};function s(e){const i=Object(o.transformColor)(e,t,n);r.has(i.colorStyle)||(a.screenColors.push(i),r.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(a.backgroundColor=Object(o.transformColor)(new i.default(l.backgroundColor),t,n)),l.layers?(l.layers.forEach((function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&s(new i.default(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":s(new i.default(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{s(new i.default(e.color))})}}))})),a):a}function s(e,t,n){const{snapshot:{assets:i,source:r}}=e;return{assets:i?i.map(e=>Object(o.transformAsset)(e,t,n)).filter(Boolean):[],source:r}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1680);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(263),r=n.n(o),a=n(248),s=n(245),l=n(386),c=n(1174),d=n(420),u=n(259),p=n(229),h=n(367),f=n.n(h),g=n(1681),m=n(1851),b=n(388),S=n(778),y=n(271),v=n.n(y),C=n(1692),O=n(379),E=n(364),T=n(365),_=n(513),P=n.n(_);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.Component{constructor(...e){super(...e),I(this,"handleBaseRef",e=>{Object(d.default)(this,"styleguide")(e),this.props.baseRef(e)}),I(this,"handleSectionNavigatorClick",(e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;f.a.history.replace(Object(s.urlResolve)(i,{url:{bid:n},query:{seid:t}}))}),I(this,"handleStyleguideLink",e=>{const{barrel:t}=this.state;C.default.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})}),I(this,"handleStyleguideUnlink",e=>{const{barrel:{_id:t}}=this.state;C.default.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})}),I(this,"handleExportClick",(e,t,n,i)=>{O.default.exportCode({resourceType:e,source:t,exportObjects:n,extensionId:i})}),I(this,"handleKeyDown",e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(p.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(u.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?O.default.disableDevMode():O.default.enableDevMode())})}static calculateState(){const e=v.a.BarrelStore.getState(),{loading:t}=e,n=k(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:o,barrelType:r,showSlackReconnectionAuntie:a,linkingProjectToStyleguide:s,connectedComponentsDevModeEnabled:l}=n,c=E.default.getBarrel(),d=E.default.findUser(),{userId:u,paymentPlan:p,shouldPromoteExportDesignTokens:h}=v.a.UserStore.getState(),f=c.users.some(({user:e})=>e._id===u);if(c.partial||!f)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:f};const g=v.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:m}=v.a.VersionImportsStore.getState(),b=T.default.getOrganizationStyleguides(o),S=E.default.isUserRestricted(),y=E.default.getStyleguidesData({barrelStore:v.a.BarrelStore,styleguidesDataStore:v.a.StyleguidesDataStore,projectsDataStore:v.a.ProjectsDataStore}),C=y.some(({connectedComponents:e})=>e&&e.length>0);return D(D({loading:!1},g),{},{barrel:c,barrelUser:d,isUserJoined:f,suggestedResourcesByBarrel:m,userId:u,paymentPlan:p,shouldPromoteExportDesignTokens:h,currentOrganizationStyleguides:b,userRestricted:S,organizationId:o,barrelType:r,showSlackReconnectionAuntie:a,linkingProjectToStyleguide:s,connectedComponentsDevModeEnabled:l,styleguidesData:y,hasConnectedComponent:C})}static getStores(){return[v.a.StyleguideStore,v.a.VersionImportsStore,v.a.UserStore,v.a.BarrelStore,v.a.ProjectsDataStore,v.a.StyleguidesDataStore,v.a.OrganizationStore,v.a.UserStore]}slugPrefix(){const{barrelType:e}=this.state;return e===r.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:o,barrel:r,barrelUser:s,isUserJoined:l,hasConnectedComponent:c,sortType:d}=this.state;if(e||r.partial||!l)return{};const{id:u,type:p,densityScale:h,dimensionSuffix:f,styleguideLink:g}=r;return{densityScale:h,dimensionSuffix:f,barrelType:o,barrelId:u,projectId:u,projectType:p,barrelUser:s,organizationId:i,userRole:s.role,hasLinkedStyleguide:!!g,currentUserId:t,currentUserPaymentPlan:n,hasConnectedComponent:c,sortType:d,permissions:{canManageProject:a.permissions.canUpdateProject(s),canManageStyleguide:a.permissions.canUpdateStyleguide(s),canManageColors:a.permissions.canManageColors(s),canManageScreens:a.permissions.canManageColors(s),canManageTextStyles:a.permissions.canManageTextStyles(s),canManageSpacings:a.permissions.canManageSpacings(s),canManageRemSettings:a.permissions.canManageRemSettings(s)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:o,isUserJoined:r,showSlackReconnectionAuntie:a}=this.state;if(e)return null;if(n.partial||!r)return i.h(m.default,{styleguide:n,loadingJoin:t,onJoin:O.default.join});const{barrelType:s,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,highlightedColors:f,highlightedTextStyles:y,highlightedSpacingTokens:v,scrolledSection:C,highlightScrolledSection:E,sortType:T,filterValue:_,moveResourcesPopup:P,selectionComponentId:j,selection:D,suggestedResourcesByBarrel:k,showSuggestedResourcesBadge:I,currentOrganizationStyleguides:R,linkingProjectToStyleguide:A,styleguidesData:w,shouldPromoteExportDesignTokens:N}=this.state,L=new c.default(n),{barrelId:x,component:M}=Object(l.findComponentById)(w,j)||{};let U=D;return!U&&M&&(U=M),i.h(g.default,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:A,shouldPromoteExportDesignTokens:N,styleguidesData:w,barrelType:s,barrel:n,barrelUser:o,currentOrganizationStyleguides:R,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,scrolledSection:C,highlightScrolledSection:E,highlightedColors:f,highlightedTextStyles:y,highlightedSpacingTokens:v,selectionStyleguideId:x,selectionComponent:M,selection:U,sortType:T,filterValue:_,formatter:L,showSlackReconnectionAuntie:a,suggestedResources:k[n.id],showSuggestedResourcesBadge:I,onLeftSidebarRelease:b.default.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:P,onExportClick:this.handleExportClick,onStopPromotingExportDesignTokens:S.default.stopPromotingExportDesignTokens})}}t.default=P()(R,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1682);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(4),o=n(248),r=n(420),a=n(399),s=n(379),l=n(1305),c=n(1683),d=n(1690),u=n(1714),p=n(1737),h=n(1748),f=n(1773),g=n(404),m=n(545),b=n(1127),S=n(1833),y=n(1839),v=n.n(y),C=n(1845),O=n(892);n(1850);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return e.map(({_id:e,idPath:n,name:i,componentSections:o=[]})=>({id:e,idPath:n,styleguideId:t,title:i,content:i,children:P(o,t)}))}function j(e){return 0===e.length?[]:e[0].idPath}function D({children:e,baseRef:t,compact:n,overlapped:o}){const r=Object(a.default)("sidebarBottom",{compact:n,overlapped:o});return i.h("div",{class:r,ref:t},i.toChildArray(e).map(e=>"string"==typeof e?e:i.cloneElement(e,{compact:n})))}class k extends i.Component{constructor(...e){super(...e),_(this,"state",{hasDraggingElement:!1,linkToStyleguidePopupVisible:!1,targetLinkButton:null}),_(this,"openLinkPopup",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),_(this,"openLinkPopupAtTargetNode",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),_(this,"closeLinkToStyleguidePopup",()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}),_(this,"getScrollableDropContainers",()=>{const e=[];if(this.nodeRefs){const{leftSidebarContent:t,componentsContainer:n}=this.nodeRefs;t&&e.push(t),n&&e.push(n)}return e.length>0?e:null}),_(this,"handleStartDrag",()=>{this.setState({hasDraggingElement:!0})}),_(this,"handleEndDrag",()=>{this.setState({hasDraggingElement:!1})}),_(this,"handleComponentToSectionNodeDrop",(e,t,n)=>{const i=e[e.length-1],o=e.slice(0,-1);if(o.join()===t.join())return;const r=[{coid:i,csid:o,tcsid:t,sourceIndex:n}];s.default.updateComponentsOrder({components:r,syncWithApi:!0})}),_(this,"handleReorderComponentSectionOrGroup",e=>{s.default.updateComponentSectionsOrder({componentSections:[e],syncWithApi:!0})}),_(this,"handleLinkStyleguideSelect",e=>{const{onStyleguideLink:t}=this.props;t(e)}),_(this,"handleRepeatedClick",()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}),_(this,"handleResize",()=>{requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:n,sidebarBottomHeight:n?e.clientHeight:0})})}),_(this,"renderAbout",()=>i.h(d.default,{ref:Object(r.default)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick}))}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:a,onSectionNavigatorClick:s,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:d}=this.props,u=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:r=[],componentSections:a=[]})=>({id:e,styleguideId:e,idPath:j(a),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!r.flatMap(({spacingTokens:e})=>e).length,components:!!Object(o.collectComponents)(a).length},componentTree:P(a.slice(1),e)})),p={colors:!!l.colors.length&&"colors"!==n&&d.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&d.colors};return i.h(c.default,{baseRef:Object(r.default)(this,"styleguideSections"),barrelType:e,styleguideData:u,selectedStyleguideSection:n,selectedNavigatorId:a,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:s,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,onReorderComponentSectionOrGroup:this.handleReorderComponentSectionOrGroup,showBadge:p})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(u.default,{ref:Object(r.default)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(p.default,{ref:Object(r.default)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,o=t.reduce((t,n)=>{let i=n;if(n.id!==e.id&&(i=T(T({},n),{},{spacingSections:n.spacingSections.filter(({spacingTokens:e})=>e.length)})),i.spacingSections.length){const{id:e,name:n,type:o,spacingSections:r,remPreferences:a,dimensionSuffix:s}=i;t.push({id:e,name:n,platform:o,spacingSections:r,remPreferences:a,dimensionSuffix:s})}return t},[]),{remPreferences:a,parentStyleguideToInheritRemPreferences:s}=t[0];return i.h(h.default,{ref:Object(r.default)(this,"spacing","componentRefs"),remPreferences:a,parentStyleguideToInheritRemPreferences:s,spacingSectionsData:o,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props,{hasDraggingElement:t}=this.state;return i.h(f.default,{ref:Object(r.default)(this,"components","componentRefs"),baseRef:Object(r.default)(this,"componentsContainer"),hasDraggingElement:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase(),e){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{sidebarContentOverlapped:e}=this.state,{permissions:{canManageProject:t},organizationId:n}=this.context,{barrel:o,barrelType:a,currentOrganizationStyleguides:s,shouldPromoteExportDesignTokens:l,onStyleguideUnlink:c,onStopPromotingExportDesignTokens:d}=this.props,{ancestors:u,styleguideLink:p}=o;let h,f=!1;if("project"===a)if(p){const{styleguide:e,status:t}=p,n=function(e,t=[]){return t.find(({_id:t})=>t===e._id)||e}(e,s);f=!0,h=i.h(S.default,{key:"info",barrelName:o.name,linkedStyleguide:n,linkStatus:t,onUnlink:c})}else("user"===n||t)&&(h=i.h(g.default,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide"));const m=l&&(!h||f);return i.h(D,{baseRef:Object(r.default)(this,"sidebarBottom"),overlapped:e},i.h(v.a,{barrelId:o._id,barrelName:o.name,barrelType:a,shouldPromote:l,shouldDisplayHintBox:m,shouldDisplayIncludeParentsOption:Boolean(p)&&"active"===p.status||Boolean(u&&u.length),onStopPromoting:d}),!m&&f&&i.h("div",{class:"sidebarBottomDivider"}),h)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:o}=this.state,{barrel:r,currentOrganizationStyleguides:a,linkingProjectToStyleguide:s}=this.props;if(!n)return null;const l=r.users.find(e=>"owner"===e.role),c=a.filter(e=>["base",r.type].includes(e.type)&&"active"===e.status);let d=i.h(b.default,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:s,loading:!!s});return"user"===t?l.user._id!==e?d=i.h(b.NoStyleguidesForNonOwnerUser,{projectOwnerName:l.user.username}):c.length||(d=i.h(b.NoStyleguides,null)):c.length||(d=i.h(b.NoStyleguides,{hasOrganization:!0})),i.h(m.default,{targetNode:o,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:a}=this.state,s=this.context.permissions.canManageStyleguide;return i.h(O.default,{getScrollableDropContainers:this.getScrollableDropContainers,disabled:!s,itemsClass:"styleguide",baseRef:n,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,enableDropOntoMultipleTargets:!0},i.h(l.default,{class:"styleguideLeftSidebar",baseRef:Object(r.default)(this,"sidebar"),contentRef:Object(r.default)(this,"leftSidebarContent"),minWidth:100,paddingBottom:a,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:o.stopPropagation,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(C.default,null))}}},function(e,t,n){"use strict";n.r(t);var i=n(1684);n.d(t,"default",(function(){return i.default})),n.d(t,"sections",(function(){return i.sections}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sections",(function(){return s})),n.d(t,"default",(function(){return l}));var i=n(4),o=n(1685),r=n(263),a=n.n(r);n(1689);const s=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];function l(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:r,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,baseRef:h,showBadge:f}=e,g=t===a.a.PROJECT?s.slice(1):s;return i.h("div",{ref:h,class:"styleguideSections"},g.map(({name:e,value:a})=>{const s=r===a;return i.h(o.default,{key:a,barrelType:t,name:e,value:a,selected:s,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,showBadge:f[a]})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1686);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(4),o=n(399),r=n(245),a=n(263),s=n.n(a),l=n(1687),c=n(1131);n(1688);class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===s.a.PROJECT?"project-styleguide-"+n.toLowerCase():"styleguide-"+n.toLowerCase();return Object(r.urlResolve)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:o,onComponentToSectionNodeDrop:r,onReorderComponentSectionOrGroup:a}=this.props;if(1===n.length&&"components"!==e)return null;let s,l="",d=!1;switch(e){case"colors":case"textStyles":case"spacing":s=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?s=n[0].componentTree:(d=!0,l="linkedStyleguideTree",s=n.filter(({has:{[e]:t}})=>t).map(({id:e,idPath:t,styleguideId:n,name:i,componentTree:o})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:o})));break;default:return null}return i.h(c.default,{class:["styleguideTree",l],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,startingLevel:d?0:1,tree:s,selectedNodeId:t?o:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:r,onReorderComponentSectionOrGroup:a})}render(){const{name:e,value:t,selected:n,showBadge:r}=this.props;return i.h("div",{class:Object(o.default)("styleguideSection",{selected:n,showBadge:r}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(l.default,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),r&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(442);t.default=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(o.IconInfo,{color:n});case"colors":return i.h(o.IconColor,{width:"22",height:"24",color:n});case"textStyles":return i.h(o.IconTextStyle,{width:"22",height:"24",color:n});case"spacing":return i.h(o.IconSpacing,{color:n});case"components":return i.h(o.IconComponent,{color:n});default:return null}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1691);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(420),s=n(379),l=n(364),c=n(388),d=n(1692),u=n(365),p=n(248),h=n(271),f=n.n(h),g=n(778),m=n(1693);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{editing:!1}),S(this,"goToTop",()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0}),S(this,"handleStyleguideTutorialHideClick",()=>{g.default.hideStyleguideTutorial()}),S(this,"handleSectionNavigatorClick",e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)}),S(this,"handleEditDescription",()=>{this.setState({editing:!0})}),S(this,"handleUpdateDescription",e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;s.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),S(this,"handleCancelDescription",()=>{this.setState({editing:!1})}),S(this,"handleLinkProject",e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find(t=>t._id===e);d.default.linkProjectToStyleguideRequest({project:i,styleguide:t})}),S(this,"handleUnlinkProject",e=>{const{barrel:t}=this.state;d.default.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.StyleguidesDataStore,f.a.ProjectsDataStore,f.a.OrganizationStore,f.a.UserStore]}static calculateState(){const e=f.a.BarrelStore.getState(),{loading:t}=e,n=b(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=f.a.UserStore.getState();if(t)return{loading:!0};const{barrelId:o,barrelType:r,organizationId:a,showSlackReconnectionAuntie:s}=n,c=l.default.getBarrel(),d=l.default.findUser(),{rightSidebarWidth:h}=f.a.StyleguideStore.getState(),g=u.default.getOrganizationProjects(a)||[],[{colors:m}]=l.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore});return{loading:!1,barrel:c,barrelId:o,barrelType:r,organizationId:a,showSlackReconnectionAuntie:s,sidebarWidth:h,currentOrganizationProjects:g,colors:m,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:p.permissions.canUpdateProject(d),canManageStyleguide:p.permissions.canUpdateStyleguide(d)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:o,sidebarWidth:r,currentOrganizationProjects:s,editing:l,shouldDisplayStyleguideTutorial:d,permissions:u}=this.state;return e?null:i.h(m.default,{nodeRef:Object(a.default)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:o,sidebarWidth:r,shouldDisplayStyleguideTutorial:d,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:c.default.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:s,permissions:u})}}t.default=r()(y)},function(e,t,n){"use strict";n.r(t);var i=n(286),o=n(271),r=n.n(o);const a={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){r.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){r.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t,syncWithApi:n}){r.a.dispatcher.dispatch({type:i.default.LINK_PROJECT,project:e,styleguide:t,syncWithApi:n})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){r.a.dispatcher.dispatch({type:i.default.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1694);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(1295),a=n(404),s=n(1695),l=n(1698),c=n(1007),d=n(1701),u=n(1707),p=n(545),h=n(1710),f=n(420);n(1713);class g extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout(()=>this.nodeRefs.markdownDescription.scrollIntoView(),4)}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:o,onCancelDescription:r,permissions:{canManageProject:a}}=this.props;return e||t?i.h(c.default,{ref:Object(f.default)(this,"markdownDescription"),value:e,editing:t,readOnly:!a,onEdit:n,onUpdate:o,onCancel:r}):i.h(s.default,{class:"markdownDescriptionEmptyState",type:s.default.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:o,onLinkProject:r,barrel:{_id:a,type:s,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,h=o.filter(e=>{const t="base"===s||e.type===s;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=l.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d}),f=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(p.default,{targetNode:f,onClose:this.closeLinkToProjectPopup,content:i.h(u.default,{organizationId:n,currentStyleguide:a,onSelect:r,projects:h}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let o;return o=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map(({_id:e,name:n,type:o,updated:r})=>i.h(l.default,{key:e,id:e,name:n,type:o,updated:r,onUnlinkProject:t}))):i.h(s.default,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(d.default,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(a.default,{baseRef:Object(f.default)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),o]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(r.default,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:r}=this.props;return i.h(i.Fragment,null,i.h("div",{class:Object(o.default)("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(h.default,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:r})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}g.defaultProps={editing:!1},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1696);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(551),a=n(442),s=n(399),l=n(230);n(1697);const c=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(a.IconColor,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(a.IconTextStyle,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}});function d(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>" "+e.toLowerCase());return t?n.slice(0,-1):n}class u extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${d(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:r}=this.context;return t&&!n&&"project"===r?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",d(e)," from a Styleguide by linking your project."),i.h(o.default,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=c[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",d(e,{singular:!0}),"."),i.h(r.default,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return l.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(r.default,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(r.default,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps",target:"_blank"},"Download desktop app")," to export ",d(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(o.default,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(o.default,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:o}=c[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:Object(s.default)("emptyState",e)},i.h("h2",null,"No ",d(t)," yet. ",o),i.h("p",null,this.renderDescription()),this.renderBody()))}}u.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1699);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(612),r=n(942),a=n(880),s=n(766),l=n(248),c=n(245),d=n(420);n(1700);class u extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+24,y:t.top-24}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(a.default.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(a.default.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(s.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:a,type:s,updated:u}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.default)(this,"base")},t&&this.renderContextMenu(),e&&i.h(r.default,{class:"optionsButton",baseRef:Object(d.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.urlResolve)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:a},a),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.getPlatformString)(s)),i.h(o.default,{type:"time-ago",format:"micro",datetime:u}))),this.renderUnlinkDialog())}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1702);n.d(t,"default",(function(){return i.default}));var o=n(1704);n.d(t,"ContextMenuButton",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(420);n(1703);class r extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(o.default)(this,"base")},e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1705);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880),r=n(442),a=n(399);n(1706);class s extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:s}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:Object(a.default)("styleguideContextMenuButton",{active:!!s||n}),onClick:this.handleClick},i.h(r.IconMenu,null)),s&&i.h(o.default,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1708);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(957),r=n(248),a=n(245),s=n(252),l=n(399),c=n(260);n(1709);const d="Add",u="Done",p="Spinner",h="Retry",f="linking",g="linked";function m({selected:e,iconType:t}){const n=Object(s.imageUrl)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:"invite"+t,src:n})}class b extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selected:e,projectName:t,projectType:n,status:o}=this.props,a=o===g,s=o===f,c=!a&&!s&&o,b=Object(l.default)("projectListItem",{selected:e,linking:s}),S=Object(r.getPlatformString)(n),y=`${t} - ${S}`;let v;return v=a?u:s?p:c?h:d,i.h("div",{title:y,class:b},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},S)),c&&i.h("p",{class:"error"},c.title)),i.h("button",{onClick:this.handleClick,disabled:a||s},i.h(m,{iconType:v,selected:e})))}}class S extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:f}),Object(c.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:g}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},o){return i.h(b,{onActionButtonClick:this.handleSelect,value:e,selected:o,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(o.default.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(o.default,{class:"selectableProjectList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",o="";return e.length>0?(n="No unlinked projects",o=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):o="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(a.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(a.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),o)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),o=Object(l.default)("linkToProjectPopup",t);return i.h("div",{class:o},n.length>0?this.renderProjects(n):this.renderNoProjects())}}t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1711);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o),a=n(1683),s=n(1687),l=n(230);n(1712);const c={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.default=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(r.a,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},a.sections.map(({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(s.default,{type:e}),i.h("span",null,t)))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},c.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},c.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},c.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},c.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1715);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(244),r=n(420),a=n(248),s=n(245),l=n(379),c=n(364),d=n(388),u=n(271),p=n.n(u),h=n(880),f=n(1716),g=n(1719),m=n(1695),b=n(1305),S=n(1701),y=n(1727),v=n(1730),C=n(232),O=n(1735),E=n(513),T=n.n(E),_=n(442),P=n(367),j=n.n(P);n(1736);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"state",{styleguideToShowColorEditHintBox:null}),D(this,"unsetStyleguideForColorEditHintBox",()=>{this.setState({styleguideToShowColorEditHintBox:null})}),D(this,"goToTop",()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}),D(this,"goToStyleguideToEdit",()=>{const{styleguideToShowColorEditHintBox:e}=this.state;j.a.history.push(Object(s.urlResolve)("styleguide-colors",{url:{bid:e}}))}),D(this,"handleNameChange",(e,t)=>{l.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),D(this,"handleDataChange",(e,t)=>{l.default.updateColor({cid:e,colorData:t,syncWithApi:!0})}),D(this,"handleDelete",e=>{l.default.removeColor({cid:e,syncWithApi:!0})}),D(this,"handleAddSuggestedColor",e=>{l.default.addColor({color:e,syncWithApi:!0})}),D(this,"handleAddAllColors",()=>{const{suggestedColors:e}=this.state;l.default.addMultipleColors({colors:e,syncWithApi:!0})}),D(this,"handleHideSuggestedColors",()=>{const{barrel:{id:e},suggestedColors:t}=this.state;d.default.hideSuggestedColors(e,t)}),D(this,"handleMoveColorsToClick",e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;d.default.openMoveResourcesPopup({resourceType:C.RESOURCE_TYPE.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),D(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){l.default.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[p.a.BarrelStore,p.a.StyleguideStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.VersionImportsStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=p.a.BarrelStore.getState();if(e)return{loading:!0};const n=c.default.getBarrel(),i=c.default.findUser(),{moveResourcesPopup:o,scrolledSection:r,highlightScrolledSection:s,highlightedColors:l,rightSidebarWidth:d}=p.a.StyleguideStore.getState(),{role:u}=i,{suggestedResourcesByBarrel:h}=p.a.VersionImportsStore.getState(),f=c.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),{colors:g=[]}=h[t]||{};let m=f.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));!m.some(e=>e.id===t)&&g.length&&(m=[{id:t,name:"Local Styleguide",colors:[]},...m]);const b=a.permissions.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:u,moveResourcesPopup:o,scrolledSection:r,highlightScrolledSection:s,styleguidesData:f,colorsData:m,suggestedColors:g,highlightedColors:l,sidebarWidth:d,canManageColors:b}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(v.default,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:o,moveResourcesPopup:a,canManageColors:l}=this.state,c=a&&a.resourceType===C.RESOURCE_TYPE.COLORS,d=e!==n.id?i.h("a",{href:Object(s.urlResolve)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(_.IconGoTo,null)):null,u=Object(O.default)(n,o),p=[u&&i.h(h.default.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(h.default.ItemDivider,{key:"warningDivider"}),l&&i.h(h.default.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),f=e===n.id&&p.length>0?i.h(S.ContextMenuButton,{baseRef:Object(r.default)(this,"contextMenuButton"),keepActive:c,menuItems:p}):null;return d||f?i.h("div",null,f,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:o,scrolledSection:r,highlightScrolledSection:a,suggestedColors:s,highlightedColors:l,canManageColors:c}=this.state,{onLinkStyleguide:u}=this.props;return n&&n.length?n.map(({id:n,name:s,colors:u})=>{const p=n===e,h=o===n&&!p;return i.h(i.Fragment,{key:"fragmentColorPalette-"+n},i.h(S.default,{key:"styleguideHeader-"+n,scroll:r===n,highlight:r===n&&a,onScroll:d.default.sectionScrolled},s,this.renderStyleguideHeaderEnd({id:n,name:s})),h&&i.h(y.default,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:s,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),p&&this.renderSuggestedColors(),i.h(g.default,{key:"colorPalette-"+n,colors:u,highlightedColors:l,userRole:t,readOnly:!c,onHover:d.default.unhighlightColor,onAttemptToChange:p?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))}):i.h(m.default,{type:m.default.TYPE.COLORS,before:!!s.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:u})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:a.stopPropagation,onRelease:d.default.changeRightSidebarWidth},i.h(f.default,{type:"color",source:"Color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(r.default)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}}t.default=T()(k)},function(e,t,n){"use strict";n.r(t);var i=n(1717);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(364),s=n(271),l=n.n(s),c=n(1304),d=n(404),u=n(1627),p=n(245),h=n(249),f=n(294),g=n(1639);n(1718);function m(e,t,n){return e[`styleguide${Object(h.uppercaseFirst)(t)}s`](n).then(e=>g.CodeSnippet.fromUnknown(e,t)).catch(e=>{}).then(n=>{let i=[];return n&&(n.exportable=function(e,t){return e.hasMethod(`exportStyleguide${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod("export"+Object(h.uppercaseFirst)(t))}(e,t),i=[n]),{[e.id]:{snippets:i,title:e.name}}})}function b({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(d.default,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(p.getExtensionWebsiteUrl)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class S extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(u.default,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class y extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguidesData:i,styleguides:o,type:r,source:a,extensions:s,onExportClick:l}=this.props,c=Object(f.transformBarrelToObject)(t,n,i,o),d=s.find(t=>t.id===e);d&&d[`exportStyleguide${Object(h.uppercaseFirst)(r)}s`](c).then(t=>l(r,a,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguidesData:o,styleguides:r}=this.props,a=Object(f.transformBarrelToObject)(n,i,o,r);Promise.all(e.map(e=>m(e,t,a))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:o}=t.codeSnippets[e];return!(!o&&!i)&&(!o||!i||(i.length!==o.length||i.some((e,t)=>o[t].language!==e.language||o[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:o}=this.props,{codeSnippets:r}=this.state;if(!r)return;const a=e.map(e=>{const{snippets:t,title:o}=r[e.id];return t.length?i.h(S,{key:e.id,snippets:t,title:o,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&a.length?i.h("div",{class:"styleguideCodePanel"},a):i.h(b,{hasExtensions:t,organizationId:o,onManageExtensionsClick:n})}}class v extends i.Component{static calculateState(){const{loading:e,barrelType:t,organizationId:n}=l.a.BarrelStore.getState();if(e)return{loading:e};const i=a.default.getBarrel(),o=a.default.getStyleguidesData({barrelStore:l.a.BarrelStore,styleguidesDataStore:l.a.StyleguidesDataStore,projectsDataStore:l.a.ProjectsDataStore}),{styleguides:r}=l.a.StyleguidesDataStore.getState(),{loading:s,extensions:c,enabledExtensions:d}=l.a.ExtensionsStore.getState(),u=c.filter(e=>e.loaded&&d.includes(e.id));return{loading:e,barrel:i,barrelType:t,styleguidesData:o,styleguides:r,loadingExtensions:s,hasExtensions:c.length>0,extensions:u,organizationId:n}}static getStores(){return[l.a.BarrelStore,l.a.ExtensionsStore,l.a.ProjectsDataStore,l.a.StyleguidesDataStore]}render(){const{type:e,source:t,title:n,onExportClick:o}=this.props,{loading:r,barrel:a,barrelType:s,styleguidesData:l,styleguides:d,loadingExtensions:u,hasExtensions:p,extensions:h,organizationId:f}=this.state;if(!r&&!u)return i.h(y,{type:e,source:t,title:n,barrel:a,styleguidesData:l,barrelType:s,styleguides:d,hasExtensions:p,extensions:h,organizationId:f,onExportClick:o,onManageExtensions:c.default.openSettings})}}t.default=r()(v)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1720);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1721);n(1726);function r(e){const{colors:t,highlightedColors:n,readOnly:r,userRole:a,onHover:s,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,p=t||n.includes(e.id);return i.h(o.default,{color:e,key:e.id,readOnly:r,userRole:a,scrollIntoView:t,highlight:p,onHover:s,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1722);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(253),r=n(244),a=n(1723),s=n(1524),l=n.n(s),c=n(619),d=n(442),u=n(923),p=(n(1725),n(420)),h=n(399);function f(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function g(e){return/[A-Fa-f0-9]{6}/.test(e)}class m extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():r.create({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:r,b:a}=o.default.fromHex("#"+e);n(t,{r:i,g:r,b:a})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:o,onAttemptToChange:r}=this.props,s=e.name,m=e.hexBase(),b=Math.round(100*e.a),S=e.toRGBString(),y=e.toRGBAString(),v=Object(h.default)("colorCell",{highlight:o});let C=i.h("div",{class:v,ref:Object(p.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:y}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(d.IconDelete,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer",title:s},i.h(l.a,{textInputProps:{class:"colorName",spellCheck:"false",prefix:"#",maxLength:100,withMirror:!0,readonly:n,blurOnEnter:!0},initialValue:s,onAttemptToChange:r,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(a.default,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:g,initialValue:m,disabled:n,blurOnEnter:!0,onAttemptToChange:r,onBlur:this.handleHexChange}),i.h(a.default,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:f,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:r,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},S)));return n&&(C=i.h(c.default,{content:Object(u.default)(t,"edit colors")},C)),C}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1724);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1235),r=n(420);class a extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:o,value:r}=this.state,a=e.target.value;if(o===r||!a||n&&!n(a))return this.setState({value:o,focusWithin:!1,selectionStart:null,selectionEnd:null}),void(o===r&&r!==a&&(this.nodeRefs.input.value=r));this.setState({value:a,oldValue:r,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==a&&i(a)}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:o,selectionEnd:r}=e.target;const a=i;t&&(i=i.replace(t,""));const s=a.length-i.length;s>0&&(o-=s,r-=s),e.target.value=i,this.setState({selectionStart:o,selectionEnd:r,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(o.default,Object.assign({},t,{inputRef:Object(r.default)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1728);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);n(1729);t.default=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:o,styleguideSectionToEdit:a}=e;return i.h(r.a,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:o,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",a,", since it’s a linked styleguide.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1731);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1732),s=n(253);n(1734);function l({name:e,color:t,onClick:n}){const o=e.substr(0,e.length/2).replace(/ /g," "),r=e.substr(e.length/2).replace(/ /g," ");return i.h("button",{title:e,class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name ellipsis"},o),i.h("span",{class:"name secondHalf"},r))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,colors:r}=e,s=r.length>1;return i.h(a.default,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:s?"Add All Colors":"Add Color",hideButtonText:s?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${s?r.length+" colors":"a color"} during the last export, want to add ${s?"them":"it"}?`,description:s?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},r.map(e=>{const t=e.toHexString();return i.h(l,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}c.propTypes={colors:r.a.arrayOf(r.a.instanceOf(s.default)).isRequired,onHideClick:r.a.func.isRequired,onAdd:r.a.func.isRequired,onAddAll:r.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(573),s=n.n(a),l=n(404),c=n(399);n(1733);function d(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:o,actionButtonText:r,emoji:a,title:d,description:u,children:p,class:h}=e,f=Object(c.default)("genericStyleguideHintBox",h);return i.h(s.a,{class:f,onHideClick:t,hideButtonText:o,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},a),i.h("div",{class:"text"},i.h("h5",null,d),i.h("p",null,u)),n&&i.h(l.default,{class:"actionButton",onClick:n,primary:!0},r)),p)}d.propTypes={onHideClick:r.a.func.isRequired,hideButtonText:r.a.string.isRequired,onActionButtonClick:r.a.func,actionButtonText:r.a.string,emoji:r.a.string.isRequired,title:r.a.string.isRequired,description:r.a.string.isRequired},t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(248);function o(e,t){if(Object(i.isOrganizationProject)(e))return i.permissions.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);return"free"===n.user.paymentPlan?t.user._id===n.user._id:i.permissions.canMoveResources(t)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1738);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(244),r=n(420),a=n(248),s=n(245),l=n(1735),c=n(1174),d=n(379),u=n(364),p=n(388),h=n(271),f=n.n(h),g=n(880),m=n(1695),b=n(1305),S=n(1701),y=n(1739),v=n(1716),C=n(1727),O=n(1744),E=n(232),T=n(513),_=n.n(T),P=n(442),j=n(367),D=n.n(j);n(1747);function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.Component{constructor(...e){super(...e),I(this,"state",{styleguideToShowTextStyleEditHintBox:null}),I(this,"unsetStyleguideForTextStyleEditHintBox",()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})}),I(this,"goToStyleguideToEdit",()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;D.a.history.push(Object(s.urlResolve)("styleguide-textstyles",{url:{bid:e}}))}),I(this,"goToTop",()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}),I(this,"handleColorDelete",e=>{d.default.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}),I(this,"handleDelete",e=>{d.default.removeTextStyle({tsid:e,syncWithApi:!0})}),I(this,"handleHideSuggestedTextStyles",()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;p.default.hideSuggestedTextStyles(e,t)}),I(this,"handleNameChange",(e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return o.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),I(this,"handleAddTextStyle",e=>{d.default.addTextStyle({textStyle:e,syncWithApi:!0})}),I(this,"handleAddAllTextStyles",()=>{const{suggestedTextStyles:e}=this.state;d.default.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}),I(this,"handleMoveTextStylesToClick",e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;p.default.openMoveResourcesPopup({resourceType:E.RESOURCE_TYPE.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),I(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){d.default.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.ProjectsDataStore,f.a.StyleguidesDataStore,f.a.VersionImportsStore,f.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=f.a.BarrelStore.getState();if(e)return{loading:!0};const n=u.default.getBarrel(),i=u.default.findUser(),{rightSidebarWidth:o,highlightedTextStyles:r,scrolledSection:s,highlightScrolledSection:l,moveResourcesPopup:d}=f.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:p}=f.a.VersionImportsStore.getState(),{textStyles:h=[]}=p[t]||{},{role:g}=i,m=new c.default(n),b=u.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore});let S=b.filter(({textStyles:{length:e}=[]})=>e).map(e=>{let{componentSections:t}=e;return k(e,["componentSections"])});!S.some(e=>e.id===t)&&h.length&&(S=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...S]);const y=a.permissions.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:g,sidebarWidth:o,highlightedTextStyles:r,scrolledSection:s,highlightScrolledSection:l,moveResourcesPopup:d,suggestedTextStyles:h,formatter:m,styleguidesData:b,textStylesData:S,canManageTextStyles:y}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(O.default,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:o,barrelUser:a,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===E.RESOURCE_TYPE.TEXT_STYLES,p=e!==o?i.h("a",{href:Object(s.urlResolve)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(P.IconGoTo,null)):null,h=Object(l.default)(n,a),f=[h&&i.h(g.default.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),h&&d&&i.h(g.default.ItemDivider,{key:"warningDivider"}),d&&i.h(g.default.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),m=e===o&&f.length>0?i.h(S.ContextMenuButton,{baseRef:Object(r.default)(this,"contextMenuButton"),keepActive:u,menuItems:f}):null;return p||m?i.h("div",null,m,p):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,styleguidesData:n,textStylesData:o,scrolledSection:r,highlightScrolledSection:a,highlightedTextStyles:s,suggestedTextStyles:l,formatter:c,styleguideToShowTextStyleEditHintBox:d,canManageTextStyles:u}=this.state,{onLinkStyleguide:h}=this.props;return o&&o.length?o.map(({id:o,name:l,type:h,densityScale:f,remPreferences:g,textStyles:m})=>{const b=o===e,v=d===o&&!b;return i.h(i.Fragment,{key:"textStyleCatalog-"+o},i.h(S.default,{scroll:r===o,highlight:r===o&&a,onScroll:p.default.sectionScrolled},l,this.renderStyleguideHeaderEnd({id:o,name:l})),v&&i.h(C.default,{styleguideSectionToEdit:"text styles",styleguideName:l,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(y.default,{platform:h,densityScale:f,remPreferences:g,textStyles:m,styleguidesData:n,highlightedTextStyles:s,userRole:t,readOnly:!u,formatter:c,onHover:p.default.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,o),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))}):i.h(m.default,{type:m.default.TYPE.TEXT_STYLES,before:!!l.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:h})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:a.stopPropagation,onRelease:p.default.changeRightSidebarWidth},i.h(v.default,{type:"textStyle",source:"Text style",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(r.default)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}}t.default=_()(R)},function(e,t,n){"use strict";n.r(t);var i=n(1740);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(1741),r=n(1511);function a(e){const{platform:t,densityScale:n,remPreferences:a,formatter:s,textStyles:l,styleguidesData:c,highlightedTextStyles:d,readOnly:u,userRole:p,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map((e,l)=>{const{id:S,color:y}=e,v=d[0]===S,C=v||d.includes(S),O=y&&Object(r.transformColor)(y,s,c);return i.h(o.default,{key:e.id,platform:t,densityScale:n,remPreferences:a,readOnly:u,userRole:p,formatter:s,textStyle:e,textStyleColor:O,tabIndex:l+1,scrollIntoView:v,highlight:C,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1742);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(923),s=n(244),l=n(442),c=n(404),d=n(994),u=n(619),p=n(1160),h=n(303);n(1743);class f extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:e+"px",fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():s.create({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():s.create({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:o,textStyle:r}=this.props,{content:a,fontSize:s}=Object(p.getMainInfo)(r),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:a,title:a,class:"ellipsis"},a),", "+(l?Object(h.toRemSize)(s/t,n.remRootFontSize):o.textLength(s))]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?"#"+e.name:e.colorString),i.h(c.default,{class:"deleteColor",onClick:this.handleColorDelete},i.h(l.IconDelete,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:s,tabIndex:h,highlight:f,onAttemptToChange:g}=this.props;let m=i.h(d.default,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:g,value:s.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:h,ellipsized:!0});e&&(m=i.h(u.default,{content:Object(a.default)(t,"edit text styles")},m));const b=Object(o.default)("textStyleRow",{readOnly:e,highlight:f});return i.h("div",{class:b,ref:Object(r.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},m),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(p.getExtraInfo)(n,s))),i.h(c.default,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(l.IconDelete,null)))}}t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1745);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1732),s=n(1160);n(1746);function l({name:e,info:t,subInfo:n,color:o,onClick:r}){return i.h("button",{class:"textStyleItem",onClick:r},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),o&&i.h("span",{class:"colorPreview",style:{backgroundColor:o}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,textStyles:r,formatter:c}=e,d=r.length>1;return i.h(a.default,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?r.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},r.map(e=>{const t=e.name,{content:o,fontSize:r}=Object(s.getMainInfo)(e),a=[o,c.textLength(r)].join(", "),d=e.color&&e.color.toHexString(),u=Object(s.getExtraInfo)(c,e);return i.h(l,{key:e.id,id:t,name:t,info:a,subInfo:u,color:d,onClick:()=>n(e)})})))}c.propTypes={textStyles:r.a.array.isRequired,onHideClick:r.a.func.isRequired,onAdd:r.a.func.isRequired,onAddAll:r.a.func},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1749);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(513),s=n.n(a),l=n(244),c=n(420),d=n(248),u=n(245),p=n(379),h=n(364),f=n(388),g=n(271),m=n.n(g),b=n(778),S=n(1750),y=n(1751),v=n(1305),C=n(1752),O=n(1716),E=n(1701),T=n(1760),_=n(442);n(1772);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"goToTop",()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)}),D(this,"handleCreateSection",()=>{p.default.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})}),D(this,"handleUpdateSection",e=>{p.default.updateSpacingSection(j(j({},e),{},{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&b.default.stopPromotingSpacingSectionDescriptionEditButton()}),D(this,"handleDeleteSection",e=>{p.default.removeSpacingSection({ssid:e,syncWithApi:!0})}),D(this,"handleCreateToken",e=>{const t=this.localStyleguideSpacingSections.find(({_id:t})=>t===e),n=t.spacingTokens.find(({_id:e})=>e===t.baseTokenId),i=this.localStyleguideSpacingTokens.map(({token:e})=>e),o=j({_id:y.CANDIDATE_SPACING_TOKEN},Object(S.generateInitialPayloadForSpacingToken)(t.spacingTokens,i,n&&n.value));p.default.addSpacingToken({ssid:e,spacingToken:o})}),D(this,"handleUpdateToken",(e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:o}=e,{token:r,value:a}=o,{spacingSectionsData:s}=this.props,{barrel:c}=this.state,d=s.find(({id:e})=>e===c.id).spacingSections.find(({_id:e})=>e===n),u=this.localStyleguideSpacingTokens.some(e=>e.token===r&&e._id!==i),h=d.spacingTokens.some(e=>e.value===a);let f=d.spacingTokens.find(({_id:e})=>e===i),g=!0;if(f){if(""===r||""===a?g=!1:u?(g=!1,l.create({title:r+" already exists",message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(g=!1,l.create({title:`${a}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===y.CANDIDATE_SPACING_TOKEN){this.handleDeleteToken({ssid:n,sptid:i});let e=f;return delete e._id,g&&(e=j(j({},e),{},{token:r})),void p.default.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}g&&p.default.updateSpacingToken(j(j({},e),{},{syncWithApi:!0}))}}),D(this,"handleDeleteToken",e=>{p.default.removeSpacingToken(j(j({},e),{},{syncWithApi:e.sptid!==y.CANDIDATE_SPACING_TOKEN}))}),D(this,"handleRemPreferencesUpdate",e=>{p.default.updateRemPreferences(j(j({},e),{},{syncWithApi:!0}))})}static calculateState(){const{loading:e}=m.a.BarrelStore.getState();if(e)return{loading:!0};const t=h.default.getBarrel(),n=h.default.findUser(),{scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:r,rightSidebarWidth:a}=m.a.StyleguideStore.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:s}=m.a.UserStore.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:r,sidebarWidth:a,shouldPromoteSpacingSectionDescriptionEditButton:s}}static getStores(){return[m.a.BarrelStore,m.a.StyleguideStore,m.a.ProjectsDataStore,m.a.StyleguidesDataStore,m.a.UserStore]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find(({id:e})=>e===t.id).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap(e=>e.spacingTokens)}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:o,highlightScrolledSection:r,highlightedSpacingTokens:a,shouldPromoteSpacingSectionDescriptionEditButton:s}=this.state;return e.map(({id:e,name:l,spacingSections:c,dimensionSuffix:d})=>{const p=e===t.id;return i.h(i.Fragment,{key:"spacingTokens-"+e},i.h(E.default,{scroll:o===e,highlight:o===e&&r,onScroll:f.default.sectionScrolled},l,!p&&i.h("a",{href:Object(u.urlResolve)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:"Go to "+l,"data-link-type":"inApp","data-back":t.name},i.h(_.IconGoTo,null))),c.map(e=>i.h(T.default,{key:"spacingSection-"+e._id,section:e,highlightedSpacingTokens:a,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some(e=>0===e.spacingTokens.length),isLocalStyleguide:p,shouldPromoteDescriptionEditButton:s,dimensionSuffix:d,onSpacingTokenRowHover:f.default.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken})))})}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:o},sidebarWidth:r}=this.state;return i.h(v.default,{class:"spacingsSidebar",minWidth:280,initialWidth:r,onClick:d.stopPropagation,onRelease:f.default.changeRightSidebarWidth},"web"===o&&i.h(C.default,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(O.default,{type:"spacing",source:"Spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(c.default)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}k.propTypes={remPreferences:r.a.object.isRequired,parentStyleguideToInheritRemPreferences:r.a.object.isRequired,spacingSectionsData:r.a.array.isRequired,onExportClick:r.a.func.isRequired},t.default=s()(k,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"generateInitialPayloadForSpacingToken",(function(){return a}));const i=/\d+$/,o=/\w+$/,r={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]};function a(e,t,n){const a=e.length,s=e[a-1],l=n||4,c={token:"spacing-xxs",value:4,color:{r:153,g:102,b:204,a:.2}};if(a){const t=e[0].value?0:1;let n,i,o=0,r=0;for(let s=1;s<a;s++){let t=e[s].value-e[s-1].value;o!==s-1||n&&n!==t||(n=t,o++),s>=2&&t===e[s-2].value&&r++}i=1===a?s.value||4:o===a-1?n:r===a-2-t?e[a-2].value:l-s.value%l,c.value=s.value+i}if(t.length){const e=s?s.token:c.token,n=e.match(o);let a,l=!1;if(n){const i=e.slice(0,n.index),o=n[0];let s;if(r.SHORT.includes(o)?s="SHORT":r.LONG.includes(o)&&(s="LONG"),s){let e=r[s].indexOf(o);for(;!l&&e+1<r[s].length;)e++,a=`${i}${r[s][e]}`,l=!t.includes(a)}}if(!l){const n=e.match(i);let o,r;for(n?(o=e.slice(0,n.index),r=parseInt(n[0],10)):(o=e,r=1);!l;)r++,a=o.endsWith("-")?o:o+"-",a+=r,l=!t.includes(a)}c.token=a}return c}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANDIDATE_SPACING_TOKEN",(function(){return i}));const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";n.r(t);var i=n(1753);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(244),s=n(399),l=n(514),c=n(1627),d=n(400),u=n.n(d),p=n(573),h=n.n(p),f=n(1754);n(1759);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"handleEnableStatusChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=n||i;t({updatedRemPreferences:{status:o?"disabled":"enabled",useForFontSizes:!o,useForMeasurements:!o}})}),b(this,"handleUseForFontSizeChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!n;t({updatedRemPreferences:{status:o||i?"enabled":"disabled",useForFontSizes:o}})}),b(this,"handleUseForMeasurementsChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!i;t({updatedRemPreferences:{status:n||o?"enabled":"disabled",useForMeasurements:o}})}),b(this,"handleRootFontSizeChange",e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:o}=t;if(""!==e)if(0===e)a.create({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==o){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}}),b(this,"handleRevertClick",()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:m(m({},e.remPreferences),{},{status:"linked"}),isRevert:!0})})}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:o,useForFontSizes:r,useForMeasurements:a}=t,d=r||a,p=!e||!d,g=n&&Object(l.default)(n.remPreferences,t),m=Object(s.default)("styleguideRemSettings codePanel",{enabled:d,permitted:e});return i.h("div",{class:m},i.h(c.Gutter,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(u.a,{class:Object(s.default)({enabled:d}),checked:d,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(u.a,{class:Object(s.default)({enabled:r}),checked:r,disabled:p,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(u.a,{class:Object(s.default)({enabled:a}),checked:a,disabled:p,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(f.default,{value:o,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:p})),g&&e&&i.h("div",{class:"hintBoxContainer"},i.h(h.a,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}S.propTypes={remPreferences:r.a.object.isRequired,parentStyleguideToInheritRemPreferences:r.a.object,onUpdate:r.a.func.isRequired},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1755);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(1756);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=/^-?\d*[.]?\d*$/,c=/^0+/;class d extends i.Component{constructor(...e){super(...e),s(this,"normalizeValue",(e,t)=>{let n=e;return""!==n&&(n=l.test(e)?e.replace(c,""):t,(!n||n<0)&&(n=0)),n}),s(this,"handleKeyDown",(e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();return(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t}),s(this,"handleBlur",e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))})}render(){const{value:e,placeholder:t,suffix:n,isDisabled:o}=this.props;return i.h(a.default,{value:e,suffix:n,placeholder:t,isDisabled:o,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}d.propTypes={value:r.a.number,onBlur:r.a.func.isRequired,placeholder:r.a.string,suffix:r.a.string,isDisabled:r.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1757);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(420),s=n(247);n(1758);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{value:this.props.value,isFocused:!1}),l(this,"highlight",()=>{Object(s.highlightInput)(this.nodeRefs.input)}),l(this,"setValueToStateFromProps",()=>{this.setState({value:this.props.value})}),l(this,"handleKeyDown",e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})}),l(this,"handleBlur",()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})}),l(this,"handleFocus",()=>{this.setState({isFocused:!0})}),l(this,"handleInput",e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})})}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:o}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},o),i.h("input",{ref:Object(a.default)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:o,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:r.a.oneOfType([r.a.string,r.a.number]),onBlur:r.a.func.isRequired,onEscape:r.a.oneOfType([r.a.func,r.a.bool]),normalizeValue:r.a.func,onKeyDown:r.a.func,placeholder:r.a.string,suffix:r.a.string,isDisabled:r.a.bool},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1761);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(420),s=n(399),l=n(994),c=n(1007),d=n(1762),u=n(404),p=n(880),h=n(442);n(1771);class f extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:o,name:r}=n;e||t===r||i({ssid:o,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:o}=t;this.setState({isEditingDescription:!1}),e!==o&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:o}=this.props;o({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:o}=this.props,r=e.getBoundingClientRect(),a=[];return n&&(a.push(i.h(p.default.Item,{key:"create",onClick:o},"Create new section")),t&&a.push(i.h(p.default.ItemDivider,{key:"warningDivider"}))),t&&a.push(i.h(p.default.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(p.default.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:e,clickOrigin:{x:r.right-r.width,y:r.top}},onClose:this.handleContextMenuClose},a)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:o,shouldDisplayCreateButton:r,isLocalStyleguide:p,shouldPromoteDescriptionEditButton:f,dimensionSuffix:g,onSpacingTokenRowHover:m}=this.props,{name:b,description:S,baseTokenId:y,spacingTokens:v}=e,{isEditingDescription:C,isContextMenuOpen:O,shouldFocusOnTokenName:E}=this.state;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(l.default,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(r||o)&&i.h("div",{ref:Object(a.default)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(u.default,{class:Object(s.default)("contextMenuButton",{active:O}),onClick:this.handleContextMenuButtonClick},i.h(h.IconMenu,null),O&&this.renderContextMenu()))),i.h(c.default,{value:S,placeholder:"No description yet",editing:C,readOnly:!this.isEditable,shouldPromoteEditButton:f,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription}),i.h(d.default,{tokens:v,highlightedSpacingTokens:t,baseTokenId:y,dimensionSuffix:g,barrelUser:n,isLocalStyleguide:p,shouldFocusOnName:E,onSpacingTokenRowHover:m,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}f.propTypes={section:r.a.object.isRequired,highlightedSpacingTokens:r.a.array.isRequired,barrelUser:r.a.object.isRequired,shouldDisplayDeleteButton:r.a.bool.isRequired,shouldDisplayCreateButton:r.a.bool.isRequired,isLocalStyleguide:r.a.bool.isRequired,shouldPromoteDescriptionEditButton:r.a.bool.isRequired,dimensionSuffix:r.a.string.isRequired,onSpacingTokenRowHover:r.a.func.isRequired,onCreateSection:r.a.func.isRequired,onUpdateSection:r.a.func.isRequired,onDeleteSection:r.a.func.isRequired,onCreateToken:r.a.func.isRequired,onUpdateToken:r.a.func.isRequired,onDeleteToken:r.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1763);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(399),s=n(404),l=n(619),c=n(1764),d=n(923);n(1770);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class h extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:p}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find(e=>e._id===t)||p[1]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:o,onSpacingTokenRowHover:r,onUpdateBaseToken:a,onUpdateToken:s,onDeleteToken:l}=this.props;return this.tokensToRender.map((d,u)=>{const{_id:p,token:h,value:f}=d;return i.h(c.default,{key:`spacingTokenTableRow-${h}-${f}-${p}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(p),shouldFocusOnName:o&&u===this.tokensToRender.length-1,tokenData:d,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:r,onUpdateBaseToken:a,onUpdateToken:s,onDeleteToken:l})})}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,o={};return this.isThereAnyToken?o.ninja=!0:(o.primary=!0,o.disabled=!n),e?i.h(s.default,u({class:"createButton",onClick:t},o),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(l.default,{targetClass:"createButtonTooltip",content:Object(d.default)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:Object(a.default)("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}h.propTypes={tokens:r.a.array.isRequired,highlightedSpacingTokens:r.a.array.isRequired,baseTokenId:r.a.string,dimensionSuffix:r.a.string.isRequired,barrelUser:r.a.object.isRequired,isLocalStyleguide:r.a.bool.isRequired,shouldFocusOnName:r.a.bool.isRequired,onSpacingTokenRowHover:r.a.func.isRequired,onUpdateBaseToken:r.a.func.isRequired,onCreateToken:r.a.func.isRequired,onUpdateToken:r.a.func.isRequired,onDeleteToken:r.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(420),s=n(303),l=n(253),c=n(399),d=n(1756),u=n(1754),p=n(1765),h=n(545),f=n(404),g=n(880),m=n(442),b=n(1751);n(1769);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0}),S(this,"calculateRatio",e=>Object(s.round)(e/this.props.baseToken.value,3)),S(this,"handleMouseEnter",()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)}),S(this,"handleTokenNameInputBlur",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:o}=n;e===o&&i!==b.CANDIDATE_SPACING_TOKEN||t(i,{token:e})}),S(this,"handleTokenNameInputEscape",()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===b.CANDIDATE_SPACING_TOKEN&&e(n)}),S(this,"handleTokenValueInputBlur",e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:o,value:r}=n;e!==r&&t(o,{value:e},i)}),S(this,"handleTokenColorChange",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:o}=n;new l.default(o).equals(e)||t(i,{color:e})}),S(this,"handleColorPickerPopoverOpen",()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})}),S(this,"handleColorPickerPopoverClose",()=>{this.setState({isColorPickerPopoverOpen:!1})}),S(this,"handleContextMenuButtonClick",()=>{this.setState({isContextMenuOpen:!0})}),S(this,"handleContextMenuClose",()=>{this.setState({isContextMenuOpen:!1})}),S(this,"handleUpdateBaseToken",()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)}),S(this,"handleDeleteToken",()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)})}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(h.default,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(p.default,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,o={width:t+"px",height:t+"px",backgroundColor:n&&new l.default(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(a.default)(this,"exampleContainer")},i.h("div",{class:"example",style:o},t>180&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,o=n.getBoundingClientRect();return i.h(g.default.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:n,clickOrigin:{x:o.left+24,y:o.top-24}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(g.default.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(g.default.ItemDivider,{key:"warningDivider"})],i.h(g.default.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:o}=this.props,{isColorPickerPopoverOpen:r,isContextMenuOpen:s}=this.state,{_id:l,token:p,value:h}=n,g=this.calculateRatio(h),S=Object(c.default)("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:r,contextMenuOpen:s});return i.h("div",{class:S,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(d.default,{ref:Object(a.default)(this,"spacingTokenTableRowNameInput"),value:p,onBlur:this.handleTokenNameInputBlur,onEscape:l===b.CANDIDATE_SPACING_TOKEN&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(u.default,{value:h,onBlur:this.handleTokenValueInputBlur,suffix:o,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},g&&g!==1/0?g:"-"),i.h("div",{class:"cell exampleCell"},h?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(f.default,{baseRef:Object(a.default)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(m.IconMenu,null),s&&this.renderContextMenu(l)))}}y.propTypes={isEmpty:r.a.bool.isRequired,shouldHighlight:r.a.bool.isRequired,shouldFocusOnName:r.a.bool.isRequired,isLocalStyleguide:r.a.bool.isRequired,tokenData:r.a.object.isRequired,baseToken:r.a.object.isRequired,dimensionSuffix:r.a.string.isRequired,onHover:r.a.func.isRequired,onUpdateBaseToken:r.a.func.isRequired,onUpdateToken:r.a.func.isRequired,onDeleteToken:r.a.func.isRequired},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1766);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(253),s=n(399),l=n(1767);n(1768);class c extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=6&&(i=n-6);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%6<5&&n<l.colorOptions.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<l.colorOptions.length-6&&(i=n+6);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%6>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(l.colorOptions[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return l.colorOptions.map((o,r)=>{const l=Object(s.default)("colorPickerCell",{selected:new a.default(e).equals(o),focused:n===r}),c=new a.default(o).toRGBAString();return i.h("div",{key:c,class:l,style:{backgroundColor:c},onClick:()=>t(o)})})}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}c.propTypes={selected:r.a.string,onChange:r.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"colorOptions",(function(){return i}));const i=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1774);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(263),r=n.n(o),a=n(248),s=n(420),l=n(245),c=n(229),d=n(386),u=n(399),p=n(249),h=n(257),f=n(1174),g=n(1428),m=n(1735),b=n(260),S=n(232),y=n(388),v=n(374),C=n.n(v),O=n(379),E=n(364),T=n(271),_=n.n(T),P=n(513),j=n.n(P),D=n(1775),k=n(1778),I=n(1812),R=n(1695),A=n(1247),w=n(1701),N=n(1727),L=n(442),x=n(367),M=n.n(x);n(1832);function U(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=a.sortBy.date.bind(null,["latestVersion","created"]);function V(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=Object(a.getTimeSlot)(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(p.uppercaseFirst)(e),components:t[e].sort(z),componentSections:[]}))}function W(e,t){switch(t){case S.SortTypes.UPDATED:return V(e);case S.SortTypes.NAME:return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(a.collectComponents)(e).sort(a.sortBy.name),componentSections:[]}]}(e);case S.SortTypes.SECTIONS:default:return e}}class F extends i.Component{constructor(...e){super(...e),B(this,"state",{componentContextMenu:{},styleguideToShowComponentEditHintBox:null}),B(this,"visibleComponents",new Set),B(this,"openComponentContextMenu",(e,t,n)=>{const{canManageStyleguide:i,barrelId:o}=this.state;i&&(n.preventDefault(),o!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}),B(this,"closeComponentContextMenu",()=>{this.setState({componentContextMenu:{}})}),B(this,"setAndFocusToStyleguideForEditHintBox",e=>{this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs["styleguideHeader-"+e];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}),B(this,"unsetStyleguideForComponentEditHintBox",()=>{this.setState({styleguideToShowComponentEditHintBox:null})}),B(this,"deselectComponent",()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)}),B(this,"goToTop",()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}),B(this,"goToStyleguideToEdit",()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;M.a.history.push(Object(l.urlResolve)("styleguide-components",{url:{bid:e}}))}),B(this,"handleMoveSectionClick",({section:e,targetNode:t})=>{y.default.openMoveResourcesPopup({resourceType:S.RESOURCE_TYPE.COMPONENTS,resources:[e],targetNode:t})}),B(this,"handleComponentDrop",({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:o,targetIdPath:r,targetIndex:s})=>{const{barrelId:l}=this.state,c=r[r.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let p=s;if(n.slice(0,-1).join()===r.slice(0,-1).join()){if(i>s&&u?p=s+1:i<s&&!u&&(p=s-1),i===p)return}else u&&(p=s+1);if(t===o&&Object(a.arrayEqual)(n,r,(e,t)=>e===t)&&i===p)return;if(l!==t||l!==o)return void this.setAndFocusToStyleguideForEditHintBox(t);const h=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:r.slice(0,-1),sourceIndex:i,to:p}];O.default.updateComponentsOrder({components:h,syncWithApi:!0})}),B(this,"handleSectionOrGroupDrop",({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:n,sourceStyleguideId:i,targetStyleguideId:o,to:r})=>{const{barrelId:a}=this.state;if(a!==i||a!==o)return void this.setAndFocusToStyleguideForEditHintBox(i);const s={csid:t,sourceIndex:e,to:r};n&&(s.tcsid=n),O.default.updateComponentSectionsOrder({componentSections:[s],syncWithApi:!0})}),B(this,"handleComponentToSectionOrGroupDrop",({sourceIdPath:e,sourceIndex:t,targetIdPath:n,to:i,sourceStyleguideId:o,targetStyleguideId:r})=>{const{barrelId:a}=this.state;if(a!==o||a!==r)return void this.setAndFocusToStyleguideForEditHintBox(o);const s=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:n,sourceIndex:t,to:i}];O.default.updateComponentsOrder({components:s,syncWithApi:!0})}),B(this,"handleComponentSelect",(e,t)=>{const{barrel:{id:n},selection:i}=this.state,o=e?t:null;if(!i&&!o||i&&o&&i._id===o._id)return;let r;y.default.changeSelection({selectionComponentId:e,selection:o}),e&&(r={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(this.slugPrefix()+"-components",{url:{bid:n},query:r}))}),B(this,"handleComponentsVisible",e=>{const{barrel:t,barrelUser:n}=this.state;if("pawn"===n.role)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void y.default.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(e=>Object(b.fetchSnapshot)(e.latestVersion.fullSnapshotUrl).then(n=>(Object(g.preprocessLayers)(n.layers),e.latestVersion.snapshot=n,n.assets.map(i=>Object(g.addAssetStats)(t.id,e._id,n,i)))))).then(e=>{y.default.componentSnapshotsReady()})}),B(this,"handleFilter",e=>{y.default.changeFilterValue(e)}),B(this,"handleSort",e=>{const{sortType:t}=this.state;t!==e&&y.default.changeSortType(e)}),B(this,"handleExpandSectionOrGroup",e=>{y.default.expandSections([e])}),B(this,"handleCollapseSectionOrGroup",e=>{y.default.collapseSections([e])}),B(this,"handleExpandAllSections",()=>{const e=C.a.getCollapsedSectionIds();e.length>0&&y.default.expandSections(e)}),B(this,"handleKeyDown",e=>{Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),y.default.collapseAllSections()):Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),B(this,"observeComponent",e=>{this.getIntersectionObserver().observe(e)}),B(this,"unobserveComponent",e=>{this.getIntersectionObserver().unobserve(e)}),B(this,"getComponentRef",e=>this.nodeRefs&&this.nodeRefs["styleguideComponent-"+e]),B(this,"handleComponentRef",(e,t)=>{t&&Object(s.default)(this,"styleguideComponent-"+e)(t)}),B(this,"handleBaseRef",e=>{Object(s.default)(this,"components")(e),this.props.baseRef(e)})}static getStores(){return[_.a.BarrelStore,_.a.StyleguideStore,_.a.StyleguidesDataStore,_.a.ProjectsDataStore,_.a.UserStore]}static calculateState(){const e=_.a.BarrelStore.getState(),{loading:t}=e,n=U(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:o}=n,{moveResourcesPopup:r,scrolledSection:s,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,selection:p,sortType:h,filterValue:g,rightSidebarWidth:m,convertedAnySectionIntoVariant:b}=_.a.StyleguideStore.getState(),S=E.default.getBarrel(),y=E.default.findUser(),v=new f.default(S),C=E.default.getStyleguidesData({barrelStore:_.a.BarrelStore,styleguidesDataStore:_.a.StyleguidesDataStore,projectsDataStore:_.a.ProjectsDataStore}),{barrelId:O,component:T}=Object(d.findComponentById)(C,u)||{};let P=p;return!P&&T&&(P=T),{loading:!1,barrel:S,barrelId:i,barrelUser:y,barrelType:o,moveResourcesPopup:r,scrolledSection:s,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,sidebarWidth:m,sortType:h,filterValue:g,canManageStyleguide:a.permissions.canUpdateStyleguide(y),selection:P,selectionStyleguideId:O,selectionComponent:T,formatter:v,styleguidesData:C,convertedAnySectionIntoVariant:b}}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+Object(a.collectComponents)(t).length,0)}get sectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.length-1,0)}get variantSectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.reduce((e,{variant:t})=>e+(t?1:0),0),0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(a.collectComponents)(e),i=new WeakMap(n.map(e=>[e,Object(h.calculateMatchingScore)(t,e.name)])),o=n.filter(e=>i.get(e));return o.length?[{_id:"filtered",name:"filtered",components:o.sort((e,t)=>i.get(t)-i.get(e)||a.sortBy.name(e,t)),componentSections:[]}]:[]}(e,n):W(e,t)}getIntersectionObserver(){return this.observer||(this.observer=new IntersectionObserver(e=>{const{styleguidesData:t}=this.state;e.forEach(e=>{const n=e.target.dataset.id,{component:i,ancestors:o}=Object(d.findComponentById)(t,n)||{};if(i)if(e.isIntersecting){let e=[i];if(i.variant){const t=o.find(e=>!!e.variant);e=Object(a.collectComponents)([t])}e.forEach(e=>{this.visibleComponents.add(e)})}else this.visibleComponents.delete(i)}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{this.handleComponentsVisible([...this.visibleComponents])},80)},{root:this.nodeRefs.components})),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===r.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout(()=>{document.addEventListener("click",this.deselectComponent)},4),document.addEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent),document.removeEventListener("keydown",this.handleKeyDown,!0)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:o,scrolledSection:r,collapsedSections:c,highlightScrolledSection:d,selection:u,selectionComponent:p,sortType:h,filterValue:f,styleguidesData:g,styleguideToShowComponentEditHintBox:b,componentContextMenu:v}=this.state,{hasDraggingElement:C,onLinkStyleguide:O}=this.props;if(!this.componentCount)return i.h(R.default,{type:R.default.TYPE.COMPONENTS,onButtonClick:O});const E=g.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(a.collectComponents)(i).length,componentSections:i}}),T=E.reduce((e,{componentCount:t})=>e+t,0),_=h===S.SortTypes.UPDATED,P=h!==S.SortTypes.SECTIONS,j=h!==S.SortTypes.UPDATED||!!f,I=p&&p._id;return i.h("div",{class:"componentsDragDropItems"},i.h(D.default,{selectedSortType:h,filterValue:f,onSort:this.handleSort,onFilter:this.handleFilter}),T?E.map(({id:a,name:p,componentCount:h,componentSections:g})=>{if(!h)return null;const S=a===t,O=S?null:i.h("a",{href:Object(l.urlResolve)("styleguide-components",{url:{bid:a}}),class:"headerButton",title:"Go to "+p,"data-link-type":"inApp","data-back":e.name},i.h(L.IconGoTo,null));return[i.h(w.default,{ref:Object(s.default)(this,"styleguideHeader-"+a),key:"styleguideHeader-"+a,scroll:r===a,highlight:r===a&&d,onScroll:y.default.sectionScrolled},p,O),b===a&&!S&&i.h(N.default,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:p,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:"components-"+a,class:"componentSections"},g.map((s,l)=>{const p=s.componentSections.length+s.components.length===0,h=o&&o.data&&o.data._id===s._id;return i.h(k.default,{key:s.key||s._id,styleguideId:a,index:l,data:s,hasDraggingElement:C,variantSectionCount:this.variantSectionCount,collapsedSections:c,collapsed:!p&&c[s._id],handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:r,highlightScrolledSection:d,actionsDisabled:_,selectionComponentId:I,selection:u,visibleComponents:this.visibleComponents,defaultSection:!l&&j,readOnly:P,filterValue:f,onSelect:this.handleComponentSelect,componentContextMenu:v,optionsActive:h,showMoveSectionAction:a===t&&Object(m.default)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionOrGroupDrop:this.handleSectionOrGroupDrop,onComponentToSectionOrGroupDrop:this.handleComponentToSectionOrGroupDrop,onOpenGoToStyleguideToEditHint:this.setAndFocusToStyleguideForEditHintBox,onExpandSectionOrGroup:this.handleExpandSectionOrGroup,onCollapseSectionOrGroup:this.handleCollapseSectionOrGroup})}))]}):i.h(A.default,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:o,selectionComponent:r,selection:a,styleguidesData:s,convertedAnySectionIntoVariant:l}=this.state,{onExportClick:c}=this.props;return i.h(I.default,{componentCount:this.componentCount,sectionCount:this.sectionCount,variantSectionCount:this.variantSectionCount,convertedAnySectionIntoVariant:l,selectionStyleguideId:o,selectionComponent:r,selection:a,formatter:n,width:t,styleguidesData:s,onCloseClick:this.deselectComponent,onExportClick:c})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=Object(u.default)("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:this.handleBaseRef},this.renderComponents()),this.renderSidebar())}}t.default=j()(F)},function(e,t,n){"use strict";n.r(t);var i=n(1776);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(884),r=n(517),a=n(232);n(1777);const s=[{label:"Sort by Sections",dropdownLabel:"Sections",value:a.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:a.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:a.SortTypes.NAME}];function l({onSort:e,selectedSortType:t}){return i.h(r.default,{class:"componentsSortDropdown",onChange:e,optionsClass:"componentsSortOptions"},s.map(({label:e,dropdownLabel:n,value:o,class:a})=>i.h(r.default.Item,{class:a,key:o,value:o,label:e,dropdownLabel:n,selected:o===t})))}t.default=function({onFilter:e,onSort:t,selectedSortType:n,filterValue:r}){return i.h(o.default,{class:"componentsFilterSortView",onFilter:e,filterValue:r,searchPlaceholder:"Search for a component",searchPlaceholderWidth:160,leftContent:i.h(l,{onSort:t,selectedSortType:n})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(987),r=n(990),a=n(1780),s=n(1782),l=n(1790),c=n(1805),d=n.n(c),u=n(1028),p=n(519),h=n(1808),f=n.n(h),g=n(1021),m=n(379),b=n(364),S=n(271),y=n.n(S),v=n(388),C=n(244),O=n(420),E=n(249),T=n(316),_=n(386),P=n(513),j=n.n(P);n(1811);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w="addProperty",N="removeVariants";class L extends i.Component{constructor(...e){super(...e),A(this,"state",{addingDescription:!1,loadingVariants:null,variantOptionsMenuOpen:!1,variantOnboardingDialogOpen:!1,variantFilter:{}}),A(this,"variantOptionsButtonRef",i.createRef()),A(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),A(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),A(this,"closeVariantOptions",()=>{this.setState({variantOptionsMenuOpen:!1})}),A(this,"handleAddDescriptionClick",()=>{this.setState({addingDescription:!0})}),A(this,"handleGroupNameChange",(e,t)=>{m.default.updateComponentSection({csids:e,componentSectionData:{name:t},isComponentGroup:!0,syncWithApi:!0})}),A(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==T.TEMPORARY_COMPONENT_SECTION_ID?m.default.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}),A(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||m.default.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}),A(this,"handleCopyWebLink",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionWebLink({seid:e}),mixpanel.master.track("Copied web link",{Target:"Component section"})}),A(this,"handleCopyAppURI",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionAppURI({cseid:e}),mixpanel.master.track("Copied app URI",{Target:"Component section"})}),A(this,"handleCreateSection",(e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};m.default.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}),A(this,"handleCreateGroup",(e,t,n)=>{const i={index:n||0,name:"Untitled Group",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]},o=e.slice(0,1);m.default.addComponentSection({csids:o,componentSection:i,isCreateGroup:!0,syncWithApi:!0})}),A(this,"handleSetAsThumbnail",e=>{m.default.updateThumbnail({thumbnail:e,syncWithApi:!0})}),A(this,"handleDeleteSection",()=>{const{data:{_id:e},index:t}=this.props;m.default.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}),A(this,"handleComponentContextMenu",(e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}),A(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),A(this,"handleVariantOptionsMenuClick",(e,t)=>{const{data:{_id:n}}=this.props;switch(t){case w:v.default.createComponentVariantProperty({csid:n,syncWithApi:!0});break;case N:C.create({message:"Unset as variant section?",done:{name:"CONVERT",cb:()=>{this.setState({loadingVariants:"toRegular"}),v.default.convertVariantSectionToSection({csid:n,syncWithApi:!0})}},cancel:!0})}}),A(this,"handleVariantsOnboardingDialogClose",()=>{this.setState({variantOnboardingDialogOpen:!1}),v.default.hideComponentVariantsOnboardingDialog()}),A(this,"handleConvertSectionToVariantSection",()=>{const{data:{_id:e}}=this.props;this.setState({loadingVariants:"toVariant"}),v.default.convertSectionToVariantSection({csid:e,syncWithApi:!0}),this.handleVariantsOnboardingDialogClose()}),A(this,"handleVariantOptionsButtonClick",()=>{const{styleguideId:e,data:{variant:t},onOpenGoToStyleguideToEditHint:n}=this.props,{barrelId:i,componentVariantsOnboardingDialogSeen:o}=this.state;if(e===i)return t?void this.setState({variantOptionsMenuOpen:!0}):o?void this.handleConvertSectionToVariantSection():void this.setState({variantOnboardingDialogOpen:!0});n(e)}),A(this,"handleVariantOptionsPortalDidRender",e=>{const t=this.variantOptionsButtonRef.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.right-n.width;let r,a;a=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,r=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${r}px, ${a}px, 0)`}),A(this,"handleVariantPropertValueClick",(e,t)=>{const{variantFilter:n}=this.state;if(n[e]!==t)this.setState({variantFilter:k(k({},n),{},{[e]:t})});else{const{[e]:t}=n,i=I(n,[e].map(R));this.setState({variantFilter:i})}}),A(this,"handleComponentGroupCopyWebLink",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionWebLink({bid:t,barrelType:n,seid:e})}),A(this,"handleComponentGroupCopyAppURI",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionAppURI({bid:t,barrelType:n,cseid:e})}),A(this,"handleOptionsMenuOpen",()=>{const{data:{_id:e}}=this.props,{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})}),A(this,"handleGroupOptionsMenuOpen",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})})}static getStores(){return[y.a.BarrelStore,y.a.StyleguideStore,y.a.StyleguidesDataStore,y.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=y.a.BarrelStore.getState(),{componentVariantsOnboardingDialogSeen:i}=y.a.StyleguideStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:b.default.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore}),componentVariantsOnboardingDialogSeen:i}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;m.default.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){const{hasDraggingElement:n}=e,{addingDescription:i}=t,{data:{variant:o},hasDraggingElement:r}=this.props,{loadingVariants:a,addingDescription:s,variantOptionsMenuOpen:l}=this.state;!i&&s&&this.highlightDescription(),a&&("toVariant"===a&&o||"toRegular"===a&&!o)&&this.setState({loadingVariants:null}),!n&&r&&l&&this.closeVariantOptions()}renderComponentGroups(){const{data:{componentSections:e,variant:t},styleguideId:n,selectionComponentId:o,selection:r,visibleComponents:s,filterValue:l,barrelThumbnail:c,scrolledSection:d,highlightScrolledSection:u,handleComponentRef:p,getComponentRef:h,collapsedSections:f,collapsed:g,onSelect:b,componentContextMenu:S,onComponentDidMount:y,onComponentDidUnmount:C,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:j}=this.props,{styleguidesData:D,variantFilter:k}=this.state;return!g&&e&&e.length?i.h("div",{class:"componentGroups"},e.map((e,g)=>i.h(a.default,{key:e.key||e._id,styleguideId:n,index:g,data:e,collapsed:!!e.components.length&&f[e._id],styleguidesData:D,sectionVariant:t,barrelThumbnail:c,onComponentDidMount:y,onComponentDidUnmount:C,visibleComponents:s,filterValue:l,variantFilter:k,selectionComponentId:o,selection:r,scroll:d===e._id,highlight:d===e._id&&u,handleComponentRef:p,getComponentRef:h,onNameChange:this.handleGroupNameChange,onSelect:b,onScroll:v.default.sectionScrolled,componentContextMenu:S,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onDeleteGroup:m.default.mergeComponentSection,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onCopyWebLink:this.handleComponentGroupCopyWebLink,onCopyAppURI:this.handleComponentGroupCopyAppURI,onOptionsMenuOpen:this.handleGroupOptionsMenuOpen,onExpand:P,onCollapse:j}))):null}renderComponents(){const{data:{components:e,variant:t},styleguideId:n,selectionComponentId:o,selection:r,visibleComponents:a,filterValue:l,barrelThumbnail:c,defaultSection:d,handleComponentRef:u,getComponentRef:p,collapsed:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onComponentDidMount:b,onComponentDidUnmount:S,onCloseComponentContextMenu:y,onComponentDrop:v}=this.props,{styleguidesData:C,variantFilter:O}=this.state;if(h||!e||!e.length)return null;const E=Boolean(Object.keys(O).length),T=e.filter(e=>{const{variant:t}=e;return!t||!E||Object.entries(O).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})});if(E&&!T.length)return null;const P=Object(_.findOmittedVariantProperties)(e),j=T.map((h,O)=>{const E=e[O-1],T=e[O+1];return i.h(s.default,{styleguideId:n,key:h._id,leftComponentId:E&&E._id,rightComponentId:T&&T._id,index:O,data:h,sectionVariant:t,omittedProperties:P,styleguidesData:C,barrelThumbnail:c,visible:a.has(h),filterValue:l,selection:r,containsSelection:r&&o===h._id,inDefaultSection:d,handleComponentRef:u,getComponentRef:p,onMount:b,onUnmount:S,onSelect:f,contextMenu:g===h._id?m:null,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:y,onDrop:v})});return i.h("div",{class:"components"},j)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderVariantProperties(),this.renderComponents(),this.renderComponentGroups())}renderVariantOptionsButton(){const{permissions:{canManageStyleguide:e}}=this.context;if(!e)return null;const{data:{variant:t},variantSectionCount:n}=this.props,{loadingVariants:o,variantOptionsMenuOpen:r}=this.state;return i.h(i.Fragment,null,i.h(d.a,{baseRef:this.variantOptionsButtonRef,loadingVariants:o,variant:t,variantSectionCount:n,variantOptionsMenuOpen:r,onClick:this.handleVariantOptionsButtonClick}),r&&this.renderVariantOptionsMenu())}renderVariantProperties(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state;if(t)return i.h(l.default,{csid:e,variant:t,variantFilter:n,onValueClick:this.handleVariantPropertValueClick})}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,r=t?i.h(o.default.Item,{onClick:this.highlightDescription},"Edit description"):i.h(o.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(o.default,{onOpen:this.handleOptionsMenuOpen},!e&&[r,i.h(o.default.Item,{onClick:this.highlightName},"Rename section"),i.h(o.default.ItemDivider,null)],i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(o.default.ItemDivider,null),!e&&[n&&i.h(o.default.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(o.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}renderVariantOptionsMenu(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state,o=this;function r(r){return t.properties.map(({_id:t,name:a,values:s})=>{const l=`${r}:${t}`,c="group"===r&&0===s.length;return i.h(u.default.Button,{key:l,name:l,disabled:c,onClick:function(){if("group"===r)v.default.createComponentSectionVariantGroups({csid:e,vpid:t});else if("remove"===r){const i=Object.fromEntries(Object.entries(n).filter(([e])=>e!==t));o.setState({variantFilter:i}),C.create({message:`Remove “${a}” property?`,done:{name:"REMOVE",cb(){v.default.removeComponentVariantProperty({csid:e,vpid:t,syncWithApi:!0})}},cancel:!0})}o.closeVariantOptions()}},a)})}return i.h(p.default,{didRender:this.handleVariantOptionsPortalDidRender},i.h(u.default,{class:"variantOptionsMenu",onChange:this.handleVariantOptionsMenuClick,onClose:this.closeVariantOptions},i.h(u.default.Button,{name:w},"Add property"),t.properties.length>0&&i.h(i.Fragment,null,i.h(u.default.Submenu,{name:"removeProperty",content:"Remove property"},r("remove")),i.h(u.default.Divider,null),i.h(u.default.Submenu,{name:"createGroup",content:"Create groups by property"},r("group"))),i.h(u.default.Divider,null),i.h(u.default.Button,{name:N,warning:!0},"Unset as variant section")))}render(){const{loading:e,addingDescription:t,variantOnboardingDialogOpen:n}=this.state;if(e)return null;const{data:{componentSections:o,components:a,name:s,description:l,_id:c},index:d,collapsed:u,styleguideId:p,defaultSection:h,readOnly:m,actionsDisabled:b,scrolledSection:S,highlightScrolledSection:y,optionsActive:C,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:j}=this.props,D=o.reduce((e,t)=>e+t.components.length,a.length),k=Object(E.pluralize)(D,"component")+" collapsed",I=this.renderContent(),R=this.renderOptionsMenu(),A=t?g.DEFAULT_DESCRIPTION:l,w=S===c,N=w&&y;return i.h(i.Fragment,null,i.h(r.DragDropComponentSection,{type:g.STYLEGUIDE_COMPONENT_SECTION,id:c,optionsButtonRef:Object(O.default)(this,"sectionOptionsButton"),index:d,styleguideId:p,componentRef:Object(O.default)(this,"section","componentRefs"),collapsed:u,empty:0===D,componentCount:D,componentGroupsCount:o.length,name:s,headerClass:"componentSectionHeader",description:A,countInfoText:k,optionsMenu:R,defaultSection:h,actionsDisabled:b,readOnly:m,topPadding:136,scroll:w,highlight:N,optionsActive:C,variantOptionsButton:this.renderVariantOptionsButton(),draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:v.default.sectionScrolled,onExpand:P,onCollapse:j,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_},I),n&&i.h(f.a,{onSetAsVariantSection:this.handleConvertSectionToVariantSection,onClose:this.handleVariantsOnboardingDialogClose}))}}t.default=j()(L)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(892),r=n(420),a=n(1781);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="GroupHeader",d="StyleguideComponent",u=Object(o.DropTarget)({acceptsItemType:c,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(a.default);class p extends i.Component{constructor(...e){super(...e),l(this,"state",{targetPosition:"",groupHeaderHover:!1}),l(this,"calculateMoveIndex",(e,t,n)=>{const{index:i}=this.props,{targetPosition:o}=this.state,r="bottom"===o;if(t!==n)return r?i+1:i;let a=i;return e>i&&r?a=i+1:e<i&&!r&&(a=i-1),a}),l(this,"setTargetPosition",e=>{const{targetPosition:t}=this.state,{base:n}=this.nodeRefs,i=function(e,t,n){const i=n?43:0,o=e.top+(e.height-i)/2;return t.top>=o}(n.getBoundingClientRect(),e,t)?"bottom":"top";t!==i&&this.setState({targetPosition:i})}),l(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),l(this,"dropGroupHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{data:{idPath:i},styleguideId:o,onSectionOrGroupDrop:r}=this.props,a=t[0],s=i[0],l=this.calculateMoveIndex(e,a,s);o===n&&a===s&&e===l||r({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:i.slice(0,-1),sourceStyleguideId:n,targetStyleguideId:o,to:l})}),l(this,"dropComponent",(e,t,n)=>{const{data:{idPath:i,components:o},styleguideId:r,onComponentToSectionOrGroupDrop:a}=this.props;a({sourceIdPath:t,sourceIndex:e,targetIdPath:i,sourceStyleguideId:n,targetStyleguideId:r,to:o.length})}),l(this,"handleDragHover",(e,t)=>{t!==c?this.state.groupHeaderHover||this.setState({groupHeaderHover:!0}):this.setTargetPosition(e)}),l(this,"handleDragHoverOut",e=>{e!==c?this.state.groupHeaderHover&&this.setState({groupHeaderHover:!1}):this.unsetTargetPosition()}),l(this,"handleDrop",({sourceIndex:e,sourceIdPath:t,sourceStyleguideId:n},i)=>{i===c?this.dropGroupHeader(e,t,n):i===d&&this.dropComponent(e,t,n)})}render(){const{groupHeaderHover:e,targetPosition:t}=this.state,{dragDisabled:n}=this.context;return i.h(u,s({},this.props,{baseRef:Object(r.default)(this,"base"),groupHeaderHover:e,targetPosition:t,draggable:!n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(386),a=n(420),s=n(1782),l=n(1788);n(1789);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{menuShown:!1}),c(this,"hideOptionsMenu",()=>{this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}),c(this,"handleBaseRef",e=>{Object(a.default)(this,"base")(e),this.props.baseRef(e)}),c(this,"handleShowOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}),c(this,"handleCollapseOrExpand",()=>{const{collapsed:e,data:{_id:t},onCollapse:n,onExpand:i}=this.props;e?i(t):n(t)}),c(this,"handleStartDrag",()=>{const{data:{_id:e},collapsed:t,onCollapse:n}=this.props;t||n(e),this.setState({hidden:!0,menuShown:!1})}),c(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),c(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{idPath:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}),c(this,"handleCreateGroup",(e,t)=>{const{index:n,onCreateGroup:i}=this.props;i(e,t,n+1)}),c(this,"handleDeleteGroup",()=>{const{data:{idPath:e},index:t,onDeleteGroup:n}=this.props;n({csids:e,index:t,syncWithApi:!0})})}highlight(){const{data:{_id:e},collapsed:t,scroll:n,highlight:i,onScroll:o,onExpand:r}=this.props;n&&(t&&r(e),this.nodeRefs.base.scrollIntoView()),i&&this.nodeRefs&&this.nodeRefs.header&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),n&&o&&o()}componentDidMount(){const{data:{newSection:e}}=this.props;e&&this.componentRefs.componentName.highlight(),this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(e,t){const{styleguidesData:n,styleguideId:o,visibleComponents:r,filterValue:a,barrelThumbnail:l,selectionComponentId:c,selection:d,sectionVariant:u,handleComponentRef:p,getComponentRef:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onCreateSection:b,onSetAsThumbnail:S,onDeleteComponent:y,onComponentDidMount:v,onComponentDidUnmount:C,onComponentContextMenu:O,onCloseComponentContextMenu:E,onComponentDrop:T}=this.props,_=e.map((_,P)=>{const j=e[P-1],D=e[P+1];return i.h(s.default,{key:_._id,styleguideId:o,index:P,leftComponentId:j&&j._id,rightComponentId:D&&D._id,data:_,sectionVariant:u,omittedProperties:t,styleguidesData:n,barrelThumbnail:l,visible:r.has(_),filterValue:a,selection:d,containsSelection:d&&c===_._id,handleComponentRef:p,getComponentRef:h,onSelect:f,contextMenu:g===_._id?m:null,onMount:v,onUnmount:C,onCreateSection:b,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:S,onDelete:y,onContextMenu:O,onCloseContextMenu:E,onDrop:T})});return i.h("div",{class:"components"},_)}render(){const{data:{name:e,components:t,idPath:n},index:s,collapsed:c,styleguideId:d,draggable:u,readOnly:p,actionsDisabled:h,targetPosition:f,groupHeaderHover:g,variantFilter:m,onHover:b,onHoverOut:S,onDrop:y,onCopyWebLink:v,onCopyAppURI:C,onOptionsMenuOpen:O}=this.props,{menuShown:E,hidden:T}=this.state,_=Boolean(Object.keys(m).length),P=t.filter(e=>{const{variant:t}=e;return!t||!_||Object.entries(m).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})}),j=P.length;if(_&&!j)return null;const D=Object(r.findOmittedVariantProperties)(t);return i.h("div",{ref:this.handleBaseRef,class:Object(o.default)("componentGroup",f,{menuShown:E,hidden:T})},i.h(l.DragDropComponentGroupHeader,{baseRef:Object(a.default)(this,"header"),componentNameRef:Object(a.default)(this,"componentName","componentRefs"),index:s,idPath:n,styleguideId:d,name:e,draggable:u,readOnly:p,actionsDisabled:h,collapsed:c,hasDragHover:g,componentsCount:j,menuShown:E,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,onHover:b,onHoverOut:S,onDrop:y,onNameBlur:this.handleNameBlur,onCollapseOrExpand:this.handleCollapseOrExpand,onShowOptionsMenu:this.handleShowOptionsMenu,onDeleteGroup:this.handleDeleteGroup,onCopyWebLink:v,onCopyAppURI:C,onOptionsMenuOpen:O}),!c&&this.renderComponents(P,D))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1783);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1784),r=n(892),a=n(1448),s=n(248),l=n(252),c=n(399),d=n(420),u=n(975);n(1787);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=Object(s.pipe)(Object(r.DragSource)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const o=t.width,r=t.height,s={};o<48||r<48?(s.width=o,s.height=r):s.paddingBottom=100*r/o+"%";const l=Math.max(96,12*Math.ceil(o/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(a.default,{class:Object(c.default)("componentContent",e),snapshot:t,style:s},i.h(a.default.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:o}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:o}}}),Object(r.DropTarget)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(o.default);class f extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-24)));return{height:o,top:Math.max(0,Math.round((i-o)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const o=this.calculateCubukPosition(t,i);this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:n?u.CUBUK_POSITION.RIGHT:u.CUBUK_POSITION.LEFT,moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(d.default)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:o}=this.state;return i.h(h,p({baseRef:this.handleBaseRef,dragBaseRef:Object(d.default)(this,"dragBase"),lightness:o,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1785);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(399),r=n(420),a=n(248),s=n(1448),l=(n(1786),n(880)),c=n(766),d=n(386),u=n(1428),p=n(247),h=n(972),f=n(975),g=n(232);class Component extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleSetAsThumbnail=this.handleSetAsThumbnail.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleCreateGroup=this.handleCreateGroup.bind(this),this.handleDelete=this.handleDelete.bind(this),this.resetDistances=this.resetDistances.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(u.getLayerClickHandler)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(r.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:o}},onSelect:r}=this.props;e.stopPropagation(),this.resetDistances(),mixpanel.master.track("Inspected layer",{Source:"Component"});const a=this.nodeRefs.snapshotDetail.getBoundingClientRect();r(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:n,snapshotDetailRect:a}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleCreateGroup(e){const{onCreateGroup:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleSetAsThumbnail(e){e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:o,y:r,width:a,height:l}}}=this.props;return i.h(s.default.Rulers,{x:o,y:r,width:a,height:l})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.h(s.default.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:o}=this.props,{barrelId:r,barrelType:a}=this.context,l=Object(d.findComponentLayer)(n,o,e),c=l?{_id:l.component._id,name:l.component.name,rect:l.layer.absoluteRect}:null,{width:u,height:p}=n;return i.h(s.default.ComponentLayer,{barrelId:r,barrelType:a,containerName:t,componentLayer:c,containerWidth:u,containerHeight:p,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:o}=this.props,{imageRequested:r,hoveredId:a}=this.state;return(n||r)&&e.length?i.h(s.default.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:a,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:o?this.handleLayerEnter:null,onLayerLeave:o?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:a}}},visible:l,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,p=e.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),{imageRequested:h}=this.state,f=Object(o.default)("componentContent",c),g={};return n<48||a<48?(g.width=n,g.height=a):g.paddingBottom=100*a/n+"%",i.h(s.default,{class:f,snapshot:t,platform:d,spacingTokens:p,remPreferences:u,style:g,baseRef:Object(r.default)(this,"snapshotDetail")},l||h?i.h(s.default.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e,variant:t},sectionVariant:n,omittedProperties:o,filterValue:r}=this.props,{sortType:a}=this.context;if(r){const t=Object(p.highlightMatchedParts)(e,r,{caseInsensitive:!0});return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:t}})}if(!t||a!==g.SortTypes.SECTIONS)return i.h("span",{class:"name ellipsis noSelect"},e);const s=t.values.map(({propertyId:e,value:t})=>`${e}:${t}`).filter(e=>!o.includes(e));if(!s.length)return i.h("span",{class:"name ellipsis noSelect"},e);const l=s.map(e=>{const[t,i]=e.split(":"),o=n.properties.find(({_id:e})=>e===t);if(o){const{name:e,values:t}=o;if(Object(d.isBooleanProperty)(t))return Object(d.isTruthyPropertyValue)(i)?e:null}return i}).filter(Boolean).join(", ");return i.h("span",{class:"name ellipsis noSelect"},l)}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t,inDefaultSection:n}=this.props,{permissions:{canManageStyleguide:o}}=this.context;if(!e)return;const r=[i.h(l.default.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),!n&&i.h(l.default.Item,{key:"createGroup",onClick:this.handleCreateGroup},"Create group from selection"),o&&!this.isSetAsThumbnail&&i.h(l.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(l.default.ItemDivider,{key:"warningDivider"}),i.h(l.default.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(l.default.withAutoPosition,{class:"componentContextMenu",onMouseDown:a.stopPropagation,autoPosition:{limitingElement:".barrelContainer .styleguide .sidebar.left",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:t},r)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.h(c.BasicOverlayDialog,{title:`Delete “${t}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:r,dragging:a,moveCubukPosition:s,moveCubukTop:l,moveCubukHeight:c}=this.props,d=n&&n._id,u=Object(o.default)("component",{selected:e===d,dragging:a}),p={width:(g=t,Math.max(96,12*Math.ceil(g/12)+48)+"px")};var g;const m=i.h(h.default,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},s===f.CUBUK_POSITION.LEFT&&m),i.h("div",{class:u,style:p,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:r?this.handleComponentEnter:null,onMouseLeave:r?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},s===f.CUBUK_POSITION.RIGHT&&m))}}t.default=Component},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropComponentGroupHeader",(function(){return S}));var i=n(4),o=n(399),r=n(248),a=n(249),s=n(420),l=n(994),c=n(987),d=n(442),u=n(892);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{hasHover:!1}),m(this,"handleBaseRef",e=>{this.props.baseRef(e)}),m(this,"handleComponentNameRef",e=>{Object(s.default)(this,"nameInput","componentRefs")(e),this.props.componentNameRef(e)}),m(this,"handleMouseEnter",()=>{this.setState({hasHover:!0})}),m(this,"handleMouseLeave",()=>{this.setState({hasHover:!1})}),m(this,"handleRenameGroupName",()=>{this.componentRefs.nameInput.highlight()}),m(this,"handleCopyWebLink",()=>{const{onCopyWebLink:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied web link",{Target:"Component group"})}),m(this,"handleCopyAppURI",()=>{const{onCopyAppURI:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied app URI",{Target:"Component group"})}),m(this,"handleOptionsMenuOpen",()=>{const{onOptionsMenuOpen:e,idPath:t}=this.props;e(t[t.length-1])})}componentDidUpdate(e){if(!e.menuShown&&this.props.menuShown){const{contextMenu:e}=this.nodeRefs;!function(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.bottom+12>n?e.style.top=n-t.bottom-12+"px":t.top-52-12<0&&(e.style.top=64-t.top+"px")}(e)}}renderGroupInfo(){const{name:e,draggable:t,readOnly:n,actionsDisabled:o,collapsed:r,showMoveHandle:s,componentsCount:c,onNameBlur:u}=this.props,{hasHover:p}=this.state;return i.h("div",{class:"groupInfo"},t&&(p||s)&&i.h(d.IconSectionDrag,{class:"moveHandleIcon"}),i.h(l.default,{ref:this.handleComponentNameRef,value:e,required:!0,onBlur:u,readOnly:n||o}),r&&i.h("span",{class:"countInfo noSelect"},Object(a.pluralize)(c,"component")+" collapsed"))}renderGroupActions(){const{componentsCount:e,actionsDisabled:t,onCollapseOrExpand:n,onShowOptionsMenu:a}=this.props;return i.h("div",{class:Object(o.default)("groupActions",{disabled:t})},e>0&&i.h("button",{class:"collapseButton",onMouseDown:r.stopPropagation,onClick:n},i.h(d.IconCollapse,{color:"var(--gandalf)"})),i.h("button",{class:"groupOptionsButton",onMouseDown:r.stopPropagation,onClick:a},i.h(d.IconMenu,{color:"var(--gandalf)"})))}renderMenu(){const{onDeleteGroup:e}=this.props;return i.h("div",{class:"groupContextMenuContainer",ref:Object(s.default)(this,"contextMenu")},i.h(c.default,{onOpen:this.handleOptionsMenuOpen},i.h(c.default.Item,{onClick:this.handleRenameGroupName},"Rename group"),i.h(c.default.ItemDivider,null),i.h(c.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(c.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(c.default.ItemDivider,null),i.h(c.default.Item,{warning:!0,onClick:e},"Delete group")))}render(){const{menuShown:e,collapsed:t,hasDragHover:n,class:r,width:a}=this.props;return i.h("div",{ref:this.handleBaseRef,class:Object(o.default)("componentGroupHeader",r,{collapsed:t,dragHover:n}),style:{width:a},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h("div",{class:"mainInfo"},this.renderGroupInfo(),this.renderGroupActions(),e&&this.renderMenu()))}}const S=Object(r.pipe)(Object(u.DragSource)({itemType:"GroupHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,o=g(e,["sourceRect","class"]);return i.h(b,f({},o,{width:t.width,class:"mirror noSelect",actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>h(h({},e),{},{collapsed:!0})}),Object(u.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)}))(b);t.default=b},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1791),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1792));n(1804),t.default=function({csid:e,variant:t,variantFilter:n,onValueClick:i}){const a=t.properties.map(({_id:t,name:a,values:s},l)=>o.h(r.default,{key:t,csid:e,id:t,name:a,index:l,values:s,variantFilter:n,onValueClick:i}));return o.h("div",{class:"componentVariantProperties"},a)}},function(e,t,n){"use strict";n.r(t);var i=n(1793),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(388)),s=n(248),l=n(249),c=n(892),d=n(442),u=i(n(1794)),p=i(n(1795));const h=s.pipe(c.DragSource({itemType:"VariantProperty",allowX:!1,mirrorComponent:function({name:e,values:t,sourceRect:{width:n}}){const i=t.length?t.map(e=>o.h("div",{key:e,class:"variantPropertyValue ellipsis"},e)):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:"variantProperty mirror",style:{width:n}},o.h(d.IconSectionDrag,{class:"sectionDragIcon"}),o.h("span",{class:"variantPropertyName"},l.uppercaseFirst(e)),o.h("span",{class:"colon"},":"),i)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),c.DropTarget({acceptsItemType:"VariantProperty",onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)}))(p.default);t.default=function(e){const t=r.useRef(),[n,i]=r.useState(!1),[s,l]=r.useState(null);return o.h(h,Object.assign({baseRef:t,dragging:n,movePosition:s,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:n,dragData:{csid:i}}){var o;const{csid:r}=e;if(r!==i)return void l(null);const a=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect();if(!a)return;const s=a.top+a.height/2;l(n.top>s?u.default.BOTTOM:u.default.TOP)},onHoverOut:function(){l(null)},onDrop:function({dragData:{id:t,index:n}}){const{csid:i,index:o}=e;let r=o;n>o&&s===u.default.BOTTOM?r+=1:n<o&&s===u.default.TOP&&(r-=1),n!==r&&a.default.updateComponentVariantPropertiesOrder({csid:i,properties:[{_id:t,to:r}],syncWithApi:!0})}},e))}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1796)),a=i(n(1799)),s=n(442),l=n(249),c=i(n(388)),d=n(248),u=i(n(399)),p=i(n(1794));n(1803),t.default=function({baseRef:e,csid:t,id:n,name:i,values:h,variantFilter:f,onValueClick:g,dragging:m,movePosition:b},S){const{permissions:{canManageStyleguide:y}}=S;function v(e){g(n,e)}function C({source:e,target:i,direction:o}){const r=[...h];d.arrayRemove(r,t=>t===e);const a=r.findIndex(e=>e===i);r.splice(o===p.default.LEFT?a:a+1,0,e),c.default.updateComponentVariantPropertyValues({csid:t,vpid:n,values:r,syncWithApi:!0})}const O=h.length?h.map(e=>o.h(a.default,{key:e,value:e,vpid:n,selected:f[n]===e,onClick:v,onValueDrop:C})):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:u.default("variantPropertyWrapper noSelect",b,{hidden:m}),ref:e},o.h("div",{class:"variantProperty"},y&&o.h(s.IconSectionDrag,{class:"sectionDragIcon"}),o.h(r.default,{class:"variantPropertyName",placeholder:"Property",maxLength:100,value:l.uppercaseFirst(i),autoFocus:n.startsWith("new"),onChange:function(e){n.startsWith("new")?""===e?c.default.removeComponentVariantProperty({csid:t,vpid:n}):c.default.addComponentVariantProperty({csid:t,componentVariantProperty:{_id:n,name:e},syncWithApi:!0}):i!==e&&c.default.updateComponentVariantPropertyName({csid:t,vpid:n,name:e,syncWithApi:!0})},disabled:!y}),o.h("span",{class:"colon"},":"),O))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1797);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),a=n(522),s=n(232),l=o(n(399));n(1798),t.default=function(e){var{class:t,placeholder:n,value:o,autoFocus:c=!1,disabled:d=!1,onChange:u}=e,p=i(e,["class","placeholder","value","autoFocus","disabled","onChange"]);const h=a.useRef(),f=a.useRef(),[g,m]=a.useState(o),[b,S]=a.useState(c);function y(){f.current.blur()}return a.useEffect(()=>{m(o)},[o]),a.useEffect(()=>{c&&f.current.focus()},[c]),a.useEffect(()=>{if(!h.current)return void(h.current=!0);if(b)return;const{type:e,value:t,valueAsNumber:n}=f.current,i=t.trim(),r="number"===e?n:i;""===g?(m(o),u(o)):(m(i),u(r))},[b]),r.h("div",{class:l.default("expandableInputContainer",t,{disabled:d})},r.h("div",{class:"mirror"},g||n||" "),r.h("input",Object.assign({},p,{ref:f,placeholder:n,value:g,disabled:d,required:!0,spellcheck:!1,onFocus:function(){S(!0)},onInput:function(){const{type:e,value:t,min:n,max:i,validity:r}=f.current;let a;a=r.rangeUnderflow?n:r.rangeOverflow?i:r.badInput?o:r.valueMissing?"":"number"===e?String(parseInt(t,10)):t,m(a)},onKeyDown:function(e){switch(e.key){case s.Keyboard.Key.Enter:y();break;case s.Keyboard.Key.Escape:m(o),y()}},onBlur:function(){S(!1)}})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1800);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=n(248),s=n(892),l=i(n(1801)),c=i(n(1794));n(1802);const d=a.pipe(s.DragSource({itemType:"VariantPropertyValue",mirrorComponent:function({value:e}){return o.h("div",{class:"variantPropertyValueMirror ellipsis"},e)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),s.DropTarget({acceptsItemType:"VariantPropertyValue",onHover:({onHover:e},t)=>{e(t)},onHoverOut:({onHoverOut:e})=>{e()},onDrop:({onDrop:e},t)=>{e(t)}}))(l.default);t.default=function(e){const[t,n]=r.useState(null),[i,a]=r.useState(!1),s=r.useRef();return o.h(d,Object.assign({baseRef:s,movePosition:t,dragging:i,onStartDrag:function(){a(!0)},onEndDrag:function(){a(!1)},onHover:function({mirrorPosition:t,dragData:{vpid:i,value:o}}){var r;const{vpid:a,value:l}=e;if(a!==i||l===o)return void n(null);const d=null===(r=s.current)||void 0===r?void 0:r.getBoundingClientRect();if(!d)return;const u=d.left+d.width/2;n(t.left>u?c.default.RIGHT:c.default.LEFT)},onHoverOut:function(){n(null)},onDrop:function({dragData:{value:n}}){if(!t)return;const{onValueDrop:i,value:o}=e;i({source:n,target:o,direction:t})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399)),a=i(n(972)),s=i(n(1794));n(1802),t.default=function({baseRef:e,value:t,selected:n,onClick:i,movePosition:l,dragging:c}){const d=r.default("variantPropertyValue",{selected:n,dragging:c});return o.h("button",{ref:e,type:"button",title:t,class:d,onClick:function(){return i(t)}},o.h("div",{class:"ellipsis"},t),l&&o.h(a.default,{top:0,left:l===s.default.LEFT?-7:"calc(100% + 5px)",height:"100%"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1806);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(442),a=i(n(399));n(1807);t.default=function({baseRef:e,loadingVariants:t,variant:n,variantSectionCount:i,variantOptionsMenuOpen:s,onClick:l}){const c=!t&&!n&&i<3,d=a.default("variantOptionsButton",{variantOptionsMenuOpen:s,labelDisplayed:c});let u;if(t)u=o.h(r.IconSpinner,null);else{let e="var(--cornflower-blue)";s?e="white":c||n||(e="var(--teflon)"),u=o.h(r.IconVariants,{color:e})}return o.h("button",{ref:e,type:"button",class:d,onClick:l},u,c&&o.h("span",null,"Set as variant section"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1809);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(766)),a=i(n(551)),s=n(247);function l(){s.openLink("#")}n(1810),t.default=function({onClose:e,onSetAsVariantSection:t}){return o.h(r.default,{class:"variantsOnboardingDialog",positiveButtonText:"SET AS VARIANT SECTION",negativeButtonText:"NOT NOW",fallbackButtonText:"LEARN MORE",hideNegativeButton:!1,onPositiveButtonClick:t,onFallbackButtonClick:l,onClose:e,width:720},o.h("div",{class:"variantsOnboardingDialogBody"},o.h("div",{class:"dialogHeader"},o.h(a.default,{asset:"img/variant-onboarding-dialog-title.png",alt:"Set as variant",title:"Set as variant"})),o.h("p",null,"Great to be more organized! 2 things to check before setting a section as a variant section:"),o.h("ul",null,o.h("li",null,o.h("strong",null,"1.")," Make sure this section ",o.h("strong",null,"only")," includes related components. e.g variations of buttons."),o.h("li",null,o.h("strong",null,"2.")," Zeplin uses ",o.h("code",null,"/")," to create different properties and values. Make sure that"," ",o.h("strong",null,"naming convention")," of the components aligns with this.")),o.h("div",{class:"imageWrapper"},o.h(a.default,{asset:"img/variant-onboarding-dialog-image.png"}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1813);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(244),r=n(248),a=n(420),s=n(259),l=n(247),c=n(379),d=n(364),u=n(271),p=n.n(u),h=n(846),f=n(388),g=n(1814),m=n(1508),b=n(1305),S=n(513),y=n.n(S);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),C(this,"state",{scrollDisabled:!1}),C(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),C(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),C(this,"handleAddColorClick",e=>{c.default.addColor({color:e,syncWithApi:!0}),Object(s.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}),C(this,"handleColorNameChange",(e,t)=>{c.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),C(this,"handleRemoveColorClick",e=>{c.default.removeColor({cid:e,syncWithApi:!0})}),C(this,"handleAddTextStyleClick",e=>{c.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(s.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}),C(this,"handleTextStyleNameChange",e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return o.create({title:name+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();c.default.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}),C(this,"handleCopy",e=>{Object(l.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})}),C(this,"handleCopyCode",(e,t)=>{const{projectType:n}=this.context;c.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Component"})}),C(this,"handleRequestInvite",()=>{const{organizationId:e}=this.context;h.default.requestInvite(e,this.nodeRefs.sidebar)})}static getStores(){return[p.a.BarrelStore,p.a.StyleguidesDataStore,p.a.ProjectsDataStore]}static calculateState(){const{loading:e}=p.a.BarrelStore.getState();return e?{loading:!0}:{loading:!1,styleguidesData:d.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick}}handleRemoveTextStyleClick(e){c.default.removeTextStyle({tsid:e,syncWithApi:!0})}getChildContext(){return{enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderComponentPanel(){const{componentCount:e,sectionCount:t,variantSectionCount:n,selectionStyleguideId:o,selectionComponent:r,selection:a,formatter:s,onCloseClick:l,convertedAnySectionIntoVariant:c}=this.props;return a?r._id===a._id?i.h(g.default,v({component:a,selectionStyleguideId:o,formatter:s},this.getHandlers(),{onCloseClick:l,onRequestInvite:this.handleRequestInvite})):i.h(m.default,v({layer:a,layerContainer:r,version:r.latestVersion,formatter:s},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:l})):i.h(g.default.NoSelectionState,{componentCount:e,sectionCount:t,variantSectionCount:n,convertedAnySectionIntoVariant:c})}render(){const{width:e}=this.props,{loading:t,scrollDisabled:n}=this.state;return t?null:i.h(b.default,{baseRef:Object(a.default)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:r.stopPropagation,onRelease:f.default.changeRightSidebarWidth,noScroll:n},this.renderComponentPanel())}}t.default=y()(O)},function(e,t,n){"use strict";n.r(t);var i=n(1815);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(253),r=n(263),a=n.n(r),s=n(248),l=n(245),c=n(386),d=n(420),u=n(1511),p=n(303),h=n(1301),f=n(233),g=n(1653),m=n(1336),b=n(1514),S=n(1520),y=n(1647),v=n(1562),C=n(1535),O=n(1816),E=n(1555),T=n(1559),_=n(1819),P=n(1825),j=n(1828),D=n.n(j),k=n(364),I=n(379),R=n(388),A=n(271),w=n.n(A),N=n(1304),L=n(513),x=n.n(L);n(1831);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends i.Component{constructor(...e){super(...e),M(this,"state",{hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}),M(this,"handleComponentCodeResize",e=>{requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}),M(this,"handleComponentVariantPropertyValueChange",(e,t)=>{const{component:{idPath:n}}=this.props,[i]=n,o=n[n.length-1];R.default.updateComponentVariantPropertyValue({csid:i,vpid:e,coid:o,value:t,syncWithApi:!0})}),M(this,"handleDescriptionSubmit",e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],o=i.pop();I.default.updateComponent({csids:i,coid:o,componentData:{description:e},syncWithApi:!0})}),M(this,"handleAssetNameChange",(e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;I.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Component detail"})}),M(this,"handleDownloadAssetClick",(e,t)=>{const{component:{name:n,latestVersion:i}}=this.props,{styleguideContainerRef:o}=this.context;I.default.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:o(),source:"Component detail"})}),M(this,"handleGenerateSnippet",e=>{this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}),M(this,"handleWindowResize",Object(s.debounce)(()=>{this.state.hasSnippet&&this.setCodePanelHeight()})),M(this,"handleCopyWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Inspector"})}),M(this,"handleCopyAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:"Component",Source:"Inspector"})})}static getStores(){return[w.a.BarrelStore,w.a.StyleguidesDataStore,w.a.ProjectsDataStore]}static calculateState(e,t,n){const{component:{_id:i,name:o,sourceId:r,latestVersion:{snapshot:{density:d,densityScale:u=Object(s.getDensityScale)(d)}}},selectionStyleguideId:p}=t,{userRole:h,permissions:{canManageScreens:g}}=n,{loading:m,barrelType:b,barrelId:S,assetDensityScalePrefs:y,assetExportTarget:v,assetNamingConvention:C,densityMismatchWarningHidden:O,noVectorAssetInfoHidden:E,showOptimizedSVG:T,connectedComponentsDevModeEnabled:_,connectedComponentsLocalWorkspace:P,connectedComponentsEditorInfo:j,connectedComponentsOnboardingDialogSeen:D,numberOfHighlightedConnectToCodeButtonViews:I}=w.a.BarrelStore.getState();if(m)return{loading:!0};const{type:R,densityScale:A,screens:N=[]}=k.default.getBarrel(),L=b===a.a.PROJECT?"pid":"stid",x=`${f.ZPL_PROTOCOL}//components?${L}=${S}&coid=${i}`,M=b===a.a.PROJECT?"project-styleguide-components":"styleguide-components",U=Object(l.urlResolve)(M,{url:{bid:S},query:{coid:i}}),B=!g||S!==p,z="pawn"===h,V=u!==A&&!O,W=Object(c.findUsedScreens)(N,o,r),F=k.default.getStyleguidesData({barrelStore:w.a.BarrelStore,styleguidesDataStore:w.a.StyleguidesDataStore,projectsDataStore:w.a.ProjectsDataStore}),{ancestors:H}=Object(c.findComponentById)(F,i)||{};let G;H&&(G=H.find(e=>!!e.variant));return{loading:!1,platform:R,readOnly:B,userRestricted:z,assetDensityScalePrefs:y,assetExportTarget:v,assetNamingConvention:C,showDensityMismatchWarning:V,noVectorAssetInfoHidden:E,showOptimizedSVG:T,appUri:x,webUrl:U,usedScreens:W,connectedComponentsDevModeEnabled:_,connectedComponentsLocalWorkspace:P,connectedComponentsEditorInfo:j,styleguidesData:F,variantSection:G,shouldHighlightConnnectToCodeButton:!D&&I<c.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+89>=i?this.setState({codeGap:0,codeHeight:89,codeMaxHeight:89,componentDetailHeight:i-89,componentDetailBottomPadding:36}):this.setState({codeGap:52,codeHeight:null,codeMaxHeight:i-n-36,componentDetailHeight:null,componentDetailBottomPadding:36})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,formatter:n,onAddColorClick:r,onColorNameChange:a,onRemoveColorClick:s,onCopyCode:l,onCloseClick:f,onRequestInvite:j}=this.props,{platform:D,readOnly:k,userRestricted:R,assetDensityScalePrefs:A,assetExportTarget:w,assetNamingConvention:L,showDensityMismatchWarning:x,noVectorAssetInfoHidden:M,showOptimizedSVG:U,appUri:B,webUrl:z,usedScreens:V,connectedComponentsDevModeEnabled:W,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:H,codeGap:G,codeMaxHeight:$,componentDetailHeight:q,componentDetailBottomPadding:Z,codeHeight:Y,styleguidesData:K,variantSection:J,shouldHighlightConnnectToCodeButton:X}=this.state,{_id:Q,name:ee,latestVersion:te,description:ne,variant:ie}=t,{snapshot:{width:oe,height:re,backgroundColor:ae,assets:se=[]}}=te,[{densityScale:le,remPreferences:ce}]=K,{status:de,useForMeasurements:ue,remRootFontSize:pe}=ce,he="web"===D&&"enabled"===de&&ue,fe=he?Object(p.toRemSize)(oe/le,pe):n.length(oe),ge=he?Object(p.toRemSize)(re/le,pe):n.length(re),[me]=Object(u.transformAuthors)([te]),be=se.find(e=>"snapshot"===e.layerId);let Se;be&&(Se=Object(u.transformAsset)(be,n,D));const ye=Object(c.findConnectedComponentByIdOrName)(Q,ee,K,W);return i.h("div",{class:"componentDetailWrapper",ref:Object(d.default)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:q,paddingBottom:Z}},i.h("div",{class:"componentDetail",ref:Object(d.default)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(T.default,{onCloseClick:f},ee)),i.h("div",{class:"withPadding"},i.h(b.default,null,i.h(g.default,{key:me.username,id:me.id,avatar:me.avatar,username:me.username,versionCount:me.versions,authorCount:1,lastUpdated:me.lastUpdated})),J&&ie&&i.h(_.default,{coid:Q,sectionVariant:J.variant,variant:ie,onChange:this.handleComponentVariantPropertyValueChange}),i.h(b.default,{title:"Description",showSeparator:!0},i.h(m.default,{class:"descriptionInput",formatter:h.formatTextArea,value:ne,placeholder:k?"No description yet":"Got any notes?",readOnly:k,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.h(b.default,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(y.default,{webUrl:z,appUri:B,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri})))),i.h(v.default,{connectedComponentsDevModeEnabled:W,connectedComponentsLocalWorkspace:F,connectedComponentsEditorInfo:H,shouldHighlightConnnectToCodeButton:X,componentId:Q,componentName:ee,connectedComponent:ye,showLayerComponent:!1,userRestricted:R,onRequestInvite:j}),Se&&i.h("div",{class:"withPadding"},i.h(C.default,{showSeparator:!u.transformAsset,asset:Se,projectType:D,showDensityMismatchWarning:x,noVectorAssetInfoHidden:M,assetDensityScalePrefs:A,namingConvention:L,showOptimizedSVG:U,assetExportTarget:w,onOpenExportTargetClick:I.default.openExportTarget,onChangeExportTargetClick:I.default.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:I.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:I.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:I.default.changeAssetDensityScalePref,onNamingConventionChange:I.default.changeAssetNamingConvention,onShowOptimizedSVGChange:I.default.toggleSVGOptimization})),!Se&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Size",showSeparator:!!Se},i.h(E.default.Group,null,i.h(E.default,{name:"Width"},fe),i.h(E.default,{name:"Height"},ge)))),ae&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Background color",showSeparator:!0},i.h(S.default,{color:Object(u.transformColor)(new o.default(ae),n,K),onNameChange:a,onAddClick:r,onRemoveClick:s}))),!!V.length&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Used in",showSeparator:!0},i.h(P.default,{componentName:ee,screens:V}))))),i.h(O.default,{component:t,version:te,variantSection:J,codeGap:G,height:Y,maxHeight:$,minHeight:89,maxResizeHeight:window.innerHeight-60-146,minResizeHeight:89,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:l,onSettingsClick:N.default.openSettings}))}}U.NoSelectionState=D.a,t.default=x()(U,{withProps:!0,withContext:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1817);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1622),r=n(1639);n(1818);class a extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i,variantSection:o}=this.props;return e.component(t,i,n,o).then(e=>r.CodeSnippet.fromUnknown(e,"component"))}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:r,maxHeight:a,maxResizeHeight:s,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(o.ResizableExtensionCode,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:r,maxHeight:a,maxResizeHeight:s,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(o.default,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1820),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1514)),a=i(n(1821));n(1824),t.default=function({coid:e,sectionVariant:t,variant:n,onChange:i},s){const{permissions:{canManageStyleguide:l}}=s;return o.h(r.default,{class:"componentVariantProperties",title:"Properties",showSeparator:!0},t.properties.map(({_id:t,name:r,values:s})=>{const c=n.values.find(({propertyId:e})=>e===t);return o.h("div",{class:"componentVariantProperty",key:`${e}:${t}`},o.h("span",{class:"propertyName ellipsis",title:r},r,":"),o.h(a.default,{placeholder:"No value",value:null==c?void 0:c.value,maxLength:100,options:s,onChange:function(e){i(t,e)},disabled:!l}))}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1822);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),a=o(n(517)),s=o(n(399)),l=n(232);n(1823);class c extends r.Component{constructor(){super(...arguments),this.state={value:this.props.value,dropdownOpen:!1},this.inputRef=r.createRef(),this.handleBlur=e=>{const{value:t,onChange:n}=this.props,{type:i,value:o,valueAsNumber:r}=e.target,a=o.trim();if(t===a||t===r)return;const s="number"===i?r:a;""===o?this.setState({value:t}):(this.setState({value:a}),n(s))},this.handleKeyDown=e=>{switch(e.key){case l.Keyboard.Key.Enter:e.target.blur();break;case l.Keyboard.Key.Escape:this.setState({value:this.props.value},()=>{e.target.blur()})}},this.handleInput=e=>{const{value:t}=this.state,n=e.target,{type:i,value:o,min:r,max:a,validity:s}=n;let l;l=s.rangeUnderflow?r:s.rangeOverflow?a:s.badInput?t:s.valueMissing?"":"number"===i?String(parseInt(o,10)):o,this.setState({value:l})},this.handleChange=e=>{const{value:t,onChange:n}=this.props;t!==e&&(this.setState({value:e}),n(e))},this.handleDropdownVisibilityChange=e=>{this.setState({dropdownOpen:e})}}componentDidUpdate(e,t){const{value:n,disabled:i,autoFocus:o}=this.props,{value:r}=this.state;(e.value!==n||r!==n&&r===t.value)&&this.setState({value:n}),e.disabled&&!i&&o&&this.inputRef.current.focus()}render(){const e=this.props,{class:t,placeholder:n,disabled:o,dropdownTop:l,options:c,onChange:d}=e,u=i(e,["class","placeholder","disabled","dropdownTop","options","onChange"]),{value:p,dropdownOpen:h}=this.state;return r.h("div",{class:s.default("inputWithDropdownContainer",t,{disabled:o,dropdownOpen:h})},r.h("div",{class:"inputContainer"},r.h("div",{class:"mirror"},p||n||" "),r.h("input",Object.assign({},u,{ref:this.inputRef,class:"inputWithDropdownInput",placeholder:n,value:p,disabled:o,required:!0,spellcheck:!1,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))),r.h(a.default,{top:l,showCheck:!1,showLabel:!1,disabled:o,class:"inputWithDropdownDropdown",optionsClass:"inputWithDropdownOptions",onChange:this.handleChange,onDropdownStateChange:this.handleDropdownVisibilityChange},c.map(e=>r.h(a.default.Item,{selected:e===p,label:e,value:e,key:e}))))}}t.default=c,c.defaultProps={type:"text",min:0,dropdownTop:0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1826);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(245),r=n(252),a=n(253),s=n(420);n(1827);class l extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:c,backgroundColor:d=a.default.NAMED_COLORS.white,componentName:u,visible:p}=this.props,{projectId:h}=this.context,{src:f,srcset:g}=Object(r.getResizedImageSources)(n,{width:132}),m=132*c/l,b=new a.default(d).toCSS(),S=Object(o.urlResolve)("project-screen",{url:{pid:h,sid:e}});return i.h("a",{ref:Object(s.default)(this,"base"),href:S,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":u},i.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:b}},p&&i.h("img",{width:132,height:m,src:f,srcset:g,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}class c extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:o,width:r,height:a,backgroundColor:s}}]}=e;return i.h(l,{key:e._id,screenId:e._id,name:e.name,url:o,width:r,height:a,backgroundColor:s,componentName:t,visible:n.has(e._id),observer:this.observer})}))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1829);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(551)),a=n(249);n(1830);t.default=function(e){const{componentCount:t,sectionCount:n,variantSectionCount:i,convertedAnySectionIntoVariant:s}=e;if(!t)return null;function l(){return o.h(o.Fragment,null,o.h("h3",null,"Manage your component variants"),o.h("p",null,"Collect your components under variant sections for developers to access them during development."," ",o.h("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"Learn more"),"."),o.h(r.default,{asset:"img/manage-variants-onboarding-image.png",alt:"Set as variant section",title:"Set as variant section"}))}let c;return c=i>0&&s?o.h(o.Fragment,null,o.h("h3",null,"Updating properties and values"),o.h("p",null,"Select components to update their properties from the right panel."),o.h(r.default,{asset:"img/update-properties.png",alt:"Update properties",title:"Update properties"}),o.h("h3",null,"Grouping components by properties"),o.h("p",null,"After setting variant sections, you can create groups under sections ",o.h("strong",null,"by Properties")," from the variant menu."),o.h(r.default,{asset:"img/group-by-properties.png",alt:"Group by properties",title:"Group by properties"})):n<3?o.h(o.Fragment,null,o.h("h3",null,"Organize your components"),o.h("p",null,o.h("strong",null,"Right click")," to organize your components by creating sections or groups."),o.h(r.default,{asset:"img/organize-components-onboarding-image.png",alt:"Organize your components",title:"Organize your components"}),l()):l(),o.h("div",{class:"componentsSidebarNoSelectionState"},o.h("h2",null,a.pluralize(t,"Component")," ",o.h(r.default,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1834);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(880),r=n(766),a=n(1835),s=n(442),l=n(420),c=n(245);n(1838);class d extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(o.default.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(o.default.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(r.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(a.default,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:o="a styleguide"}}=this.props,r=Object(c.urlResolve)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:o,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:r,"data-link-type":"inApp","data-back":t},o)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(l.default)(this,"button")},i.h(s.IconSettings,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(l.default)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1836);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(573),r=n.n(o);n(1837);t.default=function({articleURL:e,children:t}){return i.h(r.a,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1840);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1101)),s=i(n(404)),l=i(n(1841)),c=n(442);n(1844),t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldPromote:i,shouldDisplayHintBox:d,shouldDisplayIncludeParentsOption:u,onStopPromoting:p}){const[h,f]=r.useState(!1);function g(){i&&p(),f(!0),mixpanel.master.track("Clicked export design tokens")}function m(){f(!1)}return o.h(o.Fragment,null,d?o.h(a.default,{class:"exportDesignTokensHintBox",hideButtonText:"Got it!",onHideClick:p},"Introducing Design Tokens: Extend your styleguide in Zeplin to the developer world.",o.h(s.default,{class:"exportDesignTokensHintBoxButton ellipsis",onClick:g,primary:!0},"Export Design Tokens")):o.h("div",{class:"exportDesignTokensButtonContainer noSelect"},o.h("span",{class:"exportDesignTokensButtonLabel"},"Export Design Tokens"),o.h(s.default,{class:"exportDesignTokensButton",onClick:g},o.h(c.IconToken,null))),h?o.h(l.default,{barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:u,onClose:m}):null)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1842);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(4),c=n(522),d=s(n(766)),u=s(n(400)),p=s(n(404)),h=s(n(619)),f=s(n(1564)),g=s(n(399)),m=n(233),b=n(1549),S=n(442),y=n(247),v=r(n(264)),C=n(260);n(1843);const O={project:C.project,styleguide:C.styleguide};t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:i,onClose:o}){const r=c.useRef(),[s,C]=c.useState(i),[E,T]=c.useState(!1),[_,P]=c.useState(!1),[j,D]=c.useState(null),k=`/v1/${n}s/${e}/design_tokens${s?"?include_linked_styleguides=true":""}`;return l.h(d.default,{baseRef:r,class:g.default("exportDesignTokensDialog",{tokensView:Boolean(j)}),width:720,onClose:o,negativeButtonText:"BACK",hideNegativeButton:!1,hideFooter:!j,onNegativeButtonClick:function(){D(null)}},l.h("div",{class:"exportDesignTokensDialogHeader"},l.h("h2",null,"Export Design Tokens")),l.h("div",{class:"exportDesignTokensDialogBody"},j?l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Check out the ",l.h("a",{target:"_blank",rel:"noopener",href:"https://zpl.io/api/design-tokens",onClick:function(){mixpanel.master.track("Clicked API documentation link")}},"documentation")," to learn more about fetching design tokens using the Zeplin API."),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",k),l.h(h.default,{content:"Copy as cURL command"},l.h(p.default,{class:"exportDesignTokensDialogCurlCommandButton",onClick:function(){y.copyContent({content:["curl --request GET \\",`    --url '${m.PUBLIC_API_URL}${k}' \\`,"    --header 'Accept: application/json' \\","    --header 'Authorization: Bearer {PERSONAL_ACCESS_TOKEN}'"].join("\n"),toastContainer:r.current}),mixpanel.master.track("Copied curl command",{"Include Linked Styleguides":s})}},l.h(S.IconCopy,null)))),l.h("div",{class:"exportDesignTokensDialogCodeContainer"},l.h(f.default,{lang:"json",content:JSON.stringify(j,null,2),asyncHighlight:!1}))):l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Design Tokens are JSON representations of colors, text styles and spacing tokens in your styleguide. Using these tokens, you can propagate changes in your design system to your development environment."),l.h("p",{class:g.default("exportDesignTokensDialogDescription",{noLinkedStyleguide:!i})},"You can export Design Tokens in two ways:"),i&&l.h("label",{class:"exportDesignTokensDialogCheckboxLabel"},l.h(u.default,{checked:s,onChange:function(){C(!s)}}),l.h("p",null,"Include linked styleguides")),l.h("div",{class:"exportDesignTokensDialogBodyOptionOne"},l.h("p",{class:"exportDesignTokensDialogBodyOptionOneText"},l.h("strong",null,"1.")," Fetch Design Tokens using the Zeplin API"),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",k),l.h(p.default,{class:"exportDesignTokensDialogFetchButton",disabled:E||_,primary:!0,onClick:function(){return a(this,void 0,void 0,(function*(){try{T(!0);const t=yield O[n].getDesignTokens(e,s);D(t),mixpanel.master.track("Fetched design tokens",{"Include Linked Styleguides":s})}catch(t){v.handleError(t)}finally{T(!1)}}))}},E?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Fetch"))),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",null,l.h("strong",null,"2.")," Download Design Tokens as a .zip package"),l.h(p.default,{class:"exportDesignTokensDialogDownloadButton",disabled:_||E,primary:!0,onClick:function(){return a(this,void 0,void 0,(function*(){try{P(!0);const i=yield O[n].getDesignTokensFile(e,s);let o=i.name;if(!o){const e=new Date,n=`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`;o=`${t}_designTokens_${n}.zip`}b.triggerDownload({data:URL.createObjectURL(i.blob),name:o}),mixpanel.master.track("Downloaded design tokens",{"Include Linked Styleguides":s})}catch(i){v.handleError(i)}finally{P(!1)}}))}},_?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Download")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1846);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(271),s=n.n(a),l=n(1847),c=n(1127),d=n(545),u=n(232),p=n(388),h=n(766),f=n(379),g=n(364),m=n(365);const b={[u.RESOURCE_TYPE.TEXT_STYLES]:"Text Styles",[u.RESOURCE_TYPE.COLORS]:"Colors",[u.RESOURCE_TYPE.COMPONENTS]:"Components"};function S(e){return b[e]}const y=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});class v extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[s.a.StyleguideStore,s.a.ProjectsDataStore,s.a.StyleguidesDataStore,s.a.BarrelStore,s.a.UserStore]}static calculateState(){const{moveResourcesPopup:e}=s.a.StyleguideStore.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=s.a.BarrelStore.getState(),{userId:o}=s.a.UserStore.getState(),r=m.default.getOrganizationStyleguides(t),a=g.default.getBarrel(),l=function(e,t,n,i){if(!t||!i)return[];const o=t.users.find(e=>"owner"===e.role);return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===u.RESOURCE_TYPE.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find(e=>"owner"===e.role);return o&&t&&o.user._id===t.user._id}return!0})}(r,a,t,e);return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:a,moveableStyleguides:l,organizationId:t,currentUserId:o,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return y.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return y.NONE;const o=e.type!==i.type;return n===u.RESOURCE_TYPE.COMPONENTS&&o?y.COMPONENT:y.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==y.BASIC_DIALOG&&p.default.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&p.default.closeMoveResourcesPopup()}handleStyleguideSelect(e){p.default.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;f.default.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:o,barrel:r,moveResourcesPopup:a,barrelType:s}=this.state;if(!e.length){if("user"!==n)return i.h(c.NoStyleguideToMoveInOrganization,{oid:n});return o!==r.findOwner().user._id?i.h(c.NoStyleguideToMoveNonOwner,{resourceType:b[a.resourceType],barrelType:s,barrelOwnerName:r.username}):i.h(c.NoStyleguideToMove,{resourceType:b[a.resourceType]})}return i.h(c.default,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:o}=this.state,{targetNode:r,targetStyleguide:a}=e;let s;return s=this.getWarningDialogType()===y.COMPONENT?i.h(l.default,{loading:!!o,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:a.type}):this.renderSelectStyleguides(),i.h(d.default,{targetNode:r,content:s,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:o}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===y.BASIC_DIALOG&&i.h(h.BasicOverlayDialog,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:p.default.deselectMoveResourcesTargetStyleguide,message:`Move ${S(n)} from "${e.name}" to "${o.name}"?`}))}}t.default=r()(v)},function(e,t,n){"use strict";n.r(t);var i=n(1848);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(404),r=n(442),a=n(263),s=n.n(a),l=n(248);n(1849);t.default=function(e){const{onMove:t,barrelType:n,currentType:a,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===s.a.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(l.getPlatformString)(a)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(l.getPlatformString)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(o.default,{onClick:!d&&t,primary:!0},d?i.h(r.IconSpinner,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1852);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1152);n(1853);t.default=function(e){const{styleguide:t={},loading:n,loadingJoin:r,onJoin:a}=e,{_id:s,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(o.StyleguidePreviewLoading,null):i.h(o.default,{showJoinButton:!0,headerSticky:!0,onJoin:function(){a({bid:s,source:"Preview"})},loadingJoin:r,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1855);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(1856),s=n(364),l=n(1304),c=n(271),d=n.n(c),u=n(245),p=n(248);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"handleAddLocal",async e=>{await e.load(),l.default.add({extension:e,local:!0})}),m(this,"handleEnable",e=>{l.default.enable({eid:e})}),m(this,"handleDisable",e=>{l.default.disable({eid:e})}),m(this,"handleRemove",(e,{local:t=!1}={})=>{l.default.remove({eid:e,local:t,syncWithApi:!0})})}static calculateState(){const{extensionId:e,extensions:t,enabledExtensions:n}=d.a.ExtensionsStore.getState(),i=t.map(e=>({id:e.id,default:e.default,enabled:n.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(u.getExtensionWebsiteUrl)({eid:e.id}),repository:e.repository,options:e.optionsSchema.map(t=>g(g({},t),{},{value:e.getOption(t.id)})),local:e.local})),{barrelId:o,barrelType:r,organizationId:a}=d.a.BarrelStore.getState(),c=s.default.findUser();return{barrelId:o,barrelType:r,organizationId:a,selectedExtensionId:e,canRemoveExtensions:p.permissions.canRemoveExtensions(c),extensions:i,visible:!0,onUpdateOption:l.default.updateOption}}static getStores(){return[d.a.BarrelStore,d.a.ExtensionsStore,d.a.UserStore]}render(){return i.h(a.default,h({},this.state,{onAddLocal:this.handleAddLocal,onEnable:this.handleEnable,onDisable:this.handleDisable,onRemove:this.handleRemove}))}}t.default=r()(b)},function(e,t,n){"use strict";n.r(t);var i=n(1857);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(766),r=n(404),a=n(442),s=n(1858),l=n(1865),c=n(1868),d=n(1871),u=n(420),p=n(245),h=n(244),f=n(291),g=n(1304);n(1874);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(e){super(e),b(this,"handleAddLocal",e=>{const{extensions:t,onAddLocal:n}=this.props;f.WebappExtension.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}),b(this,"handleUpdateOption",(e,t)=>{this.props.onUpdateOption(this.state.selectedExtensionId,e,t)}),b(this,"handleRemove",()=>{const e=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelType:t,onRemove:n}=this.props;if(e.local)return void n(e.id,{local:!0});const i=Object(p.getExtensionWebsiteUrl)({eid:e.id});h.create({title:`Remove “${e.name}” from ${t}?`,message:`Extension will be removed for all members of this ${t}. You can add it back from <a href="${i}" target="_blank">extension page</a>.`,done:{name:"REMOVE",cb(){n(e.id)}},cancel:{name:"KEEP"}},{contentType:"html"})}),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}close(){g.default.closeSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}showAddLocalExtensionPopup(){f.WebappExtension.createLocal("http://127.0.0.1:7070").then(e=>{const t={localExtensionPopupVisible:!0};this.props.extensions.some(t=>t.id===e.id)||Object.assign(t,{localExtensionUrl:"http://127.0.0.1:7070",localExtension:e}),this.setState(t)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleDocumentKeyDown(e){e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){if(e)return i.h(l.default,m({onChange:this.handleUpdateOption},e));const{extensions:t,onEnable:n,onDisable:o}=this.props;return t.length?i.h(s.default,{extensions:t,onEnable:n,onDisable:o,onSettingsClick:this.showSettings}):i.h(c.default,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,canRemoveExtensions:t,organizationId:n}=this.props,{localExtension:s,localExtensionUrl:l,localExtensionPopupVisible:c,selectedExtensionId:h,altPressed:f}=this.state,g=s&&e.some(e=>e.id===s.id),m=e.find(e=>e.id===h);return i.h(o.default,{baseRef:Object(u.default)(this,"extensionDialog"),width:640,height:640,onClose:this.close,showBackdrop:!1,fallbackButtonText:m&&(m.local||t)&&"REMOVE",onFallbackButtonClick:this.handleRemove,hideNegativeButton:!0},i.h("div",{class:"extensionDialogHeader"},m&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"extensionDialogBackLink"},i.h(a.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,m?m.name:"Extensions"),f||c?i.h(r.default,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(p.getExtensionWebsiteUrl)({organizationId:n}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"extensionDialogMain"},this.renderContent(m),c&&i.h(d.default,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:g,onAdd:this.handleAddLocal,onClose:this.hideLocalExtensionPopup,extension:s})))}}},function(e,t,n){"use strict";n.r(t);var i=n(1859);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1860),r=n(404),a=n(400),s=n.n(a),l=n(1564),c=n(442),d=n(399),u=n(252),p=n(245);n(1864);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(p.getExtensionWebsiteUrl)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(u.imageUrl)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(l.default,{lang:"css",class:"sampleCode",content:".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}",asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class g extends i.Component{constructor(...e){super(...e),h(this,"handleEnabledChange",e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}),h(this,"handleSettingsClick",()=>{this.props.onSettingsClick(this.props.id)})}render(){const{name:e,author:t,repository:n,description:a,url:l,local:p,loaded:h,enabled:f}=this.props,g=[t.url,n];return i.h("div",{class:"extensionListItem"},p&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(u.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(u.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(u.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(s.a,{onChange:this.handleEnabledChange,checked:f}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),h?i.h("span",{class:"description"},a):i.h("span",{class:"error"},"Fetching extension failed"),i.h(o.default,{links:g}))),i.h("a",{class:Object(d.default)("readmeLink",{invisible:p}),href:l,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null)),i.h(r.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,null)))}}t.default=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:o}){const r=e.map(e=>{const{id:r,name:a,description:s,author:l,url:c,repository:d,enabled:u,loaded:p,local:h}=e;return i.h(g,{onEnable:t,onDisable:n,onSettingsClick:o,key:r,id:r,name:a,description:s,author:l,url:c,repository:d,enabled:u,loaded:p,local:h})});return i.h("div",{class:"barrelExtensions"},i.h(f,null),r)}},function(e,t,n){"use strict";n.r(t);var i=n(1861);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1862);n(1863);function r({links:e}){const t=e.map(o.default).filter(Boolean).map(({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]);return i.h("span",{class:"extensionLinks"},t)}},function(e,t,n){"use strict";function i(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(t){return null}}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1866);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(1860),r=n(517),a=n(400),s=n.n(a),l=n(1235),c=n(442),d=n(252);n(1867);class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(r.default,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.h(r.default.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(s.a,{name:t,onChange:this.handleChange,checked:n}))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(l.default,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}function f(e){const{author:t,repository:n,description:r,url:a,local:s,options:l,onChange:f}=e,g=l.map(e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=p;break;case"text":t=h;break;default:return null}return i.h(t,Object.assign(e,{onChange:f}))}).filter(Boolean),m=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,s&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},r),i.h(o.default,{links:m})),!s&&i.h("a",{class:"readmeLink",href:a,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null))),g.length>0&&i.h("h3",null,"Settings"),g)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1869);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(551),r=n(245);n(1870);function a({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet ",i.h(o.default,{asset:"img/emjAlembic.png"})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(r.getExtensionWebsiteUrl)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1872);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(4),o=n(404),r=n(1235),a=n(248),s=n(399),l=n(420),c=n(247);n(1873);class d extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:o}=this.nodeRefs;i||(n&&!e||t?Object(c.highlightInput)(o):o.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(c.wiggle)(e),Object(c.highlightInput)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t="http://"+t),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:o,invalidUrl:r}=this.state,a=n&&!e,l=o&&!r,c=a||t||r;let d;return r?d="Enter a valid URL.":t?d=`“${e.name}” is already added.`:e?d=`Found “${e.name}”.`:a&&(d="No extension found."),i.h("p",{class:Object(s.default)("info",{warning:c,invisible:l})},d)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:s}=this.props,{urlChanged:c,invalidUrl:d}=this.state,u=d||!c&&(n&&!e||t);return i.h("div",{ref:Object(l.default)(this,"base"),class:"localExtensionPopup",onClick:a.stopPropagation},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(r.default,{inputRef:Object(l.default)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(o.default,{class:"cancel",onClick:s},"CANCEL"),i.h(o.default,{class:"done",onClick:this.handleAddClick,disabled:u},"ADD")))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1876);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(271)),a=i(n(364)),s=i(n(370)),l=i(n(385)),c=i(n(513)),d=i(n(1877));class u extends o.Component{constructor(){super(...arguments),this.handleTagOperation=(e,t)=>{const{screenId:n}=this.state;l.default.updateTags({updates:[{_id:n,operation:t,tags:[e]}],isScreen:!0,syncWithApi:!0})},this.handleAdd=e=>{this.handleTagOperation(e,"add")},this.handleRemove=e=>{this.handleTagOperation(e,"remove")},this.handleDocumentClick=e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&l.default.closeTagManager()},this.handleKeyDown=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&l.default.closeTagManager()}}static getStores(){return[r.default.BarrelStore,r.default.ScreenStore,r.default.ProjectsDataStore]}static calculateState(){const{tagManagerScreenId:e}=r.default.ScreenStore.getState();if(!e)return{};const t=a.default.getBarrel(),{tags:n}=s.default.getScreen({sid:e,bid:null});return{screenId:e,tags:n,barrelTags:t.tags}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenId:e,tags:t,barrelTags:n}=this.state;return e?o.h(d.default,{tags:t,barrelTags:n,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:l.default.closeTagManager}):null}}t.default=c.default(u)},function(e,t,n){"use strict";n.r(t);var i=n(1878);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),r=n.n(o),a=n(248),s=n(420),l=n(1879);n(1888);class c extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,barrelTags:t,onRemove:n,onClose:o}=this.props,{filter:r}=this.state,c=r.trim(),d=t.filter(t=>!e.includes(t)).reduce((e,t)=>(t.toLowerCase().includes(r.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:o},i.h("div",{class:"tagManagerPopup",onClick:a.stopPropagation},i.h("input",{ref:Object(s.default)(this,"input"),value:r,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.default,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:o},"DONE"))))}}c.propTypes={tags:r.a.arrayOf(r.a.string).isRequired,barrelTags:r.a.arrayOf(r.a.string).isRequired,onAdd:r.a.func.isRequired,onRemove:r.a.func.isRequired,onClose:r.a.func.isRequired},c.defaultProps={tags:[],barrelTags:[]},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1880);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1881),r=n(1884),a=n(252),s=n(248),l=n(420),c=n(247);n(1887);class d extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(s.arrayEqual)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.scrollIfNecessary)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map(e=>i.h(r.default,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:r}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let a;return r===t&&(a=Object(l.default)(this,"selectedSuggestion")),i.h(o.default,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:r===t,isNew:e.isNew,ref:a,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(a.imageUrl)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(a.imageUrl)("img/icDart.svg"),srcset:Object(a.srcset)(Object(a.imageUrl)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1882);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(404),a=n(399),s=n(252);n(1883);class l extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(r.default,{class:Object(a.default)("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(s.imageUrl)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1885);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(252),r=n(404);n(1886);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(r.default,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(o.imageUrl)("img/icGuidelineRemove.svg")})))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1890);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),l=a(n(513)),c=a(n(271)),d=a(n(1331)),u=a(n(1891)),p=r(n(343));class h extends s.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:o}=c.default.SlackPreferencesStore.getState(),{barrelType:r}=c.default.BarrelStore.getState(),a=i[t],s=p.eventGroupsByBarrelType[r];return{open:e,channelName:n,preferenceGroups:Object.entries(s).map(([e,t])=>{var n;return{title:t.name,description:t.info,loading:o.includes(e),checked:(null===(n=null==a?void 0:a[e])||void 0===n?void 0:n.length)===t.events.length,eventGroup:e}})}}static getStores(){return[c.default.SlackPreferencesStore,c.default.BarrelStore]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&s.h(u.default,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:d.default.updateEventGroup,onClose:d.default.close})}}t.default=l.default(h)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1892);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1893)),s=i(n(766));n(1896),t.default=function({channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:i}){const l=r.useRef();return r.useEffect(()=>{l.current.scrollTop=1,l.current.scrollTop=0}),o.h(s.default,{width:400,onClose:i,showBackdrop:!1,hideNegativeButton:!0},o.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",o.h("span",{title:e},e)),o.h("div",{ref:l,class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:i,checked:r,eventGroup:s})=>o.h(a.default,{key:s,title:e,description:t,loading:i,checked:r,onChange:n,eventGroup:s}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1894);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399)),a=i(n(400));n(1895),t.default=function({title:e,description:t,loading:n,checked:i,onChange:s,eventGroup:l}){return o.h("label",{className:r.default("slackPreferenceGroup",{loading:n})},o.h("div",{className:"slackPreferenceGroupInfo"},o.h("div",{className:"slackPreferenceGroupName",title:e},e),o.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),o.h(a.default,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:i,onChange:function(e){s(l,e.target.checked)}}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1899);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(590)),a=i(n(271)),s=i(n(513)),l=i(n(1900)),c=i(n(1903)),d=i(n(1933)),u=i(n(1950)),p=i(n(1971)),h=i(n(1974)),f=i(n(274)),g=i(n(864)),m=i(n(1975)),b=i(n(1978)),S=i(n(1981)),y=i(n(263)),v=i(n(365)),C=i(n(1103)),O=i(n(1984)),E=i(n(364)),T=i(n(379)),_=n(371),P=n(232),j=i(n(385)),D=i(n(399)),k=n(248),I=n(522),R=n(303),A=i(n(1305));n(1985);class w extends o.Component{constructor(){super(...arguments),this.contentRef=I.useRef(),this.setAllAsRead=()=>{const{activities:e}=this.state;r.default.setReadStatus({notifications:e.filter(({markedAsRead:e})=>!e),markedAsRead:!0,trackEventName:"Marked all notifications as read"})},this.toggleReadStatus=(e,t)=>{if(t){const n=e.events.filter(e=>t.includes(e._id)),i=n.every(({markedAsRead:e})=>e);r.default.setEventReadStatus({notification:e,eventIds:n.map(({_id:e})=>e),markedAsRead:!i,trackUnreadEvent:!0})}else{const{markedAsRead:t}=e;r.default.setReadStatus({notifications:[e],markedAsRead:!t,trackEventName:t?"Marked notification as unread":void 0})}},this.toggleDotStatus=()=>{const{selectedItem:e,selectedDot:t}=this.state,{params:{project:n,screen:i}}=e,{_id:o,status:r}=t,a=n._id,s=i._id,l="open"===r?"resolved":"open";j.default.updateDotStatus({pid:a,sid:s,did:o,status:l,syncWithApi:!0,source:"Notification"})},this.addDotComment=e=>{const t=e.trim();if(!t)return;const{selectedItem:n,selectedDot:i}=this.state,{params:{project:o,screen:r}}=n,{_id:a}=i,s=o._id,l=r._id;j.default.createComment({pid:s,sid:l,did:a,note:t,syncWithApi:!0,source:"Notification"})},this.trackActivitiesNavigation=()=>{g.default.trackEventWithFilterDetails("Navigated to notification destination")},this.setContentWidth=()=>{this.setState({contentWidth:this.contentRef.current.clientWidth})},this.minimizeWelcomeMessage=()=>{h.default.setNotificationWelcomeMessageMinimized(!0)},this.handleMembersOpen=()=>{const{allBarrelsSelected:e,userId:t}=this.state;if(e){const{selectedOrganizationId:e}=a.default.ActivitiesViewStore.getState();h.default.requestRelatedUsers(e,t)}},this.handleSectionsOpen=()=>{var e;const{projectId:t}=this.state;(null===(e=E.default.getProject({pid:t}))||void 0===e?void 0:e.sections)||C.default.requestProject(t)},this.handleJoinStyleguide=()=>{const{styleguideId:e}=this.state;T.default.join({barrelType:y.default.STYLEGUIDE,bid:e,shouldLoadBarrel:!1})}}get selectedEventIds(){const{selectedEvents:e}=this.state;return e.map(({_id:e})=>e)}static calculateState(){var e,t,n,i,o,r,s,l,c,d,u,p,h;const{notifications:m,loading:b}=a.default.NotificationsStore.getState(),{loadingOrganization:S,loadingBarrels:C,focusedBarrels:T}=a.default.OrganizationStore.getState(),{loading:j,selectedId:D,selectedEventIds:I,dotsLoaded:R,category:A,barrelSelection:w,projectsWithUpdatesOnly:N,sectionId:L,noteStatusFilterType:x,color:M,memberId:U,selectedOrganizationId:B,sidebarWidth:z,notificationWelcomeMessageMinimized:V,listScrollData:W,autoSelect:F}=a.default.ActivitiesViewStore.getState(),H=v.default.getOrganization(B),G=!(0!==(null==H?void 0:H.sections.length));if(j||S||C||b||G||!B)return{ready:!1};const $=a.default.UserStore.getState().userId,q="all"===w.type,Z=w.type===y.default.PROJECT?w.id:void 0,Y=Z?E.default.getProject({pid:Z}):void 0;let K,J,X=!1;if(q){const n=v.default.getOrganizationProfile(B),i=!!n;if("user"===B||i&&n.restricted){const{acquaintancesLoading:e,acquaintancesError:t}=a.default.UserStore.getState();X=e,J=null==t?void 0:t.message,K=O.default.getUserAndAcquaintances()}else i&&!n.restricted&&(X=!!H.membersLoading,J=null===(e=H.membersError)||void 0===e?void 0:e.message,K=null===(t=H.members)||void 0===t?void 0:t.map(({user:e})=>e))}else Y&&(K=Y.users.map(({user:e})=>e));K=null!==(n=null==K?void 0:K.filter(({username:e})=>e))&&void 0!==n?n:[];const{error:Q,loadingProject:ee}=a.default.ProjectsDataStore.getState(),te=null!==(o=null===(i=null==Y?void 0:Y.sections)||void 0===i?void 0:i.slice(1))&&void 0!==o?o:[],ne=!te.length&&ee,ie=(null===(r=null==Y?void 0:Y.sections)||void 0===r?void 0:r.length)||null==Q?void 0:Q.message,oe=w.type===y.default.PROJECT?w.isPinned:void 0,re=w.type===y.default.STYLEGUIDE?w.id:void 0;let ae=m.filter(({_id:e})=>e);ae=ae.filter(({events:e})=>e.every(({_id:e})=>e)),ae=ae.filter(({actionName:e})=>g.default.isTypeValid(e));let se=ae.filter(e=>g.default.isInCategory(e,A));if(x&&(se=se.filter(e=>g.default.doesNoteStatusMatch(e,x))),M&&(se=se.filter(e=>g.default.doesNoteColorMatch(e,M))),U&&(se=se.filter(e=>g.default.doesNoteUserMatch(e,U))),L){const e=null===(s=te.find(({_id:e})=>e===L))||void 0===s?void 0:s.screens;se=se.filter(({params:{screen:t}})=>t&&(null==e?void 0:e.includes(t._id)))}const le=new Set,ce=new Set,de=new Set;for(const a of ae.filter(({markedAsRead:e})=>!e))g.default.getRelatedProjects(a).forEach(e=>{le.add(e),g.default.hasMention(a)&&ce.add(e)}),g.default.getRelatedStyleguides(a).forEach(e=>de.add(e));const ue=(v.default.getOrganizationProjects(B)||[]).filter(e=>e.users.some(({user:e})=>e._id===$)).map(e=>Object.assign(Object.assign({},e),{hasUpdate:le.has(e.id),hasMention:ce.has(e.id)})),pe=ue.filter(({_id:e,hasUpdate:t,status:n})=>(!N||t)&&"archived"!==n||e===Z);let he;if(H){const[e,...t]=H.sections;e.name="Individual Projects",he=[...t,e]}else pe.sort(k.sortBy.name).sort((e,t)=>Number(t.hasUpdate)-Number(e.hasUpdate)),he=[{_id:"personalProjectDefaultSection",name:"Personal Projects",projects:pe.map(e=>e._id)}];const fe=_.filterSortProjectSections({sections:he,projects:pe,projectsLookup:pe.reduce((e,t)=>Object.assign(Object.assign({},e),{[t._id]:t}),{}),sortType:P.SortTypes.SECTIONS,shouldPutResultsToDefaultSection:!H}),ge=null===(l=T[B])||void 0===l?void 0:l.map(e=>e.barrelId),me=(v.default.getOrganizationStyleguides(B)||[]).map(e=>Object.assign(Object.assign({},e),{hasUpdate:de.has(e.id)})),be=me.filter(e=>e.users.some(({user:e})=>e._id===$)),Se=be.filter(({_id:e,status:t})=>"archived"!==t||e===re),ye=Se.reduce((e,t)=>new Set([...e,...t.ancestors,t.id]),new Set);const ve=me.filter(({_id:e})=>ye.has(e));se=se.filter(e=>{var t;return q?(null===(t=e.params.organization)||void 0===t?void 0:t._id)===B||ue.some(({id:t})=>g.default.isRelatedToProject(e,t))||be.some(({id:t})=>g.default.isRelatedToStyleguide(e,t)):Z?g.default.isRelatedToProject(e,Z):!!re&&g.default.isRelatedToStyleguide(e,re)});const Ce=se.find(({_id:e})=>e===D);let Oe=(null==Ce?void 0:Ce.events.filter(({_id:e})=>I.includes(e)))||[];0===Oe.length&&1===(null==Ce?void 0:Ce.events.length)&&(Oe=[Ce.events[0]]);const Ee=!!Ce&&g.default.getCategory(Ce)===f.default.Note,Te=Ee?ue.find(({id:e})=>e===Ce.params.project._id):void 0,_e=null===(c=null==Te?void 0:Te.screens)||void 0===c?void 0:c.find(({_id:e})=>e===Ce.params.screen._id),Pe=null===(d=null==_e?void 0:_e.versions)||void 0===d?void 0:d[0].snapshot,je=null!==(p=null===(u=null==_e?void 0:_e.dots)||void 0===u?void 0:u.find(({_id:e})=>{var t;return e===(null===(t=Oe[0].dot)||void 0===t?void 0:t._id)}))&&void 0!==p?p:null===(h=null==_e?void 0:_e.dots)||void 0===h?void 0:h.find(({_id:e})=>{var t;return e===(null===(t=Ce.params.dot)||void 0===t?void 0:t._id)});return{ready:!0,userId:$,activities:se,selectedOrganizationId:B,selectedItem:Ce,selectedEvents:Oe,selectedDot:je,selectedDotSnapshot:Pe,dotError:Ee&&(R&&!je||!Pe&&!ee),category:A,allBarrelsSelected:q,projectId:Z,isSelectedProjectPinned:oe,styleguideId:re,projectsWithUpdatesOnly:N,styleguides:ve,workspaceSections:fe,pinnedProjectIds:ge,noteStatusFilterType:x,color:M,usersLoading:X,usersError:J,users:K,projectMemberId:U,loadingScreenSections:ne,screenSectionsError:ie,screenSections:te,screenSectionId:L,selectedBarrelType:w.type,sidebarWidth:z,showWelcomeMessage:!V,listScrollData:W,autoSelect:F}}static getStores(){return[a.default.NotificationsStore,a.default.ActivitiesViewStore,a.default.OrganizationStore,a.default.ProjectsDataStore,a.default.StyleguidesDataStore,a.default.UserStore,a.default.BarrelStore]}componentDidMount(){r.default.updateNotificationLastReadTime(),window.addEventListener("resize",this.setContentWidth)}componentDidUpdate(e,t){t.ready&&!this.state.ready||this.setContentWidth()}componentWillUnmount(){r.default.updateNotificationLastReadTime(),window.removeEventListener("resize",this.setContentWidth)}render(){if(!this.state.ready)return o.h(b.default,null);const{activities:e,userId:t,selectedOrganizationId:n,selectedItem:i,selectedEvents:r,selectedDot:a,selectedDotSnapshot:s,dotError:g,category:y,allBarrelsSelected:v,projectId:C,isSelectedProjectPinned:O,styleguideId:E,projectsWithUpdatesOnly:T,styleguides:_,workspaceSections:P,pinnedProjectIds:j,noteStatusFilterType:k,color:I,usersLoading:w,usersError:N,users:L,projectMemberId:x,loadingScreenSections:M,screenSectionsError:U,screenSections:B,screenSectionId:z,selectedBarrelType:V,sidebarWidth:W,contentWidth:F,showWelcomeMessage:H,listScrollData:G,autoSelect:$}=this.state,q=y===f.default.Note,Z=e.length>0;let Y=!1;if(E){const e=_.find(e=>e.id===E);(null==e?void 0:e.users.find(e=>e.user._id===t))||(Y=!0)}const K=!Z||Y,J=R.clamp(F,940,1148),X=J-108,Q=Math.round(.38461538461538464*X),ee=X-Q,te=Math.max(0,(F-J)/2),ne=!!G,ie=ne?{height:"0px",overflow:"hidden"}:void 0;return o.h(o.Fragment,null,ne&&o.h(b.default,null),o.h("div",{class:"activitiesContainer",style:ie},o.h(A.default,{class:"activitiesSidebar",initialWidth:W,minWidth:260,collapsible:!1,onResize:this.setContentWidth,onRelease:h.default.setSidebarWidth,resizingSide:"right"},o.h(l.default,{category:y,onSelect:h.default.selectCategory}),o.h("div",{class:"activitiesSidebarSeparator"}),o.h(m.default,{allSelected:v,projectId:C,isSelectedProjectPinned:O,styleguideId:E,projectsWithUpdatesOnly:T,sections:P,pinnedProjectIds:j,styleguides:_,selectedOrganizationId:n,selectAll:h.default.selectAllBarrels,selectBarrel:h.default.selectBarrel,onProjectsWithUpdatesOnlyChange:h.default.setProjectsWithUpdatesOnly})),o.h("div",{ref:this.contentRef,class:D.default("activitiesContent",{withWelcomeMessage:H}),style:{paddingLeft:te,paddingRight:te}},F&&H&&o.h(p.default,{oid:n,minimize:this.minimizeWelcomeMessage}),F&&q&&!E&&o.h(c.default,{loadingMembers:w,membersError:N,members:L,showSectionFilter:!v,loadingSections:M,sectionsError:U,sections:B,selectedNoteStatus:k,selectedColor:I,selectedMemberId:x,selectedSectionId:z,onNoteStatusFilterTypeChange:h.default.selectNoteStatusFilterType,onColorChange:h.default.selectColor,requestMembers:this.handleMembersOpen,onMemberFilterChange:h.default.selectMember,requestSections:this.handleSectionsOpen,onSectionFilterChange:h.default.selectSection}),F&&K&&o.h(S.default,{barrelType:V,category:y,notInvitedToStyleguide:Y,onJoinStyleguide:this.handleJoinStyleguide}),F&&Z&&!K&&o.h("div",{class:D.default("activityListAndDetails",{noteCategorySelected:q,withWelcomeMessage:H})},o.h(d.default,{width:Q,scrollData:G,activities:e,selectedItemId:null==i?void 0:i._id,selectedEventIds:this.selectedEventIds,onSetAllAsReadClick:this.setAllAsRead,onSelect:h.default.select,onSaveScrollData:h.default.saveListScrollData,autoSelect:$,onToggleReadStatusClick:this.toggleReadStatus,allSelected:v}),i&&o.h(u.default,{width:ee,activity:i,events:r,dot:a,dotSnapshot:s,dotError:g,onActivitiesNavigationClick:this.trackActivitiesNavigation,onToggleReadStatusClick:this.toggleReadStatus,onToggleDotStatusClick:this.toggleDotStatus,onAddDotCommentClick:this.addDotComment})))))}}t.default=s.default(w)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1901);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(274)),a=i(n(399));n(1902);const s={[r.default.All]:"All",[r.default.Note]:"Notes",[r.default.Screen]:"Screens",[r.default.Styleguide]:"Styleguide",[r.default.Other]:"Others"},l=Object.keys(r.default);t.default=function({category:e,onSelect:t}){const n=Object.fromEntries(l.map(e=>[e,()=>t(e)]));return o.h("div",{class:"activityCategories"},l.map((function(t){const i=t===e,r=s[t];return o.h("span",{key:t,class:a.default("activityCategory",{selected:i}),onClick:n[t]},r)})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1904);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1905)),a=i(n(1926)),s=i(n(1929));n(1932),t.default=function({loadingMembers:e,membersError:t,members:n,showSectionFilter:i,loadingSections:l,sectionsError:c,sections:d,selectedColor:u,selectedNoteStatus:p,selectedMemberId:h,selectedSectionId:f,onNoteStatusFilterTypeChange:g,onColorChange:m,requestMembers:b,onMemberFilterChange:S,requestSections:y,onSectionFilterChange:v}){return o.h("div",{class:"activitiesNoteFilterView"},o.h(a.default,{dropdownTop:42,dropdownLeft:-6,selectedColor:u,selectedNoteStatus:p,onNoteStatusFilterTypeChange:g,onColorChange:m}),o.h(r.default,{dropdownTop:42,dropdownLeft:-93,loading:e,error:t,members:n,selectedMemberId:h,requestMembers:b,onFilterChange:S}),i&&o.h(s.default,{dropdownTop:42,dropdownLeft:-203,loading:l,error:c,sections:d,requestSections:y,selectedSectionId:f,onFilterChange:v}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1906);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1907)),a=i(n(1910)),s=i(n(517)),l=i(n(527)),c=i(n(399)),d=n(247),u=n(257);n(1925);function p({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(s.default.Item,{selected:!e},o.h("div",{class:"membersDropdownItem"},o.h("div",{class:"allMembersAvatar"},"👨‍👩‍👧‍👧"),o.h("span",null,t.length>1?"All members":"History members"))),o.h(r.default,null)),t.map(t=>{const{_id:n,fullName:i,username:r}=t,{src:a,srcset:c}=d.getUserAvatar(t,{size:24}),u=i||r,p=e===n;return o.h(s.default.Item,{key:n,value:n,selected:p},o.h("div",{class:"membersDropdownItem"},o.h(l.default,{class:"memberRowAvatar",src:a,srcset:c,size:24}),o.h("span",null,u)))}))}t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedMemberId:r,members:s,requestMembers:l,onFilterChange:d}){return o.h(a.default,{dropdownProps:{class:"membersDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Members",showSelectedAsLabel:!1,onChange:d,labelClass:c.default({membersDropdownModifiedLabel:!!r}),optionsClass:"membersDropdownOptions"},filterInputProps:{placeholder:"Search for a member",placeholderWidth:140,class:"membersFilterInput"},itemTypeName:"member",loading:n,error:i,items:s,selectedId:r,requestItems:l,matchItem:u.matchUserWithFilterValue,renderItems:p})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1908);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1909),t.default=function(){return i.h("div",{class:"dropdownItemSeparator"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1911);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(1912)),s=i(n(1915)),l=i(n(517)),c=i(n(886)),d=i(n(1918)),u=i(n(1921));n(1924),t.default=function({dropdownProps:e,filterInputProps:t,itemTypeName:n,emptyText:i,loading:p,error:h,items:f,selectedId:g,requestItems:m,renderItems:b,matchItem:S}){const[y,v]=r.useState(""),C=f.filter(e=>S(e,y));return o.h(l.default,Object.assign({onDropdownStateChange:function(e){e?null==m||m():v("")}},e),p?o.h(u.default,null):h?o.h(d.default,{type:n,message:h,onRetryClick:m}):o.h(o.Fragment,null,f.length>1&&o.h("div",{class:"filterInputWrapper"},o.h(c.default,Object.assign({value:y,onFilter:v},t))),0===f.length&&i&&o.h(a.default,{emptyText:i}),f.length?C.length?b({items:C,selectedId:g,filterValue:y}):o.h(s.default,{type:n}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1913);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1914),t.default=function({emptyText:e}){return i.h("div",{class:"dropdownWithFilterItemsEmpty"},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1916);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1917),t.default=function({type:e="item"}){return i.h("div",{class:"filterSearchEmptyView"},"No ",e," with this name 🤷‍♀️")}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1919);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(404));n(1920),t.default=function({type:e="item",message:t,onRetryClick:n}){return o.h("div",{class:"dropdownWithFilterItemsError"},o.h("span",{class:"title"},"Fetching ",e,"s failed"),o.h("span",{class:"message"},t),o.h(r.default,{secondary:!0,onClick:function(e){e.stopPropagation(),n()}},"Retry"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1922);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(442);n(1923),t.default=function(){return i.h("div",{class:"dropdownWithFilterItemsLoading"},i.h(o.IconDotSpinner,{width:24}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1927);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1907)),a=i(n(517)),s=i(n(914)),l=i(n(865)),c=i(n(399)),d=n(328);n(1928),t.default=function({dropdownTop:e,dropdownLeft:t,selectedNoteStatus:n,selectedColor:i,onNoteStatusFilterTypeChange:u,onColorChange:p}){function h(e,t){p(i===t?void 0:t)}return o.h(a.default,{class:"noteStatusDropdown",top:e,left:t,onChange:u,defaultLabel:"Types",showSelectedAsLabel:!1,labelClass:c.default({noteStatusDropdownModifiedLabel:!!n||!!i}),optionsClass:"noteStatusDropdownOptions"},o.h(a.default.Item,{selected:!n},"All Notes"),o.h(r.default,null),o.h(a.default.Item,{value:l.default.Open,selected:n===l.default.Open},"Open Notes"),o.h(a.default.Item,{value:l.default.Mentioned,selected:n===l.default.Mentioned},"Mentioned Notes"),o.h(a.default.Item,{value:l.default.Resolved,selected:n===l.default.Resolved},"Resolved Notes"),o.h(r.default,null),o.h("div",{class:"noteStatusDropdownColorDots"},d.colorNames.map(e=>o.h(s.default,{class:"noteStatusDropdownColorDot",key:e+"-colorDot",color:e,selected:e===i,onClick:h}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1930);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1907)),a=i(n(1910)),s=i(n(517)),l=i(n(399));function c({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(s.default.Item,{selected:!e},"All sections"),o.h(r.default,null)),t.map(({_id:t,name:n})=>o.h(s.default.Item,{key:t,value:t,selected:e===t},o.h("span",null,n))))}function d(e,t){return e.name.toLowerCase().includes(t.toLocaleLowerCase())}n(1931),t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedSectionId:r,sections:s,requestSections:u,onFilterChange:p}){return o.h(a.default,{dropdownProps:{class:"sectionsDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Sections",showSelectedAsLabel:!1,onChange:p,labelClass:l.default({sectionsDropdownModifiedLabel:!!r}),optionsClass:"sectionsDropdownOptions"},filterInputProps:{placeholder:"Search for a section",placeholderWidth:134,class:"sectionsFilterInput"},itemTypeName:"section",emptyText:"No section in this project yet 🤷‍♀️",loading:n,error:i,items:s,selectedId:r,requestItems:u,matchItem:d,renderItems:c})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1934);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),a=n(522),s=o(n(404)),l=o(n(1935)),c=n(249),d=o(n(1943)),u=o(n(399)),p=n(1946);n(1949);var h;!function(e){e.NEXT="next",e.PREVIOUS="previous"}(h||(h={}));const f={[h.NEXT]:1,[h.PREVIOUS]:-1};function g({width:e,scrollData:t,activities:n,selectedItemId:o,selectedEventIds:g,onSetAllAsReadClick:m,onSelect:b,onSaveScrollData:S,onToggleReadStatusClick:y,allSelected:v,autoSelect:C}){const O=a.useRef(),[E,T]=a.useState(20),[_,P]=a.useState(!1),{scrollable:j}=p.useScroll();function D(e,t){var n;o&&(null===(n=null==O?void 0:O.current)||void 0===n||n.focus()),b(e,t)}a.useLayoutEffect(()=>{o||(T(20),O.current.scrollTop=0)},[o]),a.useEffect(()=>{var e;if(E<n.length)T(E+20);else if(t){const{firstActivityId:n,offsetFromFirstActivity:i}=t,o=null!==(e=x(n))&&void 0!==e?e:0;O.current.scrollTop=i+o,S(void 0)}},[E,n.length]),a.useEffect(()=>(_?document.addEventListener("keydown",N,!0):document.removeEventListener("keydown",N,!0),()=>{document.removeEventListener("keydown",N,!0)}),[_,o,JSON.stringify(g)]),a.useEffect(()=>{var e,t;C?null===(e=null==O?void 0:O.current)||void 0===e||e.blur():o&&(null===(t=null==O?void 0:O.current)||void 0===t||t.focus())},[C,o,JSON.stringify(g)]),a.useEffect(()=>{!j||C?w():A()},[j,C]);const k=a.useMemo(()=>n.map(e=>{const t=l.default(e,{onClick:D,onToggleReadStatusClick:y,selectedActivitiyId:o,selectedEventIds:g,noFilterApplied:v}),{eventIds:n}=t;return{activity:e,eventIds:n,props:i(t,["eventIds"])}}),[n]),I=k.slice(0,Math.min(E,n.length));function R(e){const t=I.findIndex(({activity:{_id:e}})=>e===o),{activity:n,props:{subItemsProps:i}}=I[t],r=null==i?void 0:i.findIndex(({eventIds:e})=>g.every(t=>e.includes(t))&&e.length===g.length),{activity:a,props:s}=I[t+f[e]]||{},{subItemsProps:l}=s||{},{eventIds:c}=I[t+f[e]]||{};i&&i.length>1?i[r+f[e]]?b(n,i[r+f[e]].eventIds):a&&(c&&c.length>1?b(a,e!==h.NEXT&&l?c[c.length-1]:c[0]):b(a,a.events.map(({_id:e})=>e))):a&&(!c||c.length<=1)?b(a,a.events.map(({_id:e})=>e)):a&&c&&c.length>1&&b(a,l?e===h.NEXT?c[0]:c[c.length-1]:a.events.map(({_id:e})=>e))}function A(){P(!0)}function w(){P(!1)}function N(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:R(h.NEXT);break;case Zeplin.KEY_CODE.ArrowUp:R(h.PREVIOUS);break;default:t=!1}t&&e.preventDefault()}a.useEffect(()=>{var e;if(!o&&k.length){const[{props:{subItemsProps:t,onClick:n,onAutoSubItemSelect:i}}]=k;null===(e=t?i:n)||void 0===e||e()}},[o]);let L=0;for(const i of k)i.props.subItemsProps?L+=i.props.subItemsProps.filter(({unread:e})=>e).length:i.activity.markedAsRead||L++;function x(e){const t=n.findIndex(({_id:t})=>t===e);if(t<0)return null;const i=L?t+1:t,{children:o}=O.current;return o[i].offsetTop-o[0].offsetTop}return a.useEffect(()=>()=>{const{scrollTop:e}=O.current;if(e){const t=k[0].activity._id,n=e-x(t);S({offsetFromFirstActivity:n,firstActivityId:t})}},[]),r.h("div",{ref:O,class:u.default("activityList",{noUpdate:0===L,scrollDisabled:!j}),tabIndex:0,onFocus:A,onBlur:w,style:{width:e+60}},L>0&&r.h("div",{class:"updateBar",style:{width:e}},r.h("span",{class:"emoji"},"🐝"),r.h("span",{class:"infoText ellipsis"},"You got ",c.pluralize(L,"new update"),"."),r.h(s.default,{class:"markAsReadButton",ninja:!0,onClick:m},"Mark as read")),I.map(({activity:t,props:n})=>{var i;return r.h(d.default,Object.assign({key:t._id,width:e,autoSelect:C,subItemSelected:null===(i=n.subItemsProps)||void 0===i?void 0:i.some(({selected:e})=>e)},n))}))}t.default=function(e){return r.h(p.ScrollProvider,null,r.h(g,Object.assign({},e)))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(1936)),a=i(n(1939)),s=n(248),l=i(n(263)),c=n(1942),d=i(n(866)),u=n(249);t.default=function(e,t){var n,i,p;const{events:h,markedAsRead:f,actionName:g,updated:m}=e,[b]=h,{selectedActivitiyId:S,selectedEventIds:y,onClick:v,onToggleReadStatusClick:C,noFilterApplied:O}=t;let E,T,_,P,j,D,k,I=f,R=()=>H([h[0]._id]);const A=h.length>1;let w=A;const{source:N,project:L,styleguide:x,screen:M,dot:U,organization:B}=e.params,z=L||b.project?l.default.PROJECT:l.default.STYLEGUIDE,V=null!==(i=null!==(n=null!=L?L:x)&&void 0!==n?n:b.project)&&void 0!==i?i:b.styleguide,W=[d.default.UpdateOrganizationMemberRole,d.default.InviteMember,d.default.RemindVerification,d.default.VerifyUser];if(V&&!W.includes(g)){const e=s.getPlatformString(V.type);P={barrelName:V.name,platform:e}}function F(e){return e.length>1?e.map(e=>e.username).join(", "):e[0].username}function H(t){v(e,t)}function G(e){return t=>{t.stopPropagation(),H(e)}}function $(t){return()=>C(e,t)}function q({getSubItemContent:e,getMultipleItemContent:t,getSingleItemContent:n}){let i,o;return A?(i=h.map(t=>function({markedAsRead:e,_id:t},n){return{eventIds:[t],unread:!e,selected:t===y[0],onClick:function(e){e.stopPropagation(),H([t])},onToggleReadStatusClick:$([t]),children:n}}(t,e(t))),t?(o=t(),{subItemsProps:i,content:o}):{subItemsProps:i}):(o=n(),{content:o})}function Z(e){if(!A)return e}switch(g){case d.default.AddProjectExtension:case d.default.AddStyleugideExtension:{const{extension:e}=b;E=N.username+" added an extension",T=e.name,_=[N];break}case d.default.ActivateProject:case d.default.ActivateStyleguide:E=`${N.username} activated a ${z}`,T=b[z].name,_=[N];break;case d.default.ArchiveProject:case d.default.ArchiveStyleguide:E=`${N.username} archived a ${z}`,T=b[z].name,_=[N];break;case d.default.AuthProjectSlack:case d.default.AuthStyleguideSlack:E=`${N.username} connected ${b[z].name} to Slack channel`,T=e.content,_=[N];break;case d.default.CreateProjectComponent:case d.default.CreateStyleguideComponent:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} added ${u.pluralize(h.length,"component",{one:"a"})}`,_=[N];break}case d.default.CreateProjectComponentVersion:case d.default.CreateStyleguideComponentVersion:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} updated ${u.pluralize(h.length,"component",{one:"a"})}`,_=[N];break}case d.default.CreateProjectColor:case d.default.CreateStyleguideColor:T=Z("#"+b.color.name),E=`${N.username} added ${u.pluralize(h.length,"color",{one:"a"})}`,_=[N];break;case d.default.CreateDot:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),_=Object.values(e);E=`${F(_)} added ${u.pluralize(h.length,"note",{one:"a"})}`;const t=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(r.default,{color:n,title:"Note "+t,description:i})},n=()=>{const{name:e,color:t,note:n}=Object.assign({},b.dot);return o.h(r.default,{color:t,title:"Note "+e,description:n})},i=()=>o.h("span",{class:"bold"},M.name);({subItemsProps:j,content:T}=q({getSubItemContent:t,getMultipleItemContent:i,getSingleItemContent:n}));break}case d.default.CreateDotMention:{const{name:e,color:t,note:n}=Object.assign({},b.dot),{source:i}=b;E=i.username+" mentioned you on",T=o.h(r.default,{color:t,title:"Note "+e,description:n}),_=[i];break}case d.default.CreateDotCommentMention:{const{source:e,comment:t}=b,{name:n,color:i}=U;E=e.username+" mentioned you on",T=o.h(r.default,{color:i,title:"Note "+n,description:t.note}),_=[e];break}case d.default.CreateDotComment:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),_=Object.values(e),E=_.length>1&&A?_.length>6?`${_.slice(0,6).map(e=>e.username).join(", ")} and ${_.length-6}${_.length>1?"+":""} member${_.length>1?"s":""} had a conversation on`:_.map(e=>e.username).join(", ")+" had a conversation on":`${_[0].username} ${A?`added ${h.length} replies to`:"replied to"}`;const{name:t,color:n}=Object.assign({},U);w=!1;const i=h.map(({_id:e})=>e);D=()=>H(i),T=o.h(r.default,{color:n,title:`Note ${t} - ${M.name}`});break}case d.default.CreateScreen:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} added ${u.pluralize(h.length,"screen",{one:"a"})}`,_=[N];break}case d.default.CreateScreenVersion:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t}));const n=new Set;h.forEach(e=>{n.add(e.screen._id)}),E=`${N.username} added ${h.length>1?"versions":"a version"} to ${u.pluralize(n.size,"screen",{one:"a"})}`,_=[N];break}case d.default.CreateProjectTextStyle:case d.default.CreateStyleguideTextStyle:T=Z(b.textStyle.name),E=`${N.username} added ${u.pluralize(h.length,"text style",{one:"a"})}`,_=[N];break;case d.default.DeleteProjectColor:case d.default.DeleteStyleguideColor:T=Z("#"+b.color.name),E=`${N.username} removed ${u.pluralize(h.length,"color",{one:"a"})}`,_=[N];break;case d.default.DeleteProjectComponent:case d.default.DELETE_STYLEGUIDE_COMPONENT:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.component.name),t=()=>b.component.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} removed ${u.pluralize(h.length,"component",{one:"a"})}`,_=[N];break}case d.default.DeleteScreen:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e.screen.name),t=()=>b.screen.name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} removed ${u.pluralize(h.length,"screen",{one:"a"})}`,_=[N];break}case d.default.DeleteProject:case d.default.DeleteStyleguide:{const e=b[z].name;E=`${N.username} deleted a ${z}`,T=e,_=[N];break}case d.default.DeleteProjectTextStyle:case d.default.DeleteStyleguideTextStyle:T=Z(b.textStyle.name),E=`${N.username} removed ${u.pluralize(h.length,"text style",{one:"a"})}`,_=[N];break;case d.default.RemoveExtensionFromProject:case d.default.RemoveExtensionFromStyleguide:{const{extension:e}=b;E=N.username+" removed an extension",T=e.name,_=[N];break}case d.default.ResolveDot:{const e={};h.forEach(t=>{t.source&&!e[t.source._id]&&(e[t.source._id]=t.source)}),_=Object.values(e);E=`${F(_)} resolved ${u.pluralize(h.length,"note",{one:"a"})}`;const t=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(r.default,{color:n,title:"Note "+t,description:i})},n=()=>{const{name:e,color:t}=Object.assign({},b.dot);return o.h(r.default,{color:t,title:`Note ${e} - ${M.name}`})},i=()=>o.h("span",{class:"bold"},M.name);({subItemsProps:j,content:T}=q({getSubItemContent:t,getMultipleItemContent:i,getSingleItemContent:n}));break}case d.default.UpdateOrganizationMemberRole:{const e=h[h.length-1],t=e.user.role,n=e.source;E=`${n.username} assigned you as ${t&&c.roleMap[t].name}`,T=B.name,_=[n];break}case d.default.UpdateProjectColor:case d.default.UpdateStyleguideColor:T=Z("#"+b.color.name),E=`${N.username} updated ${u.pluralize(h.length,"color",{one:"a"})}`,_=[N];break;case d.default.UpdateProjectUserRole:case d.default.UpdateStyleguideUserRole:{const e=e=>o.h(r.default,{title:e[z].name}),t=()=>b[z].name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=N.username+" assigned you as an admin on",_=[N];break}case d.default.UpdateProjectTextStyle:case d.default.UpdateStyleguideTextStyle:T=Z(b.textStyle.name),E=`${N.username} updated ${u.pluralize(h.length,"text style",{one:"a"})}`,_=[N];break;case d.default.UserJoined:case d.default.ProjectUserJoined:case d.default.StyleguideUserJoined:{const t={};h.forEach(e=>{e.member&&!t[e.member._id]&&(t[e.member._id]=e.member)}),_=Object.values(t);E=F(_)+" joined",T=e.params[z].name;break}case d.default.RemoveUserFromProject:case d.default.RemoveUserFromStyleguide:{const e=b[z].name;E=N.username+" removed you from",T=e,_=[N];break}case d.default.InviteMember:E=N.username+" invited you to",T=B.name,_=[N];break;case d.default.InviteProjectUser:case d.default.InviteStyleguideUser:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e[z].name),t=()=>b[z].name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=N.username+" invited you to",_=[N];break}case d.default.TransferProjectOwnership:case d.default.TransferStyleguideOwnership:{const e=e=>o.h("span",{class:"bold ellipsis shrink"},e[z].name),t=()=>b[z].name;({subItemsProps:j,content:T}=q({getSubItemContent:e,getSingleItemContent:t})),E=`${N.username} transfered ${u.pluralize(h.length,"ownership",{one:"an"})} to you`,_=[N];break}case d.default.CreateProjectSpacingToken:case d.default.CreateStyleguideSpacingToken:T=Z("$"+b.spacingToken.token),E=`${N.username} added ${u.pluralize(h.length,"spacing token",{one:"a"})}`,_=[N];break;case d.default.UpdateProjectSpacingToken:case d.default.UpdateStyleguideSpacingToken:T=Z("$"+b.spacingToken.token),E=`${N.username} updated ${u.pluralize(h.length,"spacing token",{one:"a"})}`,_=[N];break;case d.default.DeleteProjectSpacingToken:case d.default.DeleteStyleguideSpacingToken:T=Z("$"+b.spacingToken.token),E=`${N.username} removed ${u.pluralize(h.length,"spacing token",{one:"a"})}`,_=[N];break;case d.default.RemindVerification:case d.default.VerifyUser:E=e.content,_=[N];break;case d.default.AttachProjectToJiraIssue:case d.default.AttachSectionToJiraIssue:case d.default.AttachScreenToJiraIssue:case d.default.RemoveProjectJiraIssueAttachment:case d.default.RemoveSectionJiraIssueAttachment:case d.default.RemoveScreenJiraIssueAttachment:{const e=[d.default.AttachProjectToJiraIssue,d.default.AttachSectionToJiraIssue,d.default.AttachScreenToJiraIssue];let t;k=[],t=e.includes(g)?{name:"attached",preposition:"to"}:{name:"removed",preposition:"from"};const n=new Map;if(h.forEach(e=>{const{jiraAttachment:t,_id:i,markedAsRead:o}=e;n.get(t.itemName)||n.set(t.itemName,[]);const r=n.get(t.itemName);r.push({eventId:i,markedAsRead:o,text:t.issueKey,link:`${t.deploymentUrl}/browse/${t.issueKey}`}),n.set(t.itemName,r)}),n.size>1){j=[];let e=0;n.forEach(t=>{e+=t.length}),R=()=>H(n.values().next().value.map(({eventId:e})=>e)),n.forEach((e,n)=>{const i=e.every(e=>e.markedAsRead),r=e.map(({eventId:e})=>e),s=r.length===y.length&&y.every(e=>r.includes(e));k.push(r),j.push({eventIds:r,unread:!i,selected:s,onClick:G(r),onToggleReadStatusClick:$(r),children:o.h(a.default,{item:n,actionText:`is ${t.name} ${t.preposition}`,jiraIssues:e})})}),E=`${N.username} ${t.name} ${n.size} ${h[0].jiraAttachment.type}s with ${e} Jira issues.`}else{w=!1,T=b.jiraAttachment.itemName,I=h.every(e=>e.markedAsRead);const e=n.get(b.jiraAttachment.itemName),i=e.map(({eventId:e})=>e);k.push(i),E=o.h("div",{class:"jiraIssueTitle"},N.username," ",t.name," Jira Issue ",e.map(({link:e,text:t},n)=>o.h(o.Fragment,null,n>0&&o.h("span",null,", "),o.h("a",{href:e,class:"jiraIssueLink",target:"_blank",rel:"noopener"},t)))," ",t.preposition)}_=[N];break}default:throw new Error("Unknown activity type")}return{eventIds:k||(null===(p=e.events)||void 0===p?void 0:p.map(({_id:e})=>[e])),unread:!I,title:E,content:T,updated:m,onClick:D||function(){v(e,e.events.map(({_id:e})=>e))},onAutoSubItemSelect:j&&R,onToggleReadStatusClick:$(),users:_,barrelInfo:P,subItemsProps:j,multipleEvents:w,withBarrelInfo:O,selected:S===e._id&&!j}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1937);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399)),a=i(n(914)),s=n(328);function l(e){const t=/@\w+\b/g;return e?e.match(t)?null==e?void 0:e.replace(t,e=>`<span class="user">${e}</span>`):e:""}n(1938),t.default=function({color:e,title:t,description:n}){return o.h("div",{class:r.default("activityItemInfo",{noDescription:!n})},e&&o.h(a.default,{color:s.getColorName(e)}),o.h("span",{class:"noteTitle ellipsis"},t),o.h("div",{class:"noteDescription ellipsis",dangerouslySetInnerHTML:{__html:l(n)}}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1940);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1941),t.default=function({item:e,actionText:t,jiraIssues:n}){return i.h("div",{class:"activityJiraIntegrationInfo"},i.h("span",{class:"bold"},e),i.h("span",{class:"action"},t),n.map(({text:e,link:t},n)=>i.h(i.Fragment,null,n>0&&i.h("span",null,", "),i.h("a",{href:t,class:"jiraIssueLink",target:"_blank",rel:"noopener"},e))))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roleMap=void 0,t.roleMap={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1944);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(612)),s=i(n(399)),l=i(n(938)),c=n(247),d=i(n(1945)),u=i(n(880)),p=n(1946);n(1948),t.default=function({width:e,unread:t,title:n,content:i,barrelInfo:h,users:f,subItemsProps:g,updated:m,onClick:b,onAutoSubItemSelect:S,onToggleReadStatusClick:y,selected:v,withBarrelInfo:C,multipleEvents:O,subItemSelected:E,autoSelect:T}){const _=s.default("activityItem",{multipleEvents:O,selected:v,selectable:!g}),P=r.useRef(),[j,D]=r.useState(null),{disableScroll:k,enableScroll:I}=p.useScroll(),{barrelName:R,platform:A}=Object.assign({},h);function w(){var e;(null===(e=null==P?void 0:P.current)||void 0===e?void 0:e.parentElement)&&!c.isElementVisible(P.current,P.current.parentElement)&&P.current.clientHeight<=P.current.parentElement.clientHeight&&c.scrollIfNecessary(P.current,{offset:4})}function N(){I(),D(null)}r.useEffect(()=>{v&&!T&&w()},[v,T]),r.useEffect(()=>{E&&w()},[E]);const L=!!P.current&&!!P.current.parentElement&&P.current.clientHeight>P.current.parentElement.clientHeight;return o.h("button",{class:_,style:{width:e},ref:P,onClick:function(){g&&S?S():b()},onContextMenu:function(e){e.preventDefault(),k(),D({x:e.clientX,y:e.clientY})}},t&&!g&&o.h("div",{class:"unreadActivityIndicator"}),o.h("div",{class:"activityItemTitle"},n),!!i&&o.h("div",{class:"activityContent"},i),C&&h&&o.h("div",{class:"activityBarrelInfo"},o.h("div",{class:"barrelName ellipsis",title:R},R),o.h("span",{class:"dotSeparator"}),o.h("div",{class:"platform"},A)),o.h("div",{class:"activityItemFooter"},o.h(l.default,{currentMemberRole:"user",members:null==f?void 0:f.map(e=>({user:e})),class:"activityMembers",remainingMembersClass:"activityRemainingMembers",avatarSize:24,stacked:!0}),o.h(a.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:m})),g&&o.h("div",{class:"activitySubItems"},g.map(({eventIds:e,unread:t,selected:n,onClick:i,onToggleReadStatusClick:r,children:a})=>{var s;return o.h(d.default,{key:e[0],unread:t,selected:n,onClick:i,onToggleReadStatusClick:r,listContainer:null===(s=null==P?void 0:P.current)||void 0===s?void 0:s.parentElement,parentItemOverflow:L},a)})),function(){if(P.current&&j)return o.h(u.default.withAutoPosition,{onClose:N,autoPosition:{limitingElement:".activityDetailsContainer",menuContainer:P.current,clickOrigin:j}},o.h(u.default.Item,{onClick:y},"Mark as "+(t?"read":"unread")))}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(399)),s=i(n(880)),l=n(1946),c=n(247);n(1947),t.default=function({children:e,selected:t,onClick:n,onToggleReadStatusClick:i,unread:d,nonSelectable:u,parentItemOverflow:p,listContainer:h}){const f=r.useRef(),[g,m]=r.useState(null),{disableScroll:b,enableScroll:S}=l.useScroll();function y(){S(),m(null)}return r.useEffect(()=>{var e;t&&p&&!c.isElementVisible(f.current,h)&&(null===(e=null==f?void 0:f.current)||void 0===e||e.scrollIntoView())},[t]),o.h("button",{ref:f,class:a.default("activitySubItem",{selected:t,nonSelectable:u}),onClick:n,onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),b(),m({x:e.clientX,y:e.clientY})}},o.h(o.Fragment,null,d&&o.h("div",{class:"unreadActivityIndicator"}),e,function(){if(f.current&&g)return o.h(s.default.withAutoPosition,{onClose:y,autoPosition:{limitingElement:".activityDetailsContainer",menuContainer:f.current,clickOrigin:g}},o.h(s.default.Item,{onClick:i},d?"Mark as read":"Mark as unread"))}()))}},function(e,t,n){"use strict";n.r(t),n.d(t,"ScrollProvider",(function(){return s})),n.d(t,"useScroll",(function(){return l})),n.d(t,"withScrollHook",(function(){return c}));var i=n(4),o=n(522);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const a=i.createContext();function s(e){const[t,n]=Object(o.useState)(!0),r={scrollable:t,enableScroll:()=>{n(!0)},disableScroll:()=>{n(!1)}};return i.h(a.Provider,{value:r},e.children)}const l=()=>Object(o.useContext)(a),c=Component=>function(e){const t=l();return i.h(Component,r({},e,{scrollHookValue:t}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1951);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=i(n(864)),s=i(n(274)),l=n(442),c=i(n(1952)),d=i(n(1954)),u=i(n(1957)),p=i(n(1958)),h=i(n(1961)),f=i(n(259));n(1970);t.default=function({width:e,activity:t,events:n=[],dot:i,dotSnapshot:g,dotError:m,onToggleReadStatusClick:b,onToggleDotStatusClick:S,onAddDotCommentClick:y,onActivitiesNavigationClick:v}){const C=.5*e,O=r.useRef(),E=u.default.getDetails(t,n[0]),T=a.default.getCategory(t),_=T===s.default.Note?g:null==E?void 0:E.snapshot,P=(null==E?void 0:E.title)&&(T!==s.default.Note||!m),j=n.length>0?n.every(({markedAsRead:e})=>e):null==t?void 0:t.markedAsRead;function D(){const{status:e}=i;f.default({text:"resolved"===e?"Note reopened":"Note resolved",container:O.current,source:"dotStatus"}),S()}function k(){f.default({text:j?"Marked as unread":"Marked as read",container:O.current,source:"readStatus"}),b(t,n.map(({_id:e})=>e))}return o.h("div",{ref:O,class:"activityDetailsContainer",style:{width:e+12}},o.h("div",{class:"activityDetails",style:{width:e+36}},function(){if(!(null==E?void 0:E.title))return null;const{title:e,typeName:t,link:n}=E;return o.h("div",{class:"activityHeader"},o.h("span",{class:"title ellipsis"},e),o.h("a",{class:"link",onClick:v,"data-back":"Notifications","data-link-type":"inApp",href:n},"Go to ",t,o.h(l.IconSlimArrowRight,{class:"arrow"})))}(),P?o.h(p.default,{width:e,height:C,snapshot:_,category:T,dot:i}):null,(null==E?void 0:E.title)&&T!==s.default.Screen&&!m?null:o.h(d.default,{width:e,height:C,activity:t,markedAsRead:j,details:E,category:T,onToggleReadStatusClick:k}),T===s.default.Note&&i?o.h(h.default,{activity:t,event:n[0],markedAsRead:j,dot:i,onToggleDotStatusClick:D,onToggleReadStatusClick:k,onAddCommentClick:y}):null,T===s.default.Styleguide&&P?o.h(c.default,{class:"toggleReadStatusButtonForComponents",markedAsRead:j,onClick:k}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1953);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399));t.default=function({class:e,markedAsRead:t,onClick:n}){return o.h("button",{type:"button",class:r.default("button","primary",e),onClick:n},t?"Mark as Unread":"Mark as Read")}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1955);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(274)),a=i(n(399)),s=i(n(1952));n(1956),t.default=function({width:e,height:t,activity:n,markedAsRead:i,details:l,category:c,onToggleReadStatusClick:d}){let u,p,h,f,g,m={width:e,height:t};if(c===r.default.Screen&&l){const{content:e}=n;u="commitInfo",p=!e,h="Commit message",g=e||"No commit message",m={}}else c===r.default.Note?(u="otherActivityInfo",p=!1,h="Note not available anymore",g="It was probably deleted, please contact the author."):(u="otherActivityInfo",p=!1,h="No preview",f=null==l?void 0:l.link,g=(null==l?void 0:l.typeName)?`Head to the styleguide to view the new ${l.typeName}${n.events.length>1?"s":""}.`:"This notification does not have a preview.");return o.h("div",{class:"activityDetailsInfo "+u,style:m},o.h("span",{class:"title"},h),o.h("span",{class:a.default("description",{grayedOut:p})},g),o.h("div",{class:"buttons"},f&&o.h("a",{class:"button secondary inlineLink","data-back":"Notifications","data-link-type":"inApp",href:f},"Go to Styleguide"),o.h(s.default,{markedAsRead:i,onClick:d})))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(245);function o({project:e,styleguide:t},n,o,r){const a=e?n:o,{_id:s}=null!=e?e:t;return{typeName:r,link:i.urlResolve(a,{url:{bid:s}})}}function r(e,t,n){var o,r,a,s,l,c;const{params:d}=e,{_id:u}=d.project,{_id:p,name:h}=null!==(o=t.screen)&&void 0!==o?o:d.screen,f=n?null===(a=null!==(r=t.dot)&&void 0!==r?r:d.dot)||void 0===a?void 0:a._id:void 0,g=(null==n?void 0:n.showComment)?null===(s=t.comment)||void 0===s?void 0:s._id:void 0;return{title:h,typeName:"screen",link:i.urlResolve("project-screen",{url:{pid:u,sid:p},query:{did:f,cmid:g}}),snapshot:null===(c=null===(l=t.screen)||void 0===l?void 0:l.latestVersion)||void 0===c?void 0:c.snapshotFragment}}t.default={getDetails:function(e,t){const{params:n}=e;switch(e.actionName){case"CreateProjectComponent":case"CreateStyleguideComponent":case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const{project:e,styleguide:o}=n,r=e?"project-styleguide-components":"styleguide-components",{_id:a}=null!=e?e:o,{_id:s,name:l,latestVersion:c}=t.component;return{title:l,typeName:"component",link:i.urlResolve(r,{url:{bid:a},query:{coid:s}}),snapshot:null==c?void 0:c.snapshotFragment}}case"CreateProjectColor":case"CreateStyleguideColor":case"UpdateProjectColor":case"UpdateStyleguideColor":return o(n,"project-styleguide-colors","styleguide-colors","color");case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":return o(n,"project-styleguide-textstyles","styleguide-textstyles","text style");case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":return o(n,"project-styleguide-spacing","styleguide-spacing","spacing token");case"CreateDot":case"ResolveDot":case"CreateDot-Mention":return r(e,t,{showComment:!1});case"CreateDotComment-Mention":case"CreateDotComment":return r(e,t,{showComment:!0});case"CreateScreen":case"CreateScreenVersion":return r(e,t);default:return}}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1959);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(274)),a=n(917),s=i(n(399)),l=i(n(1448));n(1960);t.default=function({width:e,height:t,snapshot:n,category:i,dot:c}){const d=i!==r.default.Note&&!n,{url:u,width:p,height:h}=Object.assign({},n),f=(e-2)/638,g={};if(n&&i===r.default.Note&&c){let e=p,t=h;(e>638||t>318)&&(e*=.8,t*=.8);const n=319-Math.round(c.x*e),i=159-Math.round(c.y*t);g.left=Math.round(n*f),g.top=Math.round(i*f),g.width=Math.round(e*f),g.height=Math.round(t*f)}else if(n&&i===r.default.Styleguide)g.maxHeight=Math.min(h,Math.round(218*f)),g.maxWidth=Math.min(p,Math.round(508*f));else if(n&&i===r.default.Screen){h*(Math.min(p,508)/p)>268*f&&(g.top=Math.round(50*f)),g.maxWidth=Math.min(p,Math.round(508*f))}const m=!function(e){return 0===Object.keys(e).length}(g);return o.h("div",{class:s.default("activityPreview",{noPreview:d}),style:{width:e,height:t}},n&&m&&o.h(l.default.Image,{key:u,class:"image",url:u,style:g}),d&&o.h("span",{class:"noPreviewLabel"},"No preview"),c&&n&&m&&o.h("div",{class:s.default("staticDot",{resolved:"resolved"===c.status}),style:{backgroundColor:new a.Color(c.color).toCSS()}},c.name))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1962);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(522),a=n(1301),s=i(n(1336)),l=n(1963),c=n(1964),d=n(1965),u=i(n(1952)),p=i(n(866)),h=i(n(1966));n(1969);t.default=function({activity:e,event:t,markedAsRead:n,dot:i,onToggleDotStatusClick:f,onToggleReadStatusClick:g,onAddCommentClick:m}){var b;const[S,y]=r.useState(!1),[v,C]=r.useState([]),[O,E]=r.useState(!1),T=r.useRef(),_=r.useRef(),P=r.useRef(),j=d.usePrevious([...i.comments]);function D(){if(_.current){const e=_.current,t=T.current,n=t.parentElement;let i=0;const o=n.offsetHeight-t.offsetTop;Array.from(t.children).forEach(t=>{t!==e&&(i+=t.scrollHeight)});const r=i+87,a=i+e.scrollHeight;y(r<o&&a>o)}}r.useEffect(()=>{var e;j&&i.comments.length-j.length==1&&j.every((e,t)=>e===i.comments[t])&&(C([]),null===(e=_.current)||void 0===e||e.children[i.comments.length-1].scrollIntoView())},[i.comments.length]),c.useResize(null===(b=P.current)||void 0===b?void 0:b.base,D),l.useWindowEventListener("resize",D),r.useEffect(D),r.useEffect(()=>{switch(e.actionName){case p.default.CreateDotComment:C(e.events.map(({comment:e})=>e._id));break;case p.default.CreateDotCommentMention:case p.default.CreateDotMention:case p.default.CreateDot:C([t.comment._id]);break;default:C([])}E(!0)},[t]),r.useEffect(()=>{var e;if(O){const t=i.comments.findIndex(({_id:e})=>v.includes(e)),n=-1!==t?t:0;null===(e=_.current)||void 0===e||e.children[n].scrollIntoView(),E(!1)}},[O]);const{_id:k,comments:I,status:R}=i,A="open"===R;r.useEffect(()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.cancelEdit()},[k,R]);const w=S?{flex:"1 1 87px","border-bottom":"1px solid var(--karl)"}:{};function N(e){C(v.filter(t=>t!==e))}return o.h("div",{ref:T,class:"noteDetails"},o.h("div",{ref:_,class:"comments",style:w},I.map(e=>o.h(h.default,{key:e._id,comment:e,highlighted:v.includes(e._id),onHover:N}))),A&&o.h(s.default,{ref:P,containerClass:"newCommentContainer",class:"newComment",placeholder:"Reply",formatter:a.formatComment,maxLength:1024,readOnly:!A,onSubmit:m,resetOnSubmit:!0,autoEdit:!0,showEmojiAutoComplete:!0,showUserAutoComplete:!0,pid:e.params.project._id}),o.h("div",{class:"buttons"},o.h("button",{type:"button",class:"button secondary resolve",onClick:f},A?"Resolve":"Reopen"),o.h(u.default,{markedAsRead:n,onClick:g})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowEventListener=void 0;const i=n(522);t.useWindowEventListener=function(e,t){i.useEffect(()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResize=void 0;const i=n(522);t.useResize=function(e,t){const n=i.useRef(null);i.useEffect(()=>{var i;return null===(i=n.current)||void 0===i||i.disconnect(),n.current=new ResizeObserver(t),e&&n.current.observe(e),()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.disconnect()}},[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;const i=n(522);t.usePrevious=function(e){const t=i.useRef();return i.useEffect(()=>{t.current=e}),t.current}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1967);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(399)),a=n(247),s=i(n(527)),l=i(n(612)),c=i(n(622)),d=i(n(615)),u=n(624);n(1968);const p=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING];t.default=function({comment:{_id:e,author:t,created:n,note:i},highlighted:u,onHover:h}){var f;return o.h("div",{key:e,class:r.default("comment",{highlighted:u}),onMouseEnter:function(){h(e)}},o.h("div",{class:"commentHeader"},o.h(d.default,{member:{user:t}},o.h(s.default,{class:"memberRowAvatar",src:a.getUserAvatar(t).src,size:24})),o.h("span",{class:"authorName ellipsis"},null!==(f=t.fullName)&&void 0!==f?f:t.username),o.h(l.default,{type:"time-ago",format:"micro",class:"date",datetime:n}))," ",o.h(c.default,{disabledFeatures:p},i))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1972);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(245),a=n(247),s=n(232),l=i(n(431)),c=i(n(573));function d(){a.openLink("mailto:beta@zeplin.io?subject=Notifications Feedback",{inNewTab:!1})}n(1973),t.default=function({oid:e,minimize:t}){const n="user"===e?r.urlResolve(s.WorkspaceTabs.PROJECTS):r.urlResolve("workspace-"+s.WorkspaceTabs.PROJECTS,{url:{oid:e}});return o.h(c.default,{class:"activitiesWelcomeMessage",emoji:"💁‍♀️",actionContent:"Share feedback",onActionClick:d,onHideClick:t,hideButtonText:"Got it!"},o.h("span",{class:"content"},o.h("strong",null,"New notifications experience (Prerelease): "),"Quickly find the notifications most important to you and take action without losing context. If you need to, you can ",o.h("a",{"data-link-type":"inApp",class:"button ninja oldExperience",onClick:()=>{l.default.switchToOldNotificationExperience()},href:n},"switch back")," to the old notifications experience."))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(273)),r=i(n(271)),a=i(n(263)),s={select(e,t){const{selectedId:n,selectedEventIds:i}=r.default.ActivitiesViewStore.getState(),a=!n,s=n===e._id&&i.every(e=>t.includes(e))&&t.length===i.length;r.default.dispatcher.dispatch({type:o.default.Select,activity:e,eventIds:t,options:{reselect:s,autoSelect:a}})},setDotsLoaded(e){r.default.dispatcher.dispatch({type:o.default.SetDotsLoaded,activity:e})},selectCategory(e){r.default.ActivitiesViewStore.getState().category!==e&&r.default.dispatcher.dispatch({type:o.default.SelectCategory,category:e})},selectAllBarrels(){"all"!==r.default.ActivitiesViewStore.getState().barrelSelection.type&&r.default.dispatcher.dispatch({type:o.default.SelectAllBarrels})},selectBarrel(e,t,n){const{barrelSelection:i}=r.default.ActivitiesViewStore.getState();(i.type!==t||i.id!==e||i.type!==a.default.STYLEGUIDE&&i.isPinned!==n)&&r.default.dispatcher.dispatch({type:o.default.SelectBarrel,id:e,isPinned:n,barrelType:t})},setProjectsWithUpdatesOnly(e){r.default.dispatcher.dispatch({type:o.default.SetProjectsWithUpdatesOnly,projectsWithUpdatesOnly:e})},load({oid:e,sidebarWidth:t,notificationWelcomeMessageMinimized:n}){r.default.dispatcher.dispatch({type:o.default.Load,data:{selectedOrganizationId:e,sidebarWidth:t,notificationWelcomeMessageMinimized:n}})},selectNoteStatusFilterType(e){r.default.ActivitiesViewStore.getState().noteStatusFilterType!==e&&r.default.dispatcher.dispatch({type:o.default.SelectNoteStatusFilterType,noteStatusFilterType:e})},selectColor(e){r.default.ActivitiesViewStore.getState().color!==e&&r.default.dispatcher.dispatch({type:o.default.SelectColor,color:e})},selectMember(e){r.default.ActivitiesViewStore.getState().memberId!==e&&r.default.dispatcher.dispatch({type:o.default.SelectMember,memberId:e})},selectSection(e){r.default.ActivitiesViewStore.getState().sectionId!==e&&r.default.dispatcher.dispatch({type:o.default.SelectSection,sectionId:e})},requestRelatedUsers(e,t){r.default.dispatcher.dispatch({type:o.default.RequestRelatedUsers,oid:e,uid:t})},setSidebarWidth(e){r.default.dispatcher.dispatch({type:o.default.SetSidebarWidth,sidebarWidth:e})},setNotificationWelcomeMessageMinimized(e){r.default.dispatcher.dispatch({type:o.default.SetNotificationWelcomeMessageMinimized,notificationWelcomeMessageMinimized:e})},saveListScrollData(e){e&&"activities"===r.default.AppStore.getState().page||r.default.dispatcher.dispatch({type:o.default.SaveListScrollData,listScrollData:e})}};t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1976);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(232),a=i(n(263)),s=i(n(399)),l=i(n(400)),c=i(n(1131));function d(e,t){return e.projects.map(e=>({id:e._id,title:e.name,children:[],content:o.h(u,{name:e.name,type:e.type,hasUpdate:e.hasUpdate,hasMention:e.hasMention,selected:t===e.id})}))}function u({name:e,type:t,selected:n,hasUpdate:i,hasMention:a,root:l}){const c=s.default("nodeItem",{selected:n,hasUpdate:i,root:l,hasMention:a});return o.h("div",{class:c},o.h("div",{class:"activityNodeName"},o.h("span",{class:"name ellipsis"},e),t&&o.h("span",null,", ",o.h("span",{class:"type"},r.PlatformString[t])),a&&o.h("div",{class:"mentionDot"})))}n(1977),t.default=function({allSelected:e,projectsWithUpdatesOnly:t,sections:n,styleguides:i,selectAll:r,selectBarrel:p,onProjectsWithUpdatesOnlyChange:h,projectId:f,isSelectedProjectPinned:g,styleguideId:m,pinnedProjectIds:b,selectedOrganizationId:S}){function y(e){p(e,a.default.STYLEGUIDE)}function v(e){e.match(/pinned-/g)?p(e.replace("pinned-",""),a.default.PROJECT,!0):p(e,a.default.PROJECT)}return o.h("div",{class:"activityBarrels"},o.h("span",{class:s.default("allBarrelsItem",{selected:e}),title:"All Projects and Styleguides",onClick:r},"All Projects and Styleguides"),function(){let t;e||(t=g?"pinned-"+f:f);const i=function(e,t,n,i){const r={id:"pinnedProjects",title:"Pinned Projects",children:[],nonSelectable:!0,expandOnClick:!0,content:o.h(u,{name:"Pinned Projects",selected:!1})},a="user"===n?"Projects":"Joined Projects",s={id:"joinedProjects",title:a,nonSelectable:!0,expandOnClick:!0,content:o.h(u,{name:a,root:!0,selected:!1}),children:"user"===n?d(e[0],i):e.map(e=>({id:e._id,title:e.name,nonSelectable:!0,expandOnClick:!0,content:o.h(u,{name:e.name,selected:i===e._id}),children:d(e,i)})).filter(e=>e.children.length>0)};if(null==e||e.forEach(e=>{var n;null===(n=null==e?void 0:e.projects)||void 0===n||n.forEach(e=>{if(null==t?void 0:t.includes(e._id)){const t={id:"pinned-"+e._id,title:e.name,children:[],content:o.h(u,{name:e.name,type:e.type,hasUpdate:e.hasUpdate,hasMention:e.hasMention,selected:i===e.id})};r.children.push(t)}})}),r.children.length>0&&(s.children=[r,...s.children]),0!==s.children.length)return s}(n,b,S,t);return i&&o.h(c.default,{class:"projectsTree",tree:[i],selectedNodeId:t,onNodeSelect:v})}(),o.h("label",{class:"showProjectsWithUpdatesOnly"},o.h(l.default,{checked:t,onChange:function(e){h(e.target.checked)}}),o.h("span",{class:"label ellipsis",title:"Only show Projects with updates"},"Only show Projects with updates")),function(){const e=function(e,t,n){if(0===e.length)return;const i={},r="user"===t?"Styleguides":"Joined Styleguides";return i.root={id:"joinedStyleguides",title:r,children:[],nonSelectable:!0,content:o.h(u,{name:r,root:!0,selected:!1})},e.forEach(e=>{const t={id:e.id,title:e.name,children:[],content:o.h(u,{name:e.name,type:e.type,hasUpdate:e.hasUpdate,selected:n===e.id})};i[t.id]=t}),e.forEach(e=>{var t;if(e.parent&&i[e.parent]){const n=i[e.id],o=i[e.parent];null===(t=null==o?void 0:o.children)||void 0===t||t.push(n)}else i.root.children.push(i[e.id])}),i.root}(i,S,m);return e&&o.h(c.default,{class:"styleguideTree",tree:[e],selectedNodeId:m,onNodeSelect:y})}())}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1979);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1980);t.default=function(){const e=(window.innerHeight||0)-52-36,t=Math.ceil(Math.max(0,e)/112),n=new Array(t);return n.fill(i.h("div",{class:"dummyItem"}),0),i.h("div",{class:"activitiesLoadingPage"},i.h("div",{class:"leftPanel"}),i.h("div",{class:"middlePanel"},n),i.h("div",{class:"rightPanel"},i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1982);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=i(n(274)),a=i(n(263)),s=i(n(404));n(1983),t.default=function(e){const{emoji:t,info:n}=function({barrelType:e,category:t,notInvitedToStyleguide:n,onJoinStyleguide:i}){const l=t===r.default.All,c=l?"":" under ",d=l?"":o.h("span",{class:"category"},t,"s"),u=o.h("div",{class:"warning"},"There are no notifications",c,d,".");return e===a.default.STYLEGUIDE&&n?{emoji:"🚪",info:o.h("div",{class:"warning"},"Looks like you are not a member of this styleguide yet—you'll start receiving notifications when you join.",o.h(s.default,{class:"joinStyleguide",ninja:!0,onClick:i},"Join now."))}:{emoji:"🌬",info:u}}(e);return o.h("div",{class:"activitiesWarning"},o.h("span",{class:"emoji"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271));t.default={getUserAndAcquaintances:function(){const{acquaintances:e,userId:t,email:n,username:i,fullName:r,avatar:a,emotar:s}=o.default.UserStore.getState();return t&&e?[{_id:t,email:n,username:i,fullName:r,avatar:a,emotar:s},...e]:[]}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1987);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(513),r=n.n(o),a=n(1988),s=n(271),l=n.n(s),c=n(263),d=n.n(c),u=n(842),p=n(232);class h extends i.Component{static calculateState(){const{overridingCategory:e}=l.a.SupportButtonStore.getState(),{barrelId:t,barrelType:n,selectedView:i}=l.a.BarrelStore.getState(),{selectedOrganizationId:o,selectedTab:r}=l.a.SpaceStore.getState();if(e)return{category:e};if(!t)return{category:"projects"===r&&"user"!==o?u.default.ORGANIZATION_PROJECTS:r};let a;if(n===d.a.STYLEGUIDE)a=u.default.STYLEGUIDE;else switch(i){case p.ProjectViewTypes.DASHBOARD:a=u.default.PROJECT_DASHBOARD;break;case p.ProjectViewTypes.STYLEGUIDE:a=u.default.PROJECT_STYLEGUIDE;break;case p.ProjectViewTypes.SCREEN:a=u.default.PROJECT_SCREEN;break;default:a=u.default.DEFAULT}return{category:a}}static getStores(){return[l.a.SupportButtonStore,l.a.SpaceStore,l.a.BarrelStore]}render(){const{category:e}=this.state;return i.h(a.default,{category:e})}}t.default=r()(h,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1989);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),r=n(399),a=n(252),s=n(842);n(1990);const l={[s.default.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[s.default.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[s.default.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[s.default.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[s.default.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[s.default.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[s.default.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Managing access level of workspace members",url:"https://support.zeplin.io/en/articles/4629006-managing-access-level-of-organization-members"},{text:"Grouping workspace members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer workspace ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[s.default.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to workspace",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[s.default.ORGANIZATION_PROFILE]:[{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[s.default.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class c extends o.default{constructor(){var e,t,n;super(),n=()=>{mixpanel.master.track("Life saver popover",{"Clicked On":"All articles"})},(t="handleSupportLinkClick")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){mixpanel.master.track("Life saver popover",{"Clicked On":"Intercom"}),Intercom("showMessages")}handleLinkClick(e){mixpanel.master.track("Life saver popover",{"Clicked On":e.target.closest("a").href})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=l[e].map(e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",onClick:this.handleSupportLinkClick,target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=Object(r.default)("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:a.imageUrl("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}c.defaultProps={category:s.default.DEFAULT},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1992);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(4),o=n(231),r=n(522),a=n(551),s=n(404),l=n(247),c=n(233),d=n(229),u=n(399);n(1993);const p="fallback",h="initial",f="downloading",g="ready";function m(){const[e,t]=Object(r.useState)(0);Object(r.useEffect)(()=>{const n=setInterval(()=>{t((e+1)%3)},1e3);return()=>clearInterval(n)});const n=""+".".repeat(e+1);return i.h(s.default,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}function b(){const[e,t]=Object(r.useState)(function(){const e=Object(d.getAppVersion)();return!("unknown"!==e&&!e.startsWith("0")&&!e.startsWith("1"))}()?p:h);function n(){Object(l.openLink)("https://zpl.io/download-windows-64")}function b(){t(f),location.assign(c.ZPL_PROTOCOL+"//update")}function S(){t(g)}function y(){o.default.ipcRenderer.send("restart-app")}return Object(r.useEffect)(()=>(o.default.ipcRenderer.on("app-update-downloaded",S),()=>o.default.ipcRenderer.removeAllListeners("app-update-downloaded"))),i.h("main",{class:Object(u.default)("windowsAppForceUpdateNotifier",e)},e===g?i.h(a.default,{asset:"/img/imgUpdatedApp.png"}):i.h(a.default,{asset:"/img/imgUpdateApp.png"}),e===g?i.h("h1",null,"Update complete"):e===p?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===g?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===p?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case h:return i.h(s.default,{primary:!0,onClick:b},"Install update");case f:return i.h(m,null);case g:return i.h(s.default,{primary:!0,onClick:y},"Relaunch app");default:return i.h(s.default,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1995);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1996);t.default=function({onLogin:e,onLogout:t,frequency:n}){return i.h("div",{class:"loginRequiredDialogContainer"},i.h("div",{class:"loginRequiredDialog"},i.h("span",null,"🗝"),i.h("h2",null,document.hasFocus()?"Please login again.":"Welcome back, please login again."),i.h("p",null,"Your organization requires you to login again ",i.h("strong",null,"every ",n),"."),i.h("div",{class:"buttonsContainer"},i.h("button",{onClick:t,class:"logout"},"LOG OUT"),i.h("button",{onClick:e,class:"login"},"LOGIN WITH SSO"))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackVisitiedAppEvent=t.setMixpanelGroupProperties=void 0;const o=i(n(364)),r=i(n(365)),a=i(n(271)),s=i(n(263)),l=n(229),c=n(230),d=n(232),u=n(245);function p(){const{selectedOrganizationId:e}=a.default.SpaceStore.getState(),t=Zeplin.user&&Zeplin.user._id,n=t&&r.default.getOrganizationMember(e,t),i={};return e&&"user"!==e&&(i.workspace_id=e),n&&(i["User Role"]=n.role),i}function h(){mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("project_id"),mixpanel.master.unregister("styleguide_id"),mixpanel.master.unregister("User Role")}t.setMixpanelGroupProperties=function(){h(),a.default.SpaceStore.addListener(()=>{mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("User Role"),mixpanel.master.register(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()))}),a.default.BarrelStore.addListener(()=>{h(),mixpanel.master.register(Object.assign(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()),function(){const{organizationId:e,barrelType:t,barrelId:n}=a.default.BarrelStore.getState(),i={};if(t&&n){const r=o.default.findUser();t===s.default.PROJECT?i.project_id=n:i.styleguide_id=n,e&&"user"!==e&&(i.workspace_id=e),r&&(i["User Role"]=r.role)}return i}()))})},t.trackVisitiedAppEvent=function(e){const t=u.getAppRouteFromPathname(e);if(!t)return;let n;switch(t){case d.AppRoutes.Workspace:n="Workspace";break;case d.AppRoutes.Project:n="Project";break;case d.AppRoutes.Styleguide:n="Styleguide";break;case d.AppRoutes.ProjectStyleguide:n="Project styleguide";break;case d.AppRoutes.Screen:n="Screen";break;case d.AppRoutes.ScreenVersion:n="Screen version";break;case d.AppRoutes.Notifications:n="Notifications"}n&&mixpanel.master.track("Visited app",{Location:n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"goToLastOrganizationWorkspace",(function(){return x})),n.d(t,"registerWorkspaceRouteHandlers",(function(){return M}));n(243),n(779);var i=n(260),o=n(264),r=n(236),a=n(367),s=n.n(a),l=n(271),c=n.n(l),d=n(384),u=n.n(d),p=n(280),h=n.n(p),f=n(846),g=n(310),m=n.n(g),b=n(365),S=n(590),y=n.n(S),v=(n(2e3),n(2002)),C=n(390),O=n(245),E=n(244),T=n(2001),_=n(431),P=n(232);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){const n=b.default.getOrganization(e);if(n&&n.members)return{};const{restricted:o}=t;return o?Promise.resolve({_id:e,members:[]}):i.getOrganizationMembers(e)}function R(e){const{focusedBarrels:t}=c.a.OrganizationStore.getState();return t&&t[e]?t[e]:i.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}function A(e,t){const n=[Object(v.getOrganization)(e),Object(v.getOrganizationSections)(e),R(e),I(e,t),r.organizationPrefs.get(e,"dialogDismissStates"),Object(v.getProjects)(e),Object(v.getStyleguides)(e)];return Promise.all(n).then(([t,n,i,o,r,a,s])=>({oid:e,organization:D(D(D({},t),o),{},{sections:n}),focusedBarrels:i,dialogDismissParams:r,projects:a,styleguides:s}))}const w={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=c.a.SpaceStore.getState(),n="user"===e?t:"workspace-"+t,i=Object(O.urlResolve)(n,{url:{oid:e}});setTimeout(()=>{s.a.history.push(i)},4),r.userPrefs.set("lastOrganization",e),Object(C.sendGAPageView)({title:"Space - Zeplin"})},onChangeTab({tab:e}){const{selectedOrganizationId:t}=c.a.SpaceStore.getState(),n="user"===t?e:"workspace-"+e,i=Object(O.urlResolve)(n,{url:{oid:t}});setTimeout(()=>{s.a.history.push(i)},4),mixpanel.master.track(`Opened ${t?"organization":"all"} ${e}`),Object(C.sendGAPageView)({title:"Space - Zeplin"})},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=c.a.SpaceStore.getState(),i=new URLSearchParams(location.search);e?i.set("q",e):i.delete("q");const o=Object.fromEntries(i),r="user"===t?n:"workspace-"+n;let a;a="user"===t?{query:o}:{url:{oid:t},query:o},setTimeout(()=>{history.replaceState(a,"Zeplin - Workspace",Object(O.urlResolve)(r,a))},4)},onChangeProjectSelectedSortType({oid:e,sortType:t}){"user"===e?r.userPrefs.set("projectSortType",t):r.organizationPrefs.set(e,"projectSortType",t)},onSetStyleguidesTabVisited(){r.userPrefs.set("styleguidesTabVisited",!0)},onToggleSectionState({oid:e,oseids:t},{shouldCollapse:n}){r.organizationPrefs.get(e,"collapsedSections").then(i=>{t.forEach(e=>{i[e]=n}),r.organizationPrefs.set(e,"collapsedSections",i)})},onTrackBarrelClick({oid:e,isFromPinArea:t}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{Source:t?"Pinned":void 0})},onPostponeOfferReminder({nextDate:e}){r.userPrefs.set("offerReminderNextDate",e)}},N={onGetOrganizations({organizations:e}){e&&e.forEach(e=>{Object(T.subscribeToOrganizationChannel)(e._id)})},onAddOrganization({organization:e}){Object(T.subscribeToOrganizationChannel)(e._id),i.getOrganizationMemberProfile(e._id,Zeplin.user._id).then(t=>{f.default.addOrganizationProfile(t,e._id)}).catch(o.handleError)},resetSortTypeAndFilters(e){if(!e.syncWithApi)return;new URLSearchParams(location.search).get("q")&&w.onChangeFilterValue({filterValue:""}),r.organizationPrefs.get(e.oid,"projectSortType").then(t=>{t!==P.SortTypes.SECTIONS&&r.organizationPrefs.set(e.oid,"projectSortType",P.SortTypes.SECTIONS)})}};const L=/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i;async function x(){const e=new URL(location.href);if(L.test(e.pathname)){const[,t="user",n=P.WorkspaceTabs.PROJECTS]=e.pathname.match(L),i=await r.userPrefs.get("lastOrganization");if(i&&"user"!==i&&"user"===t){const t=Object.fromEntries(e.searchParams),o=Object(O.urlResolve)("workspace-"+n,{url:{oid:i},query:t});history.replaceState(null,null,o)}}}function M(){c.a.dispatcher.register(e=>{switch(e.type){case h.a.CHANGE_SELECTED_TAB:w.onChangeTab(e);break;case h.a.CHANGE_FILTER_VALUE:w.onChangeFilterValue(e);break;case h.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:w.onChangeProjectSelectedSortType(e);break;case h.a.CHANGE_SELECTED_ORGANIZATION:w.onChangeSelectedOrganization(e);break;case h.a.SET_STYLEGUIDES_TAB_VISITED:w.onSetStyleguidesTabVisited();break;case h.a.TRACK_BARREL_CLICK:w.onTrackBarrelClick(e);break;case h.a.EXPAND_SECTIONS:w.onToggleSectionState(e,{shouldCollapse:!1});break;case h.a.COLLAPSE_SECTIONS:w.onToggleSectionState(e,{shouldCollapse:!0});break;case h.a.POSTPONE_OFFER_REMINDER:w.onPostponeOfferReminder(e)}}),c.a.dispatcher.register(e=>{switch(e.type){case m.a.GET_ORGANIZATIONS_SUCCESS:N.onGetOrganizations(e);break;case m.a.ADD_ORGANIZATION:N.onAddOrganization(e);break;case m.a.ADD_PROJECT_SECTION:case m.a.UPDATE_PROJECT_ORDER:N.resetSortTypeAndFilters(e)}})}s.a.route(L,(async function(e){Object(C.sendGAPageView)({title:"Space - Zeplin"});const{match:[t="user",n=P.WorkspaceTabs.PROJECTS],query:{q:[a=""]=[],pid:l=[],stid:d=[],oseid:[p]=[],seid:[h]=[p],newProject:f,newStyleguide:g}}=e,m=[...l,...d],{styleguidesTabVisited:b,pinnedBarrelOnce:S,oldNotificationExperience:T,offerReminderNextDate:j}=await r.userPrefs.getAll(),k="user"===t?await r.userPrefs.get("projectSortType"):await r.organizationPrefs.get(t,"projectSortType"),I="user"===t?{}:await r.organizationPrefs.get(t,"collapsedSections");let R;I[h]&&(I[h]=!1,r.organizationPrefs.set(t,"collapsedSections",I)),n===P.WorkspaceTabs.PROJECTS&&f?R=P.DialogTypes.CREATE_PROJECT:n===P.WorkspaceTabs.STYLEGUIDES&&g&&(R=P.DialogTypes.CREATE_STYLEGUIDE),u.a.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:a,selectedWorkflowStatusFilter:"All",highlightedBarrels:m,scrollToHighlightedBarrel:!!m.length,highlightedSection:h,collapsedSections:I,selectedProjectSortType:h?P.SortTypes.SECTIONS:k,styleguidesTabVisited:b,pinnedBarrelOnce:S,visibleDialogType:R,oldNotificationExperience:T,offerReminderNextDate:j}),_.default.setPage("workspace"),y.a.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime));const w=await Object(v.getOrganizations)(),N=await async function(e,t){const{organizationProfiles:n}=c.a.OrganizationStore.getState();if(0!==Object.keys(n).length)return n;const r=e.map(e=>i.getOrganizationMemberProfile(e._id,t));try{return(await Promise.all(r)).reduce((t,n,i)=>(t[e[i]._id]=n,t),{})}catch(a){o.handleError(a)}}(w,Zeplin.user._id),L=await function(e,t,n,i){return e.find(e=>e._id===n)||"user"===n?("user"===n?v.fetchPersonalWorkspaceData:A)(n,t[n]).catch(e=>{o.handleError(e,{dialogCallback(){s.a.history.replace(Object(O.urlResolve)(i))}})}):(E.create({title:"You’re not invited to this workspace",message:"Please contact workspace admins."}),void u.a.changeSelectedOrganization("user"))}(w,N,t,n);_.default.loadWorkspaceData(D({organizations:w,organizationProfiles:N},L))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var i=n(260),o=n(264),r=n(1299),a=n(244),s=n(231),l=n(263),c=n.n(l),d=n(2001),u=n(1103),p=n(311),h=n.n(p),f=n(271),g=n.n(f),m=n(1194),b=n(312),S=n(379),y=n(384),v=n.n(y),C=n(275),O=n.n(C),E=n(232),T=n(230),_=n(248),P=n(245),j=n(367),D=n.n(j),k=n(779);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const N=T.supports.webviews;const L={project:{create:i.createProject,get:i.getProject,inviteUser:i.inviteProjectUser,transferOwnership:i.transferProjectOwnership},styleguide:{create:i.createStyleguide,get:i.getStyleguide,inviteUser:i.inviteStyleguideUser,transferOwnership:i.transferStyleguideOwnership}},x={project:{getRequest:u.default.getProjectRequest,getSuccess:u.default.getProjectSuccess,getFailed:u.default.getProjectFailed,transferOwnership:u.default.transferOwnership},styleguide:{getRequest:m.default.getStyleguideRequest,getSuccess:m.default.getStyleguideSuccess,getFailed:m.default.getStyleguideFailed,transferOwnership:m.default.transferOwnership}},M=e=>{const t=e+"s";return{onGetBarrels(n){const i=n[t];i&&(i.forEach(({_id:t})=>Object(d.subscribeToBarrelChannel)(e,t)),N&&i.length&&function(e,t){s.default.ipcRenderer.sendToHost("preload-"+e,Object(P.urlResolve)(e,{url:{bid:t.slice().sort(_.sortBy.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){let{type:n}=t,i=w(t,["type"]);const{oid:r,oseid:a,platform:s}=i;L[e].create(i).then(({_id:t})=>(mixpanel.master.track("Created "+e,{Type:Object(_.getPlatformString)(s),[e+"_id"]:t}),L[e].get(t).then(n=>{v.a.hideLoading(),v.a.closeDialog(),S.default.add({barrel:n,oid:r,oseid:a,barrelType:e}),D.a.history.push(Object(P.urlResolve)(e,{url:{bid:t}}))}))).catch(t=>{v.a.hideLoading(),v.a.closeDialog(),o.handleError(t,{clientErrorHandler:{402:()=>v.a.openDialog(E.DialogTypes.UPGRADE_PLAN,{barrelType:e}),default:o.handleError}})})},onInviteUser({container:t,bid:n,users:i,oid:o}){r.show({popupContainer:t,bid:n,bt:e,members:i,oid:o,onInvite(t){S.default.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership(t){const{bid:n,fromUserId:i,targetId:r,toOrganization:s,oid:l,canChangePlanAtTarget:d}=t;L[e].transferOwnership(n,r,s).then(()=>{x[e].transferOwnership({bid:n,fromUserId:i,targetId:r,toOrganization:s,oid:l})}).catch(t=>{o.handleError(t,{clientErrorHandler:{402(){d?Object(k.showPlanChooserOverlay)({source:`Workspace, Reached ${e} limit`,oid:!!s&&r,upgradeTrigger:e===c.a.PROJECT?E.PlanUpgradeTrigger.PROJECT_LIMIT:E.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):a.create({title:"Transferring ownership failed",message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,done:{name:"OK"}})},default:o.handleError}})})}}},U={onParentSelect({stid:e,parent:t,oldParent:n}){i.updateStyleguideParent(e,t).then(e=>{mixpanel.master.track((n?"Changed":"Added")+" styleguide parent")}).catch(t=>{m.default.removeParent({stid:e,parent:n}),o.handleError(t)})},onParentRemove({stid:e,oldParent:t}){i.removeStyleguideParent(e).then(e=>{mixpanel.master.track("Removed styleguide parent")}).catch(n=>{m.default.selectParent({stid:e,parent:t}),o.handleError(n)})}};function B(){g.a.dispatcher.register(e=>{const t=M(c.a.PROJECT),{type:n,pid:i,syncWithApi:o}=e,r=R({bid:i},w(e,["type","pid","syncWithApi"]));switch(n){case h.a.INVITE_USER:t.onInviteUser(r);break;case h.a.GET_PROJECTS_SUCCESS:case O.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(r)}if(o)switch(n){case h.a.CREATE_PROJECT:t.onCreateBarrel(r);break;case h.a.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(r)}}),g.a.dispatcher.register(e=>{const t=M(c.a.STYLEGUIDE),{type:n,stid:i,syncWithApi:o}=e,r=R({bid:i},w(e,["type","stid","syncWithApi"]));switch(n){case b.default.INVITE_USER:t.onInviteUser(r);break;case b.default.GET_STYLEGUIDES_SUCCESS:case O.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(r)}if(o)switch(n){case b.default.CREATE_STYLEGUIDE:t.onCreateBarrel(r);break;case b.default.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(r);break;case b.default.SELECT_PARENT:U.onParentSelect(e);break;case b.default.REMOVE_PARENT:U.onParentRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToOrganizationChannel",(function(){return l})),n.d(t,"unsubscribeFromOrganizationChannel",(function(){return c})),n.d(t,"subscribeToStyleguideChannel",(function(){return d})),n.d(t,"unsubscribeFromStyleguideChannel",(function(){return u})),n.d(t,"subscribeToProjectChannel",(function(){return p})),n.d(t,"unsubscribeFromProjectChannel",(function(){return h})),n.d(t,"subscribeToBarrelChannel",(function(){return f})),n.d(t,"unsubscribeFromBarrelChannel",(function(){return g}));var i=n(586),o=n(263),r=n.n(o),a=n(233);function s(e,t){if(!e||!t)return;const n=e+t;return i.default.channel(n)||i.default.subscribe(n)}function l(e){return s(a.ORGANIZATION_CHANNEL_PREFIX,e)}function c(e){i.default.unsubscribe(a.ORGANIZATION_CHANNEL_PREFIX+e)}function d(e){return s(a.STYLEGUIDE_CHANNEL_PREFIX,e)}function u(e){i.default.unsubscribe(a.STYLEGUIDE_CHANNEL_PREFIX+e)}function p(e){return s(a.PROJECT_CHANNEL_PREFIX,e)}function h(e){i.default.unsubscribe(a.PROJECT_CHANNEL_PREFIX+e)}function f(e,t){e===r.a.PROJECT?p(t):d(t)}function g(e,t){e===r.a.PROJECT?h(t):u(t)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPersonalWorkspaceData=t.getOrganizationSections=t.getStyleguides=t.getProjects=t.getFocusedBarrels=t.getOrganization=t.getOrganizations=void 0,n(2e3);const l=r(n(260)),c=s(n(365)),d=s(n(271));function u(e){return e.map(e=>Object.assign(Object.assign({},e),{complete:!1}))}function p(e){const t=c.default.getOrganizationProjects(e);return t?Promise.resolve(t):l.getProjects("user"===e?null:e).then(u)}function h(e){const t=c.default.getOrganizationStyleguides(e);return t?Promise.resolve(t):l.getStyleguides("user"===e?null:e).then(u)}t.getOrganizations=function(){const{organizations:e}=d.default.OrganizationStore.getState();return e.length?Promise.resolve(e):l.getOrganizations()},t.getOrganization=function(e){const t=c.default.getOrganization(e);return t&&t.complete?Promise.resolve(t):l.getOrganization(e).then(e=>Object.assign(Object.assign({},e),{complete:!0}))},t.getFocusedBarrels=function(e,t){const{focusedBarrels:n}=d.default.OrganizationStore.getState();return n&&n[e]?Promise.resolve(n[e]):l.getOrganizationMemberFocusedBarrels(e,t)},t.getProjects=p,t.getStyleguides=h,t.getOrganizationSections=function(e){const t=c.default.getOrganization(e);return t&&t.complete&&t.sections?Promise.resolve(t.sections):l.getOrganizationSections(e)},t.fetchPersonalWorkspaceData=function(){return a(this,void 0,void 0,(function*(){return{oid:"user",organization:null,focusedBarrels:null,dialogDismissParams:null,projects:yield p("user"),styleguides:yield h("user")}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerDotsViewHandlers",(function(){return fe}));var i=n(244),o=n(1302),r=n(2004),a=n(622),s=n(615),l=n(624),c=n(248),d=n(229),u=n(328),p=n(247),h=n(249),f=n(245),g=n(238),m=n(393),b=n(278),S=n.n(b),y=n(364),v=n(385),C=n(279),O=n.n(C),E=n(370),T=n(271),_=n.n(T);function P(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const j=document.getElementById("dotPopup"),D=document.getElementById("dotPopupAnchor"),k=document.getElementById("dotColors"),I=document.getElementById("commentTemplate"),R=document.getElementById("dotComments"),A=document.getElementById("newComment"),w=document.getElementById("newCommentButtons"),N=document.getElementById("newCommentButton"),L=document.getElementById("newCommentMirror"),x=document.getElementById("newCommentNote"),M=document.getElementById("newCommentSendButton"),U=document.getElementById("newCommentArea"),B=document.getElementById("suggestedUsersContainer"),z=document.getElementById("suggestedEmojisContainer"),V=new m.default(s.default,j),W={};function F(e){if(e&&e.length)if(Array.isArray(e)){let t,n=E.default.getDot().comments.length;if(e.forEach(e=>{const i=R.querySelector(`.comment[data-id="${e}"]`);i&&i.classList.add("highlight");const o=Array.from(i.parentElement.children).indexOf(i);o<n&&(n=o,t=i)}),t){const e=j.getBoundingClientRect().top,n=t.getBoundingClientRect().top-e;setTimeout(()=>{R.scrollTop+=n-24},200)}else i.create({message:"Comments not available anymore."})}else{const t="string"==typeof e?R.querySelector(`.comment[data-id="${e}"]`):e;if(!t)return void i.create({message:"Comment not available anymore."});t.classList.add("new"),t.scrollIntoView(),setTimeout(()=>{t.classList.add("highlight"),setTimeout(()=>{t.classList.remove("highlight"),t.addEventListener("transitionend",()=>{t.classList.remove("new")},{once:!0})},1e3)},150)}}function H(e,t,n){if(t.innerHTML=Object(c.escapeHTML)(e.value)+"&nbsp;",e.selectionStart!==e.selectionEnd)return;const i=Object(h.getFirstWhitespaceIndex)(e.value.substring(0,e.selectionStart),!0),a=e.value.charAt(i);if("@"===a||" "===a){const i=r.manageSuggestedUsers(e,t);i&&G(i,n,r)}else if(":"===a){const i=o.manageSuggestedEmojis(e,t);i&&G(i,n,o)}else r.close(),o.close()}function G(e,t,n){e.style.top="",e.style.left="",e.style.bottom="",e.style.right="",t.appendChild(e),n.open();const i=t.getBoundingClientRect(),o=j.getBoundingClientRect();i.bottom+42>=window.innerHeight?(e.style.bottom=o.bottom-i.bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=i.bottom-o.top+"px",e.style.bottom="",e.style.maxHeight=window.innerHeight-i.bottom-6+"px")}function $(){const e=o.formatEmojiString(x.value.trim(),!0);if(!e)return;A.classList.remove("composing");const t=E.default.getDot(),{name:n}=t,i=P(t,["name"]);i.comments=[{note:e}],v.default.createComment({did:i._id,note:e}),v.default.addDot({dot:i,syncWithApi:!0})}function q(e){e.classList.remove(...u.colorNames)}function Z(){N.textContent=R.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function Y(e,t,n,i){delete e.status;const o=document.importNode(I.content,!0);!async function(e,t,n,i,o){const r=e.querySelector(".commentAuthorImage"),a=e.querySelector(".commentAuthorName");Object(p.setAvatar)(r,t.author),a.textContent=t.author?Object(g.getUserDisplayName)(t.author):"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);const s=new Date(t.created),l=new Date(t.updated);e.querySelector(".commentLink").href=Object(f.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:o,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",s);const c=e.querySelector(".commentMirror");c.innerHTML="",await K(t.note,c),e.querySelector(".commentEdited").setAttribute("datetime",l-s>3e5?l:""),t.author&&(r.addEventListener("mouseenter",e=>X(e,t.author._id)),r.addEventListener("mouseleave",Q),a.addEventListener("mouseenter",e=>X(e,t.author._id,!1)),a.addEventListener("mouseleave",Q));const d=R.querySelectorAll(".user");for(const u of d)u.addEventListener("mouseenter",e=>X(e,u.dataset.uniqueId,!1)),u.addEventListener("mouseleave",Q)}(o.querySelector(".comment"),e,t,n,i),R.appendChild(o);const r=R.lastElementChild,a=r.querySelector(".commentNote"),s=r.querySelector(".commentMirror");return a.addEventListener("input",()=>{H(a,s,r),ce()}),a.addEventListener("keyup",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:H(a,s,r)}}),r}function K(e,t){new m.default(a.default,t).render({children:e,disabledFeatures:[l.CustomRules.SPOTIFY,l.CustomRules.YOUTUBE,l.MarkdownRules.IMAGE,l.MarkdownRules.CHECKBOX,l.MarkdownRules.TABLE,l.MarkdownRules.HEADING]})}let J;function X(e,t,n=!0){Q(),J=setTimeout(()=>{V.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"dotPopupUserProfileCardPopoverContainerContent",originParent:document.querySelector(".screenView")});const i=document.querySelector(".dotPopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",()=>clearTimeout(J)),i.addEventListener("mouseleave",Q))},300)}function Q(){clearTimeout(J),J=setTimeout(()=>{V.remove()},100)}function ee({scroll:e=!1}={}){R.innerHTML="";const{barrelId:t}=_.a.BarrelStore.getState(),{screenId:n}=_.a.ScreenStore.getState(),{dotId:i}=_.a.DotsStore.getState();E.default.getDot().comments.forEach(e=>Y(e,t,n,i)),e&&Object(p.scrollIfNecessary)(R.lastElementChild),A.classList.remove("hidden"),Z(),ce()}function te({hasReaction:e=!1}={}){const t=o.formatEmojiString(x.value.trim(),!0);o.close(),r.close(),t&&(A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="",v.default.createComment({note:t,hasReaction:e,syncWithApi:!0}))}function ne(e){const t=e.querySelector(".commentNote"),n=o.formatEmojiString(t.value.trim(),!0);if(o.close(),r.close(),""===n)return void ie(e.dataset.id);const{screenId:i}=_.a.ScreenStore.getState(),{dotId:a}=_.a.DotsStore.getState(),s=e.dataset.id;v.default.updateComment({sid:i,did:a,cmid:s,commentData:{note:n,updated:new Date},syncWithApi:!0})}function ie(e){const{userId:t}=_.a.UserStore.getState(),{screenId:n}=_.a.ScreenStore.getState(),{dotId:o}=_.a.DotsStore.getState(),r=E.default.getDot(),a=E.default.getComment({sid:n,did:o,cmid:e}),s=1===r.comments.length?"note":"comment";let l;l=a.author?a.author._id===t?`Delete your ${s}?`:`Delete ${a.author.username}’s ${s}?`:`Delete ${s}?`,i.create({title:l,message:`Deleted ${s}s cannot be restored.`,done:{name:"DELETE",cb(){1===r.comments.length&&v.default.removeDot({sid:n,did:o,syncWithApi:!0}),v.default.removeComment({sid:n,did:o,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}function oe(){r.close(),o.close(),V.remove(),R.innerHTML="",R.scrollTop=0,j.dataset.id="",q(j),j.classList.remove("open","resolved"),j.classList.add("hidden"),j.classList.remove("left","right")}function re(){oe(),document.removeEventListener("click",pe),document.removeEventListener("keydown",he);const e=document.querySelector('.dot[data-id^="new"]');e&&setTimeout(()=>{v.default.removeDot({did:e.dataset.id})},4)}function ae(){const{screenId:e}=_.a.ScreenStore.getState();if(!j.classList.contains("hidden")&&e){W[e]=W[e]||{};const t=j.dataset.id;t.startsWith("new")?W[e].comment=x.value:(W[e].reply=W[e].reply||{},W[e].reply[t]=x.value)}}function se(){ae(),re()}function le(e,t){const{id:n,users:i}=y.default.getBarrel();if(!e||!i)return void oe();Array.isArray(t)&&1===t.length&&(t=t[0]);const o=E.default.getDot({did:e});if(!o)return;if(j.dataset.id===o._id)return void F(t);oe();const r=y.default.findUser();j.dataset.id=e,j.classList.add(Object(u.getColorName)(o.color),o.x<=.5?"left":"right"),j.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes(r)),L.innerHTML="&nbsp;",x.value="",A.classList.remove("hidden");const{screenId:a}=_.a.ScreenStore.getState();if(e.startsWith("new"))j.classList.add("open"),A.classList.add("composing"),W[a]&&W[a].comment&&(L.innerHTML=Object(c.escapeHTML)(W[a].comment)+"&nbsp;",x.value=W[a].comment),setTimeout(()=>{x.focus(),x.setSelectionRange(x.value.length,x.value.length)},4);else{j.classList.add(o.status),o.comments.forEach(t=>Y(t,n,a,e)),F(t);const i=W[a]&&W[a].reply&&W[a].reply[e];i?(A.classList.add("composing"),L.innerHTML=Object(c.escapeHTML)(i)+"&nbsp;",x.value=i,setTimeout(()=>{x.focus(),x.setSelectionRange(x.value.length,x.value.length)},4)):(Z(),A.classList.remove("composing"))}e.startsWith("new")?ue():setTimeout(()=>{const n=document.querySelector(`.dot[data-id="${e}"]`);n&&function(e){const n=document.querySelector(".screenViewContainer section.screenView");if(Object(p.isElementVisible)(e,n))ue();else{const t=e.getBoundingClientRect();let i=n.scrollLeft,o=n.scrollTop;t.left<0?i=n.scrollLeft+t.left-60:t.right>n.offsetWidth&&(i=t.right-n.offsetWidth+60),t.top<92?o=n.scrollTop+t.top-60-29-60:t.bottom>window.innerHeight&&(o=n.scrollTop+(t.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(n.scrollTo({left:i,top:o,behavior:"smooth"}),setTimeout(ue,450)):(n.scrollLeft=i,n.scrollTop=o,ue())}t?F(t):R.lastElementChild.scrollIntoView()}(n)},200)}function ce(){const{dotId:e}=_.a.DotsStore.getState();if(!e)return;const t=document.querySelector(`.dot[data-id="${e}"]`);if(!t)return;const n=document.querySelector(".screenViewContainer section.screenView").getBoundingClientRect(),i=t.getBoundingClientRect(),o=j.getBoundingClientRect();let r=6,a=6,s=29,l=!1;i.right<=0?(l=!0,r=6):i.left>=n.right?(l=!0,r=n.width-6-o.width):i.left<=o.width+6+13?(j.classList.remove("left"),j.classList.add("right"),r=i.right+13):i.right+13+o.width+6>=n.right?(j.classList.remove("right"),j.classList.add("left"),r=i.left-13-o.width):(j.classList.remove("left","right"),j.classList.add(t.dataset.position),r="left"===t.dataset.position?i.left-13-o.width:i.right+13),i.top<=n.top+26+6?(l=!0,a=n.top+6):i.bottom>=window.innerHeight-26?(l=!0,a=window.innerHeight-o.height-6):i.top>=window.innerHeight-o.height+26-6?(a=window.innerHeight-o.height-6,s=i.top-a+6):i.top+o.height-29>window.innerHeight?(l=!0,a=window.innerHeight-o.height-6):a=i.top-26,j.classList.toggle("overflown",l),j.style.transform=`translate(${r.toFixed()}px, ${a.toFixed()}px)`,D.style.top=s+"px",V.isRendered()&&V.update()}k.addEventListener("click",e=>{e.target.classList.contains("dotColor")&&function(e,t){const n=Object(u.getColorValueByName)(e);if(t.startsWith("new"))return void v.default.updateDotColor({did:t,color:n});v.default.updateDotColor({did:t,color:n,syncWithApi:!0});const{colorFilter:i}=_.a.DotsStore.getState();i&&i!==e&&re()}(e.target.dataset.color,j.dataset.id)}),R.addEventListener("mouseover",e=>{e.target!==R&&e.target.closest(".comment").classList.remove("highlight")}),w.addEventListener("click",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;if(j.classList.contains("resolved")){const e=document.querySelector("#dotPopup .comment:first-child .commentButtons");e.classList.add("flashing");return void e.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).addEventListener("finish",()=>{e.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return A.classList.add("composing"),void x.focus();const t=e.target.closest(".newCommentReaction"),n=E.default.getDot(),i=n.comments[n.comments.length-1];if(i.author&&i.author._id===Zeplin.user._id&&i.note===u.reactions[t.dataset.reaction])return;const o=x.value;x.value=u.reactions[t.dataset.reaction],te({hasReaction:!0}),x.value=o}),x.addEventListener("input",()=>{H(x,L,U),ce()}),Object(d.getBrowser)()===d.BROWSER.SAFARI&&(x.addEventListener("beforeinput",e=>{const t=e.data||"";x.value.length+t.length>x.maxLength&&e.preventDefault()}),j.addEventListener("beforeinput",e=>{const t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),x.addEventListener("click",e=>{e.stopPropagation(),H(x,L,U)}),M.addEventListener("click",()=>{const{dotId:e}=_.a.DotsStore.getState();e.startsWith("new")?$():te()}),x.addEventListener("keyup",e=>{switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:H(x,L,U)}}),x.addEventListener("keydown",e=>{if(e.stopPropagation(),B.classList.contains("hidden")&&z.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(Object(d.cmdKey)(e)){const{dotId:e}=_.a.DotsStore.getState();e.startsWith("new")?$():te()}break;case Zeplin.KEY_CODE.ESC:{const{screenId:e}=_.a.ScreenStore.getState(),{dotId:t}=_.a.DotsStore.getState();W[e]&&(t.startsWith("new")?W[e].comment=null:W[e].reply&&(W[e].reply[t]=null)),A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="",t.startsWith("new")&&re();break}}});let de=!1;function ue(){document.addEventListener("click",pe),document.addEventListener("keydown",he),j.classList.remove("hidden"),ce()}function pe(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&v.default.closeDotPopup()}function he(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){if(V.isRendered())return void V.remove();v.default.closeDotPopup()}}function fe(){_.a.dispatcher.register(e=>{switch(e.type){case S.a.RESET:re();break;case S.a.CHANGE_SELECTED_VIEW:se();break;case S.a.UPDATE_USER_ROLE:{const{uid:t,role:n}=e,{userId:i}=_.a.UserStore.getState();t===i&&j.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes({role:n}));break}case S.a.UPDATE_USER_DATA:{const{dotId:e}=_.a.DotsStore.getState();e&&ee();break}case S.a.REMOVE_MEMBER:r.checkStatus()}}),_.a.dispatcher.register(e=>{switch(e.type){case O.a.OPEN_SCREEN:e.dotId?(re(),le(e.dotId,e.commentId)):se();break;case O.a.SELECT_LAYER:se();break;case O.a.ZOOM_APPLIED:case O.a.ZOOM_WITH_GESTURE:case O.a.ZOOM_WITH_WHEEL:!function(){const{dotId:e}=_.a.DotsStore.getState();e&&!de&&(requestAnimationFrame(()=>{ce(),de=!1}),de=!0)}();break;case O.a.SET_DOTS:{const{loadingDots:e,dotId:t,highlightedComments:n}=_.a.DotsStore.getState();!e&&t&&(ae(),le(t,n));break}case O.a.SELECT_DOT:re(),le(e.dotId,e.commentId);break;case O.a.CLOSE_DOT_POPUP:se();break;case O.a.CHANGE_DOT_FILTER:e.dotId||se();break;case O.a.OPEN_DOT_MENU:r.close(),o.close(),se();break;case O.a.CREATE_NOTE:se(),setTimeout(le,4,e.dot._id);break;case O.a.UPDATE_DOT:e.did===j.dataset.id&&(j.dataset.id=e.dotData._id,function(){const{dotId:e}=_.a.DotsStore.getState();e&&(re(),le(e))}());break;case O.a.UPDATE_DOT_COLOR:t=e.did,n=e.color,j.dataset.id===t&&(q(j),j.classList.add(Object(u.getColorName)(n)));break;case O.a.UPDATE_DOT_STATUS:e.did!==j.dataset.id||j.classList.contains(e.status)||re();break;case O.a.REMOVE_DOT:e.did===j.dataset.id&&re();break;case O.a.CREATE_COMMENT:case O.a.ADD_COMMENT:{const{dotId:t}=_.a.DotsStore.getState();t===e.did&&ee({scroll:!0});break}case O.a.UPDATE_COMMENT:case O.a.REMOVE_COMMENT:e.did===j.dataset.id&&ee();break;case O.a.DESELECT_LAYER:re();break;case O.a.REMOVE_SCREEN:e.removingCurrentScreen&&re()}var t,n})}j.addEventListener("click",e=>{if(e.stopPropagation(),"A"===e.target.tagName)return;const t=j.dataset.id;if(e.target.classList.contains("dotResolveButton"))v.default.updateDotStatus({did:t,status:"resolved",syncWithApi:!0});else if(e.target.classList.contains("dotReopenButton"))v.default.updateDotStatus({did:t,status:"open",syncWithApi:!0});else if(e.target.classList.contains("commentEditButton")){const n=j.querySelector(".comment.editing");if(n){const e=E.default.getComment({did:t,cmid:n.dataset.id}),i=n.querySelector(".commentMirror");i.innerHTML="",K(e.note,i),n.classList.remove("editing")}r.close(),o.close(),A.classList.add("hidden"),A.classList.remove("composing"),L.innerHTML="&nbsp;",x.value="";const i=e.target.closest(".comment"),a=i.querySelector(".commentMirror"),s=i.querySelector(".commentNote"),l=i.dataset.id,d=E.default.getComment({did:t,cmid:l});a.innerHTML=Object(c.escapeHTML)(d.note)+"&nbsp",s.value=d.note,i.classList.add("editing"),s.setSelectionRange(d.note.length,d.note.length),s.focus(),ce()}else if(e.target.classList.contains("commentDeleteButton")){ie(e.target.closest(".comment").dataset.id)}else if(e.target.classList.contains("commentDoneButton")){ne(e.target.closest(".comment"))}}),j.addEventListener("keydown",e=>{if(e.target.classList.contains("commentNote")){e.stopPropagation();const t=e.target.closest(".comment");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:Object(d.cmdKey)(e)&&ne(t);break;case Zeplin.KEY_CODE.ESC:{r.close(),o.close(),t.classList.remove("editing"),A.classList.remove("hidden");const n=t.querySelector(".commentMirror"),i=E.default.getComment({cmid:t.dataset.id});n.innerHTML="",K(i.note,n),e.target.blur(),ce();break}}}})},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedUsers",(function(){return C})),n.d(t,"checkStatus",(function(){return O})),n.d(t,"open",(function(){return E})),n.d(t,"close",(function(){return T}));var i=n(248),o=n(247),r=n(1303),a=n(364),s=n(365);const l=document.getElementById("suggestedUsersContainer"),c=l.querySelector(".suggestedListBox"),d=document.getElementById("suggestedUsersTemplate");let u,p,h,f,g=[],m=0,b=null;function S(){if(!b.startsWith("@"))return;b=b.substring(1).toLowerCase();const e=a.default.getBarrel(),t=s.default.getOrganization(),n=[{user:{username:"everyone",_id:"everyone"},icon:e.icon.type,projectName:e.name}];if(t&&n.push({user:{username:"organization",_id:"organization"},icon:t.logo,projectName:e.name}),n.push(...e.users),g=n.filter(({user:e})=>"invited"!==e.status&&("me"===b&&Zeplin.user._id===e._id||e.username.toLowerCase().startsWith(b)||e.fullName&&e.fullName.toLowerCase().startsWith(b))),b&&"project".startsWith(b)&&g.unshift({user:{username:"project",_id:"project"},icon:e.icon.type,projectName:e.name}),g.length)return b?i.groupMentionKeywords.some(e=>e.startsWith(b))&&(m=g.length>1?1:0,h=g[m]):(m=t?2:1,h=g[m]),g.forEach(y),l.appendChild(c),h&&(o=h,g.some((function(e){return e.user._id===o.user._id})))&&"me"!==b?m=l.querySelector(".suggestedItem[data-id='"+h.user._id+"']").dataset.index:(m=0,h=g[0]),l;var o;T()}function y(e,t){const n=document.importNode(d.content,!0),i=n.querySelector(".suggestedItem"),r=n.querySelector(".suggestedUserName"),a=n.querySelector(".mentionInfo"),s=n.querySelector(".suggestedUserImage"),l=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,r.textContent=e.user.username||e.user.email,r.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&r.classList.add("you"),"organization"===e.user._id?(a.textContent="Notify all workspace members",e.icon?(l.dataset.type="organization",l.style.background=`url(${e.icon})`,l.style.backgroundSize="contain"):l.dataset.type="organizationPlaceholder",s.parentElement.classList.add("hidden")):["everyone","project"].includes(e.user._id)?(a.textContent="Notify all project members",l.dataset.type=e.icon,s.parentElement.classList.add("hidden")):(a.textContent="",Object(o.setAvatar)(s,e.user)),c.appendChild(n)}function v(e){const t=u.value.substring(0,u.selectionStart),n=u.value.substring(u.selectionStart),o=e.user.username,r=t.substr(0,t.lastIndexOf("@"))+"@"+o+" ";u.value=r+n,p.innerHTML=Object(i.escapeHTML)(u.value)+"&nbsp;",u.focus(),u.setSelectionRange(r.length+1,r.length+1),T()}function C(e,t){if(u=e,p=t,!l.classList.contains("hidden")){const e=l.querySelector(".suggestedItem.selected");e&&(h=g[e.dataset.index])}const n=u.value.substring(0,u.selectionStart).lastIndexOf("@");return T(),b=u.value.substring(n,u.selectionStart),S()}function O(){b&&r.open(f)}function E(){f={elements:{textContainer:u,suggestedListContainer:l},cb:{autoComplete:v},index:m,list:g},r.open(f)}function T(){b=null,r.close()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2006)),r=i(n(2007)),a=i(n(2009)),s=i(n(2013)),l=i(n(2e3)),c=i(n(2018)),d=i(n(2022)),u=i(n(2027)),p=i(n(2031)),h=i(n(2032)),f=i(n(2036)),g=i(n(2040)),m=i(n(2041)),b=i(n(2042)),S=i(n(2043)),y=i(n(2049)),v=i(n(2050)),C=i(n(2053)),O=i(n(2059)),E=i(n(2062)),T=i(n(2065)),_=i(n(2067));t.default=function(){o.default(),r.default(),a.default(),s.default(),l.default(),c.default(),d.default(),u.default(),p.default(),h.default(),f.default(),g.default(),m.default(),b.default(),S.default(),y.default(),v.default(),C.default(),O.default(),E.default(),T.default(),_.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=s(n(273)),c=s(n(864)),d=s(n(274)),u=r(n(260)),p=s(n(385)),h=s(n(370)),f=s(n(590)),g=s(n(1974)),m=s(n(846)),b=s(n(365)),S=s(n(778)),y=n(236),v=s(n(271)),C=s(n(1103)),O=s(n(364)),E={selected({activity:e,eventIds:t,options:{reselect:n,autoSelect:i}}){var o;return a(this,void 0,void 0,(function*(){i||n||E.trackItemClick(e);const r=e.events.filter(({_id:e})=>t.includes(e)),a=r.length>0?r.every(({markedAsRead:e})=>e):e.markedAsRead;if(i||a||setTimeout(()=>{f.default.setEventReadStatus({notification:e,eventIds:t,markedAsRead:!0})}),n||c.default.getCategory(e)!==d.default.Note)return;const s=e.params.project._id;if(!(null===(o=O.default.getProject({pid:s}))||void 0===o?void 0:o.complete)){setTimeout(C.default.getProjectRequest);try{yield u.getProject(s).then(e=>C.default.getProjectSuccess({project:e}))}catch(b){return void C.default.getProjectFailed(b)}}const l=e.params.screen._id,m=h.default.getScreen({bid:s,sid:l});(null==m?void 0:m.dots)?setTimeout(()=>g.default.setDotsLoaded(e)):u.getDots(s,l).then(({dots:e=[]})=>{p.default.setDots({pid:s,sid:l,dots:e})}).finally(()=>g.default.setDotsLoaded(e))}))},requestRelatedUsers(e,t){return a(this,void 0,void 0,(function*(){if("user"!==e){let i=b.default.getOrganizationProfile(e);if(!i)try{i=yield u.getOrganizationMemberProfile(e,t),m.default.addOrganizationProfile(i,e)}catch(n){return}if(!i.restricted)return void(b.default.getOrganizationMembers(e)||setTimeout(()=>{m.default.organizationMembersRequested(e),u.getOrganizationMembers(e).then(m.default.getOrganizationMembersSuccess).catch(t=>m.default.getOrganizationMembersFailed(e,t))}))}v.default.UserStore.getState().acquaintances||setTimeout(()=>{S.default.acquaintancesRequested(),u.getUserAcquaintances().then(({acquaintances:e})=>S.default.setAcquaintances(e)).catch(S.default.getAcquaintancesFailed)})}))},trackFilteredNotificationsChange(){c.default.trackEventWithFilterDetails("Filtered notifications")},trackItemClick(e){c.default.trackEventWithFilterDetails("Clicked notification",{Mention:c.default.hasMention(e),Source:"Notifications page"})},setSidebarWidth(e){y.userPrefs.set("activitiesSidebarWidth",e)},setNotificationWelcomeMessageMinimized(e){y.userPrefs.set("notificationWelcomeMessageMinimized",e)}};t.default=function(){v.default.dispatcher.register(e=>{switch(e.type){case l.default.Select:E.selected(e);break;case l.default.RequestRelatedUsers:E.requestRelatedUsers(e.oid,e.uid);break;case l.default.SelectColor:case l.default.SelectNoteStatusFilterType:case l.default.SelectMember:case l.default.SelectSection:E.trackFilteredNotificationsChange();break;case l.default.SetSidebarWidth:E.setSidebarWidth(e.sidebarWidth);break;case l.default.SetNotificationWelcomeMessageMinimized:E.setNotificationWelcomeMessageMinimized(e.notificationWelcomeMessageMinimized)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2008));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(275)),r=n(236),a=i(n(271)),s={switchToOldNotificationExperience(){mixpanel.master.track("Opted-out from Activities beta"),r.userPrefs.set("oldNotificationExperience",!0)},switchToNewNotificationExperience(){mixpanel.master.track("Opted-in to Activities beta"),r.userPrefs.set("oldNotificationExperience",!1)}};t.default=function(){a.default.dispatcher.register(e=>{switch(e.type){case o.default.SWITCH_TO_OLD_NOTIFICATION_EXPERIENCE:s.switchToOldNotificationExperience();break;case o.default.SWITCH_TO_NEW_NOTIFICATION_EXPERIENCE:s.switchToNewNotificationExperience()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2010),o=n(2012);function r(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(271),o=n.n(i),r=n(282),a=n(2011),s=n(284),l=n(260),c=n(264),d=n(245),u=n(248),p=n(262),h=n.n(p);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={handleFetchConnectedAppsData(){Promise.all([Object(l.getAuthorizedApplications)(),...s.OFFICIAL_APPS.map(({_id:e})=>Object(l.getAppStatus)(e))]).then(([e,...t])=>{const n=e.slice().sort(u.sortBy.authorized);a.default.getConnectedAppsDataSuccess({authorizedApplications:n,officialApps:s.OFFICIAL_APPS.reduce((e,n,i)=>g(g({},e),{},{[n._id]:g(g({},n),{},{token:null,status:t[i]?s.appStatus.CONNECTED:s.appStatus.UNCONNECTED})}),{})})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return a.default.getConnectedAppsDataSuccess({authorizedApplications:[],zeplinCLIConnected:!1,zemConnected:!1});c.handleError(e)})},handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){const{_id:n}=e;(s.OFFICIAL_APPS.some(e=>e._id===n)?l.revokeAppToken:l.revokeAuthorizedApplication)(n).then(()=>{a.default.revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t})}).catch(e=>{a.default.revokeAuthorizedApplicationFailure(),c.handleError(e)})},handleFetchDeveloperData(){Promise.all([Object(l.getOwnedApplications)(),Object(l.getPersonalAccessTokens)()]).then(([e,t])=>{const n=e.slice().sort(u.sortBy.updated),i=t.slice().sort(u.sortBy.created);a.default.getDeveloperDataSuccess({ownedApplications:n,personalAccessTokens:i})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return a.default.getDeveloperDataSuccess({ownedApplications:[],personalAccessTokens:[]});c.handleError(e)})},handleFetchApplication({appId:e}){const{fetchedApplicationIds:t,ownedApplications:n}=o.a.AppsStore.getState(),i=n.find(t=>t._id===e);if(t.includes(e))return setTimeout(()=>{a.default.getApplicationSuccess(i)});Object(l.getOwnedApplication)(e).then(a.default.getApplicationSuccess).catch(c.handleError)},handleCreateApplication({application:e}){Object(l.createApplication)(e).then(a.default.createApplicationSuccess).catch(e=>{a.default.createApplicationFailure(),c.handleError(e)})},handleUpdateApplication({appId:e,application:t}){Object(l.updateApplication)(e,t).then(()=>a.default.updateApplicationSuccess({appId:e,application:t})).catch(e=>{a.default.updateApplicationFailure(),c.handleError(e)})},handleDeleteApplication({application:e,toastContainer:t}){Object(l.deleteApplication)(e._id).then(()=>a.default.deleteApplicationSuccess({application:e,toastContainer:t})).catch(e=>{a.default.deleteApplicationFailure(),c.handleError(e)})},handleCreatePersonalAccessToken(){Object(l.createPersonalAccessToken)().then(a.default.createPersonalAccessTokenSuccess).catch(e=>{a.default.createPersonalAccessTokenFailure(),c.handleError(e)})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(l.deletePersonalAccessToken)(e._id).then(()=>{a.default.deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t})}).catch(e=>{a.default.deletePersonalAccessTokenFailure(),c.handleError(e)})},handleRenamePersonalAccessToken({tokenId:e,name:t,oldName:n}){Object(l.renamePersonalAccessToken)(e,t).catch(t=>{a.default.renamePersonalAccessToken({tokenId:e,name:n}),c.handleError(t)})},handleConnectOfficialApp({appId:e}){const t={client_id:e,response_type:"token",redirect_uri:Object(d.urlResolve)("profile-connected-apps"),scope:"read write delete"},n="/oauth/authorize?"+Object(d.joinUrlParams)(t),i="/oauthRedirectUrl?authUrl="+encodeURIComponent(n);fetch(i).then(e=>e.text()).then(t=>{const n=new URL(t).searchParams.get("access_token");n&&a.default.connectOfficialAppSuccess({appId:e,token:n})}).catch(t=>{a.default.connectOfficialAppFailure({appId:e}),c.handleError(t)})}};function S(){o.a.dispatcher.register(e=>{switch(e.type){case r.default.GET_CONNECTED_APPS_DATA_REQUEST:b.handleFetchConnectedAppsData(e);break;case r.default.GET_DEVELOPER_DATA_REQUEST:b.handleFetchDeveloperData(e);break;case r.default.GET_APPLICATION_REQUEST:b.handleFetchApplication(e);break;case r.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleCreatePersonalAccessToken(e);break;case r.default.CREATE_APPLICATION_REQUEST:b.handleCreateApplication(e);break;case r.default.UPDATE_APPLICATION_REQUEST:b.handleUpdateApplication(e);break;case r.default.DELETE_APPLICATION_REQUEST:b.handleDeleteApplication(e);break;case r.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleDeletePersonalAccessToken(e);break;case r.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:b.handleRevokeAuthorizedApplication(e);break;case r.default.RENAME_PERSONAL_ACCESS_TOKEN:b.handleRenamePersonalAccessToken(e);break;case r.default.CONNECT_OFFICIAL_APP_REQUEST:b.handleConnectOfficialApp(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(282);const a={getConnectedAppsData(){o.a.dispatcher.dispatch({type:r.default.GET_CONNECTED_APPS_DATA_REQUEST})},getConnectedAppsDataSuccess({authorizedApplications:e,officialApps:t}){o.a.dispatcher.dispatch({type:r.default.GET_CONNECTED_APPS_DATA_SUCCESS,authorizedApplications:e,officialApps:t})},getDeveloperData(){o.a.dispatcher.dispatch({type:r.default.GET_DEVELOPER_DATA_REQUEST})},getDeveloperDataSuccess({ownedApplications:e,personalAccessTokens:t}){o.a.dispatcher.dispatch({type:r.default.GET_DEVELOPER_DATA_SUCCESS,ownedApplications:e,personalAccessTokens:t})},getApplication(e){o.a.dispatcher.dispatch({type:r.default.GET_APPLICATION_REQUEST,appId:e})},getApplicationSuccess(e){o.a.dispatcher.dispatch({type:r.default.GET_APPLICATION_SUCCESS,application:e})},revokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationFailure(){o.a.dispatcher.dispatch({type:r.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE})},deletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:r.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE})},createPersonalAccessToken(){o.a.dispatcher.dispatch({type:r.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST})},createPersonalAccessTokenSuccess(e){o.a.dispatcher.dispatch({type:r.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e})},createPersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:r.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE})},createApplication(e){o.a.dispatcher.dispatch({type:r.default.CREATE_APPLICATION_REQUEST,application:e})},createApplicationSuccess(e){o.a.dispatcher.dispatch({type:r.default.CREATE_APPLICATION_SUCCESS,application:e})},createApplicationFailure(){o.a.dispatcher.dispatch({type:r.default.CREATE_APPLICATION_FAILURE})},updateApplication({appId:e,application:t}){o.a.dispatcher.dispatch({type:r.default.UPDATE_APPLICATION_REQUEST,appId:e,application:t})},updateApplicationSuccess({appId:e,application:t}){o.a.dispatcher.dispatch({type:r.default.UPDATE_APPLICATION_SUCCESS,appId:e,application:t})},updateApplicationFailure(){o.a.dispatcher.dispatch({type:r.default.UPDATE_APPLICATION_FAILURE})},deleteApplication({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.DELETE_APPLICATION_REQUEST,application:e,toastContainer:t})},deleteApplicationSuccess({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:r.default.DELETE_APPLICATION_SUCCESS,application:e,toastContainer:t})},deleteApplicationFailure(){o.a.dispatcher.dispatch({type:r.default.DELETE_APPLICATION_FAILURE})},renamePersonalAccessToken({tokenId:e,name:t,oldName:n}){o.a.dispatcher.dispatch({type:r.default.RENAME_PERSONAL_ACCESS_TOKEN,tokenId:e,name:t,oldName:n})},connectOfficialApp({appId:e}){o.a.dispatcher.dispatch({type:r.default.CONNECT_OFFICIAL_APP_REQUEST,appId:e})},connectOfficialAppSuccess({appId:e,token:t}){o.a.dispatcher.dispatch({type:r.default.CONNECT_OFFICIAL_APP_SUCCESS,appId:e,token:t})},connectOfficialAppFailure({appId:e}){o.a.dispatcher.dispatch({type:r.default.CONNECT_OFFICIAL_APP_FAILURE,appId:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(271),o=n.n(i),r=n(282),a=n(259);const s={handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){Object(a.default)({text:`App “${e.name}” revoked`,container:t,source:"connectedAppsTab"}),mixpanel.master.track("Revoked access to Zeplin app",{"App ID":e._id})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(a.default)({text:`Token “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted personal access token")},handleDeleteApplication({application:e,toastContainer:t}){Object(a.default)({text:`App “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted Zeplin app")},handleCreateApplication(){mixpanel.master.track("Created Zeplin app")},handleCreatePersonalAccessToken(){mixpanel.master.track("Created personal access token")}};function l(){o.a.dispatcher.register(e=>{switch(e.type){case r.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:s.handleRevokeAuthorizedApplication(e);break;case r.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:s.handleDeletePersonalAccessToken(e);break;case r.default.CREATE_APPLICATION_SUCCESS:s.handleCreateApplication(e);break;case r.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:s.handleCreatePersonalAccessToken(e);break;case r.default.DELETE_APPLICATION_SUCCESS:s.handleDeleteApplication(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2014),o=n(2015),r=n(2016),a=n(2017);function s(){Object(i.default)(),Object(a.default)(),Object(r.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var i=n(271),o=n.n(i),r=n(278),a=n.n(r),s=n(379),l=n(384),c=n.n(l),d=n(388),u=n(248),p=n(316),h=n(263),f=n.n(h),g=n(232),m=n(264),b=n(265),S=n(266),y=n(260);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={project:y.project,styleguide:y.styleguide},T={[g.RESOURCE_TYPE.COLORS]:"updateColorsStyleguide",[g.RESOURCE_TYPE.TEXT_STYLES]:"updateTextStylesStyleguide",[g.RESOURCE_TYPE.COMPONENTS]:"updateComponentSectionsStyleguide"},_={[g.RESOURCE_TYPE.COLORS]:"Moved colors to styleguide",[g.RESOURCE_TYPE.TEXT_STYLES]:"Moved text styles to styleguide",[g.RESOURCE_TYPE.COMPONENTS]:"Moved components to styleguide"},P={handleActivate({bid:e,barrelType:t}){E[t].activate(e).catch(t=>{Object(m.handleError)(t),s.default.archive({bid:e})})},handleArchive({bid:e,barrelType:t}){E[t].archive(e).catch(t=>{Object(m.handleError)(t),s.default.activate({bid:e})})},handleRemove({bid:e,oid:t,oseid:n,barrelType:i,oldBarrel:o}){E[i].delete(e).catch(e=>{Object(m.handleError)(e),s.default.add({barrel:o,oid:t,oseid:n,barrelType:i})})},handleCopy({bid:e,oid:t,barrelName:n,barrelType:i,options:o}){const r={withUsers:o.users};i===f.a.PROJECT&&(r.withDots=o.notes,r.withVersions=o.versions),E[i].copy(e,r).then(({async:e,barrel:o,order:{sectionId:r,index:a}={}})=>{e?c.a.openDialog(g.DialogTypes.ASYNC_COPY_BARREL,{barrelName:n}):s.default.add({barrel:o,barrelType:i,oid:t,oseid:r,index:a,addedWithCopy:!0})}).catch(e=>{c.a.closeDialog(),Object(m.handleError)(e)})},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){E[t].updateName(e,n).catch(t=>{Object(m.handleError)(t),s.default.updateName({bid:e,name:i})})},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){E[t].updateDescription(e,n).catch(t=>{Object(m.handleError)(t),s.default.updateDescription({bid:e,description:i})})},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){E[t].updateDensityScale(e,n).catch(t=>{Object(m.handleError)(t),s.default.updateDensityScale({bid:e,densityScale:i})})},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){E[t].updateThumbnail(e,n).catch(t=>{Object(m.handleError)(t),s.default.updateThumbnail({bid:e,thumbnail:i})})},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:o}){E[t].deleteIntegration(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.addIntegration({bid:e,intype:n,integration:o})})},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){E[t].updateAccessibility(e,n).catch(t=>{Object(m.handleError)(t),s.default.toggleScene({bid:e,accessibility:i})})},handleAddMembers({members:e}){},handleJoin({bid:e,barrelType:t,shouldLoadBarrel:n}){E[t].inviteUser(e).then(i=>{s.default.addMembers({bid:e,barrelType:t,shouldLoadBarrel:n,members:[i]})}).catch(e=>{Object(m.handleError)(e)}).finally(()=>{s.default.stopLoadingJoin()})},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:o}){E[t].updateUserRole(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.updateUserRole({bid:e,uid:n,role:o})})},handleTransferOwnership({bid:e,barrelType:t,uid:n}){E[t].transferOwnership(e,n).then(()=>{s.default.ownershipTransferred({bid:e,barrelType:t,uid:n})}).catch(m.handleError)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:o,removedBarrel:r,removedMember:a}){E[n].removeUser(t,i).catch(i=>{Object(m.handleError)(i),o?s.default.add({oid:e,barrelType:n,barrel:r}):s.default.addMembers({bid:t,barrelType:n,members:[a]})})},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,o=C({},n);delete o._id,delete o.id,E[t].createColor(e,o).then(({_id:t})=>{const n=C(C({},o),{},{_id:t});s.default.updateColor({bid:e,cid:i,colorData:n})}).catch(t=>{Object(m.handleError)(t),s.default.removeColor({bid:e,cid:i})})},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],o=n.map(n=>{const o=C({},n);return delete o._id,delete o.id,i.push(o),E[t].createColor(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const r=i[o],a=n[o]._id;if(t instanceof b.default||t instanceof S.default)return Object(m.handleError)(t),void s.default.removeColor({bid:e,cid:a});const{_id:l}=t,c=C(C({},r),{},{_id:l});s.default.updateColor({bid:e,cid:a,colorData:c})})})},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:o}){E[t].updateColor(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.updateColor({bid:e,cid:n,colorData:o})})},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){E[t].deleteColor(e,n).catch(t=>{Object(m.handleError)(t),s.default.addColor({bid:e,color:i})})},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map(({id:e})=>e);E[t].deleteAllColors(e,{colors:i}).catch(t=>{Object(m.handleError)(t),s.default.addMultipleColors({bid:e,colors:n})})},handleMigrateColors({bid:e,barrelType:t,colorsToUpdate:n,oldDataOfColorsToUpdate:i,colorsToAdd:o}){Object.keys(n).forEach(o=>{const r=n[o];this.handleUpdateColor({bid:e,barrelType:t,cid:o,colorData:{sourceId:r.sourceId,name:r.name,r:r.r,g:r.g,b:r.b,a:r.a},oldColorData:i[o]})}),this.handleAddMultipleColors({bid:e,barrelType:t,colors:o})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,o=C({},n);delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,E[t].createTextStyle(e,o).then(({_id:t})=>{s.default.removeTextStyle({bid:e,tsid:i});const n=C(C({},o),{},{_id:t});s.default.addTextStyle({bid:e,textStyle:n})}).catch(t=>{Object(m.handleError)(t),s.default.removeTextStyle({bid:e,tsid:i})})},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],o=n.map(n=>{const o=C({},n);return delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,i.push(o),E[t].createTextStyle(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const r=i[o],a=n[o]._id;if(t instanceof b.default||t instanceof S.default)return Object(m.handleError)(t),void s.default.removeTextStyle({bid:e,tsid:a});const{_id:l}=t,c=C(C({},r),{},{_id:l});s.default.updateTextStyle({bid:e,tsid:a,textStyleData:c})})})},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:o}){E[t].updateTextStyle(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.updateTextStyle({bid:e,tsid:n,textStyleData:o})})},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){E[t].deleteTextStyle(e,n).catch(t=>{Object(m.handleError)(t),s.default.addTextStyle({bid:e,textStyle:i})})},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map(({id:e})=>e);E[t].deleteAllTextStyles(e,{textStyles:i}).catch(t=>{Object(m.handleError)(t),s.default.addMultipleTextStyles({bid:e,textStyles:n})})},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,o=C({},n);delete o._id,E[t].createSpacingSection(e,o).then(({_id:t})=>{s.default.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:C(C({},o),{},{_id:t})})}).catch(t=>{Object(m.handleError)(t),s.default.removeSpacingSection({bid:e,ssid:i})})},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:o}){E[t].updateSpacingSection(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:o})})},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){E[t].deleteSpacingSection(e,n).catch(t=>{Object(m.handleError)(t),s.default.addSpacingSection({bid:e,spacingSection:i})})},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const o=i._id,r=C({},i);delete r._id,E[t].createSpacingToken(e,n,r).then(({_id:t})=>{s.default.updateSpacingToken({bid:e,ssid:n,sptid:o,updatedSpacingToken:C(C({},r),{},{_id:t})})}).catch(t=>{Object(m.handleError)(t),s.default.removeSpacingToken({bid:e,ssid:n,sptid:o})})},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:o,oldSpacingToken:r}){E[t].updateSpacingToken(e,n,i,o).catch(t=>{Object(m.handleError)(t),s.default.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:r})})},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:o,removedSpacingToken:r}){E[t].deleteSpacingToken(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.addSpacingToken({bid:e,ssid:n,isBaseToken:o,spacingToken:r})})},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){E[t].updateRemPreferences(e,n).catch(t=>{Object(m.handleError)(t),s.default.updateRemPreferences({bid:e,updatedRemPreferences:i})})},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:o,oldComponentData:r}){E[t].updateComponent(e,n,i,o).catch(t=>{Object(m.handleError)(t),s.default.updateComponent({bid:e,csids:n,coid:i,componentData:r})})},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:o}){E[t].deleteComponent(e,n,i).then(({variantSection:n})=>{if(n){const{_id:i,variant:o}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,sectionVariant:o})}}).catch(t=>{Object(m.handleError)(t),s.default.addComponent({bid:e,csids:n,component:o})})},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:o}){E[t].updateComponentSection(e,n,i).catch(t=>{Object(m.handleError)(t),s.default.updateComponentSection({bid:e,csids:n,componentSectionData:o})})},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,index:o,flatten:r,oldComponentSection:a}){E[t].mergeComponentSection(e,n,i,r).catch(t=>{Object(m.handleError)(t),r||a.componentSections.forEach(t=>{s.default.removeComponentSection({bid:e,csids:t.idPath})});(r?Object(u.collectComponents)([a]):a.components).forEach(t=>{s.default.removeComponent({bid:e,csids:i,coid:t._id})}),s.default.addComponentSection({bid:e,csids:n,componentSection:a,index:o})})},handleMoveResourcesRequest(e){const{bid:t,barrelType:n,densityScale:i,resourceType:o,resources:r,targetStyleguideId:a}=e;let l=Promise.resolve();o===g.RESOURCE_TYPE.COMPONENTS&&i&&(l=E[f.a.STYLEGUIDE].updateDensityScale(a,i));const c=T[o],d=r.map(e=>e._id);l.then(()=>E[n][c](t,a,d)).then(()=>{mixpanel.master.track(_[o]),s.default.moveResourcesSuccess({resourceType:o,resources:r,bid:t,barrelType:n,targetStyleguideId:a})}).catch(e=>{Object(m.handleError)(e),s.default.moveResourcesFail()})},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))};E[t].updateComponentsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:r,components:a}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:r,components:a})})}).catch(t=>{Object(m.handleError)(t);const i=n.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));s.default.updateComponentsOrder({bid:e,components:i})})},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const o={index:i.index,name:i.name,components:i.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};E[t].addComponentSection(e,n,o).then(({_id:i,variantSections:o})=>{s.default.updateComponentSection({bid:e,csids:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID),componentSectionData:{_id:i,csids:n.concat(i),newSection:!1}}),o&&o.forEach(n=>{const{_id:i,name:o,variant:r,components:a}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:r,components:a})})}).catch(t=>{Object(m.handleError)(t);const o=i.components.map(e=>({coid:e.coid,csid:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID),tcsid:e.csid,to:e.index}));s.default.updateComponentsOrder({bid:e,components:o}),s.default.removeComponentSection({bid:e,csids:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID)})})},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map(e=>{const t={csid:e.csid.join("/"),to:e.to};return e.tcsid&&(t.tcsid=e.tcsid.join("/")),t})};E[t].updateComponentSectionsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:r,components:a}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:r,components:a})})}).catch(t=>{Object(m.handleError)(t);const i=n.map(e=>({csid:e.csid,to:e.sourceIndex}));s.default.updateComponentSectionsOrder({bid:e,componentSections:i})})},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){E[e].updateWorkflowStatus([t],n).catch(e=>{Object(m.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:i})})},handleUpdateWorkflowStatuses({statusUpdatedBarrels:e,workflowStatus:{_id:t}}){e.forEach(({barrelType:e,bid:n,oldWorkflowStatusData:i})=>{E[e].updateWorkflowStatus([n],t).catch(e=>{Object(m.handleError)(e),s.default.updateWorkflowStatus({bid:n,workflowStatus:i})})})},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){E[e].deleteWorkflowStatus([t]).catch(e=>{Object(m.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:n})})},handleDeleteWorkflowStatuses(e){e.statusDeletedBarrels.forEach(({barrelType:e,bid:t,oldWorkflowStatusData:n})=>{E[e].deleteWorkflowStatus([t]).catch(e=>{Object(m.handleError)(e),s.default.updateWorkflowStatus({bid:t,workflowStatus:n})})})}};function j(){o.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case a.a.ACTIVATE:P.handleActivate(e);break;case a.a.ARCHIVE:P.handleArchive(e);break;case a.a.REMOVE:P.handleRemove(e);break;case a.a.COPY:P.handleCopy(e);break;case a.a.UPDATE_NAME:P.handleUpdateName(e);break;case a.a.UPDATE_DESCRIPTION:P.handleUpdateDescription(e);break;case a.a.UPDATE_DENSITY_SCALE:P.handleUpdateDensityScale(e);break;case a.a.UPDATE_THUMBNAIL:P.handleUpdateThumbnail(e);break;case a.a.REMOVE_INTEGRATION:P.handleRemoveIntegration(e);break;case a.a.TOGGLE_SCENE:P.handleToggleScene(e);break;case a.a.ADD_MEMBERS:P.handleAddMembers(e);break;case a.a.UPDATE_USER_ROLE:P.handleUpdateUserRole(e);break;case a.a.TRANSFER_OWNERSHIP:P.handleTransferOwnership(e);break;case a.a.REMOVE_MEMBER:P.handleRemoveMember(e);break;case a.a.ADD_COLOR:P.handleAddColor(e);break;case a.a.ADD_MULTIPLE_COLORS:P.handleAddMultipleColors(e);break;case a.a.UPDATE_COLOR:P.handleUpdateColor(e);break;case a.a.REMOVE_COLOR:P.handleRemoveColor(e);break;case a.a.REMOVE_ALL_COLORS:P.handleRemoveAllColors(e);break;case a.a.MIGRATE_COLORS:P.handleMigrateColors(e);break;case a.a.ADD_TEXT_STYLE:P.handleAddTextStyle(e);break;case a.a.ADD_MULTIPLE_TEXT_STYLES:P.handleAddMultipleTextStyles(e);break;case a.a.UPDATE_TEXT_STYLE:P.handleUpdateTextStyle(e);break;case a.a.REMOVE_TEXT_STYLE:P.handleRemoveTextStyle(e);break;case a.a.REMOVE_ALL_TEXT_STYLES:P.handleRemoveAllTextStyles(e);break;case a.a.ADD_SPACING_SECTION:P.handleAddSpacingSection(e);break;case a.a.UPDATE_SPACING_SECTION:P.handleUpdateSpacingSection(e);break;case a.a.REMOVE_SPACING_SECTION:P.handleRemoveSpacingSection(e);break;case a.a.ADD_SPACING_TOKEN:P.handleAddSpacingToken(e);break;case a.a.UPDATE_SPACING_TOKEN:P.handleUpdateSpacingToken(e);break;case a.a.REMOVE_SPACING_TOKEN:P.handleRemoveSpacingToken(e);break;case a.a.UPDATE_REM_PREFERENCES:P.handleUpdateRemPreferences(e);break;case a.a.UPDATE_COMPONENT_SECTION:P.handleUpdateComponentSection(e);break;case a.a.MERGE_COMPONENT_SECTION:P.handleMergeComponentSection(e);break;case a.a.UPDATE_COMPONENT:P.handleUpdateComponent(e);break;case a.a.REMOVE_COMPONENT:P.handleRemoveComponent(e);break;case a.a.JOIN:P.handleJoin(e);break;case a.a.MOVE_RESOURCES_REQUEST:P.handleMoveResourcesRequest(e);break;case a.a.UPDATE_COMPONENTS_ORDER:P.updateComponentsOrder(e);break;case a.a.ADD_COMPONENT_SECTION:P.addComponentSection(e);break;case a.a.UPDATE_COMPONENT_SECTIONS_ORDER:P.handleUpdateComponentSectionsOrder(e);break;case a.a.UPDATE_WORKFLOW_STATUS:P.handleUpdateWorkflowStatus(e);break;case a.a.UPDATE_WORKFLOW_STATUSES:P.handleUpdateWorkflowStatuses(e);break;case a.a.DELETE_WORKFLOW_STATUS:P.handleDeleteWorkflowStatus(e);break;case a.a.DELETE_WORKFLOW_STATUSES:P.handleDeleteWorkflowStatuses(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(278),o=n.n(i),r=n(379),a=n(271),s=n.n(a),l=n(231),c=n(230);function d(e){const t=e+"-workspace-path";l.default.ipcRenderer.removeAllListeners(t),l.default.ipcRenderer.once(t,(e,t)=>{r.default.setConnectedComponentsWorkspacePath(t)})}const u={addToSlack({bid:e,barrelType:t,name:n}){l.default.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){l.default.ipcRenderer.removeAllListeners("editor-info"),l.default.ipcRenderer.once("editor-info",(e,t)=>{r.default.setConnectedComponentsEditorInfo(t)}),l.default.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){l.default.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){d(e),l.default.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){d(e),l.default.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};function p(){c.isWindowsApp&&s.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_TO_SLACK:u.addToSlack(e);break;case o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO:u.getConnectedComponentsEditorInfo(e);break;case o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:u.setConnectedComponentsEditorPreference(e);break;case o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:u.selectConnectedComponentsWorkspaceFolder(e);break;case o.a.OPEN_COMPONENT_FILE_IN_EDITOR:u.openComponentFileInEditor(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var i=n(278),o=n.n(i),r=n(379),a=n(364),s=n(271),l=n.n(s),c=n(248),d=n(245),u=n(249),p=n(1549),h=n(247),f=n(2001),g=n(244),m=n(1550),b=n(263),S=n.n(b),y=n(230),v=n(253),C=n(367),O=n.n(C),E=n(233),T=n(260),_=n(976);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={handleGoToDashboard({bid:e,tagFilter:t}){const n=Object(d.getTagQueryParams)(t),i=Object(d.urlResolve)("project-dashboard",{url:{pid:e},query:n});O.a.history.push(i)},handleGoToStyleguide({bid:e}){const t=Object(d.urlResolve)("project-styleguide",{url:{bid:e}});O.a.history.push(t)},handleAdd({barrel:e,barrelType:t}){Object(f.subscribeToBarrelChannel)(t,e._id)},handleArchive({barrelType:e,bid:t,currentBid:n,affectedIds:i,name:o,uid:r,currentUserId:s,user:l,syncWithApi:c}){if(c&&mixpanel.master.track("Archived "+e,{[e+"_id"]:t}),i.includes(n)){if(!c&&r!==s){const e=l&&l.user.username,t=l?`${e} archived “${o}”.`:`“${o}” is archived.`,n="You won’t be able to access its resources from now on."+(l?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:t,message:n})}a.default.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:o,currentUserId:r,user:s,syncWithApi:l}){if(Object(f.unsubscribeFromBarrelChannel)(n,e),l&&mixpanel.master.track("Deleted "+n,{[n+"_id"]:e}),e===t){if(!l&&o!==r){const e=s&&s.user.username,{name:t}=i,n=s?`${e} deleted “${t}”.`:`“${t}” is deleted.`,o="You won’t be able to access its resources from now on."+(s?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:o})}a.default.navigateToWorkspace()}},handleAddMembers({bid:e,barrelType:t,shouldLoadBarrel:n}){if(n){const n=t===S.a.PROJECT?Object(d.urlResolve)("project-dashboard",{url:{pid:e}}):Object(d.urlResolve)("styleguide",{url:{bid:e}});setTimeout(()=>{O.a.history.push(n)},4)}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:o,removingUser:r,shouldRemoveBarrel:s,removedBarrel:l,syncWithApi:c}){if(s){if(Object(f.unsubscribeFromBarrelChannel)(n,e),!c&&t!==o&&e===i){const e=r&&r.user.username,{name:t}=l,n=r?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(r?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:i})}e===i&&a.default.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:o,containerName:r,version:a,assetId:s,format:l,toastContainer:d,source:u}){Object(p.downloadAsset)({barrelId:e,platform:o,containerName:r,version:a,assetId:s,format:l,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:d}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(o)),mixpanel.master.track("Downloaded asset",{Format:l,Source:u})},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:o,containerName:r,version:a,assetList:s,toastContainer:l,source:d}){Object(p.downloadMultipleAsset)({barrelId:e,platform:o,containerName:r,version:a,assetList:s,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:l}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(o)),mixpanel.master.track("Downloaded asset",{Source:d,Count:s.length})},handleExportCode({barrelName:e,platform:t,resourceType:n,source:i,exportObjects:o,extensionId:r}){Object(p.exportCode)({resourceType:n,barrelName:e,exportObjects:o});const{extensions:a}=l.a.ExtensionsStore.getState(),s=a.find(({_id:e})=>e===r);Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(t)),mixpanel.master.track("Downloaded code snippet",{Source:i,"Extension ID":s._id,"Extension Name":s.name})},handleCopyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:o}){Object(h.copyContent)({content:e,toastContainer:t});const{extensions:r}=l.a.ExtensionsStore.getState(),a=r.find(({_id:e})=>e===i);mixpanel.master.track("Copied code snippet",{Source:o,"Extension ID":a._id,"Extension Name":a.name}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(n))},handleOpenExportTarget(){m.openExportTarget()},handleChangeExportTarget(){m.changeExportTarget()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=document.querySelector("."+t),r=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(h.copyContent)({content:Object(_.getShortlink)(r),toastContainer:o})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===S.a.PROJECT?"pid":"stid",o=document.querySelector("."+t),r=`${E.ZPL_PROTOCOL}//components?${i}=${e}&cseid=${n}`;Object(h.copyContent)({content:r,toastContainer:o})},fetchComponentSectionShortLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(_.fetchShortlink)(o)},addToSlack({bid:e,barrelType:t}){if(y.isWindowsApp)return;const n=Object(u.getRandomString)();localStorage.setItem("slackState",n);const i=t===S.a.PROJECT?{pid:e}:{stid:e},o={scope:E.SLACK_SCOPE,client_id:E.SLACK_CLIENT_ID,redirect_uri:Object(d.urlResolve)("huggingSlack",{query:i}),state:n},r=new URL(E.SLACK_AUTH_URL);r.search=new URLSearchParams(o),Object(h.openLink)(r.toString(),{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===S.a.PROJECT){if(Object(T.getProjectLocalConnectedComponents)(e).then(t=>{r.default.setLocalConnectedComponents(j({bid:e},t))}),!n)return;const{status:t,styleguide:i}=n;if("active"===!t)return;const o=[i._id,...i.ancestors];return void Promise.all(o.map(e=>Object(T.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{r.default.setLocalConnectedComponents(j({bid:o[t]},e))})})}const o=[e,...i];Promise.all(o.map(e=>Object(T.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{r.default.setLocalConnectedComponents(j({bid:o[t]},e))})})},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),e.hasOwnProperty("description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({isBaseToken:e,updatedSpacingToken:t}){const{token:n,value:i,color:o}=t;e&&mixpanel.master.track("Changed base token"),n&&mixpanel.master.track("Changed spacing token name"),t.hasOwnProperty("value")&&mixpanel.master.track("Changed spacing token value",{Value:i}),o&&mixpanel.master.track("Changed spacing token color",{Color:new v.default(o).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e,isRevert:t}){const{status:n,useForFontSizes:i,useForMeasurements:o,remRootFontSize:r}=e,a={};t&&mixpanel.master.track("Reverted rem settings"),n&&(a["Is Enabled"]="enabled"===n),e.hasOwnProperty("useForFontSizes")&&(a["Use for Font Size"]=i),e.hasOwnProperty("useForMeasurements")&&(a["Use for Measurements"]=o),r&&(a["Root Font Size"]=r),mixpanel.master.track("Changed rem settings",a)},handleUpdateWorkflowStatus({bid:e,workflowStatus:t}){mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),project_id:e})},handleUpdateWorkflowStatuses(e){const{workflowStatus:t,statusUpdatedBarrels:n}=e;n.forEach(({bid:e})=>{mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),"Project Count":n.length,project_id:e})})},handleDeleteWorkflowStatus({bid:e}){mixpanel.master.track("Remove project status",{project_id:e})},handleDeleteWorkflowStatuses(e){const{statusDeletedBarrels:t}=e;t.forEach(({bid:e})=>{mixpanel.master.track("Remove project status",{"Project Count":t.length,project_id:e})})},handleUpdateDescription({barrelType:e}){mixpanel.master.track("Changed description",{Target:Object(u.uppercaseFirst)(e)})},handleUpdateComponent({componentData:{description:e}}){e&&mixpanel.master.track("Changed description",{Target:"Component"})},handleActivate({barrelType:e,bid:t}){mixpanel.master.track("Activated "+e,{[e+"_id"]:t})},handleChangeAssetName({source:e}){mixpanel.master.track("Changed asset name",{Source:e})},handleAddColor(){mixpanel.master.track("Created color")},handleAddComponentSection({isCreateGroup:e}){e?mixpanel.master.track("Created component group"):mixpanel.master.track("Created component section")},handleAddTextStyle(){mixpanel.master.track("Created text style")},handleRemoveColor(){mixpanel.master.track("Deleted color")},handleMergeComponentSection(){mixpanel.master.track("Deleted component section")},handleRemoveSpacingSection(){mixpanel.master.track("Deleted spacing section")},handleRemoveSpacingToken(){mixpanel.master.track("Deleted spacing token")},handleRemoveTextStyle(){mixpanel.master.track("Deleted text style")},handleToggleSVGOptimization({showOptimizedSVG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized SVGs")},handleJoin({barrelType:e,source:t}){mixpanel.master.track("Joined "+e,{Source:t})},handleUpdateComponentsOrder(){mixpanel.master.track("Reordered component")},handleUpdateComponentSection({componentSectionData:{name:e,description:t},isComponentGroup:n}){e&&(n?mixpanel.master.track("Renamed component group"):mixpanel.master.track("Renamed component section")),t&&mixpanel.master.track("Changed description",{Target:"Component section"})},handleChangeAssetNamingConvention({assetNamingConvention:e}){mixpanel.master.track("Selected asset naming convention",{Convention:e})},handleToggleScene({accessibility:e}){e?mixpanel.master.track("Shared project"):mixpanel.master.track("Unshared project")}};function I(){l.a.dispatcher.register(e=>{switch(e.type){case o.a.GO_TO_DASHBOARD:k.handleGoToDashboard(e);break;case o.a.GO_TO_STYLEGUIDE:k.handleGoToStyleguide(e);break;case o.a.ADD:k.handleAdd(e);break;case o.a.ARCHIVE:k.handleArchive(e);break;case o.a.REMOVE:k.handleRemove(e);break;case o.a.ADD_MEMBERS:k.handleAddMembers(e);break;case o.a.REMOVE_MEMBER:k.handleRemoveMember(e);break;case o.a.DOWNLOAD_ASSET:k.handleDownloadAsset(e);break;case o.a.DOWNLOAD_MULTIPLE_ASSET:k.handleDownloadMultipleAsset(e);break;case o.a.EXPORT_CODE:k.handleExportCode(e);break;case o.a.COPY_CODE:k.handleCopyCode(e);break;case o.a.OPEN_EXPORT_TARGET:k.handleOpenExportTarget();break;case o.a.CHANGE_EXPORT_TARGET:k.handleChangeExportTarget();break;case o.a.COPY_COMPONENT_SECTION_WEB_LINK:k.handleCopyComponentSectionWebLink(e);break;case o.a.COPY_COMPONENT_SECTION_APP_URI:k.handleCopyComponentSectionAppURI(e);break;case o.a.FETCH_COMPONENT_SECTION_SHORT_LINK:k.fetchComponentSectionShortLink(e);break;case o.a.ADD_TO_SLACK:k.addToSlack(e);break;case o.a.ENABLE_DEV_MODE:k.trackEnableLocalConfiguration();case o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS:k.fetchLocalConnectedComponents(e);break;case o.a.ADD_SPACING_SECTION:e.syncWithApi&&k.handleAddSpacingSection();break;case o.a.UPDATE_SPACING_SECTION:e.syncWithApi&&k.handleUpdateSpacingSection(e);break;case o.a.ADD_SPACING_TOKEN:e.syncWithApi&&k.handleAddSpacingToken();break;case o.a.UPDATE_SPACING_TOKEN:e.syncWithApi&&k.handleUpdateSpacingToken(e);break;case o.a.UPDATE_REM_PREFERENCES:e.syncWithApi&&k.handleUpdateRemPreferences(e);break;case o.a.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&k.handleUpdateWorkflowStatus(e);break;case o.a.UPDATE_WORKFLOW_STATUSES:e.syncWithApi&&k.handleUpdateWorkflowStatuses(e);break;case o.a.DELETE_WORKFLOW_STATUS:e.syncWithApi&&k.handleDeleteWorkflowStatus(e);break;case o.a.DELETE_WORKFLOW_STATUSES:e.syncWithApi&&k.handleDeleteWorkflowStatuses(e);break;case o.a.UPDATE_DESCRIPTION:e.syncWithApi&&k.handleUpdateDescription(e);break;case o.a.UPDATE_COMPONENT:e.syncWithApi&&k.handleUpdateComponent(e);break;case o.a.ACTIVATE:e.syncWithApi&&k.handleActivate(e);break;case o.a.CHANGE_ASSET_NAME:k.handleChangeAssetName(e);break;case o.a.ADD_COLOR:e.syncWithApi&&k.handleAddColor();break;case o.a.ADD_COMPONENT_SECTION:e.syncWithApi&&k.handleAddComponentSection(e);break;case o.a.ADD_TEXT_STYLE:e.syncWithApi&&k.handleAddTextStyle();break;case o.a.REMOVE_COLOR:e.syncWithApi&&k.handleRemoveColor();break;case o.a.MERGE_COMPONENT_SECTION:e.syncWithApi&&k.handleMergeComponentSection();break;case o.a.REMOVE_SPACING_SECTION:e.syncWithApi&&k.handleRemoveSpacingSection();break;case o.a.REMOVE_SPACING_TOKEN:e.syncWithApi&&k.handleRemoveSpacingToken();break;case o.a.REMOVE_TEXT_STYLE:e.syncWithApi&&k.handleRemoveTextStyle();break;case o.a.TOGGLE_SVG_OPTIMIZATION:k.handleToggleSVGOptimization(e);break;case o.a.JOIN:k.handleJoin(e);break;case o.a.UPDATE_COMPONENTS_ORDER:e.syncWithApi&&k.handleUpdateComponentsOrder();break;case o.a.UPDATE_COMPONENT_SECTION:e.syncWithApi&&k.handleUpdateComponentSection(e);break;case o.a.CHANGE_ASSET_NAMING_CONVENTION:k.handleChangeAssetNamingConvention(e);break;case o.a.TOGGLE_SCENE:e.syncWithApi&&k.handleToggleScene(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(271),o=n.n(i),r=n(278),a=n.n(r),s=n(236);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:o}){const r=n.assets.find(e=>e._id===i);return r?(r.localName=o,s.barrelPrefs.get(e,t,"assetNames").then((n={})=>(null===o?delete n[i]:n[i]=o,s.barrelPrefs.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>s.barrelPrefs.get(e,"assetDensityScalePrefs").then(i=>s.barrelPrefs.set(e,"assetDensityScalePrefs",c(c({},i),{},{[t]:n}))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>s.barrelPrefs.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>s.barrelPrefs.set(e,"showOptimizedSVG",t),dismissNoResourceInfo:({bid:e})=>s.barrelPrefs.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>s.barrelPrefs.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>s.userPrefs.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>s.userPrefs.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>s.userPrefs.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>s.userPrefs.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,workspace:t})=>s.barrelPrefs.set(e,"connectedComponentsLocalWorkspace",t),highlightedConnectToCodeButtonViewed:()=>s.userPrefs.get("numberOfHighlightedConnectToCodeButtonViews").then(e=>{s.userPrefs.set("numberOfHighlightedConnectToCodeButtonViews",e+1)}),markConnectedComponentsOnboardingDialogAsSeen:()=>s.userPrefs.set("connectedComponentsOnboardingDialogSeen",!0)};function p(){o.a.dispatcher.register(e=>{switch(e.type){case a.a.CHANGE_ASSET_NAME:u.changeAssetName(e);break;case a.a.CHANGE_ASSET_DENSITY_SCALE_PREF:u.setAssetDensityScalePrefs(e);break;case a.a.CHANGE_ASSET_NAMING_CONVENTION:u.changeAssetNamingConvention(e);break;case a.a.TOGGLE_SVG_OPTIMIZATION:u.toggleSVGOptimization(e);break;case a.a.DISMISS_NO_RESOURCE_INFO:u.dismissNoResourceInfo(e);break;case a.a.HIDE_SLACK_RECONNECTION_AUNTIE:u.markSlackReconnectionAuntieAsSeen(e);break;case a.a.HIDE_NO_VECTOR_ASSET_INFO:u.hideNoVectorAssetInfo();break;case a.a.HIDE_DENSITY_MISMATCH_WARNING:u.hideDensityMismatchWarning();break;case a.a.HIDE_SOURCE_FILE_INFO:u.hideSourceFileInfo();break;case a.a.DISMISS_FLOW_LINK_INFO:u.dismissFlowLinkInfo();break;case a.a.ENABLE_DEV_MODE:u.enableDevMove();break;case a.a.DISABLE_DEV_MODE:u.disableDevMode();break;case a.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:u.setConnectedComponentsLocalWorkspace(e);break;case a.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:u.highlightedConnectToCodeButtonViewed();break;case a.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:u.markConnectedComponentsOnboardingDialogAsSeen()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2019),o=n(2020),r=n(2021);function a(){Object(o.default)(),Object(r.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(288),o=n(389),r=n(271),a=n.n(r),s=n(385),l=n(260),c=n(264),d=n(1135);const u={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:r,screens:a}=t;l.createSection(e,{name:r,screens:a,index:n}).then(t=>{o.default.updateSection({pid:e,seid:i,sectionData:t})}).catch(t=>{Object(c.handleError)(t),o.default.removeSection({pid:e,seid:i})})},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:r}){const{_id:a,name:d,screens:u}=t;l.createSection(e,{name:d,screens:u,index:n}).then(t=>{o.default.updateSection({pid:e,seid:a,sectionData:t,highlight:!0}),s.default.removeTag({pid:e,tag:d,syncWithApi:!0})}).catch(t=>{Object(c.handleError)(t),o.default.updateSection({pid:e,seid:i,sectionData:{screens:r}})})},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:r}){l.updateSection(e,t,{name:n}).catch(n=>{o.default.renameSection({pid:e,seid:t,name:i}),Object(c.handleError)(n,{dialogCallback:r})})},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:r}){l.updateSection(e,t,{description:n}).catch(n=>{o.default.updateSectionDescription({pid:e,seid:t,description:i}),Object(c.handleError)(n,{dialogCallback:r})})},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const r=[{_id:t,to:n}];l.updateSectionOrder(e,r).catch(n=>{Object(c.handleError)(n),o.default.updateSectionOrder({pid:e,seid:t,index:i})})},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){l.deleteSection(e,t).catch(t=>{Object(c.handleError)(t),o.default.addSection({pid:e,section:i,index:n})})},handleUpdateScreenOrder({pid:e,screens:t,targetIndex:n,targetSectionId:i,oldIndices:r}){l.updateSectionScreens(e,i,n,t).catch(n=>{Object(c.handleError)(n);for(const[i,{sourceSectionId:a,sourceIndex:s}]of Object(d.default)(t,r))o.default.updateScreenOrder({pid:e,screens:[i],targetSectionId:a,targetIndex:s})})}};function p(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CREATE_SECTION:u.handleCreateSection(e);break;case i.default.CONVERT_TAG_TO_SECTION:u.handleConvertTagToSection(e);break;case i.default.RENAME_SECTION:u.handleRenameSection(e);break;case i.default.UPDATE_SECTION_DESCRIPTION:u.handleUpdateSectionDescription(e);break;case i.default.UPDATE_SECTION_ORDER:u.handleUpdateSectionOrder(e);break;case i.default.REMOVE_SECTION:u.handleRemoveSection(e);break;case i.default.UPDATE_SCREEN_ORDER:u.handleUpdateScreenOrder(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(271),o=n.n(i),r=n(288),a=n(245),s=n(1549),l=n(232);const c={changeURL(e){const{barrelId:t,selectedView:n}=o.a.BarrelStore.getState();if(n!==l.ProjectViewTypes.DASHBOARD)return;const{tags:i,untagged:r}=e,s=r?{untagged:"true"}:{tag:i};history.replaceState({},"",Object(a.urlResolve)("project-dashboard",{url:{pid:t},query:s}))},downloadScreens(e,t){Object(s.downloadScreens)(e,t)},createSection(){mixpanel.master.track("Created screen section")},convertTagToSection(){mixpanel.master.track("Converted tag to section")},removeSection(){mixpanel.master.track("Deleted screen section")},updateScreenOrder(){mixpanel.master.track("Reordered screen")},renameSection(){mixpanel.master.track("Renamed screen section")},changeSortType({sortType:e}){mixpanel.master.track("Sorted screens",{Type:e})}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case r.default.CHANGE_TAG_FILTER:c.changeURL(e.tagFilter);break;case r.default.DOWNLOAD_SCREENS:c.downloadScreens(e.screens,e.fileName);break;case r.default.CREATE_SECTION:c.createSection();break;case r.default.CONVERT_TAG_TO_SECTION:c.convertTagToSection();break;case r.default.REMOVE_SECTION:e.syncWithApi&&c.removeSection();break;case r.default.UPDATE_SCREEN_ORDER:e.syncWithApi&&c.updateScreenOrder();break;case r.default.RENAME_SECTION:c.renameSection();break;case r.default.CHANGE_SORT_TYPE:c.changeSortType(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(236),o=n(278),r=n.n(o),a=n(288),s=n(271),l=n.n(s);const c={saveFixedThumbnailSize(){const{barrelId:e}=l.a.BarrelStore.getState(),{fixedThumbnailSize:t}=l.a.DashboardStore.getState();i.barrelPrefs.set(e,"fixedThumbnailSize",t)},saveSidebarWidth(e){const{barrelId:t}=l.a.BarrelStore.getState();i.barrelPrefs.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){if(!e)return;const{barrelId:n}=l.a.BarrelStore.getState();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})}};function d(){l.a.dispatcher.register(e=>{switch(e.type){case a.default.TOGGLE_FIXED_THUMBNAIL_SIZE:c.saveFixedThumbnailSize();break;case a.default.CHANGE_SIDEBAR_WIDTH:c.saveSidebarWidth(e.sidebarWidth);break;case a.default.EXPAND_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!1});break;case a.default.COLLAPSE_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!0});break;case r.a.CHANGE_SELECTED_VIEW:c.toggleSectionState(e.viewUpdate.sectionsToExpand,{shouldCollapse:!1})}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2023),o=n(2024),r=n(2025),a=n(2026);function s(){Object(i.default)(),Object(o.default)(),Object(r.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(290),o=n(1304),r=n(271),a=n.n(r),s=n(264),l=n(260);const c={project:l.project,styleguide:l.styleguide},d={async handleRemove({bid:e,barrelType:t,eid:n,removedExtension:i,local:r}){if(!r)try{await c[t].removeExtension(e,n),mixpanel.master.track("Removed extension",{"Extension ID":n,"Extension Name":i.name})}catch(a){Object(s.handleError)(a),o.default.add({bid:e,extension:i})}}};function u(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.REMOVE:d.handleRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(290),o=n(1304),r=n(271),a=n.n(r),s=n(291),l=n(264),c=n(260);const d={project:c.project,styleguide:c.styleguide},u={async handleInit({bid:e,barrelType:t,enabledExtensions:n}){try{const i=await d[t].getExtensions(e),r=await Promise.all(i.map(n=>new s.WebappExtension(n).load(e,t)));let a=n;null===a&&(a=i.filter(e=>e.default).map(e=>e._id)||[]),o.default.loadExtensions({bid:e,extensions:r,enabledExtensions:a})}catch(i){Object(l.handleError)(i)}},async handleLoad({bid:e,barrelType:t,uid:n,eid:i}){try{const r=await d[t].addExtension(e,i),a=new s.WebappExtension(r);await a.load(e,t),o.default.add({bid:e,uid:n,extension:a})}catch(r){Object(l.handleError)(r),o.default.remove({bid:e,eid:i})}}};function p(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.INIT:u.handleInit(e);break;case i.default.LOAD:u.handleLoad(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(290),o=n(271),r=n.n(o);const a={handleRemove({removedExtension:e}){e.terminate()},handleAdd({local:e}){e&&mixpanel.master.track("Added local extension")}};function s(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.REMOVE:a.handleRemove(e);break;case i.default.ADD:a.handleAdd(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(290),o=n(271),r=n.n(o),a=n(236);const s={async handleEnable({bid:e,eid:t}){const n=await a.barrelPrefs.get(e,"extensions")||[];a.barrelPrefs.set(e,"extensions",n.concat(t))},async handleDisable({bid:e,eid:t}){const n=(await a.barrelPrefs.get(e,"extensions")||[]).filter(e=>e!==t);return a.barrelPrefs.set(e,"extensions",n)},handleLoadExtensions({bid:e,enabledExtensions:t}){a.barrelPrefs.set(e,"extensions",t)}};function l(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.ADD:case i.default.ENABLE:s.handleEnable(e);break;case i.default.DISABLE:case i.default.REMOVE:s.handleDisable(e);break;case i.default.LOAD_EXTENSIONS:s.handleLoadExtensions(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2028),o=n(2029),r=n(2030);function a(){Object(i.default)(),Object(o.default)(),Object(r.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(307),o=n(1225),r=n(271),a=n.n(r),s=n(244),l=n(245),c=n(779),d=n(264),u=n(260);function p(e,t,n){Object(d.handleError)(e,{clientErrorHandler:{402(){s.create({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:d.handleError}})}function h(e,t,n){Object(d.handleError)(e,{clientErrorHandler:{402(){s.create({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:()=>Object(c.showPlanChooserOverlay)({source:t,oid:n})}})},default:d.handleError}})}function f({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():u.updateProjectDensityScale(e,t)}function g(e){const{barrelId:t,resource:n,target:i,densityScale:o,platform:r}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:o}){const{_id:r,name:a,screens:s}=o;let c,d;try{({_id:c,densityScale:d}=await u.createProject({oid:t,platform:n,densityScale:i,name:a}))}catch(g){return void h(g,"Move section to a new project, Reached project limit",t)}try{await f({tpid:c,sourceDensityScale:i,targetDensityScale:d}),await u.moveScreen(e,c,s),await u.deleteSection(e,r),window.location.assign(Object(l.urlResolve)("project",{url:{bid:c}}))}catch(g){p(g,"section","a new project")}}({barrelId:t,oid:i.oid,platform:r,densityScale:o,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const o=t.pid,r=n,a=t.densityScale;try{await f({tpid:o,sourceDensityScale:r,targetDensityScale:a});const{_id:t}=await u.createSection(o,i);await u.moveScreen(e,o,i.screens),await u.updateSectionScreens(o,t,0,i.screens),await u.deleteSection(e,i._id);const n=Object(l.urlResolve)("project",{url:{bid:o},query:{seid:t}});window.location.assign(n)}catch(s){p(s,"section",t.name)}}({barrelId:t,target:i,densityScale:o,section:n})}}const m={move(e){const{resourceType:t}=e;switch(t){case"screen":!async function(e){const{barrelId:t,resource:n,target:i,target:{type:r,oid:a},densityScale:s,platform:l}=e;let c,d;const g="create"===r?"a new project":`"${i.name}"`;switch(r){case"create":try{({_id:c,densityScale:d}=await u.createProject({oid:a,platform:l,densityScale:s}))}catch(m){return h(m,"Move screen to a new project, Reached project limit",a),void o.default.close()}break;case"project":({pid:c,densityScale:d}=i)}try{await f({tpid:c,sourceDensityScale:s,targetDensityScale:d}),await u.moveScreen(t,c,[n._id]),o.default.moveScreen({spid:t,tpid:c,screen:n})}catch(m){p(m,"screen",g)}finally{o.default.close()}}(e);break;case"section":g(e)}}};function b(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.MOVE:m.move(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(307),o=n(271),r=n.n(o),a=n(365),s=n(264),l=n(260),c=n(1103);const d={getProjects(e){a.default.getOrganizationProjects(e)||l.getProjects("user"===e?null:e).then(t=>{c.default.getProjectsSuccess({projects:t,oid:e})}).catch(s.handleError)},getOrganizationsProjects(){const{organizationId:e}=r.a.BarrelStore.getState(),{organizations:t}=r.a.OrganizationStore.getState();t.length&&t.filter(({_id:t})=>t!==e).forEach(({_id:e})=>this.getProjects(e))}};function u(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.OPEN:d.getOrganizationsProjects(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(307),o=n(271),r=n.n(o);const a={move({resourceType:e}){"screen"===e?mixpanel.master.track("Moved screens to project"):"section"===e&&mixpanel.master.track("Moved section to project")}};function s(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.MOVE:e.syncWithApi&&a.move(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(590)),r=i(n(276)),a=n(260),s=i(n(271)),l=i(n(864)),c={onSetReadStatus(e,t,n){const i=e.map(({_id:e})=>e);n&&l.default.trackEventWithFilterDetails(n),a.updateNotificationReadStatus(i,t).catch(()=>o.default.restoreReadStatus(e))},onSetEventReadStatus(e,t,n,i){const r=e._id,s=e.events.filter(({_id:e})=>t.includes(e)).every(({markedAsRead:e})=>e);try{i&&!n&&l.default.trackEventWithFilterDetails("Marked notification as unread")}finally{a.updateNotificationEventReadStatus(r,t,n).catch(()=>o.default.setEventReadStatusOffline(r,t,s))}}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case r.default.SET_READ_STATUS:c.onSetReadStatus(e.notifications,e.markedAsRead,e.trackEventName);break;case r.default.SET_EVENT_READ_STATUS:c.onSetEventReadStatus(e.notification,e.eventIds,e.markedAsRead,e.trackUnreadEvent)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2033),o=n(2034),r=n(2035);function a(){Object(i.default)(),Object(o.default)(),Object(r.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(260),o=n(264),r=n(259),a=n(846),s=n(310),l=n.n(s),c=n(271),d=n.n(c),u=n(1103),p=n(1194),h=n(316);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=!1;function S(e){return e.map(e=>g(g({},e),{},{complete:!1}))}const y={getBarrels(e){Promise.all([i.getProjects(e),i.getStyleguides(e)]).then(([t,n])=>{u.default.getProjectsSuccess({oid:e,projects:S(t)}),p.default.getStyleguidesSuccess({oid:e,styleguides:S(n)})}).catch(o.handleError)},requestInvitation(e,t){b?Object(r.default)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):i.requestOrganizationInvitation(e).then(()=>{b=!0,Object(r.default)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})}).catch(o.handleError)},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:r,poppedBarrel:s,syncWithApi:l}){l&&i.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:r}).then(()=>{a.default.addBarrelToFocusSuccess({oid:e})}).catch(e=>{a.default.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:s}),o.handleError(e)})},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:r,syncWithApi:s}){s&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:r}).then(()=>{a.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{a.default.addBarrelToFocus({bid:n}),o.handleError(e)})},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:r,syncWithApi:s}){s&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:r}).then(()=>{a.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{a.default.repinBarrelToFocus({bid:n}),o.handleError(e)})},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:r},syncWithApi:s}){s&&i.addOrganizationWorkflowStatus(e,{name:n,color:r}).then(({_id:e})=>{a.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:r}})}).catch(e=>{a.default.deleteOrganizationWorkflowStatus({workflowStatusId:t}),o.handleError(e)})},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:r,syncWithApi:s=!0}){s&&i.updateOrganizationWorkflowStatus(e,t,n).catch(e=>{a.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:r.name,color:r.color}}),o.handleError(e)})},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:r}){r&&i.deleteOrganizationWorkflowStatus(e,t).catch(e=>{a.default.addOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:n}),o.handleError(e)})},addProjectSection({oid:e,index:t,sectionData:{name:n,description:r,projects:s},oldIndices:l=[],syncWithApi:c}){c&&i.createOrganizationSection({oid:e,index:t,name:n,description:r,projects:s}).then(({_id:t})=>{a.default.updateProjectSection({oid:e,oseid:h.TEMPORARY_PROJECT_SECTION_ID,sectionData:{_id:t,newSection:!1}})}).catch(t=>{o.handleError(t),l.forEach(({pid:t,oseid:n,index:i})=>{a.default.updateProjectOrder({oid:e,oseid:n,index:i,projects:[t],shouldCalculateActualIndex:!0})}),a.default.removeProjectSection({oid:e,oseid:h.TEMPORARY_PROJECT_SECTION_ID})})},removeProjectSection({oid:e,oseid:t,oldSectionIndex:n,oldSectionData:r,syncWithApi:s}){s&&i.deleteOrganizationSection(e,t).catch(t=>{o.handleError(t),a.default.addProjectSection({oid:e,index:n,sectionData:r,shouldCalculateActualIndex:!0})})},updateProjectSection({oid:e,oseid:t,sectionData:n,oldSectionData:r,syncWithApi:s}){s&&i.updateOrganizationSection(g({oid:e,oseid:t},n)).catch(n=>{a.default.updateProjectSection({oid:e,oseid:t,sectionData:r}),o.handleError(n)})},handleUpdateProjectSectionOrder({oid:e,oseid:t,index:n,oldSectionIndex:r,syncWithApi:s}){s&&i.updateOrganizationSectionsOrder(e,n,[t]).catch(n=>{o.handleError(n),a.default.updateProjectSectionOrder({oid:e,oseid:t,index:r,shouldCalculateActualIndex:!0})})},handleUpdateProjectOrder({oid:e,oseid:t,index:n,projects:r,oldIndices:s=[],syncWithApi:l}){l&&i.updateOrganizationSectionProjects(e,t,n,r).catch(t=>{o.handleError(t),s.forEach(({pid:t,oseid:n,index:i})=>{a.default.updateProjectOrder({oid:e,projects:[t],oseid:n,index:i,shouldCalculateActualIndex:!0})})})},addSectionLink({oid:e,oseid:t,linkData:{_id:n,title:r,url:s},syncWithApi:l}){l&&i.createOrganizationSectionLink(e,t,r,s).then(({_id:i})=>{a.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{_id:i,title:r,url:s}})}).catch(i=>{o.handleError(i),a.default.removeSectionLink({oid:e,oseid:t,oselid:n})})},updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{title:r,url:s},oldLink:l,syncWithApi:c}){c&&i.updateOrganizationSectionLink({oid:e,oseid:t,oselid:n,title:r,url:s}).catch(i=>{o.handleError(i),a.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:l})})},removeSectionLink({oid:e,oseid:t,oselid:n,oldLink:r,syncWithApi:s}){s&&i.deleteOrganizationSectionLink(e,t,n).catch(n=>{o.handleError(n),a.default.addSectionLink({oid:e,oseid:t,linkData:r})})},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:s,toastContainer:l,onSuccess:c,syncWithApi:d}){if(!d)return;(s?i.createOrganizationSubscription:i.updateOrganizationSubscription)(e,{plan:t}).then(()=>{Object(r.default)({text:"Plan Updated",source:"planChooserDialog",container:l}),c(e,t)}).catch(t=>{o.handleError(t),a.default.updateOrganizationSubscription(e,n)})}};function v(){d.a.dispatcher.register(e=>{switch(e.type){case l.a.GET_BARRELS:y.getBarrels(e.oid);break;case l.a.REQUEST_INVITE:y.requestInvitation(e.id,e.container);break;case l.a.ADD_BARREL_TO_FOCUS:y.addBarrelToFocus(e);break;case l.a.REMOVE_BARREL_FROM_FOCUS:y.removeBarrelFromFocus(e);break;case l.a.UNPIN_BARREL_FROM_FOCUS:y.unpinBarrelFromFocus(e);break;case l.a.ADD_ORGANIZATION_WORKFLOW_STATUS:y.addOrganizationWorkflowStatus(e);break;case l.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:y.updateOrganizationWorkflowStatus(e);break;case l.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:y.deleteOrganizationWorkflowStatus(e);break;case l.a.UPDATE_PROJECT_SECTION_ORDER:y.handleUpdateProjectSectionOrder(e);break;case l.a.UPDATE_PROJECT_ORDER:y.handleUpdateProjectOrder(e);break;case l.a.ADD_PROJECT_SECTION:y.addProjectSection(e);break;case l.a.REMOVE_PROJECT_SECTION:y.removeProjectSection(e);break;case l.a.UPDATE_PROJECT_SECTION:y.updateProjectSection(e);break;case l.a.ADD_SECTION_LINK:y.addSectionLink(e);break;case l.a.UPDATE_SECTION_LINK:y.updateSectionLink(e);break;case l.a.REMOVE_SECTION_LINK:y.removeSectionLink(e);break;case l.a.UPDATE_ORGANIZATION_SUBSCRIPTION:y.updateOrganizationSubscription(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(310),o=n.n(i),r=n(271),a=n.n(r);const s={addBarrelToFocusSuccess(){mixpanel.master.track("Pinned project")},unpinBarrelFromFocusSuccess(){mixpanel.master.track("Unpinned project")},onHitPinLimit({focusCountLimit:e,pinnedAnyway:t}){mixpanel.master.track("Hit pin limit",{"Pin Limit":e,"Pinned Anyway":t})},onAddOrganizationWorkflowStatus({workflowStatusData:e}){mixpanel.master.track("Created status",{Name:e.name,Color:e.color.toHexString()})},onUpdateOrganizationWorkflowStatus({workflowStatusData:e,oldWorkflowStatusData:t}){e.hasOwnProperty("name")?mixpanel.master.track("Changed status name",{Name:e.name,Color:t.color.toHexString(),"From Name":t.name}):e.hasOwnProperty("color")&&mixpanel.master.track("Changed status color",{Name:t.name,Color:e.color.toHexString(),"From Color":t.color.toHexString()})},onDeleteOrganizationWorkflowStatus({oldWorkflowStatusData:e}){mixpanel.master.track("Removed status",{Name:e.name,Color:e.color.toHexString()})},onAddProjectSection({sectionData:{projects:e}}){mixpanel.master.track("Created project section",{"Is Empty":0===e.length,"Project Count":e.length})},onRemoveProjectSection(){mixpanel.master.track("Disbanded project section")},onAddSectionLink(){mixpanel.master.track("Added link to project section")},onRemoveSectionLink(){mixpanel.master.track("Removed link from project section")},onUpdateProjectOrder({isDefaultSection:e,projects:t}){mixpanel.master.track(e?"Removed project from section":"Moved project to section",{"Project Count":t.length})},onUpdateProjectSection({sectionData:{name:e,description:t}}){e&&mixpanel.master.track("Renamed project section"),t&&mixpanel.master.track("Changed description",{Target:"Project section"})},onUpdateSectionLink(){mixpanel.master.track("Updated project section link")}};function l(){a.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_BARREL_TO_FOCUS_SUCCESS:s.addBarrelToFocusSuccess();break;case o.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS:s.unpinBarrelFromFocusSuccess();break;case o.a.HIT_PIN_LIMIT:s.onHitPinLimit(e);break;case o.a.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&s.onAddOrganizationWorkflowStatus(e);break;case o.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&s.onUpdateOrganizationWorkflowStatus(e);break;case o.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&s.onDeleteOrganizationWorkflowStatus(e);break;case o.a.ADD_PROJECT_SECTION:e.syncWithApi&&s.onAddProjectSection(e);break;case o.a.REMOVE_PROJECT_SECTION:e.syncWithApi&&s.onRemoveProjectSection();break;case o.a.ADD_SECTION_LINK:e.syncWithApi&&s.onAddSectionLink();break;case o.a.REMOVE_SECTION_LINK:e.syncWithApi&&s.onRemoveSectionLink();break;case o.a.UPDATE_PROJECT_ORDER:e.syncWithApi&&s.onUpdateProjectOrder(e);break;case o.a.UPDATE_PROJECT_SECTION:e.syncWithApi&&s.onUpdateProjectSection(e);break;case o.a.UPDATE_SECTION_LINK:e.syncWithApi&&s.onUpdateSectionLink()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(310),o=n.n(i),r=n(271),a=n.n(r),s=n(236);const l={addBarrelToFocusSuccess(){s.userPrefs.set("pinnedBarrelOnce",!0)},updateDialogDismissStates({oid:e,dialogDismissParams:t}){if(t)for(const[n,i]of Object.entries(t))s.organizationPrefs.set(e,"dialogDismissStates",n,i)}};function c(){a.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_BARREL_TO_FOCUS_SUCCESS:l.addBarrelToFocusSuccess();break;case o.a.ADD_PROJECT_SECTION:case o.a.UPDATE_PROJECT_ORDER:case o.a.UPDATE_PROJECT_SECTION_ORDER:l.updateDialogDismissStates(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2037)),r=i(n(2039));t.default=function(){o.default(),r.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(271)),l=a(n(318)),c=a(n(2038)),d=n(260),u=r(n(264)),p={handleUpdateSeats(e,t){d.updateOrganizationSeats(e,t).then(c.default.updateSeatsSuccess).catch(e=>{c.default.updateSeatsFailure(),u.handleError(e)})},handleCancelScheduledSeatsUpdate(e,t){d.cancelOrganizationScheduledSeatsUpdate(e).then(c.default.cancelScheduledSeatsUpdateSuccess).catch(e=>{c.default.cancelScheduledSeatsUpdateFailure(t),u.handleError(e)})}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case l.default.UPDATE_SEATS_REQUEST:p.handleUpdateSeats(e.oid,e.body);break;case l.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:p.handleCancelScheduledSeatsUpdate(e.oid,e.cancelledScheduledSeatsUpdate)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(318)),r=i(n(271)),a={reset(){r.default.dispatcher.dispatch({type:o.default.RESET})},updateSeats(e,t){r.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_REQUEST,oid:e,body:t})},updateSeatsSuccess(e){r.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_SUCCESS,reservedSeatCount:e})},updateSeatsFailure(){r.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_FAILURE})},getScheduledSeatsUpdate(e){r.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e})},getScheduledSeatsUpdateSuccess(e){r.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS,scheduledSeatsUpdate:e})},cancelScheduledSeatsUpdate(e){const{scheduledSeatsUpdate:t}=r.default.OrganizationBillingStore.getState();r.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e,cancelledScheduledSeatsUpdate:t})},cancelScheduledSeatsUpdateSuccess(){r.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS})},cancelScheduledSeatsUpdateFailure(e){r.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE,cancelledScheduledSeatsUpdate:e})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271)),r=i(n(318)),a=i(n(2038)),s=n(260),l={handleGetScheduledSeatsUpdate(e){s.getOrganizationScheduledSeatsUpdate(e).then(a.default.getScheduledSeatsUpdateSuccess)}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case r.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST:l.handleGetScheduledSeatsUpdate(e.oid)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(286),o=n(1692),r=n(271),a=n.n(r),s=n(260),l=n(264);const c={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;(n?Object(s.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(i=>{n&&mixpanel.master.track("Linked project to styleguide");const{styleguides:o}=a.a.StyleguidesDataStore.getState(),r=[...t.ancestors,t._id].filter(e=>!(o[e]&&o[e].complete));return Promise.all(r.map(t=>Object(s.getStyleguide)(t,{projectId:e._id})))}).then(n=>{o.default.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})}).catch(n=>{o.default.unlinkProjectFromStyleguide({pid:e._id,styleguide:t}),l.handleError(n)})},onProjectUnlink({pid:e,styleguide:t}){Object(s.removeProjectStyleguideLink)(e).catch(n=>{const{projects:{[e]:i}}=a.a.ProjectsDataStore.getState();o.default.linkProjectToStyleguide({project:i,styleguide:t}),l.handleError(n)})}};function d(){a.a.dispatcher.register(e=>{switch(e.type){case i.default.UNLINK_PROJECT:e.syncWithApi&&c.onProjectUnlink(e);break;case i.default.LINK_PROJECT_REQUEST:c.onProjectLink(e)}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(311)),l=a(n(271)),c=a(n(1103)),d=r(n(260)),u={requestProject({pid:e}){setTimeout(()=>{c.default.getProjectRequest(),d.getProject(e).then(e=>c.default.getProjectSuccess({project:e})).catch(c.default.getProjectFailed)})}};t.default=function(){l.default.dispatcher.register(e=>{switch(e.type){case s.default.REQUEST_PROJECT:u.requestProject(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(431),o=n(236),r=n(230),a=n(271),s=n.n(a);const l={updatePrefs(){o.userPrefs.set("recentlyLoadedBarrels",s.a.RecentlyLoadedBarrelsStore.getState())}};async function c(){if(!r.isWindowsApp)return;const{projects:e,styleguides:t}=await o.userPrefs.get("recentlyLoadedBarrels");i.default.initRecentlyLoadedBarrels({projects:e,styleguides:t}),s.a.RecentlyLoadedBarrelsStore.addListener(()=>{l.updatePrefs()})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2044),o=n(2045),r=n(2046),a=n(2047),s=n(2048);function l(){Object(i.default)(),Object(o.default)(),Object(r.default)(),Object(a.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(279),o=n.n(i),r=n(385),a=n(260),s=n(264),l=n(389),c=n(271),d=n.n(c),u=n(364),p=n(370),h=n(236),f=n(328);const g={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){a.updateScreen(e,t,{description:n}).catch(n=>{Object(s.handleError)(n),r.default.updateDescription({pid:e,sid:t,description:i})})},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:o}){a.updateScreen(e,t,{name:n}).catch(n=>{r.default.updateName({pid:e,sid:t,name:i}),Object(s.handleError)(n,{dialogCallback:o})})},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:o})=>a.deleteScreen(e,i).catch(i=>{Object(s.handleError)(i),r.default.addScreen({pid:e,seid:t,index:n,screen:o})}),handleUpdateTags({pid:e,updates:t}){a.updateScreensTags(e,t).then(()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=d.a.DashboardStore.getState();if(t||!e.length)return;const{tags:i}=u.default.getBarrel(),o=[...new Set(n.map(e=>p.default.getScreen({sid:e})).reduce((e,{tags:t=[]})=>e.concat(t),[]))],r=e.filter(e=>i.includes(e)&&(!n.length||o.includes(e)));r.length!==e.length&&l.default.changeTagFilter({tags:r,untagged:t})}).catch(n=>{Object(s.handleError)(n);const i=t.map(({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"}));r.default.updateTags({pid:e,updates:i})})},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:o}){a.updateCommitColor(e,t,n,i).catch(i=>{Object(s.handleError)(i),r.default.updateCommitColor({pid:e,sid:t,vid:n,color:o})})},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:o}){a.updateCommitMessage(e,t,n,i).catch(i=>{Object(s.handleError)(i),r.default.updateCommitMessage({pid:e,sid:t,vid:n,message:o})})},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){a.deleteVersion(e,t,n).then(()=>{r.default.getVersions()}).catch(n=>{Object(s.handleError)(n),r.default.addVersion({pid:e,sid:t,version:i})})},handleAddDot({pid:e,sid:t,dot:n,hasMention:i}){const{_id:o,x:l,y:c,color:d,comments:u}=n;a.createDot(e,t,{x:l,y:c,color:d,comments:u}).then(n=>{const a=Object(f.getColorName)(d);h.barrelPrefs.set(e,"lastNoteColorUsed",a),r.default.updateDot({pid:e,sid:t,did:o,dotData:n}),mixpanel.master.track("Added note",{"Is Reply":!1,"Is Reaction Reply":!1,"Is Reply To Mention":!1,"Has Mention":i,Source:"Screen"})}).catch(n=>{Object(s.handleError)(n),r.default.removeDot({pid:e,sid:t,did:o})})},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:o}){a.updateDot(e,t,n,{color:i}).then(()=>{const t=Object(f.getColorName)(i);h.barrelPrefs.set(e,"lastNoteColorUsed",t),mixpanel.master.track("Changed dot color")}).catch(i=>{Object(s.handleError)(i),r.default.updateDotColor({pid:e,sid:t,did:n,color:o})})},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:o,oldX:l,oldY:c}){a.updateDot(e,t,n,{x:i,y:o}).catch(i=>{Object(s.handleError)(i),r.default.updateDotPosition({pid:e,sid:t,did:n,x:l,y:c})})},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:o,source:l="Screen"}){a.updateDot(e,t,n,{status:i}).then(()=>{mixpanel.master.track(("open"===i?"Reopened":"Resolved")+" note",{Source:l})}).catch(i=>{Object(s.handleError)(i),r.default.updateDotStatus({pid:e,sid:t,did:n,status:o})})},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){a.deleteDot(e,t,n).then(()=>{mixpanel.master.track("Deleted dot")}).catch(n=>{Object(s.handleError)(n),r.default.addDot({pid:e,sid:t,dot:i})})},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:o,toMention:l,hasMention:c,source:d="Screen"}){const{_id:u,note:p}=o;a.createDotComment(e,t,n,p).then(o=>{r.default.updateComment({pid:e,sid:t,did:n,cmid:u,commentData:o}),mixpanel.master.track("Added note",{"Is Reply":!0,"Is Reaction Reply":i,"Is Reply To Mention":l,"Has Mention":c,Source:d})}).catch(i=>{Object(s.handleError)(i),r.default.removeComment({pid:e,sid:t,did:n,cmid:u})})},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:o,oldCommentData:l}){const{note:c}=o,{note:d}=l;c!==d&&a.updateDotCommentNote(e,t,n,i,c).then(()=>{mixpanel.master.track("Edited comment")}).catch(o=>{Object(s.handleError)(o),r.default.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:l})})},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:o}){a.deleteComment(e,t,n,i).then(()=>{mixpanel.master.track("Deleted comment")}).catch(i=>{Object(s.handleError)(i),r.default.addComment({pid:e,sid:t,did:n,comment:o})})}};function m(){d.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case o.a.UPDATE_DESCRIPTION:g.handleUpdateDescription(e);break;case o.a.UPDATE_NAME:g.handleUpdateName(e);break;case o.a.REMOVE_SCREEN:g.handleRemoveScreen(e);break;case o.a.UPDATE_TAGS:g.handleUpdateTags(e);break;case o.a.UPDATE_COMMIT_COLOR:g.handleUpdateCommitColor(e);break;case o.a.UPDATE_COMMIT_MESSAGE:g.handleUpdateCommitMessage(e);break;case o.a.REMOVE_VERSION:g.handleRemoveVersion(e);break;case o.a.ADD_DOT:g.handleAddDot(e);break;case o.a.UPDATE_DOT_COLOR:g.handleUpdateDotColor(e);break;case o.a.UPDATE_DOT_POSITION:g.handleUpdateDotPosition(e);break;case o.a.UPDATE_DOT_STATUS:g.handleUpdateDotStatus(e);break;case o.a.REMOVE_DOT:g.handleRemoveDot(e);break;case o.a.CREATE_COMMENT:g.handleCreateComment(e);break;case o.a.UPDATE_COMMENT:g.handleUpdateComment(e);break;case o.a.REMOVE_COMMENT:g.handleRemoveComment(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(231),o=n(230),r=n(385),a=n(279),s=n.n(a),l=n(271),c=n.n(l);const d={querySourceFile(e){i.default.ipcRenderer.removeAllListeners(e+":sourceFile"),i.default.ipcRenderer.once(e+":sourceFile",(t,n)=>{r.default.setSourceFile({versionId:e,sourceFile:n})}),i.default.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&i.default.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&i.default.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:o,url:r}){i.default.ipcRenderer.send("open-popout",{name:t,width:n,height:o,url:r},e)}};function u(){c.a.dispatcher.register(e=>{if(o.isWindowsApp)switch(e.type){case s.a.OPEN_SCREEN:case s.a.SET_VERSION_ID:d.querySourceFile(e.versionId);break;case s.a.OPEN_SOURCE_FILE:d.openSourceFile(e.path);break;case s.a.OPEN_SOURCE_FOLDER:d.openSourceFolder(e.path);break;case s.a.OPEN_POPOUT:d.openPopout(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var i=n(1428),o=n(386),r=n(260),a=n(264),s=n(379),l=n(385),c=n(279),d=n.n(c),u=n(370),p=n(364),h=n(271),f=n.n(h),g=n(336),m=n.n(g);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let v,C,O;const E={getSnapshot({barrelId:e,screenId:t,versionId:n}){clearTimeout(v);const o=u.default.getScreen();if(!o)return;const s=u.default.getVersion();p.default.isUserRestricted()||s&&s.snapshot&&s.snapshot.layers?setTimeout(()=>{const i=s&&s.snapshot||{};l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i})},4):v=setTimeout(()=>{r.getSnapshot(e,t,n).then(e=>{const t=Object(i.createArtboardLayer)(o.name,e);return e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),e}).catch(a.handleError).then((o={})=>{if(l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o}),!o.assets)return;const r=S({},o);requestIdleCallback(async()=>{await Promise.all(r.assets.map(n=>Object(i.addAssetStats)(e,t,r,n))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:r})})})},300)},async getSnapshotOfNewVersion({pid:e,sid:t,version:{_id:n,fullSnapshotUrl:o}}){const{barrelId:a}=f.a.BarrelStore.getState();if(a!==e)return;const{screenId:s}=f.a.ScreenStore.getState();if(s!==t)return;if(p.default.isUserRestricted())return;const c=u.default.getScreen();if(c)try{const d=await r.fetchSnapshot(o),u=Object(i.createArtboardLayer)(c.name,d);d.layers.unshift(u),Object(i.preprocessLayers)(d.layers),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:d});const p=S({},d);requestIdleCallback(async()=>{await Promise.all(p.assets.map(e=>Object(i.addAssetStats)(a,s,p,e))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:p})})}catch(d){}},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(C);const i=u.default.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=f.a.DotsStore.getState();n&&setTimeout(t=>{l.default.selectDot({dotId:n,commentId:e})},4)}else C=setTimeout(()=>{r.getDots(e,t).then(({dots:n=[]})=>{l.default.setDots({pid:e,sid:t,dots:n})})},300)},getVersions({screenId:e}){clearTimeout(O);const t=u.default.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:o=1/0}=t;if(!(n.length<o&&i>=o))return;const{barrelId:s}=f.a.BarrelStore.getState();O=setTimeout(()=>{r.getVersions(s,e).then(({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach(t=>{if(!("layers"in t.snapshot))return;const n=e.find(e=>t._id===e._id);n&&Object.assign(n.snapshot,t.snapshot)}),{versions:e,totalVersionCount:t,allowedVersionCount:i})).catch(e=>(Object(a.handleError)(e),{versions:n,totalVersionCount:i,allowedVersionCount:o})).then(({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{l.default.setVersions({pid:s,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})})},300)},async getSnapshotOfComponentVariant({coid:e}){const t=p.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore}),n=Object(o.findComponentById)(t,e),{barrelId:a,component:l}=n||{};if(!l)return;const{latestVersion:c}=l;if(c.snapshot.layers&&c.snapshot.layers.length>0)return;const d=[...l.idPath],u=d.pop(),h=p.default.getBarrel({bid:a});try{const e=await r.fetchSnapshot(c.fullSnapshotUrl),t=Object(i.createArtboardLayer)(l.name,e);if(e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),s.default.setComponentSnapshot({bid:h._id,csids:d,coid:u,vid:c._id,snapshot:e}),!e.assets)return;const n=S({},e);await Promise.all(n.assets.map(e=>Object(i.addAssetStats)(h.id,l._id,n,e))),s.default.setComponentSnapshot({bid:a,csids:d,coid:u,vid:c._id,snapshot:n})}catch(g){s.default.setComponentSnapshot({bid:h._id,csids:d,coid:u,vid:c._id,snapshot:{}})}}};function T(){f.a.dispatcher.register(e=>{switch(e.type){case d.a.OPEN_SCREEN:E.getVersions(e),E.getSnapshot(e),E.getDots(e);break;case d.a.GET_VERSIONS:E.getVersions(e);break;case d.a.SET_VERSION_ID:E.getSnapshot(e);break;case d.a.ADD_VERSION:E.getSnapshotOfNewVersion(e);break;case m.a.OPEN:case m.a.CHANGE_VARIANT:E.getSnapshotOfComponentVariant(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(248),o=n(245),r=n(247),a=n(259),s=n(244),l=n(367),c=n.n(l),d=n(288),u=n(279),p=n.n(u),h=n(370),f=n(336),g=n.n(f),m=n(271),b=n.n(m);const S={notify({pid:e,sid:t,uid:n,did:a,userId:s,username:l,comment:d}){if(n===s)return;const{_id:u,note:p,author:h}=d,f=Object(i.mentionRegexFn)(l);if(!h||!f.test(p))return;const g=Object(o.urlResolve)("project-screen",{url:{pid:e,sid:t},query:{did:a,cmid:u}});Object(r.notify)({title:h.username+" mentioned you",body:p,notifier:h,handler(){c.a.history.push(g)}})},selectDot({dotId:e,source:t="Note URL"}){e&&mixpanel.master.track("Opened note",{Source:t})},warnScreenNotFound({barrelId:e,screenId:t}){h.default.getScreen({sid:t})||(s.create({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),c.a.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:r}){if(t||!i)return;c.a.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}));const{userId:a}=b.a.UserStore.getState();if(a===r.user._id)return;const l=r?r.user.username:"Anonymous";s.create({title:l+" deleted this screen",message:`You won’t be able to access "${n.name}" from now on.`})},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e)return void mixpanel.master.track("Deleted version");if(!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";Object(a.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},changeURLForVersionRemoval({pid:e,removingCurrentVersion:t}){if(!t)return;const{screenId:n}=b.a.ScreenStore.getState();history.replaceState({},"Projects - Screen - Zeplin",Object(o.urlResolve)("project-screen",{url:{pid:e,sid:n}}))},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=h.default.getScreen(),i=t.some(({_id:t})=>t===e);n&&!i&&s.create({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})},updateDescription(){mixpanel.master.track("Changed description",{Target:"Screen"})},updateTags({updates:e,isScreen:t}){if("add"===e[0].operation)return void mixpanel.master.track("Tagged screen");e.some(({operation:e})=>"remove"===e)&&(t?mixpanel.master.track("Removed tag"):mixpanel.master.track("Deleted tag"))},showVersion(){mixpanel.master.track("Visited app",{Location:"Screen version panel"})},openPopout(){mixpanel.master.track("Popped screen out")},updateSectionDescription(){mixpanel.master.track("Changed description",{Target:"Screen section"})},selectLayer(){mixpanel.master.track("Inspected layer",{Source:"Screen"})},componentVariantSelectLayer(){mixpanel.master.track("Inspected layer",{Source:"Component state"})},updateDotPosition(){mixpanel.master.track("Moved dot")},updateCommitColor(){mixpanel.master.track("Updated version color")},updateCommitMessage(){mixpanel.master.track("Updated version commit message")}};function y(){b.a.dispatcher.register(e=>{switch(e.type){case p.a.OPEN_SCREEN:S.warnScreenNotFound(e),S.selectDot(e);break;case p.a.REMOVE_SCREEN:S.warnScreenRemoval(e);break;case p.a.SET_VERSION_ID:S.warnVersionNotFound(e);break;case p.a.ADD_VERSION:S.warnVersionRemoval(e);break;case p.a.REMOVE_VERSION:S.warnVersionRemoval(e),S.changeURLForVersionRemoval(e);break;case p.a.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:o,username:r,dot:{_id:a,comments:[s]}}=e;S.notify({pid:t,sid:n,uid:i,did:a,userId:o,username:r,comment:s});break}case p.a.SELECT_DOT:S.selectDot(e);break;case p.a.ADD_COMMENT:S.notify(e);break;case p.a.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:o,userId:r,username:a,did:s,cmid:l,commentData:{note:c}}=e;S.notify({pid:t,sid:n,uid:i,did:s,userId:r,username:a,comment:{_id:l,note:c,author:o}});break}case p.a.UPDATE_DESCRIPTION:e.syncWithApi&&S.updateDescription();break;case p.a.UPDATE_TAGS:e.syncWithApi&&S.updateTags(e);break;case p.a.SHOW_VERSIONS:S.showVersion();break;case p.a.OPEN_POPOUT:S.openPopout();break;case d.default.UPDATE_SECTION_DESCRIPTION:e.syncWithApi&&S.updateSectionDescription();break;case p.a.SELECT_LAYER:S.selectLayer();break;case p.a.UPDATE_DOT_POSITION:S.updateDotPosition();break;case p.a.UPDATE_COMMIT_COLOR:e.syncWithApi&&S.updateCommitColor();break;case p.a.UPDATE_COMMIT_MESSAGE:e.syncWithApi&&S.updateCommitMessage();break;case g.a.SELECT_LAYER:S.componentVariantSelectLayer()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(236),o=n(271),r=n.n(o),a=n(336),s=n.n(a),l=n(279),c=n.n(l);let d,u,p,h,f;const g={saveNoteVisibility(){const{barrelId:e}=r.a.BarrelStore.getState(),{notesVisible:t}=r.a.ScreenStore.getState();clearTimeout(d),d=setTimeout(()=>i.barrelPrefs.set(e,"noteVisibility",t),1e3)},saveNoteFilter(e){const{barrelId:t}=r.a.BarrelStore.getState(),{status:n,color:o}=e;clearTimeout(u),u=setTimeout(async()=>{await i.barrelPrefs.set(t,"noteStatusFilter",n),i.barrelPrefs.set(t,"noteColorFilter",o)},1e3)},saveZoomLevel(){const{barrelId:e}=r.a.BarrelStore.getState(),{zoomLevel:t}=r.a.ScreenStore.getState();clearTimeout(p),p=setTimeout(()=>i.barrelPrefs.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=r.a.BarrelStore.getState(),{layoutGridEnabled:t}=r.a.ScreenStore.getState();clearTimeout(h),h=setTimeout(()=>i.barrelPrefs.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){i.userPrefs.set("versionsTutorialSeen",!0)},saveVersionsLastSeen({sid:e,date:t}){if(!e)return;clearTimeout(f);const{barrelId:n}=r.a.BarrelStore.getState();f=setTimeout(()=>{i.barrelPrefs.set(n,e,"versionsLastSeen",t)},1e3)},saveScreenSidebarWidth(){const{barrelId:e}=r.a.BarrelStore.getState(),{screenSidebarWidth:t}=r.a.ScreenStore.getState();i.barrelPrefs.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=r.a.BarrelStore.getState(),{versionsSidebarWidth:t}=r.a.ScreenStore.getState();i.barrelPrefs.set(e,"versionsSidebarWidth",t)},hideComponentVariantsOnboardingHintbox(){i.userPrefs.set("componentVariantsOnboardingHintboxSeen",!0)},setComponentVariantViewAsSeen(){i.userPrefs.set("componentVariantViewSeen",!0)},incrementNumberOfLayerComponentViews({shouldIncrementNumberOfLayerComponentViews:e,numberOfLayerComponentViews:t}){e&&i.userPrefs.set("numberOfLayerComponentViews",t+1)}};function m(){r.a.dispatcher.register(e=>{switch(e.type){case c.a.SHOW_NOTES:case c.a.HIDE_NOTES:case c.a.SELECT_DOT:case c.a.CREATE_NOTE:case c.a.ENABLE_NOTE_MODE:g.saveNoteVisibility();break;case c.a.CHANGE_DOT_FILTER:g.saveNoteFilter(e);break;case c.a.ZOOM_WITH_GESTURE:case c.a.ZOOM_WITH_WHEEL:case c.a.CHANGE_ZOOM_LEVEL:case c.a.ZOOM_IN:case c.a.ZOOM_OUT:case c.a.RESET_ZOOM:g.saveZoomLevel();break;case c.a.TOGGLE_LAYOUT_GRID:g.saveLayoutGridEnabled();break;case c.a.CHANGE_SCREEN_SIDEBAR_WIDTH:g.saveScreenSidebarWidth();break;case c.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:g.saveVersionsSidebarWidth(e.sidebarWidth);break;case c.a.OPEN_SCREEN:case c.a.ADD_VERSION:g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.SHOW_VERSIONS:case c.a.TOGGLE_VERSIONS:g.saveVersionsTutorialSeen(),g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.HIDE_VERSIONS_AUNTIE:g.saveVersionsTutorialSeen();break;case c.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:g.hideComponentVariantsOnboardingHintbox();break;case c.a.SELECT_LAYER:g.incrementNumberOfLayerComponentViews(e);break;case s.a.OPEN:g.setComponentVariantViewAsSeen()}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(1331)),l=a(n(342)),c=a(n(271)),d=r(n(264)),u=r(n(343)),p=r(n(244)),h=n(260),f=a(n(364)),g={project:h.project,styleguide:h.styleguide},m={initChannel:e=>g[c.default.BarrelStore.getState().barrelType].getIntegrationEvents(f.default.getBarrel()._id,e).then(t=>s.default.load(e,t.events)),init(){f.default.getBarrel().integration.slacks.forEach(e=>{this.initChannel(e._id).catch(()=>{})})},initIfNecessary(e,t){e in c.default.SlackPreferencesStore.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){p.create({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(e).then(()=>s.default.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const n=c.default.SlackPreferencesStore.getState().inid;(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{s.default.eventGroupUpdated(n,e)}).catch(t=>{s.default.eventGroupUpdateFailed(n,e),d.handleError(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].addIntegrationEvent(n,e,o)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].deleteIntegrationEvent(n,e,o)),Promise.resolve())}};t.default=function(){c.default.dispatcher.register(e=>{switch(e.type){case l.default.INIT:m.init();break;case l.default.OPEN:m.initIfNecessary(e.inid,e.channelName);break;case l.default.UPDATE_EVENT_GROUP:m.updateEventGroup(e.eventGroup,e.checked)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2051)),r=i(n(2052));t.default=function(){o.default(),r.default()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(280),o=n.n(i),r=n(271),a=n.n(r),s=n(1103),l=n(1194),c=n(264),d=n(260),u=n(232);const p={project:{get:d.getProject},styleguide:{get:d.getStyleguide}},h={project:{getRequest:s.default.getProjectRequest,getSuccess:s.default.getProjectSuccess,getFailed:s.default.getProjectFailed},styleguide:{getRequest:l.default.getStyleguideRequest,getSuccess:l.default.getStyleguideSuccess,getFailed:l.default.getStyleguideFailed}},f={onPreview({dialogType:e,dialogParams:{previewBarrelId:t}}){const n={project:a.a.ProjectsDataStore,styleguide:a.a.StyleguidesDataStore};if(!t)return;const i=e===u.DialogTypes.PREVIEW_PROJECT?"project":"styleguide",{[i+"s"]:o}=n[i].getState(),r=o[t];if(r&&(r.screens||r.componentSections))return;const s=h[i];s.getRequest(),p[i].get(t).then(e=>{s.getSuccess({[i]:e})}).catch(e=>{s.getFailed(e),c.handleError(e)})}};function g(){a.a.dispatcher.register(e=>{switch(e.type){case o.a.OPEN_DIALOG:setTimeout(f.onPreview,0,e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(280)),r=i(n(271)),a=n(245),s={onWorkflowStatusFilterChange({workflowStatus:e}){mixpanel.master.track("Filtered by status",{Name:e.name,Color:e.color.toHexString()})},onUnhighlightBarrel(){const{selectedOrganizationId:e,selectedTab:t}=r.default.SpaceStore.getState(),n="user"===e?t:"workspace-"+t,i={url:{oid:e}};setTimeout(()=>{history.replaceState(i,"Zeplin - Workspace",a.urlResolve(n,i))},4)}};t.default=function(){r.default.dispatcher.register(e=>{switch(e.type){case o.default.CHANGE_WORKFLOW_STATUS_FILTER:return s.onWorkflowStatusFilterChange(e);case o.default.UNHIGHLIGHT_BARREL:return s.onUnhighlightBarrel()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2054),o=n(2055),r=n(2056),a=n(2057),s=n(2058);function l(){Object(i.default)(),Object(o.default)(),Object(r.default)(),Object(a.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(332),o=n(388),r=n(271),a=n.n(r),s=n(260),l=n(264);const c={project:s.project,styleguide:s.styleguide},d={handleConvertSectionToVariantSection({bid:e,barrelType:t,csid:n}){c[t].convertComponentSectionToVariantSection(e,n).then(({name:i,variant:r,components:a})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:r,components:a,userConvertedSectionIntoVariant:!0})}).catch(l.handleError)},handleConvertVariantSectionToSection({bid:e,barrelType:t,csid:n}){c[t].convertVariantSectionToComponentSection(e,n).then(()=>{o.default.removeComponentVariantData({bid:e,barrelType:t,csid:n})}).catch(l.handleError)},handleAddComponentVariantProperty({bid:e,barrelType:t,csid:n,componentVariantProperty:i}){const{_id:r,name:a}=i;c[t].createComponentSectionVariantProperty(e,n,a).then(({_id:i})=>{const s={_id:i,name:a};o.default.updateComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:r,data:s})}).catch(i=>{Object(l.handleError)(i),o.default.removeComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:r})})},handleUpdateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:r,oldName:a}){c[t].updateComponentSectionVariantProperty(e,n,i,{name:r}).catch(r=>{Object(l.handleError)(r),o.default.updateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:a})})},handleUpdateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:r,oldValues:a}){c[t].updateComponentSectionVariantProperty(e,n,i,{values:r}).catch(r=>{Object(l.handleError)(r),o.default.updateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:a})})},handleUpdateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:i,oldProperties:r}){c[t].updateComponentSectionVariantPropertiesOrder(e,n,{properties:i}).catch(i=>{Object(l.handleError)(i),o.default.updateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:r})})},handleUpdateComponentVariantPropertyValue({bid:e,barrelType:t,csid:n,vpid:i,coid:r,value:a}){c[t].updateComponentsVariantProperty(e,n,i,[r],a).then(({name:i,variant:r,components:a})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:r,components:a})}).catch(l.handleError)},handleRemoveComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,removedComponentVariantProperty:r}){c[t].deleteComponentSectionVariantProperty(e,n,i).catch(a=>{Object(l.handleError)(a),o.default.addComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,componentVariantProperty:r})})},handleCreateComponentSectionVariantGroups({bid:e,barrelType:t,csid:n,vpid:i}){c[t].createComponentSectionVariantGroups(e,n,i).then(({components:i,componentSections:r})=>{o.default.groupComponentsByVariantProperty({bid:e,barrelType:t,csid:n,components:i,componentSections:r})}).catch(l.handleError)}};function u(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:d.handleConvertSectionToVariantSection(e);break;case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:d.handleConvertVariantSectionToSection(e);break;case i.default.ADD_COMPONENT_VARIANT_PROPERTY:d.handleAddComponentVariantProperty(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:d.handleUpdateComponentVariantPropertyName(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:d.handleUpdateComponentVariantPropertyValues(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:d.handleUpdateComponentVariantPropertiesOrder(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:d.handleUpdateComponentVariantPropertyValue(e);break;case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:d.handleRemoveComponentVariantProperty(e);break;case i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS:d.handleCreateComponentSectionVariantGroups(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(332),o=n(271),r=n.n(o),a=n(231),s=n(230);const l={sendHideColorsToElectron({barrelId:e,colors:t}){a.default.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){a.default.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};function c(){r.a.dispatcher.register(e=>{if(s.isWindowsApp)switch(e.type){case i.default.HIDE_SUGGESTED_COLORS:return l.sendHideColorsToElectron(e);case i.default.HIDE_SUGGESTED_TEXT_STYLES:return l.sendHideTextStylesToElectron(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(379),o=n(278),r=n.n(o),a=n(260),s=n(1428),l=n(271),c=n.n(l);const d={async getSnapshot({bid:e,csids:t,coid:n,shouldFetchSnapshot:o,componentVersion:{_id:r,fullSnapshotUrl:l}}){if(o)try{const o=await Object(a.fetchSnapshot)(l);Object(s.preprocessLayers)(o.layers),await o.assets.map(t=>Object(s.addAssetStats)(e,n,o,t)),i.default.setComponentSnapshot({bid:e,csids:t,coid:n,vid:r,snapshot:o})}catch(c){}},getSnapshotIfNecessary(e){const{bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentData:r}=e;if(!r||!r.latestVersion)return;const{latestVersion:{_id:a,fullSnapshotUrl:s}}=r;this.getSnapshot({bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentVersion:{_id:a,fullSnapshotUrl:s}})}};function u(){c.a.dispatcher.register(e=>{switch(e.type){case r.a.ADD_COMPONENT_VERSION:d.getSnapshot(e);break;case r.a.UPDATE_COMPONENT:d.getSnapshotIfNecessary(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(332),o=n(271),r=n.n(o),a=n(336),s=n.n(a),l=n(245),c=n(263),d=n.n(c);const u={handleConvertSectionToVariantSection(){mixpanel.master.track("Set as component variant section")},handleConvertVariantSectionToSection(){mixpanel.master.track("Unset as component variant section")},handleAddComponentVariantProperty(){mixpanel.master.track("Add component variant property")},handleRemoveComponentVariantProperty(){mixpanel.master.track("Remove component variant property")},handleRenameComponentVariantProperty(){mixpanel.master.track("Rename component variant property")},handleUpdateComponentVariantPropertyValues({values:e}){mixpanel.master.track("Update component variant property value",{"Number of Components":e?e.length:1})},handleOpenComponentVariantPopup({variantPopupSource:e}){mixpanel.master.track("Opened component variant pop-up",{Source:e})},handleChangeComponentVariant({variantChangeValueSource:e,isState:t}){mixpanel.master.track("Changed variant in component variant pop-up",{Source:e,"Is State":t})},handleChangeSortType({sortType:e}){mixpanel.master.track("Sorted components",{Type:e})},collapseAllSections(){const{barrelId:e,barrelType:t}=r.a.BarrelStore.getState(),n=t===d.a.PROJECT?"project-styleguide":"styleguide";window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(n+"-components",{url:{bid:e}}))}};function p(){r.a.dispatcher.register(e=>{switch(e.type){case s.a.OPEN:return u.handleOpenComponentVariantPopup(e);case s.a.CHANGE_VARIANT:return u.handleChangeComponentVariant(e);case i.default.CHANGE_SORT_TYPE:return u.handleChangeSortType(e);case i.default.COLLAPSE_ALL_SECTIONS:return u.collapseAllSections()}if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:return u.handleConvertSectionToVariantSection();case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:return u.handleConvertVariantSectionToSection();case i.default.ADD_COMPONENT_VARIANT_PROPERTY:return u.handleAddComponentVariantProperty();case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return u.handleRemoveComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return u.handleRenameComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return u.handleUpdateComponentVariantPropertyValues(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(236),o=n(332),r=n(271),a=n.n(r),s=n(364),l=n(278),c=n.n(l);const d={changeLeftSidebarWidth(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"styleguideRightSidebarWidth",e)},hideComponentVariantsOnboardingDialog(){i.userPrefs.set("componentVariantsOnboardingDialogSeen",!0)},toggleSectionCollapsedState(e,{shouldCollapse:t}){const{id:n}=s.default.getBarrel();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})},updateCollapsedSections(e){const{id:t}=s.default.getBarrel();i.barrelPrefs.set(t,"collapsedSections",e)}};function u(){a.a.dispatcher.register(e=>{switch(e.type){case o.default.CHANGE_LEFT_SIDEBAR_WIDTH:d.changeLeftSidebarWidth(e.leftSidebarWidth);break;case o.default.CHANGE_RIGHT_SIDEBAR_WIDTH:d.changeRightSidebarWidth(e.rightSidebarWidth);break;case o.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:d.hideComponentVariantsOnboardingDialog();break;case o.default.EXPAND_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!1});break;case o.default.COLLAPSE_SECTIONS:case o.default.COLLAPSE_ALL_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!0});break;case o.default.CHANGE_SELECTION:if(!e.updateCollapsedSections||!e.collapsedSections)return;d.updateCollapsedSections(e.collapsedSections);break;case o.default.UPDATE_STATE:if(!e.update||!e.update.collapsedSections)return;d.updateCollapsedSections(e.update.collapsedSections);break;case c.a.LOAD:if(!e.styleguide||!e.styleguide.collapsedSections)return;d.updateCollapsedSections(e.styleguide.collapsedSections)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2060),o=n(2061);function r(){Object(o.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(260),o=n(264),r=n(364),a=n(271),s=n.n(a),l=n(1194),c=n(312);const d={getStyleguide(e,{styleguideId:t}){const n=r.default.getBarrel({bid:e});return n&&n.complete?n:i.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))}},u={selectParentRequest({stid:e,parent:t}){i.updateStyleguideParent(e,t).then(()=>{const{styleguides:n}=s.a.StyleguidesDataStore.getState(),i=[...n[t].ancestors,t].filter(e=>!(n[e]&&n[e].complete));return d.getAncestors(e,i)}).then(n=>{l.default.selectParentSuccess({stid:e,parent:t,styleguides:n})}).catch(e=>{l.default.selectParentFailed(),o.handleError(e)})},removeParent({stid:e,oldParent:t}){i.removeStyleguideParent(e).catch(n=>{t?l.default.selectParent({stid:e,parent:t}):l.default.removeParent({stid:e}),o.handleError(n)})}};function p(){s.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case c.default.SELECT_PARENT_REQUEST:u.selectParentRequest(e);break;case c.default.REMOVE_PARENT:u.removeParent(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(236),o=n(271),r=n.n(o),a=n(312);const s={usedStyleguides(){i.userPrefs.set("styleguidesUsed",!0)}};function l(){r.a.dispatcher.register(e=>{switch(e.type){case a.default.CREATE_STYLEGUIDE:s.usedStyleguides()}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2063));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(271)),r=i(n(353)),a=i(n(2064)),s=n(260),l={project:s.project,styleguide:s.styleguide},c={handleGetTeamsIntegration(e,t){l[e].getTeamsIntegration(t).then(e=>a.default.setTeamsIntegration(e.channels)).catch(()=>a.default.setTeamsIntegration([]))}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case r.default.GET_TEAMS_INTEGRATION:c.handleGetTeamsIntegration(e.barrelType,e.barrelId)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(353)),r=i(n(271)),a={getTeamsIntegration(e,t){r.default.dispatcher.dispatch({type:o.default.GET_TEAMS_INTEGRATION,barrelType:e,barrelId:t})},setTeamsIntegration(e){r.default.dispatcher.dispatch({type:o.default.SET_TEAMS_INTEGRATION,channels:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(2066);function o(){Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(236),o=n(271),r=n.n(o),a=n(359);const s={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":i.userPrefs.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){i.userPrefs.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){i.userPrefs.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){i.userPrefs.set("shouldDisplayStyleguideTutorial",!1)},stopPromotingExportDesignTokens(){i.userPrefs.set("shouldPromoteExportDesignTokens",!1)}};function l(){r.a.dispatcher.register(e=>{switch(e.type){case a.default.SET_USER_ATTRIBUTE:s.setUserAttribute(e);break;case a.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:s.markZeplinThreeZeroWhatsNewAsSeen();break;case a.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:s.stopPromotingSpacingSectionDescriptionEditButton();break;case a.default.HIDE_STYLEGUIDE_TUTORIAL:s.hideStyleguideTutorial();break;case a.default.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:s.stopPromotingExportDesignTokens()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2068),o=n(2070);function r(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(271),o=n.n(i),r=n(356),a=n(2069),s=n(260),l=n(264);const c={handleCreateWebhook({oid:e,webhook:t}){const{subscribedAllEvents:n}=t;n&&delete t.subscriptions,Object(s.createWebhook)(e,t).then(a.default.createWebhookSuccess).catch(e=>{a.default.createWebhookFailure(),l.handleError(e)})},handleUpdateWebhook({oid:e,webhook:t}){const{url:n,secret:i,status:o,subscribedAllEvents:r,subscriptions:c}=t,d={url:n,secret:i,status:o,subscribedAllEvents:r,subscriptions:c};r&&delete d.subscriptions,Object(s.updateWebhook)(e,t._id,d).then(()=>a.default.updateWebhookSuccess(t)).catch(e=>{a.default.updateWebhookFailure(),l.handleError(e)})},handleDeleteWebhook({oid:e,webhookId:t}){Object(s.deleteWebhook)(e,t).then(()=>a.default.deleteWebhookSuccess(t)).catch(e=>{a.default.deleteWebhookFailure(),l.handleError(e)})}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case r.default.CREATE_WEBHOOK_REQUEST:c.handleCreateWebhook(e);break;case r.default.UPDATE_WEBHOOK_REQUEST:c.handleUpdateWebhook(e);break;case r.default.DELETE_WEBHOOK_REQUEST:c.handleDeleteWebhook(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(271),o=n.n(i),r=n(356);const a={getWebhooks(e){o.a.dispatcher.dispatch({type:r.default.GET_WEBHOOKS_REQUEST,oid:e})},getWebhooksSuccess(e){o.a.dispatcher.dispatch({type:r.default.GET_WEBHOOKS_SUCCESS,webhooks:e})},getWebhook(e,t){o.a.dispatcher.dispatch({type:r.default.GET_WEBHOOK_REQUEST,oid:e,webhookId:t})},getWebhookSuccess(e){o.a.dispatcher.dispatch({type:r.default.GET_WEBHOOK_SUCCESS,webhook:e})},getWebhookFailure(){o.a.dispatcher.dispatch({type:r.default.GET_WEBHOOK_FAILURE})},createWebhook(e,t){o.a.dispatcher.dispatch({type:r.default.CREATE_WEBHOOK_REQUEST,oid:e,webhook:t})},createWebhookSuccess(e){o.a.dispatcher.dispatch({type:r.default.CREATE_WEBHOOK_SUCCESS,webhook:e})},createWebhookFailure(){o.a.dispatcher.dispatch({type:r.default.CREATE_WEBHOOK_FAILURE})},updateWebhook(e,t){o.a.dispatcher.dispatch({type:r.default.UPDATE_WEBHOOK_REQUEST,oid:e,webhook:t})},updateWebhookSuccess(e){o.a.dispatcher.dispatch({type:r.default.UPDATE_WEBHOOK_SUCCESS,webhook:e})},updateWebhookFailure(){o.a.dispatcher.dispatch({type:r.default.UPDATE_WEBHOOK_FAILURE})},deleteWebhook(e,t){o.a.dispatcher.dispatch({type:r.default.DELETE_WEBHOOK_REQUEST,oid:e,webhookId:t})},deleteWebhookSuccess(e){o.a.dispatcher.dispatch({type:r.default.DELETE_WEBHOOK_SUCCESS,webhookId:e})},deleteWebhookFailure(){o.a.dispatcher.dispatch({type:r.default.DELETE_WEBHOOK_FAILURE})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(271),o=n.n(i),r=n(356),a=n(2069),s=n(260),l=n(262),c=n.n(l),d=n(264);const u={handleGetWebhooks({oid:e}){Object(s.getWebhooks)(e).then(a.default.getWebhooksSuccess).catch(e=>{if(e.status===c.a.STATUS.PRECONDITION_FAILED)return a.default.getWebhooksSuccess([]);d.handleError(e)})},handleGetWebhook({oid:e,webhookId:t}){const{webhooks:n}=o.a.WebhooksDataStore.getState(),i=n.find(e=>e._id===t)||{};if(i.complete)return setTimeout(()=>{a.default.getWebhookSuccess(i)});Object(s.getWebhook)(e,t).then(a.default.getWebhookSuccess).catch(e=>{a.default.getWebhookFailure(),d.handleError(e)})}};function p(){o.a.dispatcher.register(e=>{switch(e.type){case r.default.GET_WEBHOOKS_REQUEST:u.handleGetWebhooks(e);break;case r.default.GET_WEBHOOK_REQUEST:u.handleGetWebhook(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(234),o=n(589),r=n(236),a=n(260),s=n(2072),l=n(778),c=n(271),d=n.n(c);function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}async function p(){let e=d.a.UserStore.getState(),{loading:t}=e,n=u(e,["loading"]);if(t){if(n=await function(){const e=Object(s.fetchEmbeddedData)("user",{remove:!1});return e?Promise.resolve(e):i.default.get("userToken")?Object(a.getUserProfile)():Promise.resolve(null)}(),!n)return;l.default.loadUser(n)}const{notificationBannerStatus:c,notificationStatus:p,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m}=await r.userPrefs.getAll(),{config:{plans:b}}=d.a.AppStore.getState(),S=b.find(e=>e.id===n.paymentPlan);l.default.updateUser({isDesktopNotificationEnabled:p,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m,paymentPlan:S}),window.Notification&&"default"===Notification.permission&&c&&o.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){r.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("notification"),Notification.requestPermission(e=>{l.default.setDesktopNotifications("granted"===e)})}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&o.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}},function(e,t,n){"use strict";function i(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}n.r(t),n.d(t,"fetchEmbeddedData",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(231),o=n(248),r=n(245),a=n(253),s=n(271),l=n.n(s),c=n(379),d=n(542),u=n(348);function p(e,t){d.default.handleImports(t)}function h(){i.default.ipcRenderer.on("imports-change",Object(o.debounce)(p)),i.default.ipcRenderer.send("subscribe-to-imports")}function f(e){e.forEach((function(e){e.remove()}))}function g(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function m(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",m),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||d.default.hideImportsIndicator(),i.length&&f(i),h()}function b(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),o=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===o.length)return;i.default.ipcRenderer.removeAllListeners("imports-change");var r=o.reduce((function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e}),{hideAndRemove:[],animateAndRemove:[]});const a=r.hideAndRemove,s=r.animateAndRemove;let l=n.clientHeight,c=l,d=0;n.style.height=l+"px";var u=t.getBoundingClientRect();a.forEach((function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const o=i.bottom<u.top;e.classList.add("hidden"),o&&(t.scrollTop-=i.height)})),s.forEach((function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",g),e.style.transitionDelay=d+"ms",e.classList.add("clear"),d+=80}));let p=d-80;const b=c<l,S=c<t.clientHeight-52;if(b&&S){l>t.clientHeight-52&&(n.style.height=t.clientHeight-52+"px"),n.addEventListener("transitionend",m),n.classList.add("resize"),n.style.transitionDuration=p+150+200+"ms",n.style.height=c+"px"}else n.style.height="auto",f(a),s.length>0?setTimeout(h,p+200):h();i.default.ipcRenderer.send("clear-imports")}function S(){i.default&&i.default.ipcRenderer&&(i.default.ipcRenderer.on("imports-started",d.default.showImportsList),i.default.ipcRenderer.on("set-suggested-resources",(function(e,t){d.default.setSuggestedResources(t)})),i.default.ipcRenderer.on("apply-color-operations",(e,t)=>{const{barrelId:n,barrelType:i,colors:o,hasLinkedStyleguideColor:r}=t,s={},l=[];o.forEach(e=>{e.update?s[e.cid]=e:l.push(new a.default(e))}),c.default.migrateColors({bid:n,barrelType:i,colorsToUpdate:s,colorsToAdd:l,hasLinkedStyleguideColor:r,syncWithApi:!0})}),l.a.dispatcher.register(e=>{switch(e.type){case u.default.RETRY_IMPORT:n=e.id,i.default.ipcRenderer.send("retry-import",n);break;case u.default.CANCEL_IMPORT:!function(e){i.default.ipcRenderer.send("cancel-import",e)}(e.id);break;case u.default.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.default.ipcRenderer.send("retry-getting-project",e)}(e.id);break;case u.default.CLEAR_IMPORTS:b(e.ev);break;case u.default.HIDE_COMPONENT_LIMIT_HINT:t=e.barrelId,i.default.ipcRenderer.send("remove-component-limit-rejection",t);break;case u.default.SEE_PLANS:location.assign(Object(r.urlResolve)("profile-billing",{query:{period:"annual"}}))}var t,n}),h())}},function(e,t,n){"use strict";n.r(t);n(2075),n(2078),n(2082);var i=n(2084);n.d(t,"registerWorkspaceSocketBindings",(function(){return i.registerWorkspaceSocketBindings}))},function(e,t,n){"use strict";n.r(t);var i=n(586),o=n(2076),r=n(2077),a=n(778),s=n(846),l=n(590),c=n.n(l);i.userChannel&&(i.userChannel.bind(o.default.UPDATE_USERNAME,({body:{username:e}})=>{a.default.setUsername(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL,({body:{email:e}})=>{a.default.setEmail(e)}),i.userChannel.bind(o.default.UPDATE_USER,({body:{fullName:e,bio:t}})=>{a.default.setFullName(e),a.default.setBio(t)}),i.userChannel.bind(o.default.UPDATE_AVATAR,({body:{avatar:e}})=>{a.default.setAvatar(e)}),i.userChannel.bind(o.default.UPDATE_EMOTAR,({body:{emotar:e}})=>{a.default.setEmotar(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL_NOTIFICATION,({body:{emailNotifications:e}})=>{a.default.setEmailNotifications(e)}),i.userChannel.bind(o.default.UPDATE_NOTIFICATION_EVENT,({params:{nid:e,eventId:t},body:{markedAsRead:n}})=>{c.a.setEventReadStatusOffline(e,t,n)}),i.userChannel.bind(o.default.UPDATE_NOTIFICATIONS,({body:{nids:e,markedAsRead:t}})=>{c.a.setReadStatusOffline(e,t)}),i.userChannel.bind(o.default.NOTIFICATION,e=>{c.a.addNotification(e.body)}),i.userChannel.bind(o.default.UPDATE_BILLING,({body:e})=>{a.default.setBilling(e)}),i.userChannel.bind(r.default.CREATE,({body:e})=>{s.default.addOrganization(e)}),i.userChannel.bind(r.default.INVITE_MEMBERS,({body:e})=>{s.default.addOrganization(e)}),i.userChannel.bind(o.default.VERIFY,a.default.setVerified),i.userChannel.bind(o.default.DELETE,a.default.logout))},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",UPDATE_NOTIFICATION_EVENT:"UpdateNotificationEvent",UPDATE_NOTIFICATIONS:"UpdateNotifications",NOTIFICATION:"Notification",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",UPDATE_USER:"UpdateUser",VERIFY:"VerifyUser"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_STATUS:"UpdateOrganizationStatus",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus",ADD_SECTION:"CreateOrganizationSection",UPDATE_SECTION:"UpdateOrganizationSection",DELETE_SECTION:"DeleteOrganizationSection",ADD_SECTION_LINK:"CreateOrganizationSectionLink",UPDATE_SECTION_LINK:"UpdateOrganizationSectionLink",DELETE_SECTION_LINK:"DeleteOrganizationSectionLink",UPDATE_SECTION_PROJECT:"UpdateOrganizationSectionProjects",UPDATE_SECTION_ORDER:"UpdateOrganizationSectionsOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(586),o=n(2001),r=n(2079),a=n(2076),s=n(2080),l=n(2081),c=n(326),d=n.n(c),u=n(1692),p=n(1103),h=n(379),f=n(364),g=n(389),m=n(388),b=n(1194),S=n(385),y=n(1331),v=n.n(y),C=n(1304),O=n(271),E=n.n(O),T=n(365),_=n(846),P=n(263),j=n.n(P),D=n(260);function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default&&(i.default.bind_global((e,{params:{pid:t}={}})=>{t&&(f.default.hasProject(t)||Object(o.unsubscribeFromProjectChannel)(t))}),i.default.bind(r.default.TRANSFER_OWNERSHIP,({params:{oid:e,pid:t,mid:n,uid:i},body:r,body:{users:a}})=>{if(n){const o=a.find(e=>e.user._id===Zeplin.user._id);return o&&(Zeplin.user.paymentPlan=o.paymentPlan),void p.default.transferOwnership({bid:t,fromUserId:n,targetId:i,users:a,oid:e})}if(!e)return;const{organizations:s}=E.a.OrganizationStore.getState();if(s.find(t=>t._id===e))if("_id"in r)f.default.hasProject(t)&&h.default.remove({barrelType:j.a.PROJECT,bid:t}),h.default.add({barrelType:j.a.PROJECT,barrel:r,oid:e});else{a.some(e=>e.user._id===Zeplin.user._id)||h.default.remove({barrelType:j.a.PROJECT,bid:t})}else Object(o.unsubscribeFromOrganizationChannel)(e)}),i.default.bind(r.default.UPDATE_NAME,({params:{pid:e},body:{name:t}})=>{h.default.updateName({bid:e,name:t})}),i.default.bind(r.default.UPDATE_DESCRIPTION,({params:{pid:e},body:{description:t}})=>{h.default.updateDescription({bid:e,description:t})}),i.default.bind(r.default.UPDATE_DENSITY_SCALE,({params:{pid:e},body:{densityScale:t}})=>{h.default.updateDensityScale({bid:e,densityScale:t})}),i.default.bind(r.default.UPDATE_THUMBNAIL,({params:{pid:e},body:{thumbnail:t}})=>{h.default.updateThumbnail({bid:e,thumbnail:t})}),i.default.bind(r.default.UPDATE_UPDATED,({params:{pid:e},body:{updated:t}})=>{p.default.updateProject({pid:e,data:{updated:t}})}),i.default.bind(r.default.UPDATE_ACCESSIBILITY,({params:{pid:e},body:{public:t}})=>{h.default.toggleScene({bid:e,accessibility:t})}),i.default.bind(r.default.ADD_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{v.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(r.default.DELETE_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{v.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(r.default.DELETE_INTEGRATION,({params:{pid:e,intype:t,inid:n}})=>{h.default.removeIntegration({bid:e,intype:t,inid:n})}),i.default.bind(r.default.ADD_EXTENSION,({params:{uid:e,pid:t},body:{_id:n}})=>{C.default.load({barrelType:j.a.PROJECT,bid:t,uid:e,eid:n})}),i.default.bind(r.default.REMOVE_EXTENSION,({params:{pid:e,eid:t}})=>{C.default.remove({barrelType:j.a.PROJECT,bid:e,eid:t})}),i.default.bind(r.default.ACTIVATE,({params:{pid:e}})=>{h.default.activate({bid:e,barrelType:j.a.PROJECT})}),i.default.bind(r.default.ARCHIVE,({params:{pid:e,uid:t}})=>{h.default.archive({bid:e,barrelType:j.a.PROJECT,uid:t})}),i.default.bind(r.default.DELETE,({params:{pid:e,uid:t}})=>{h.default.remove({barrelType:j.a.PROJECT,bid:e,uid:t})}),i.default.bind(a.default.CREATE,({params:{pid:e,uid:t},body:n})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:R(R({},n),{},{status:"registered"})})}),i.default.bind(r.default.INVITE_USER,({params:{pid:e,oid:t="user",oseid:n},body:i})=>{const o="role"in i,r=f.default.hasProject(e);if(o&&r)h.default.addMembers({barrelType:j.a.PROJECT,bid:e,members:[i]});else if(r)p.default.updateProject({pid:e,data:i});else{if("user"!==t){let e=T.default.getOrganization(t);!e&&i.organization&&(_.default.addOrganization(i.organization),e=T.default.getOrganization(t));const{sections:o=[]}=e;if(n&&!o.some(e=>e._id===n))return void D.getOrganizationSection(t,n).then(({section:e,index:o})=>{h.default.add({barrelType:j.a.PROJECT,oid:t,oseid:n,barrel:R(R({},i),{},{complete:!1})}),_.default.addProjectSection({oid:t,index:o,sectionData:e})})}h.default.add({barrelType:j.a.PROJECT,oid:t,oseid:n,barrel:R(R({},i),{},{complete:!1})})}}),i.default.bind(r.default.UPDATE_USER_ROLE,({params:{pid:e,mid:t},body:{role:n}})=>{h.default.updateUserRole({bid:e,uid:t,role:n})}),i.default.bind(a.default.UPDATE_USER,({params:{pid:e,uid:t},body:n})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(a.default.UPDATE_USERNAME,({params:{pid:e,uid:t},body:n})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(a.default.UPDATE_EMAIL,({params:{pid:e,uid:t},body:n})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(a.default.UPDATE_AVATAR,({params:{pid:e,uid:t},body:n})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(a.default.UPDATE_EMOTAR,({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&h.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),i.default.bind(a.default.DELETE,({params:{pid:e,uid:t}})=>{e&&h.default.removeMember({bid:e,uid:t})}),i.default.bind(r.default.REMOVE_USER,({params:{pid:e,uid:t,mid:n}})=>{h.default.removeMember({bid:e,uid:t,mid:n})}),i.default.bind(r.default.ATTACH_JIRA_ISSUE,({params:{pid:e},body:t})=>{const n=new d.a(t.jira);h.default.attachJiraIssue({bid:e,jira:n})}),i.default.bind(r.default.REMOVE_JIRA_ISSUE_ATTACHMENT,({params:{pid:e,aid:t}})=>{h.default.removeJiraIssueAttachment({bid:e,aid:t})}),i.default.bind(r.default.CREATE_SECTION,e=>{let{params:{pid:t},body:{index:n}}=e,i=k(e.body,["index"]);g.default.addSection({pid:t,section:i,index:n})}),i.default.bind(r.default.UPDATE_SECTION,({params:{pid:e,seid:t},body:n})=>{g.default.updateSection({pid:e,seid:t,sectionData:n})}),i.default.bind(r.default.UPDATE_SECTIONS_ORDER,({params:{pid:e},body:{sections:t}})=>{t.forEach(({_id:t,to:n})=>{g.default.updateSectionOrder({pid:e,seid:t,index:n})})}),i.default.bind(r.default.UPDATE_SECTION_SCREENS,({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{g.default.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})}),i.default.bind(r.default.DELETE_SECTION,({params:{pid:e,seid:t}})=>{g.default.removeSection({pid:e,seid:t})}),i.default.bind(s.default.CREATE_V3,({params:{pid:e,requestId:t,index:n},body:i})=>{S.default.addScreen({pid:e,screen:R(R({},i),{},{requestId:t,index:n})})}),i.default.bind(s.default.UPDATE,({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&S.default.updateName({pid:e,sid:t,name:n}),i&&S.default.updateDescription({pid:e,sid:t,description:i})}),i.default.bind(s.default.UPDATE_TAGS,({params:{pid:e},body:{screens:t}})=>{S.default.updateTags({pid:e,updates:t})}),i.default.bind(s.default.CREATE_VERSION,({params:{pid:e,sid:t},body:n})=>{S.default.addVersion({pid:e,sid:t,version:n})}),i.default.bind(s.default.UPDATE_VERSION_COMMIT_COLOR,({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{S.default.updateCommitColor({pid:e,sid:t,vid:n,color:i})}),i.default.bind(s.default.UPDATE_VERSION_COMMIT_MESSAGE,({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{S.default.updateCommitMessage({pid:e,sid:t,vid:n,message:i})}),i.default.bind(s.default.DELETE_VERSION,({params:{pid:e,sid:t,vid:n}})=>{S.default.removeVersion({pid:e,sid:t,vid:n})}),i.default.bind(s.default.DELETE,({params:{pid:e,uid:t,sid:n}})=>{S.default.removeScreen({pid:e,uid:t,sid:n})}),i.default.bind(l.default.CREATE,({params:{pid:e,sid:t,uid:n},body:i})=>{S.default.addDot({pid:e,sid:t,uid:n,dot:i})}),i.default.bind(l.default.CREATE_COMMENT,({params:{uid:e,pid:t,sid:n,did:i},body:o})=>{S.default.addComment({pid:t,sid:n,uid:e,did:i,comment:o})}),i.default.bind(l.default.UPDATE_COMMENT_NOTE,({params:{uid:e,pid:t,sid:n,did:i,cmid:o},body:{note:r,updated:a=new Date}})=>{S.default.updateComment({pid:t,sid:n,uid:e,did:i,cmid:o,commentData:{note:r,updated:a}})}),i.default.bind(l.default.UPDATE,({params:{pid:e,sid:t,did:n},body:i})=>{S.default.updateDot({pid:e,sid:t,did:n,dotData:i})}),i.default.bind(l.default.DELETE,({params:{pid:e,sid:t,did:n}})=>{S.default.removeDot({pid:e,sid:t,did:n})}),i.default.bind(l.default.DELETE_COMMENT,({params:{pid:e,sid:t,did:n,cmid:i}})=>{S.default.removeComment({pid:e,sid:t,did:n,cmid:i})}),i.default.bind(r.default.UPDATE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:t}})=>{p.default.updateProject({pid:e,data:{styleguideLink:t}})}),i.default.bind(r.default.REMOVE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{u.default.unlinkProjectFromStyleguide({pid:e,styleguide:t})}),i.default.bind(r.default.CREATE_COLOR,({params:{pid:e},body:t})=>{h.default.addColor({bid:e,color:t})}),i.default.bind(r.default.UPDATE_COLOR,({params:{pid:e,cid:t},body:n})=>{h.default.updateColor({bid:e,cid:t,colorData:n})}),i.default.bind(r.default.UPDATE_COLORS_ORDER,({params:{pid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{h.default.updateColorOrder({bid:e,cid:t,to:n})})}),i.default.bind(r.default.DELETE_COLOR,({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||h.default.removeColor({bid:e,cid:t})}),i.default.bind(r.default.UPDATE_COLORS_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.default.removeAllColors({bid:e}),f.default.hasStyleguide(t)&&D.getStyleguide(t).then(e=>{b.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(r.default.CREATE_TEXT_STYLE,({params:{pid:e},body:t})=>{h.default.addTextStyle({bid:e,textStyle:t})}),i.default.bind(r.default.UPDATE_TEXT_STYLE,({params:{pid:e,tsid:t},body:n})=>{h.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),i.default.bind(r.default.DELETE_TEXT_STYLE,({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||h.default.removeTextStyle({bid:e,tsid:t})}),i.default.bind(r.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.default.removeAllTextStyles({bid:e}),f.default.hasStyleguide(t)&&D.getStyleguide(t).then(e=>{b.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(r.default.CREATE_SPACING_SECTION,({params:{pid:e},body:t})=>{h.default.addSpacingSection({bid:e,spacingSection:t})}),i.default.bind(r.default.UPDATE_SPACING_SECTION,({params:{pid:e,ssid:t},body:n})=>{h.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),i.default.bind(r.default.DELETE_SPACING_SECTION,({params:{pid:e,ssid:t}})=>{h.default.removeSpacingSection({bid:e,ssid:t})}),i.default.bind(r.default.CREATE_SPACING_TOKEN,({params:{pid:e,ssid:t},body:n})=>{h.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),i.default.bind(r.default.UPDATE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n},body:i})=>{h.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),i.default.bind(r.default.DELETE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n}})=>{h.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),i.default.bind(r.default.UPDATE_REM_PREFERENCES,({params:{pid:e},body:{remPreferences:t}})=>{h.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),i.default.bind(r.default.CREATE_COMPONENT_SECTION,e=>{let{params:{pid:t,csid:n},body:{variantSections:i,components:o=[]}}=e,r=k(e.body,["variantSections","components"]);const a=o.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));h.default.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:R({components:a},r)}),i&&i.forEach(e=>{const{_id:n,name:i,variant:o,components:r}=e;m.default.setComponentVariantData({bid:t,csid:n,name:i,sectionVariant:o,components:r})})}),i.default.bind(r.default.UPDATE_COMPONENT_SECTION,({params:{pid:e,csid:t},body:n})=>{h.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),i.default.bind(r.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{pid:e},body:{componentSections:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n}));h.default.updateComponentSectionsOrder({bid:e,componentSections:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:r}=t;m.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:r})})}),i.default.bind(r.default.MERGE_COMPONENT_SECTIONS,({params:{pid:e},body:{componentSections:t}})=>{t.forEach(({csid:t,tcsid:n,flatten:i=!1})=>{h.default.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})})}),i.default.bind(r.default.DELETE_COMPONENT_SECTION,({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||h.default.removeComponentSection({bid:e,csids:t.split("/")})}),i.default.bind(r.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{pid:e,tstid:t},body:{componentSections:n}})=>{h.default.removeComponentSections({bid:e,componentSections:n}),f.default.hasStyleguide(t)&&D.getStyleguide(t).then(e=>{b.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(r.default.CREATE_COMPONENT,({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{h.default.addComponent({bid:e,csids:t.split("/"),component:R(R({},o),{},{requestId:n,index:i})})}),i.default.bind(r.default.CREATE_COMPONENT_V2,({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{h.default.addComponent({bid:e,csids:t.split("/"),component:R(R({},o),{},{requestId:n,index:i})})}),i.default.bind(r.default.CREATE_COMPONENT_VERSION_V2,({params:{pid:e,csid:t,coid:n},body:i})=>{h.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(r.default.UPDATE_COMPONENT,({params:{pid:e,csid:t,coid:n},body:i})=>{h.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(r.default.UPDATE_COMPONENTS_ORDER,({params:{pid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));h.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:r}=t;m.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:r})})}),i.default.bind(r.default.DELETE_COMPONENT,({params:{pid:e,csid:t,coid:n}})=>{h.default.removeComponent({bid:e,csids:t.split("/"),coid:n})}),i.default.bind(r.default.UPDATE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{D.getProjectConnectedComponents(e).then(({connectedComponents:t})=>{h.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),i.default.bind(r.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{pid:e,csid:t},body:{name:n,variant:i,components:o}})=>{m.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),i.default.bind(r.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{pid:e,csid:t}})=>{m.default.removeComponentVariantData({bid:e,csid:t})}),i.default.bind(r.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t},body:n})=>{m.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),i.default.bind(r.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n},body:i})=>{m.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),i.default.bind(r.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n}})=>{m.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),i.default.bind(r.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{pid:e,csid:t},body:{variant:n,components:i}})=>{m.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),i.default.bind(r.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{pid:e,csid:t},body:{properties:n}})=>{m.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),i.default.bind(r.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{pid:e,csid:t},body:{components:n,componentSections:i}})=>{m.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),i.default.bind(r.default.DELETE_WORKFLOW_STATUS,({params:{pid:e}})=>{h.default.deleteWorkflowStatus({bid:e})}),i.default.bind(r.default.UPDATE_WORKFLOW_STATUS,({params:{pid:e},body:t})=>{h.default.updateWorkflowStatus({bid:e,workflowStatus:t})}),i.default.bind(r.default.DELETE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{h.default.updateConnectedComponents({bid:e,connectedComponents:null})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteProjectConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertProjectComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertProjectVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateProjectComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateProjectComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteProjectComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateProjectComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateProjectComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateProjectComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";n.r(t);var i=n(2083),o=n(2076),r=n(271),a=n.n(r),s=n(1194),l=n(263),c=n.n(l),d=n(586),u=n(2001),p=n(379),h=n(364),f=n(388),g=n(1304),m=n(1331),b=n.n(m),S=n(260);function y(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d.default&&(d.default.bind_global((e,{params:{stid:t}={}})=>{t&&(h.default.hasStyleguide(t)||Object(u.unsubscribeFromStyleguideChannel)(t))}),d.default.bind(i.default.ACTIVATE,({params:{stid:e}})=>{p.default.activate({bid:e,barrelType:c.a.STYLEGUIDE})}),d.default.bind(i.default.ARCHIVE,({params:{stid:e,uid:t}})=>{p.default.archive({bid:e,barrelType:c.a.STYLEGUIDE,uid:t})}),d.default.bind(i.default.DELETE,({params:{stid:e,uid:t}})=>{p.default.remove({barrelType:c.a.STYLEGUIDE,bid:e,uid:t})}),d.default.bind(i.default.TRANSFER_OWNERSHIP,({params:{oid:e,stid:t,mid:n,uid:i},body:o,body:{users:r}})=>{const l=h.default.findBarrelOrganizationId(t),d=!!l;if(n)return void s.default.transferOwnership({bid:t,fromUserId:i,targetId:n,users:r,oid:l});const{organizations:f,organizationStyleguides:g}=a.a.OrganizationStore.getState(),m=f.some(t=>t._id===e),b=e in g;if(e&&"_id"in o){if(!m)return void Object(u.unsubscribeFromOrganizationChannel)(e);if(!d){if(!b)return;return void p.default.add({barrelType:c.a.STYLEGUIDE,barrel:o,oid:e})}if(l===e)return;s.default.transferOwnership({bid:t,targetId:e,users:r,oid:l,toOrganization:!0})}else if(e){if(!r.some(e=>e.user._id===Zeplin.user._id))return void p.default.remove({barrelType:c.a.STYLEGUIDE,bid:t});s.default.transferOwnership({bid:t,targetId:e,users:r,oid:l,toOrganization:!0})}}),d.default.bind(o.default.CREATE,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:C(C({},n),{},{status:"registered"})})}),d.default.bind(i.default.INVITE_USER,({params:{stid:e,oid:t},body:n})=>{const i="role"in n,o=h.default.hasStyleguide(e);i&&o?p.default.addMembers({barrelType:c.a.STYLEGUIDE,bid:e,members:[n]}):o?s.default.updateStyleguide({stid:e,data:n}):p.default.add({barrelType:c.a.STYLEGUIDE,oid:t,barrel:C(C({},n),{},{complete:!1})})}),d.default.bind(o.default.UPDATE_USER,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_USERNAME,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_EMAIL,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_AVATAR,({params:{stid:e,uid:t},body:n})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:n})}),d.default.bind(o.default.UPDATE_EMOTAR,({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&p.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),d.default.bind(o.default.DELETE,({params:{stid:e,uid:t}})=>{e&&p.default.removeMember({bid:e,uid:t})}),d.default.bind(i.default.REMOVE_USER,({params:{stid:e,uid:t,mid:n}})=>{p.default.removeMember({bid:e,uid:t,mid:n})}),d.default.bind(i.default.UPDATE_USER_ROLE,({params:{stid:e,mid:t},body:{role:n}})=>{p.default.updateUserRole({bid:e,uid:t,role:n})}),d.default.bind(i.default.UPDATE_NAME,({params:{stid:e},body:{name:t}})=>{s.default.updateStyleguide({stid:e,data:{name:t}})}),d.default.bind(i.default.UPDATE_DESCRIPTION,({params:{stid:e},body:{description:t}})=>{s.default.updateStyleguide({stid:e,data:{description:t}})}),d.default.bind(i.default.UPDATE_THUMBNAIL,({params:{stid:e},body:{thumbnail:t}})=>{p.default.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})}),d.default.bind(i.default.UPDATE_DENSITY_SCALE,({params:{stid:e},body:{densityScale:t}})=>{s.default.updateStyleguide({stid:e,data:{densityScale:t}})}),d.default.bind(i.default.ADD_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{b.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),d.default.bind(i.default.DELETE_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{b.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),d.default.bind(i.default.DELETE_INTEGRATION,({params:{stid:e,intype:t,inid:n}})=>{p.default.removeIntegration({bid:e,intype:t,inid:n})}),d.default.bind(i.default.ADD_EXTENSION,({params:{stid:e,uid:t},body:{_id:n}})=>{g.default.load({barrelType:c.a.STYLEGUIDE,bid:e,uid:t,eid:n})}),d.default.bind(i.default.REMOVE_EXTENSION,({params:{stid:e,eid:t}})=>{g.default.remove({barrelType:c.a.STYLEGUIDE,bid:e,eid:t})}),d.default.bind(i.default.UPDATE_PARENT,({params:{stid:e},body:t})=>{s.default.updateStyleguide({stid:e,data:t})}),d.default.bind(i.default.REMOVE_PARENT,({params:{stid:e}})=>{s.default.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})}),d.default.bind(i.default.CREATE_COLOR,({params:{unorderedBatch:e,stid:t},body:n})=>{e||p.default.addColor({bid:t,color:n})}),d.default.bind(i.default.UPDATE_COLOR,({params:{stid:e,cid:t},body:n})=>{p.default.updateColor({bid:e,cid:t,colorData:n})}),d.default.bind(i.default.UPDATE_COLORS_ORDER,({params:{stid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{p.default.updateColorOrder({bid:e,cid:t,to:n})})}),d.default.bind(i.default.DELETE_COLOR,({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||p.default.removeColor({bid:t,cid:n})}),d.default.bind(i.default.UPDATE_COLORS_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{p.default.removeAllColors({bid:e}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t},body:n})=>{e||p.default.addTextStyle({bid:t,textStyle:n})}),d.default.bind(i.default.UPDATE_TEXT_STYLE,({params:{stid:e,tsid:t},body:n})=>{p.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),d.default.bind(i.default.DELETE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||p.default.removeTextStyle({bid:t,tsid:n})}),d.default.bind(i.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{p.default.removeAllTextStyles({bid:e}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_SPACING_SECTION,({params:{stid:e},body:t})=>{p.default.addSpacingSection({bid:e,spacingSection:t})}),d.default.bind(i.default.UPDATE_SPACING_SECTION,({params:{stid:e,ssid:t},body:n})=>{p.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),d.default.bind(i.default.DELETE_SPACING_SECTION,({params:{stid:e,ssid:t}})=>{p.default.removeSpacingSection({bid:e,ssid:t})}),d.default.bind(i.default.CREATE_SPACING_TOKEN,({params:{stid:e,ssid:t},body:n})=>{p.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),d.default.bind(i.default.UPDATE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n},body:i})=>{p.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),d.default.bind(i.default.DELETE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n}})=>{p.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),d.default.bind(i.default.UPDATE_REM_PREFERENCES,({params:{stid:e},body:{remPreferences:t}})=>{p.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION,e=>{let{params:{unorderedBatch:t,stid:n,csid:i},body:{variantSections:o,components:r=[]}}=e,a=y(e.body,["variantSections","components"]);if(t)return;const s=r.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));p.default.addComponentSection({bid:n,csids:i?i.split("/"):[],componentSection:C({components:s},a)}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:r}=e;f.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:r})})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION,({params:{stid:e,csid:t},body:n})=>{p.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{stid:e},body:{componentSections:t,variantSections:n}})=>{p.default.updateComponentSectionsOrder({bid:e,componentSections:t.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:r}=t;f.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:r})})}),d.default.bind(i.default.MERGE_COMPONENT_SECTIONS,({params:{stid:e},body:t})=>{t.componentSections.forEach(t=>{p.default.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})})}),d.default.bind(i.default.DELETE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||p.default.removeComponentSection({bid:t,csids:n.split("/")})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{stid:e,tstid:t},body:{componentSections:n}})=>{p.default.removeComponentSections({bid:e,componentSections:n}),h.default.hasStyleguide(t)&&S.getStyleguide(t).then(e=>{s.default.getStyleguideSuccess({styleguide:e})})}),d.default.bind(i.default.CREATE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:r})=>{e||p.default.addComponent({bid:t,csids:n.split("/"),component:C(C({},r),{},{requestId:i,index:o})})}),d.default.bind(i.default.CREATE_COMPONENT_V2,({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:r})=>{e||p.default.addComponent({bid:t,csids:n.split("/"),component:C(C({},r),{},{requestId:i,index:o})})}),d.default.bind(i.default.CREATE_COMPONENT_VERSION_V2,({params:{stid:e,csid:t,coid:n},body:i})=>{p.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),d.default.bind(i.default.UPDATE_COMPONENT,({params:{stid:e,coid:t,csid:n},body:i})=>{p.default.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})}),d.default.bind(i.default.UPDATE_COMPONENTS_ORDER,({params:{stid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));p.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:r}=t;f.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:r})})}),d.default.bind(i.default.DELETE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||p.default.removeComponent({bid:t,csids:n.split("/"),coid:i})}),d.default.bind(i.default.UPDATE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{S.getStyleguideConnectedComponents(e).then(({connectedComponents:t})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),d.default.bind(i.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{stid:e,csid:t},body:{name:n,variant:i,components:o}})=>{f.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),d.default.bind(i.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{stid:e,csid:t}})=>{f.default.removeComponentVariantData({bid:e,csid:t})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t},body:n})=>{f.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n},body:i})=>{f.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),d.default.bind(i.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n}})=>{f.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),d.default.bind(i.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{stid:e,csid:t},body:{variant:n,components:i}})=>{f.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),d.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{stid:e,csid:t},body:{properties:n}})=>{f.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),d.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{stid:e,csid:t},body:{components:n,componentSections:i}})=>{f.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),d.default.bind(i.default.DELETE_WORKFLOW_STATUS,({params:{stid:e}})=>{p.default.deleteWorkflowStatus({bid:e})}),d.default.bind(i.default.UPDATE_WORKFLOW_STATUS,({params:{stid:e},body:t})=>{p.default.updateWorkflowStatus({bid:e,body:t})}),d.default.bind(i.default.DELETE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{p.default.updateConnectedComponents({bid:e,connectedComponents:null})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteStyleguideConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertStyleguideComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertStyleguideVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateStyleguideComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateStyleguideComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteStyleguideComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateStyleguideComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateStyleguideComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateStyleguideComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerWorkspaceSocketBindings",(function(){return R}));var i=n(1201),o=n(586),r=n(1299),a=n(2079),s=n(2083),l=n(2076),c=n(2077),d=n(2085),u=n(384),p=n.n(u),h=n(271),f=n.n(h),g=n(846),m=n(365),b=n(311),S=n.n(b),y=n(312),v=n(379),C=n(263),O=n.n(C),E=n(244),T=n(260),_=n(2001);n(2078),n(2082);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default&&(o.default.bind_global((e,{params:{oid:t}={}})=>{t&&(m.default.getOrganization(t)||Object(_.unsubscribeFromOrganizationChannel)(t))}),o.default.bind(d.default.PAYMENT_FAIL,e=>{const{organizationProfiles:t}=f.a.OrganizationStore.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.showFailedPaymentBanner)(n)}),o.default.bind(c.default.CREATE_PROJECT,({params:{oid:e="user",oseid:t,index:n},body:i})=>{v.default.add({barrelType:O.a.PROJECT,barrel:j(j({},i),{},{complete:!1}),oid:e,oseid:t,index:n})}),o.default.bind(c.default.CREATE_STYLEGUIDE,({params:{oid:e="user",index:t},body:n})=>{v.default.add({barrelType:O.a.STYLEGUIDE,barrel:j(j({},n),{},{complete:!1}),oid:e,index:t})}),o.default.bind(c.default.UPDATE_MEMBER_ROLE,({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&g.default.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=f.a.OrganizationStore.getState(),{organizationStyleguides:{[e]:o}}=f.a.OrganizationStore.getState();i&&i.forEach(e=>{v.default.updateUserRole({bid:e,uid:t,role:n})}),o&&o.forEach(e=>{v.default.updateUserRole({bid:e,uid:t,role:n})})}),o.default.bind(c.default.REMOVE_USER,e=>{const{selectedOrganizationId:t}=f.a.SpaceStore.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(_.unsubscribeFromOrganizationChannel)(n),t===n&&(E.create({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),p.a.changeSelectedOrganization("user")),g.default.removeOrganization(n))}),o.default.bind(c.default.UPDATE_MEMBER_ACCESSIBILITY,({params:{oid:e,mid:t},body:{restricted:n}})=>{t===Zeplin.user._id&&(n?g.default.removeUnjoinedBarrels({oid:e,mid:t}):g.default.getBarrels(e))}),o.default.bind(c.default.DELETE,e=>{const t=e.params.oid;Object(_.unsubscribeFromOrganizationChannel)(t),g.default.removeOrganization(t),p.a.changeSelectedOrganization("user")}),o.default.bind(c.default.UPDATE_LOGO,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?g.default.updateOrganization(n,e.body):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_STATUS,({body:e,params:{oid:t}})=>{const{organizations:n}=f.a.OrganizationStore.getState();n.filter(e=>e._id===t)?g.default.updateOrganization(t,e):Object(_.unsubscribeFromOrganizationChannel)(t)}),o.default.bind(c.default.UPDATE_NAME,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?g.default.updateOrganization(n,e.body):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{uid:n,oid:i,pid:o}=e.params;t.filter(e=>e._id===i)?g.default.addBarrelToFocus({mid:n,oid:i,bid:o,barrelType:O.a.PROJECT}):Object(_.unsubscribeFromOrganizationChannel)(i)}),o.default.bind(c.default.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{oid:n,pid:i}=e.params;t.filter(e=>e._id===n)?g.default.removeBarrelFromFocus({oid:n,bid:i}):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_MEMBER_TAGS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{params:{oid:n},body:{members:i}}=e;t.filter(e=>e._id===n)?i.forEach(({_id:e,operation:t,tags:i})=>{g.default.updateMemberTags({oid:n,mid:e,operation:t,tags:i})}):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_WORKFLOW_STATUS,({params:{oid:e},body:t})=>{g.default.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})}),o.default.bind(c.default.UPDATE_WORKFLOW_STATUS,({params:{oid:e,wsid:t},body:n})=>{g.default.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})}),o.default.bind(c.default.DELETE_WORKFLOW_STATUS,({params:{oid:e,wsid:t}})=>{g.default.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})}),o.default.bind(c.default.ADD_SECTION,({params:{oid:e},body:{_id:t,index:n}})=>{const{sections:i}=m.default.getOrganization(e);i.some(e=>e._id===t)||T.getOrganizationSection(e,t).then(({section:t})=>{g.default.addProjectSection({oid:e,index:n,sectionData:t})}).catch(i=>{g.default.addProjectSectionId({oid:e,index:n,oseid:t})})}),o.default.bind(c.default.UPDATE_SECTION,({params:{oid:e,oseid:t},body:n})=>{const{sections:i}=m.default.getOrganization(e);i.some(e=>e._id===t)&&g.default.updateProjectSection({oid:e,oseid:t,sectionData:n})}),o.default.bind(c.default.DELETE_SECTION,({params:{oid:e,oseid:t}})=>{g.default.removeProjectSection({oid:e,oseid:t})}),o.default.bind(c.default.UPDATE_SECTION_ORDER,({params:{oid:e},body:{index:t,sections:n}})=>{g.default.updateProjectSectionOrder({oid:e,oseid:n[0],index:t})}),o.default.bind(c.default.UPDATE_SECTION_PROJECT,({params:{oid:e,oseid:t},body:{index:n,projects:i}})=>{const{sections:o}=m.default.getOrganization(e);o.some(e=>e._id===t)?g.default.updateProjectOrder({oid:e,oseid:t,index:n,projects:i}):T.getOrganizationSection(e,t).then(({section:t})=>{g.default.addProjectSection({oid:e,index:n,sectionData:t})})}),o.default.bind(c.default.ADD_SECTION_LINK,({params:{oid:e,oseid:t},body:n})=>{g.default.addSectionLink({oid:e,oseid:t,linkData:n})}),o.default.bind(c.default.UPDATE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n},body:i})=>{g.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:j({_id:n},i)})}),o.default.bind(c.default.DELETE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n}})=>{g.default.removeSectionLink({oid:e,oseid:t,oselid:n})}));const k={onProjectInviteUser(e){Object(r.handleInviteUserSocketForInvitePopup)(e.params.pid,e.body)},onInviteUser(e){Object(r.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromProject(e){Object(r.removeUser)(e.params.pid,e.params.mid)},onCreateUser(e){Object(r.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(r.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};const I={onStyleguideInviteUser(e){Object(r.handleInviteUserSocketForInvitePopup)(e.params.stid,e.body)},onInviteUser(e){Object(r.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromStyleguide(e){Object(r.removeUser)(e.params.stid,e.params.mid)},onCreateUser(e){Object(r.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(r.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};function R(){f.a.dispatcher.register(e=>{switch(e.type){case S.a.INVITE_USER:!function(e){const t=Object(_.subscribeToProjectChannel)(e);o.userChannel.bind(l.default.INVITE_USER,k.onInviteUser),t.bind(a.default.INVITE_USER,k.onProjectInviteUser),t.bind(a.default.REMOVE_USER,k.onRemoveUserFromProject),t.bind(l.default.CREATE,k.onCreateUser),t.bind(l.default.DELETE,k.onDeleteUser)}(e.pid);break;case y.default.INVITE_USER:!function(e){const t=Object(_.subscribeToStyleguideChannel)(e);o.userChannel.bind(l.default.INVITE_USER,I.onInviteUser),t.bind(s.default.INVITE_USER,I.onStyleguideInviteUser),t.bind(s.default.REMOVE_USER,I.onRemoveUserFromStyleguide),t.bind(l.default.CREATE,I.onCreateUser),t.bind(l.default.DELETE,I.onDeleteUser)}(e.stid)}})}},function(e,t,n){"use strict";n.r(t),t.default={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSSOTokenExpiration=void 0;const s=a(n(234)),l=a(n(431)),c=a(n(275)),d=a(n(271)),u=n(230),p=a(n(231)),h=r(n(260)),f=n(245),g=n(264);function m(){const e=encodeURIComponent(Zeplin.user.email);h.getSsoLoginParams(e).then(e=>{const{provider:{type:t},params:{type:n,url:i,message:o}}=e;s.default.set("redirect",location.href),"google"!==t?u.isWindowsApp?p.default.ipcRenderer.send("saml-"+n,i,o,location.pathname):"redirect"===n?function(e,t){const n=new URL(e);n.search=f.joinUrlParams(t),window.location.assign(n.toString())}(i,o):"post"===n&&function(e,t){const n=document.createElement("form");n.method="POST",n.action=e,Object.keys(t).forEach(e=>{const i=document.createElement("input");i.type="hidden",i.name=e,i.value=t[e],n.appendChild(i)}),document.body.appendChild(n),n.submit()}(i,o):function(){const e={action:"login"};u.isWindowsApp&&(e.redirectPath=encodeURIComponent(location.pathname));const t=f.urlResolve("authGoogle",{query:e});location.assign(t)}()}).catch(e=>{g.handleError(e,{dialogCallback(){s.default.remove("userToken"),location.assign(f.urlResolve("login",{query:{email:Zeplin.user.email}}))}})})}Zeplin.onSSOTokenExpired=e=>l.default.ssoTokenExpired(e),u.isWindowsApp&&(p.default.ipcRenderer.on("auth-success",()=>{s.default.remove("redirect"),Zeplin.headers.set("Zeplin-Token",s.default.get("userToken")),l.default.unsetSSOTokenExpired(),Zeplin.setSSOTokenExpireTimeout()}),p.default.ipcRenderer.on("auth-abort",()=>{s.default.remove("redirect"),Zeplin.logout()})),t.registerSSOTokenExpiration=function(){d.default.dispatcher.register(e=>{e.type===c.default.LOGIN_SSO&&m()})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSentryToDispatcherAndStores=void 0;const s=r(n(34)),l=a(n(271)),c=a(n(20));t.registerSentryToDispatcherAndStores=function(){l.default.dispatcher.register(e=>{s.addBreadcrumb({category:"dispatch.action",message:e.type,level:s.Severity.Debug})}),function(){const e=new c.default;e.setStores([l.default.AppStore,l.default.SpaceStore,l.default.BarrelStore,l.default.DashboardStore,l.default.ScreenStore,l.default.DotsStore,l.default.ComponentVariantStore,l.default.StyleguideStore,l.default.ActivitiesViewStore]),e.addListener(()=>{const{page:e}=l.default.AppStore.getState(),t=l.default.SpaceStore.getState(),n=l.default.BarrelStore.getState(),i=l.default.DashboardStore.getState(),o=l.default.ScreenStore.getState(),r=l.default.DotsStore.getState(),a=l.default.ComponentVariantStore.getState(),c=l.default.StyleguideStore.getState(),d=l.default.ActivitiesViewStore.getState();s.setContext("stores",{app:{page:e},space:JSON.stringify(t,null,"  "),barrel:JSON.stringify(n,null,"  "),dashboard:JSON.stringify(i,null,"  "),screen:JSON.stringify(Object.assign(Object.assign({},o),{selectedLayer:o.selectedLayer&&o.selectedLayer._id,destinationLayer:o.destinationLayer&&o.destinationLayer._id}),null,"  "),dots:JSON.stringify(r,null,"  "),componentVariant:JSON.stringify(Object.assign(Object.assign({},a),{selectedLayer:a.selectedLayer&&a.selectedLayer._id,destinationLayer:a.destinationLayer&&a.destinationLayer._id}),null,"  "),styleguide:JSON.stringify(c,null,"  "),activities:JSON.stringify(d,null,"  ")})})}()}},function(e,t,n){"use strict";n.r(t);var i=n(1201),o=n(244),r=n(248),a=n(264),s=n(230),l=n(320),c=n(263),d=n.n(c),u=n(236),p=n(367),h=n.n(p),f=n(1550),g=n(1302),m=n(1304),b=n(846),S=n(365),y=n(385),v=n(271),C=n.n(v),O=n(370),E=n(431),T=n(379),_=n(364),P=n(388),j=n(1331),D=n.n(j),k=n(2064),I=n.n(k),R=n(1480),A=n.n(R),w=n(1503),N=n.n(w),L=n(2072),x=n(260),M=n(628),U=n(249),B=n(386),z=n(1510),V=n(259),W=n(245),F=n(1135),H=n(232),G=n(390),$=n(2001);function q(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=document.getElementById("androidResFolderReminderDialog");function X(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;T.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}function Q(e,t,n){if(document.body.dataset.projectType=e.type,t){const e=t._id;"frozen"===t.status?i.showOrganizationFrozenBanner({oid:e,currentRole:n}):"past_due"===t.subscriptionStatus?i.showFailedPaymentBanner({oid:e,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:e,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt})}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt})}var o;e.integration.slacks.length>0&&(o=e.id,x.getProjectSlackIntegrationEmojis(o).catch(()=>{}).then(e=>{e&&"emoji"in e&&M.default.addCustomEmojis(e.emoji)})).then(de)}function ee(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>{return n=e,i=t,S.default.getOrganizationProfile(n)||x.getOrganizationMemberProfile(n,i);var n,i});return Promise.all(n).then(t=>Object.fromEntries(Object(F.default)(e,t))).catch(a.handleError)}function te(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map(t=>function(e,{projectId:t}){const n=_.default.getBarrel({bid:e});return n&&n.complete?n:x.getStyleguide(e,{projectId:t})}(t,{projectId:e})))}function ne(e,{projectId:t}){const n=_.default.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:x.getStyleguideConnectedComponents(e,{projectId:t})}function ie(e,{projectId:t}){const n=_.default.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:x.getStyleguideLocalConnectedComponents(e,{projectId:t})}function oe(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const r=n?ie:ne;return Promise.all([o._id,...o.ancestors].map(t=>r(t,{projectId:e})))}function re(e,t){const n=function(e){const t=_.default.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:x.getProjectConnectedComponents(e)}(e),i=oe(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?x.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?oe(e,t,{local:!0}):Promise.resolve([])]}function ae(e){return e.map(e=>Y(Y({},e),{},{complete:!1}))}function se(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}async function le(e,t,n,i){const{pid:o}=e;let r;if(t.complete)r=t;else{const e=await x.getProjectComponentSections(o);r=Y(Y({},t),e)}const[a,{connectedComponents:c},p,{localConnectedComponents:h},g]=await Promise.all([te(o,t.styleguideLink),...re(o,t.styleguideLink)]),y=new l.default(Y(Y({},r),{},{connectedComponents:c,localConnectedComponents:h,complete:!0})),{userId:v}=C.a.UserStore.getState(),{role:O}=y.findUser(v);Q(y,n,O),p.forEach((e,t)=>{a[t].connectedComponents=e.connectedComponents}),g.forEach((e,t)=>{a[t].localConnectedComponents=e.localConnectedComponents});const E=n?n._id:"user",_=ee(i.map(e=>e._id),v),P=(j=E,S.default.getOrganizationProjects(j)||x.getProjects("user"===j?null:j).then(ae));var j;const k=function(e){return S.default.getOrganizationStyleguides(e)||x.getStyleguides("user"===e?null:e).then(ae)}(E);a.forEach(e=>Object($.subscribeToStyleguideChannel)(e._id));const[R,{noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,componentVariantsOnboardingDialogSeen:L,componentVariantsOnboardingHintboxSeen:M,componentVariantViewSeen:U,numberOfLayerComponentViews:B,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:W,flowLinkInfoDismissed:F,versionsTutorialSeen:H,oldNotificationExperience:G},q,Z,K]=await Promise.all([u.barrelPrefs.getAll(y.id),u.userPrefs.getAll(),_,P,k]),{assetDensityScalePrefs:J,assetNamingConvention:ne,collapsedSections:ie,dashboardSidebarWidth:oe,extensions:le,fixedThumbnailSize:ce,lastNoteColorUsed:de,layoutGridEnabled:ue,noteVisibility:he,noteStatusFilter:fe,noteColorFilter:ge,noResourceInfoDismissed:me,screenSidebarWidth:be,showOptimizedSVG:Se,slackReconnectionAuntieSeen:ye,styleguideLeftSidebarWidth:ve,styleguideRightSidebarWidth:Ce,versionsSidebarWidth:Oe,zoomLevel:Ee,connectedComponentsLocalWorkspace:Te}=R,_e={};for(const s of y.screens)R[s._id]&&(_e[s._id]=R[s._id].versionsLastSeen);return T.default.load({barrel:{barrelType:"project",barrelId:o,organizationId:E,assetDensityScalePrefs:Object(z.initAssetDensityScalePrefsIfNecessary)(y.type,J),assetNamingConvention:"android"===y.type?"snakeCase":ne,showOptimizedSVG:Se,noResourceInfoDismissed:me,noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,flowLinkInfoDismissed:F,showSlackReconnectionAuntie:!ye,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:Te,screenVersionsLastSeen:_e,connectedComponentsOnboardingDialogSeen:V,numberOfHighlightedConnectToCodeButtonViews:W},styleguide:{selectedStyleguideSection:"colors",collapsedSections:ie,leftSidebarWidth:ve,rightSidebarWidth:Ce,componentVariantsOnboardingDialogSeen:L},dashboard:{collapsedSections:ie,fixedThumbnailSize:ce,sidebarWidth:oe},screen:{layoutGridEnabled:ue,zoomLevel:Ee,notesVisible:he,screenSidebarWidth:be,showVersionsTutorial:!H,versionsSidebarWidth:Oe,componentVariantsOnboardingHintboxSeen:M,componentVariantViewSeen:U,numberOfLayerComponentViews:B},dots:Y(Y({},se(e)),{},{statusFilter:fe,colorFilter:ge,lastNoteColorUsed:de}),notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime,oldNotificationExperience:G},data:{project:y,organization:n,organizations:i,organizationProfiles:q,organizationProjects:Z,organizationStyleguides:K,linkedStyleguides:a}}),requestIdleCallback(async()=>{if(!n||n.members)return;const e=q[E].restricted?{_id:E,members:[]}:await function(e){const t=S.default.getOrganization(e);return t&&t.members?t:x.getOrganizationMembers(e)}(E);b.default.getOrganizationMembersSuccess(e)}),requestIdleCallback(async()=>{if(!n||n.sections)return;const e=await x.getOrganizationSections(E);b.default.getOrganizationSectionsSuccess(e,E)}),m.default.init({enabledExtensions:le}),D.a.init(),I.a.getTeamsIntegration(d.a.PROJECT,o),s.isWindowsApp&&(T.default.getConnectedComponentsEditorInfo(),f.queryAssetDownloadTarget(y.id,y.type,X)),pe(y),y}async function ce(e,{reload:t=!1}={}){const{pid:n}=e;try{const t=function(){const{organizations:e}=C.a.OrganizationStore.getState();return e.length?Promise.resolve(e):x.getOrganizations()}(),i=await function(e){const t=_.default.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):x.getProject(e)}(n),o=function(e){if(!r.isOrganizationProject(e))return Promise.resolve(null);const t=_.default.findBarrelOrganizationId(e._id);let n=S.default.getOrganization(t);return n||(n=Object(L.fetchEmbeddedData)("organization")),n?Promise.resolve(n):x.getProjectOrganization(e._id).catch(()=>null)}(i),[a,s]=await Promise.all([o,t]),{barrelId:c}=C.a.BarrelStore.getState();return c&&c!==n&&Object($.unsubscribeFromProjectChannel)(n),i.partial?function(e,t,n,i){const o=new l.default(Y(Y({},t),{},{complete:!1})),r=n?n._id:"user";return T.default.load({barrel:{barrelType:"project",barrelId:o.id,organizationId:r},data:{project:o,organization:n,organizations:i}}),pe(o),o}(0,i,a,s):le(e,i,a,s)}catch(i){if(t)throw i;!function(e){a.handleError(e,{clientErrorHandler(){o.create({title:e.title,message:e.message}),_.default.navigateToWorkspace()}})}(i)}}function de(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=r.escapeHTML(e.innerText.trim()),n=g.formatEmojiString(t);e.outerHTML=n})}function ue(...e){const{body:{integration:t}}=e[e.length-1],n=_.default.getBarrel(),i=t.slacks.filter(e=>!n.integration.slacks.find(t=>t._id===e._id));i.length&&(i.forEach(e=>{T.default.addIntegration({intype:"slacks",integration:e})}),function(){const e=C.a.BarrelStore.findUser();r.permissions.canUpdateProject(e)&&D.a.init()}())}function pe(e){const t=Object($.subscribeToProjectChannel)(e._id),n=_.default.findBarrelOrganizationId(e._id);n&&"user"!==n&&Object($.subscribeToOrganizationChannel)(n),t.bind("UpdateUserSubscription",({params:{uid:t},body:{plan:n,subscriptionStatus:o}})=>{const r=e.findUser(t);if(!r)return;const a=r.user.paymentPlan;r.user.paymentPlan=n;const s=r.user.subscriptionStatus;if(r.user.subscriptionStatus=o,"owner"===r.role){"will_cancel_at_period_end"===s&&(i.hideCancelledSubscriptionBanner(),r.user.subscriptionCancelAt=null);const{config:{plans:t}}=C.a.AppStore.getState(),{versionLimit:o}=t.find(e=>e.id===a),{versionLimit:l}=t.find(e=>e.id===n),c=O.default.getScreen();if(o>l){if(e.screens.forEach(e=>{e.allowedVersionCount=l,e.versions.length>l&&(e.versions.length=l)}),c){O.default.getVersion()||(y.default.setVersionId(c.versions[0]._id),Object(V.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else o<l&&(e.screens.forEach(e=>{e.allowedVersionCount=l,e.totalVersionCount&&e.totalVersionCount>o&&delete e.totalVersionCount}),c&&(!c.totalVersionCount||c.totalVersionCount>o)&&y.default.getVersions())}}),t.bind("CancelUserSubscription",({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:o}})=>{const r=_.default.findUser();r&&(T.default.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:o}}),"owner"===r.role&&"will_cancel_at_period_end"===n&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:r.role,subscriptionCancelAt:o}))}),t.bind("AuthProjectSlack",ue),t.bind("TransferProjectOwnership",({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach(({user:{_id:t},role:n})=>{T.default.updateUserRole({bid:e,uid:t,role:n})}),T.default.setOrganizationId({oid:t})}),t.bind("RequestPaymentFail",(function(e){const t=_.default.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),i.showFailedPaymentBanner(n)}))}function he(e,t){const{pid:n}=e;if(!n||!r.validateId(n,"project"))return o.create({title:"Invalid project link",message:"There might be a typo, please try again."}),_.default.navigateToWorkspace(),Promise.reject();const i=_.default.getBarrel();return!i||i.id!==n||i.partial?(T.default.reset(),ce(e,t)):Promise.resolve(i)}function fe(e){const{query:{coid:[t]=[]},ev:n}=e;if(!n.target.closest("#dotPopup"))return!1;const i=_.default.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore}),{component:o}=Object(B.findComponentById)(i,t)||{};return!!o.variant&&(A.a.open(t,N.a.NOTE),!0)}o.polyfill.registerDialog(J),h.a.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,(function(e){Object(G.sendGAPageView)({title:"Screen - Zeplin"});const{match:[t,n,i],query:a,query:{did:[s]=[],cmid:[l]=[]},reload:c}=e,d=Object.assign({pid:t,sid:n,vid:i},a);return E.default.setPage("barrel"),he(d,{reload:c}).then(e=>{if(!e||e.partial)return;const{screenId:a,versionId:c}=C.a.ScreenStore.getState(),{dotId:d}=C.a.DotsStore.getState();r.validateId(n,"screen")?a&&a===n?a&&a===n&&(c!==i&&y.default.setVersionId(i),s&&d!==s&&y.default.selectDot({dotId:s,commentId:l})):y.default.openScreen(n,i,s,l):(o.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),T.default.goToDashboard()),s&&history.replaceState(null,null,Object(W.urlResolve)("project-screen",{url:{pid:t,sid:n,vid:i}}))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,(function(e){Object(G.sendGAPageView)({title:"Color Palette - Styleguide - Zeplin"});const{match:[t],query:n,query:{cid:i=[],seid:[o]=[]}={},reload:r}=e,a=Object.assign({pid:t},n);return E.default.setPage("barrel"),he(a,{reload:r}).then(e=>{e&&!e.partial&&(T.default.changeSelectedView(H.ProjectViewTypes.STYLEGUIDE),P.default.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:o}),P.default.highlightColors(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,(function(e){Object(G.sendGAPageView)({title:"Text Style Catalog - Styleguide - Zeplin"});const{match:[t],query:n,query:{tsid:i=[],seid:[o]=[]}={},reload:r}=e,a=Object.assign({pid:t},n);return E.default.setPage("barrel"),he(a,{reload:r}).then(e=>{e&&!e.partial&&(T.default.changeSelectedView(H.ProjectViewTypes.STYLEGUIDE),P.default.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:o}),P.default.highlightTextStyles(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,(function(e){Object(G.sendGAPageView)({title:"Spacing and Layout - Styleguide - Zeplin"});const{match:[t],query:n,query:{sptid:i=[],seid:[o]=[]}={},reload:r}=e,a=Object.assign({pid:t},n);return E.default.setPage("barrel"),he(a,{reload:r}).then(e=>{e&&!e.partial&&(T.default.changeSelectedView(H.ProjectViewTypes.STYLEGUIDE),P.default.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:o}),P.default.highlightSpacingTokens(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,(function(e){Object(G.sendGAPageView)({title:"Components - Styleguide - Zeplin"});const{match:[t],query:n,query:{coid:[i]=[],cseid:[o]=[],seid:[r]=[o]}={},reload:a}=e,s=Object.assign({pid:t},n);return E.default.setPage("barrel"),he(s,{reload:a}).then(e=>{if(!e||e.partial)return;T.default.changeSelectedView(H.ProjectViewTypes.STYLEGUIDE);const t=_.default.getStyleguidesData({barrelStore:C.a.BarrelStore,styleguidesDataStore:C.a.StyleguidesDataStore}),{component:n}=i&&Object(B.findComponentById)(t,i)||{},{collapsedSections:o}=C.a.StyleguideStore.getState(),a=function({styleguidesData:e,selectedNavigatorId:t,collapsedSections:n}){if(!t)return n;const i=n,o=Object(B.getComponentSectionById)(e,t);if(o){const{idPath:e}=o;e.forEach(e=>{i[e]=!1})}return i}({styleguidesData:t,selectedNavigatorId:r,collapsedSections:o});n&&n.idPath.slice(0,-1).forEach(e=>{a[e]=!1}),P.default.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:r}),P.default.changeSelection({selectionComponentId:i,selection:n,collapsedSections:a,updateCollapsedSections:r||n})})})),h.a.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,(function(e){const{match:[t,n=H.ProjectViewTypes.DASHBOARD],query:i,reload:o}=e;Object(G.sendGAPageView)({title:Object(U.uppercaseFirst)(n)+" - Zeplin"});const r=Object.assign({pid:t,subpage:n},i);return E.default.setPage("barrel"),async function(e,t){const n=await he(e,t);if(!n||n.partial)return;const{subpage:i}=e,o=q(e,["subpage"]),r=["sid","seid","eid"],a=["cid","tsid"],s=Object.keys(o);let l;if(s.some(e=>r.includes(e))||i===H.ProjectViewTypes.DASHBOARD?l=H.ProjectViewTypes.DASHBOARD:s.some(e=>a.includes(e)||i===H.ProjectViewTypes.STYLEGUIDE)&&(l=H.ProjectViewTypes.STYLEGUIDE),!l)return;let c={};if("sid"in o){const e=n.sections.filter(e=>"default"!==e.name&&e.screens.some(e=>o.sid.includes(e))).map(e=>e._id);c={sids:o.sid,sectionsToExpand:e}}else"seid"in o?c={seid:o.seid[0],sectionsToExpand:[o.seid[0]]}:"eid"in o&&m.default.load({bid:n.id,eid:o.eid[0],uid:C.a.UserStore.getState().userId});i===H.ProjectViewTypes.DASHBOARD&&(c=Y(Y({},c),{},{tags:o.tag,jiraIssues:o.ja,untagged:o.untagged&&"true"===o.untagged[0],filterValue:o.q&&o.q[0]||""})),T.default.changeSelectedView(l,c)}(r,{reload:o})})),h.a.addPrevention(/\/project\/([\da-f]{24})\/styleguide\/components/i,fe),h.a.addPrevention(/\/(styleguide)\/([\da-f]{24})\/components/i,fe)},function(e,t,n){"use strict";n.r(t);var i=n(1201),o=n(244),r=n(248),a=n(264),s=n(236),l=n(230),c=n(320),d=n(263),u=n.n(d),p=n(367),h=n.n(p),f=n(1550),g=n(1304),m=n(846),b=n(365),S=n(271),y=n.n(S),v=n(260),C=n(379),O=n(364),E=n(431),T=n(388),_=n(1331),P=n.n(_),j=n(2064),D=n.n(j),k=n(2072),I=n(2001),R=n(1510),A=n(386),w=n(1135);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=document.getElementById("androidResFolderReminderDialog");function U(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;C.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}o.polyfill.registerDialog(M);const B={getOrganizations(){const{organizations:e}=y.a.OrganizationStore.getState();return e.length?Promise.resolve(e):v.getOrganizations()},getOrganization(e,t){if(!r.isOrganizationProject(e))return Promise.resolve(null);const n=O.default.findBarrelOrganizationId(e._id);let i=b.default.getOrganization(n);return i||(i=Object(k.fetchEmbeddedData)("organization")),i?Promise.resolve(i):v[t].getOrganization(e._id)},getOrganizationMembers(e){const t=b.default.getOrganization(e);return t&&t.members?t:v.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=b.default.getOrganizationProfile(e);return n||v.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>B.getOrganizationMemberProfile(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(w.default)(e,t))).catch(a.handleError)},getStyleguide(e,{styleguideId:t}){const n=O.default.getBarrel({bid:e});return n&&n.complete?n:v.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map(t=>v.getStyleguideConnectedComponents(t,{styleguideId:e}))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map(e=>v.getStyleguideLocalConnectedComponents(e))),getStyleguideConnectedComponents(e,t){const n=v.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?v.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const r=n?v.getStyleguideLocalConnectedComponents:v.getStyleguideConnectedComponents;return Promise.all([o._id,...o.ancestors].map(t=>r(t,{projectId:e})))},getProjectConnectedComponents(e,t){const n=v.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?v.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map(e=>L(L({},e),{},{complete:!1})),getProjects(e,t,n){if(t===u.a.STYLEGUIDE){const t=b.default.getOrganizationProjects(e);return t||v.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getStyleguides(e,t,n){if(t===u.a.STYLEGUIDE){const t=b.default.getOrganizationStyleguides(e);return t||v.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getBarrel(e,t){const n=O.default.getBarrel({bid:e});return n&&n.complete?Promise.resolve(n):v[t].get(e)},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===u.a.PROJECT?v.getProjectComponentSections(n):Promise.resolve({}),o=t===u.a.STYLEGUIDE?v.getStyleguideProjects(n):Promise.resolve({});return Promise.all([o,i]).then(([e,...t])=>Object.assign({linkedProjects:e.projects},...t))}},z={async collectData(e,t){try{const n=await B.getBarrel(e,t),{userId:i}=y.a.UserStore.getState(),o=n.users.find(({user:e})=>e._id===i),[r,a]=await Promise.all([B.getOrganization(n,t),B.getOrganizations()]);if(n.partial||!o){return{organization:r,organizations:a,organizationId:r?r._id:"user",ancestors:[],barrel:n}}const s=await B.getBarrelExtras(n,t),{role:l}=o,d=new c.default(L(L({},n),s)),u=r?r._id:"user",[p,h,f,g,{connectedComponents:m},b,{localConnectedComponents:S},v]=await Promise.all([B.getAncestors(e,d.ancestors),B.getOrganizationProfiles(a.map(e=>e._id),i),B.getProjects(u,t,l),B.getStyleguides(u,t,l),...B.getStyleguideConnectedComponents(e,d.ancestors)]);return d.connectedComponents=m,d.localConnectedComponents=S,b.forEach((e,t)=>{p[t].connectedComponents=e.connectedComponents}),v.forEach((e,t)=>{p[t].localConnectedComponents=e.localConnectedComponents}),{barrel:d,role:l,ancestors:p.map(e=>new c.default(L({},e))),organizationId:u,organization:r,organizations:a,organizationProfiles:h,organizationProjects:f,organizationStyleguides:g}}catch(n){!function(e){a.handleError(e,{clientErrorHandler:()=>{o.create({title:e.title,message:e.message}),O.default.navigateToWorkspace()}})}(n)}}};function V({styleguidesData:e,selectedStyleguideSection:t,selectedNavigatorId:n,collapsedSections:i}){if("components"!==t||!n)return i;const o=i,r=Object(A.getComponentSectionById)(e,n);if(r){const{idPath:e}=r;e.forEach(e=>{o[e]=!1})}return o}h.a.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,(function(e){const[t,n,o]=e.match;E.default.setPage("barrel");const r=function(e,t){return t?"textstyles"===t?"textStyles":t:e===u.a.PROJECT?"colors":"about"}(t,o),{cid:a=[],tsid:c=[],sptid:d=[],coid:[p]=[],cseid:[h]=[],seid:[b]=[h]}=e.query,{barrelId:S,barrelType:v}=y.a.BarrelStore.getState(),_=O.default.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore}),{component:j}=p&&Object(A.findComponentById)(_,p)||{},k=O.default.getBarrel();if(n===S&&!k.partial){const{collapsedSections:e}=y.a.StyleguideStore.getState(),t=V({styleguidesData:_,selectedStyleguideSection:r,selectedNavigatorId:b,collapsedSections:e});return void T.default.updateState({selectedStyleguideSection:r,highlightedColors:a,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:j,selectedNavigatorId:b,collapsedSections:t,scrolledSection:b,highlightScrolledSection:!!b})}S&&(v===u.a.PROJECT?Object(I.unsubscribeFromProjectChannel)(S):v===u.a.STYLEGUIDE&&Object(I.unsubscribeFromStyleguideChannel)(S)),C.default.reset();const w=z.collectData(n,t),N=s.barrelPrefs.getAll(n).then(({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,connectedComponentsLocalWorkspace:o,extensions:r,styleguideLeftSidebarWidth:a,styleguideRightSidebarWidth:s})=>({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,connectedComponentsLocalWorkspace:o,enabledExtensions:r,leftSidebarWidth:a,rightSidebarWidth:s})),L=s.userPrefs.getAll().then(e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:r,numberOfHighlightedConnectToCodeButtonViews:a}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:r,numberOfHighlightedConnectToCodeButtonViews:a}});return Promise.all([w,N,L]).then(([{barrel:e,role:o,organizationId:s,organization:h,organizations:S,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O,ancestors:E},{assetDensityScalePrefs:T,assetNamingConvention:_,collapsedSections:k,enabledExtensions:w,showOptimizedSVG:N,leftSidebarWidth:L,rightSidebarWidth:x,connectedComponentsLocalWorkspace:M},{noVectorAssetInfoHidden:z,densityMismatchWarningHidden:W,showSlackReconnectionAuntie:F,componentVariantsOnboardingDialogSeen:H,oldNotificationExperience:G,connectedComponentsOnboardingDialogSeen:$,numberOfHighlightedConnectToCodeButtonViews:q}])=>{const Z=V({styleguidesData:[e].concat(E),selectedStyleguideSection:r,selectedNavigatorId:b,collapsedSections:k});if(p){const t=Object(A.findComponentById)([e].concat(E),p);if(t){const{component:{idPath:e}}=t;e.slice(0,-1).forEach(e=>{Z[e]=!1})}}if(C.default.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(R.initAssetDensityScalePrefsIfNecessary)(e.type,T),assetNamingConvention:"android"===e.type?"snakeCase":_,showOptimizedSVG:N,organizationId:s,noVectorAssetInfoHidden:z,densityMismatchWarningHidden:W,showSlackReconnectionAuntie:F,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:M,connectedComponentsOnboardingDialogSeen:$,numberOfHighlightedConnectToCodeButtonViews:q},styleguide:{selectedStyleguideSection:r,highlightedColors:a,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:j,selectedNavigatorId:b,collapsedSections:Z,scrolledSection:b,highlightScrolledSection:!!b,leftSidebarWidth:L,rightSidebarWidth:x,componentVariantsOnboardingDialogSeen:H},notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime,oldNotificationExperience:G},data:{[t]:e,organization:h,organizations:S,ancestors:E,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O}}),requestIdleCallback(async()=>{if(!h||!y||h.members)return;const e=y[s].restricted?{_id:s,members:[]}:await B.getOrganizationMembers(s);m.default.getOrganizationMembersSuccess(e)}),e.partial||(g.default.init({enabledExtensions:w}),E.forEach(e=>Object(I.subscribeToStyleguideChannel)(e._id))),t===u.a.PROJECT?Object(I.subscribeToProjectChannel)(n):t===u.a.STYLEGUIDE&&Object(I.subscribeToStyleguideChannel)(n),l.isWindowsApp&&(C.default.getConnectedComponentsEditorInfo(),f.queryAssetDownloadTarget(n,t,U)),h)"frozen"===h.status?i.showOrganizationFrozenBanner({oid:h._id,currentRole:o}):"past_due"===h.subscriptionStatus?i.showFailedPaymentBanner({oid:h._id,currentRole:o}):"will_cancel_at_period_end"===h.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:h._id,currentRole:o,subscriptionCancelAt:h.subscriptionCancelAt});else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:o,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:o,subscriptionCancelAt:t.user.subscriptionCancelAt})}P.a.init(),D.a.getTeamsIntegration(t,n)})}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(367)),a=o(n(431)),s=o(n(1974)),l=n(236),c=n(2002);function d(e){const t=Zeplin.user._id,n=[c.getOrganization(e),c.getOrganizationSections(e),c.getProjects(e),c.getStyleguides(e),c.getFocusedBarrels(e,t)];return Promise.all(n).then(([t,n,i,o,r])=>({oid:e,organization:Object.assign(Object.assign({},t),{sections:n}),focusedBarrels:r,dialogDismissParams:null,projects:i,styleguides:o}))}r.default.route(/^\/notifications(?:\/)?([\da-f]{24})?$/i,(function(e){return i(this,void 0,void 0,(function*(){const{match:[t="user"]}=e;a.default.setPage("activities");const n=yield c.getOrganizations(),i=yield(o=t,("user"===o?c.fetchPersonalWorkspaceData:d)(o));var o;a.default.loadWorkspaceData(Object.assign({organizations:n,organizationProfiles:void 0},i));const{sidebarWidth:r,notificationWelcomeMessageMinimized:u}=yield l.userPrefs.getAll();s.default.load({oid:t,sidebarWidth:null!=r?r:260,notificationWelcomeMessageMinimized:u})}))}))},function(e,t,n){"use strict";n.r(t);var i=n(230),o=n(2092);i.isWindowsApp&&o.setupEventListener()},function(e,t,n){"use strict";n.r(t),n.d(t,"setupEventListener",(function(){return h}));var i=n(231),o=n(271),r=n.n(o),a=n(365),s=n(1103),l=n(1194),c=n(260);function d(e){return Object(c.getProjects)("user"===e?null:e)}function u(e){return Object(c.getStyleguides)("user"===e?null:e)}async function p(e,t){const{organizations:n,organizationProfiles:o}=r.a.OrganizationStore.getState(),{userId:c,username:p,email:h,avatar:f,emotar:g}=r.a.UserStore.getState();if(!n||!c)return void i.default.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let m="user";t&&"user"!==t&&n.some(e=>e._id===t)&&(m=t);let b=a.default.getOrganizationProjects(m),S=a.default.getOrganizationStyleguides(m);b&&S||({projects:b,styleguides:S}=await function(e){return Promise.all([d(e),u(e)]).then(([t,n])=>(s.default.getProjectsSuccess({projects:t,oid:e}),l.default.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n}))}(m));const y={organizations:n,organizationProfiles:o,selectedOrganization:m,user:{_id:c,username:p,email:h,avatar:f,emotar:g},organizationProjects:b,organizationStyleguides:S};i.default.ipcRenderer.send("initialImportToBarrelData",y)}function h(){i.default.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.default.ipcRenderer.on("initialImportToBarrelData",p)}},function(e,t,n){"use strict";n.r(t);var i=n(231),o=n(589),r=n(230);i.default&&r.supports.SPA&&(i.default.ipcRenderer.on("close-all-banners",(function(){o.closeBanner("appUpdate"),o.closeBanner("pluginUpdate")})),i.default.ipcRenderer.on("app-update-downloaded",(e,t)=>{o.closeBanner("appUpdate"),o.show({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("appUpdate"),i.default.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-update-later",t)}})}),i.default.ipcRenderer.on("plugin-update-downloaded",(e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),o.closeBanner("pluginUpdate"),o.show({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("pluginUpdate"),i.default.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-plugin-install-later",t)}})}))},function(e,t,n){"use strict";n.r(t);var i=n(231),o=n(367),r=n.n(o),a=n(245),s=n(236),l=n(244),c=n(233),d=n(230);function u(e){const t=new URL(e);let n=e;const i=t.searchParams.get("vid");if(i){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+="/version/"+i,t.searchParams.delete("vid"),n=t.toString())}r.a.history.push(n)}d.isWindowsApp&&(r.a.history.attach((function({url:e}){const t=new URL(e);t.search="",s.userPrefs.set("lastAppLocation",t.toString())})),i.default.ipcRenderer.on("load-url",(e,t)=>u(t)),i.default.ipcRenderer.on("load-app-uri",(e,t)=>{try{const e=new URL(t);if(d.isWindowsApp&&e.pathname.startsWith("//export-xd")&&!d.supports.xdPlugin)return void l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(c.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}});const{urlSlug:n,url:i,query:o}=Object(a.parseAppURI)(e);u(Object(a.urlResolve)(n,{url:i,query:o}))}catch(n){}}))},function(e,t,n){"use strict";n.r(t);var i=n(230),o=n(231),r=n(385),a=n(379),s=n(388),l=n(1331),c=n.n(l),d=n(263),u=n.n(d);const p={CREATE_SCREEN:"CreateScreen",CREATE_SCREEN_VERSION:"CreateScreenVersion",CREATE_PROJECT_COMPONENT:"CreateProjectComponent",CREATE_PROJECT_COMPONENT_VERSION:"CreateProjectComponentVersion",CREATE_PROJECT_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",CREATE_PROJECT_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_PROJECT_COMPONENT_SECTION:"UpdateProjectComponentSection",CREATE_STYLEGUIDE_COMPONENT:"CreateStyleguideComponent",CREATE_STYLEGUIDE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",CREATE_STYLEGUIDE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",CREATE_STYLEGUIDE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_STYLEGUIDE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",AUTH_PROJECT_SLACK:"AuthProjectSlack",AUTH_STYLEGUIDE_SLACK:"AuthStyleguideSlack"};i.isWindowsApp&&(o.default.ipcRenderer.on(p.CREATE_SCREEN,(e,t)=>{const{params:{pid:n},body:i}=t;r.default.addScreen({pid:n,screen:i})}),o.default.ipcRenderer.on(p.CREATE_SCREEN_VERSION,(e,t)=>{const{params:{pid:n,sid:i},body:o}=t;r.default.addVersion({pid:n,sid:i,version:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;a.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION,(e,t)=>{const{params:{pid:n,csid:i,coid:o},body:r}=t;a.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:r})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION_V2,(e,t)=>{const{params:{pid:n,csid:i,coid:o,tcsid:r},body:s}=t;a.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:r,componentData:s})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n},body:i}=t;a.default.addComponentSection({bid:n,barrelType:u.a.PROJECT,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;a.default.updateComponentSection({bid:n,barrelType:u.a.PROJECT,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENTS_ORDER,(e,t)=>{const{params:{pid:n},body:{components:i,variantSections:o}}=t,r=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));a.default.updateComponentsOrder({bid:n,components:r}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:r}=e;s.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:r})})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;a.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION,(e,t)=>{const{params:{stid:n,csid:i,coid:o},body:r}=t;a.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:r})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION_V2,(e,t)=>{const{params:{stid:n,csid:i,coid:o,tcsid:r},body:s}=t;a.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:r,componentData:s})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n},body:i}=t;a.default.addComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;a.default.updateComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENTS_ORDER,(e,t)=>{const{params:{stid:n},body:{components:i,variantSections:o}}=t,r=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));a.default.updateComponentsOrder({bid:n,components:r}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:r}=e;s.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:r})})}),o.default.ipcRenderer.on(p.AUTH_PROJECT_SLACK,(e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach(e=>a.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}),o.default.ipcRenderer.on(p.AUTH_STYLEGUIDE_SLACK,(e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach(e=>a.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}))}]));
//# sourceMappingURL=maps/app.map.js